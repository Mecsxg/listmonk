import{g as jq,a as hx,n as JF,c as VD,u as Wq,m as GL,V as qq,d as gL}from"./index-id_R8LyY.js";import{C as Gq}from"./CopyText-DwIORS7N.js";import KL from"./Media-BvxD9Sef.js";import{C as Kq}from"./CampaignPreview-DvmswhjP.js";import{C as Xq,H as Yq}from"./HTMLEditor-BO3KdTos.js";import{L as Zq}from"./ListSelector-ClsZ4h8j.js";import"./EmptyPlaceholder-DaKCsmPq.js";var XL={exports:{}};(function(I){var T=function(F,ee){for(var pe="",He=0;He<ee;He+=1)pe+=F;return pe};function N(F,ee){var pe=null,He=null,xe="underline",ye="indention",jt="-",Ye=3,Ae="-",tt=!1;ee&&(typeof ee.linkProcess=="function"&&(pe=ee.linkProcess),typeof ee.imgProcess=="function"&&(He=ee.imgProcess),ee.headingStyle&&(xe=ee.headingStyle),ee.listStyle&&(ye=ee.listStyle),ee.uIndentionChar&&(jt=ee.uIndentionChar),ee.listIndentionTabs&&(Ye=ee.listIndentionTabs),ee.oIndentionChar&&(Ae=ee.oIndentionChar),ee.keepNbsps&&(tt=ee.keepNbsps));var er=T(jt,Ye),Xe=String(F).replace(/\n|\r/g," ");const at=Xe.match(/<\/body>/i);at&&(Xe=Xe.substring(0,at.index));const _e=Xe.match(/<body[^>]*>/i);_e&&(Xe=Xe.substring(_e.index+_e[0].length,Xe.length)),Xe=Xe.replace(/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,""),Xe=Xe.replace(/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,""),Xe=Xe.replace(/<img([^>]*)>/gi,function(De,ue){var Je="",ze="",Le=/src="([^"]*)"/i.exec(ue),Ge=/alt="([^"]*)"/i.exec(ue);return Le!==null&&(Je=Le[1]),Ge!==null&&(ze=Ge[1]),typeof He=="function"?He(Je,ze):ze===""?"![image] ("+Je+")":"!["+ze+"] ("+Je+")"});function Y(){return function(De,ue,Je,ze){var Le=0;Je&&/start="([0-9]+)"/i.test(Je)&&(Le=/start="([0-9]+)"/i.exec(Je)[1]-1);var Ge="<p>"+ze.replace(/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(ce,Ue){var U=0,Ce=Ue.replace(/(^|(<br \/>))(?!<p>)/gi,function(){return ue==="o"&&U===0?(Le+=1,U+=1,"<br />"+Le+T(Ae,Ye-String(Le).length)):"<br />"+er});return Ce})+"</p>";return Ge}}if(ye==="linebreak")Xe=Xe.replace(/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,`
`);else if(ye==="indention")for(;/<(o|u)l[^>]*>(.*)<\/\1l>/gi.test(Xe);)Xe=Xe.replace(/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,Y());for(xe==="linebreak"?Xe=Xe.replace(/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,`
$2
`):xe==="underline"?(Xe=Xe.replace(/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(De,ue){return`
&nbsp;
`+ue+`
`+T("=",ue.length)+`
&nbsp;
`}),Xe=Xe.replace(/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(De,ue){return`
&nbsp;
`+ue+`
`+T("-",ue.length)+`
&nbsp;
`}),Xe=Xe.replace(/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(De,ue,Je){return`
&nbsp;
`+Je+`
&nbsp;
`})):xe==="hashify"&&(Xe=Xe.replace(/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(De,ue,Je){return`
&nbsp;
`+T("#",ue)+" "+Je+`
&nbsp;
`})),Xe=Xe.replace(/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,`
`),Xe=Xe.replace(/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(De,ue,Je){return typeof pe=="function"?pe(ue,Je):" ["+Je+"] ("+ue+") "}),Xe=Xe.replace(/\n[ \t\f]*/gi,`
`),Xe=Xe.replace(/\n\n+/gi,`
`),tt?(Xe=Xe.replace(/( |\t)+/gi," "),Xe=Xe.replace(/&nbsp;/gi," ")):Xe=Xe.replace(/( |&nbsp;|\t)+/gi," "),Xe=Xe.replace(/\n +/gi,`
`),Xe=Xe.replace(/^ +/gi,"");Xe.indexOf(`
`)===0;)Xe=Xe.substring(1);return(Xe.length===0||Xe.lastIndexOf(`
`)!==Xe.length-1)&&(Xe+=`
`),Xe}(function(F,ee){if(this&&typeof this.define=="function")this.define(ee);else if(I.exports)I.exports=ee();else{var pe=ee(),He=this,xe=He[F];pe.noConflict=function(){return He[F]=xe,pe},He[F]=pe}})("createTextVersion",function(){return N})})(XL);var Jq=XL.exports;const Qq=jq(Jq);var YL={exports:{}},kz={},PD={exports:{}},RF={},DF={},yL;function QF(){if(yL)return DF;yL=1;function I(F){this.__parent=F,this.__character_count=0,this.__indent_count=-1,this.__alignment_count=0,this.__wrap_point_index=0,this.__wrap_point_character_count=0,this.__wrap_point_indent_count=-1,this.__wrap_point_alignment_count=0,this.__items=[]}I.prototype.clone_empty=function(){var F=new I(this.__parent);return F.set_indent(this.__indent_count,this.__alignment_count),F},I.prototype.item=function(F){return F<0?this.__items[this.__items.length+F]:this.__items[F]},I.prototype.has_match=function(F){for(var ee=this.__items.length-1;ee>=0;ee--)if(this.__items[ee].match(F))return!0;return!1},I.prototype.set_indent=function(F,ee){this.is_empty()&&(this.__indent_count=F||0,this.__alignment_count=ee||0,this.__character_count=this.__parent.get_indent_size(this.__indent_count,this.__alignment_count))},I.prototype._set_wrap_point=function(){this.__parent.wrap_line_length&&(this.__wrap_point_index=this.__items.length,this.__wrap_point_character_count=this.__character_count,this.__wrap_point_indent_count=this.__parent.next_line.__indent_count,this.__wrap_point_alignment_count=this.__parent.next_line.__alignment_count)},I.prototype._should_wrap=function(){return this.__wrap_point_index&&this.__character_count>this.__parent.wrap_line_length&&this.__wrap_point_character_count>this.__parent.next_line.__character_count},I.prototype._allow_wrap=function(){if(this._should_wrap()){this.__parent.add_new_line();var F=this.__parent.current_line;return F.set_indent(this.__wrap_point_indent_count,this.__wrap_point_alignment_count),F.__items=this.__items.slice(this.__wrap_point_index),this.__items=this.__items.slice(0,this.__wrap_point_index),F.__character_count+=this.__character_count-this.__wrap_point_character_count,this.__character_count=this.__wrap_point_character_count,F.__items[0]===" "&&(F.__items.splice(0,1),F.__character_count-=1),!0}return!1},I.prototype.is_empty=function(){return this.__items.length===0},I.prototype.last=function(){return this.is_empty()?null:this.__items[this.__items.length-1]},I.prototype.push=function(F){this.__items.push(F);var ee=F.lastIndexOf(`
`);ee!==-1?this.__character_count=F.length-ee:this.__character_count+=F.length},I.prototype.pop=function(){var F=null;return this.is_empty()||(F=this.__items.pop(),this.__character_count-=F.length),F},I.prototype._remove_indent=function(){this.__indent_count>0&&(this.__indent_count-=1,this.__character_count-=this.__parent.indent_size)},I.prototype._remove_wrap_indent=function(){this.__wrap_point_indent_count>0&&(this.__wrap_point_indent_count-=1)},I.prototype.trim=function(){for(;this.last()===" ";)this.__items.pop(),this.__character_count-=1},I.prototype.toString=function(){var F="";return this.is_empty()?this.__parent.indent_empty_lines&&(F=this.__parent.get_indent_string(this.__indent_count)):(F=this.__parent.get_indent_string(this.__indent_count,this.__alignment_count),F+=this.__items.join("")),F};function T(F,ee){this.__cache=[""],this.__indent_size=F.indent_size,this.__indent_string=F.indent_char,F.indent_with_tabs||(this.__indent_string=new Array(F.indent_size+1).join(F.indent_char)),ee=ee||"",F.indent_level>0&&(ee=new Array(F.indent_level+1).join(this.__indent_string)),this.__base_string=ee,this.__base_string_length=ee.length}T.prototype.get_indent_size=function(F,ee){var pe=this.__base_string_length;return ee=ee||0,F<0&&(pe=0),pe+=F*this.__indent_size,pe+=ee,pe},T.prototype.get_indent_string=function(F,ee){var pe=this.__base_string;return ee=ee||0,F<0&&(F=0,pe=""),ee+=F*this.__indent_size,this.__ensure_cache(ee),pe+=this.__cache[ee],pe},T.prototype.__ensure_cache=function(F){for(;F>=this.__cache.length;)this.__add_column()},T.prototype.__add_column=function(){var F=this.__cache.length,ee=0,pe="";this.__indent_size&&F>=this.__indent_size&&(ee=Math.floor(F/this.__indent_size),F-=ee*this.__indent_size,pe=new Array(ee+1).join(this.__indent_string)),F&&(pe+=new Array(F+1).join(" ")),this.__cache.push(pe)};function N(F,ee){this.__indent_cache=new T(F,ee),this.raw=!1,this._end_with_newline=F.end_with_newline,this.indent_size=F.indent_size,this.wrap_line_length=F.wrap_line_length,this.indent_empty_lines=F.indent_empty_lines,this.__lines=[],this.previous_line=null,this.current_line=null,this.next_line=new I(this),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1,this.__add_outputline()}return N.prototype.__add_outputline=function(){this.previous_line=this.current_line,this.current_line=this.next_line.clone_empty(),this.__lines.push(this.current_line)},N.prototype.get_line_number=function(){return this.__lines.length},N.prototype.get_indent_string=function(F,ee){return this.__indent_cache.get_indent_string(F,ee)},N.prototype.get_indent_size=function(F,ee){return this.__indent_cache.get_indent_size(F,ee)},N.prototype.is_empty=function(){return!this.previous_line&&this.current_line.is_empty()},N.prototype.add_new_line=function(F){return this.is_empty()||!F&&this.just_added_newline()?!1:(this.raw||this.__add_outputline(),!0)},N.prototype.get_code=function(F){this.trim(!0);var ee=this.current_line.pop();ee&&(ee[ee.length-1]===`
`&&(ee=ee.replace(/\n+$/g,"")),this.current_line.push(ee)),this._end_with_newline&&this.__add_outputline();var pe=this.__lines.join(`
`);return F!==`
`&&(pe=pe.replace(/[\n]/g,F)),pe},N.prototype.set_wrap_point=function(){this.current_line._set_wrap_point()},N.prototype.set_indent=function(F,ee){return F=F||0,ee=ee||0,this.next_line.set_indent(F,ee),this.__lines.length>1?(this.current_line.set_indent(F,ee),!0):(this.current_line.set_indent(),!1)},N.prototype.add_raw_token=function(F){for(var ee=0;ee<F.newlines;ee++)this.__add_outputline();this.current_line.set_indent(-1),this.current_line.push(F.whitespace_before),this.current_line.push(F.text),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=!1},N.prototype.add_token=function(F){this.__add_space_before_token(),this.current_line.push(F),this.space_before_token=!1,this.non_breaking_space=!1,this.previous_token_wrapped=this.current_line._allow_wrap()},N.prototype.__add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&(this.non_breaking_space||this.set_wrap_point(),this.current_line.push(" "))},N.prototype.remove_indent=function(F){for(var ee=this.__lines.length;F<ee;)this.__lines[F]._remove_indent(),F++;this.current_line._remove_wrap_indent()},N.prototype.trim=function(F){for(F=F===void 0?!1:F,this.current_line.trim();F&&this.__lines.length>1&&this.current_line.is_empty();)this.__lines.pop(),this.current_line=this.__lines[this.__lines.length-1],this.current_line.trim();this.previous_line=this.__lines.length>1?this.__lines[this.__lines.length-2]:null},N.prototype.just_added_newline=function(){return this.current_line.is_empty()},N.prototype.just_added_blankline=function(){return this.is_empty()||this.current_line.is_empty()&&this.previous_line.is_empty()},N.prototype.ensure_empty_line_above=function(F,ee){for(var pe=this.__lines.length-2;pe>=0;){var He=this.__lines[pe];if(He.is_empty())break;if(He.item(0).indexOf(F)!==0&&He.item(-1)!==ee){this.__lines.splice(pe+1,0,new I(this)),this.previous_line=this.__lines[this.__lines.length-2];break}pe--}},DF.Output=N,DF}var MF={},bL;function ZL(){if(bL)return MF;bL=1;function I(T,N,F,ee){this.type=T,this.text=N,this.comments_before=null,this.newlines=F||0,this.whitespace_before=ee||"",this.parent=null,this.next=null,this.previous=null,this.opened=null,this.closed=null,this.directives=null}return MF.Token=I,MF}var BF={},_L;function JL(){return _L||(_L=1,function(I){var T="\\x23\\x24\\x40\\x41-\\x5a\\x5f\\x61-\\x7a",N="\\x24\\x30-\\x39\\x41-\\x5a\\x5f\\x61-\\x7a",F="\\xaa\\xb5\\xba\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\u02c1\\u02c6-\\u02d1\\u02e0-\\u02e4\\u02ec\\u02ee\\u0370-\\u0374\\u0376\\u0377\\u037a-\\u037d\\u0386\\u0388-\\u038a\\u038c\\u038e-\\u03a1\\u03a3-\\u03f5\\u03f7-\\u0481\\u048a-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05d0-\\u05ea\\u05f0-\\u05f2\\u0620-\\u064a\\u066e\\u066f\\u0671-\\u06d3\\u06d5\\u06e5\\u06e6\\u06ee\\u06ef\\u06fa-\\u06fc\\u06ff\\u0710\\u0712-\\u072f\\u074d-\\u07a5\\u07b1\\u07ca-\\u07ea\\u07f4\\u07f5\\u07fa\\u0800-\\u0815\\u081a\\u0824\\u0828\\u0840-\\u0858\\u08a0\\u08a2-\\u08ac\\u0904-\\u0939\\u093d\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097f\\u0985-\\u098c\\u098f\\u0990\\u0993-\\u09a8\\u09aa-\\u09b0\\u09b2\\u09b6-\\u09b9\\u09bd\\u09ce\\u09dc\\u09dd\\u09df-\\u09e1\\u09f0\\u09f1\\u0a05-\\u0a0a\\u0a0f\\u0a10\\u0a13-\\u0a28\\u0a2a-\\u0a30\\u0a32\\u0a33\\u0a35\\u0a36\\u0a38\\u0a39\\u0a59-\\u0a5c\\u0a5e\\u0a72-\\u0a74\\u0a85-\\u0a8d\\u0a8f-\\u0a91\\u0a93-\\u0aa8\\u0aaa-\\u0ab0\\u0ab2\\u0ab3\\u0ab5-\\u0ab9\\u0abd\\u0ad0\\u0ae0\\u0ae1\\u0b05-\\u0b0c\\u0b0f\\u0b10\\u0b13-\\u0b28\\u0b2a-\\u0b30\\u0b32\\u0b33\\u0b35-\\u0b39\\u0b3d\\u0b5c\\u0b5d\\u0b5f-\\u0b61\\u0b71\\u0b83\\u0b85-\\u0b8a\\u0b8e-\\u0b90\\u0b92-\\u0b95\\u0b99\\u0b9a\\u0b9c\\u0b9e\\u0b9f\\u0ba3\\u0ba4\\u0ba8-\\u0baa\\u0bae-\\u0bb9\\u0bd0\\u0c05-\\u0c0c\\u0c0e-\\u0c10\\u0c12-\\u0c28\\u0c2a-\\u0c33\\u0c35-\\u0c39\\u0c3d\\u0c58\\u0c59\\u0c60\\u0c61\\u0c85-\\u0c8c\\u0c8e-\\u0c90\\u0c92-\\u0ca8\\u0caa-\\u0cb3\\u0cb5-\\u0cb9\\u0cbd\\u0cde\\u0ce0\\u0ce1\\u0cf1\\u0cf2\\u0d05-\\u0d0c\\u0d0e-\\u0d10\\u0d12-\\u0d3a\\u0d3d\\u0d4e\\u0d60\\u0d61\\u0d7a-\\u0d7f\\u0d85-\\u0d96\\u0d9a-\\u0db1\\u0db3-\\u0dbb\\u0dbd\\u0dc0-\\u0dc6\\u0e01-\\u0e30\\u0e32\\u0e33\\u0e40-\\u0e46\\u0e81\\u0e82\\u0e84\\u0e87\\u0e88\\u0e8a\\u0e8d\\u0e94-\\u0e97\\u0e99-\\u0e9f\\u0ea1-\\u0ea3\\u0ea5\\u0ea7\\u0eaa\\u0eab\\u0ead-\\u0eb0\\u0eb2\\u0eb3\\u0ebd\\u0ec0-\\u0ec4\\u0ec6\\u0edc-\\u0edf\\u0f00\\u0f40-\\u0f47\\u0f49-\\u0f6c\\u0f88-\\u0f8c\\u1000-\\u102a\\u103f\\u1050-\\u1055\\u105a-\\u105d\\u1061\\u1065\\u1066\\u106e-\\u1070\\u1075-\\u1081\\u108e\\u10a0-\\u10c5\\u10c7\\u10cd\\u10d0-\\u10fa\\u10fc-\\u1248\\u124a-\\u124d\\u1250-\\u1256\\u1258\\u125a-\\u125d\\u1260-\\u1288\\u128a-\\u128d\\u1290-\\u12b0\\u12b2-\\u12b5\\u12b8-\\u12be\\u12c0\\u12c2-\\u12c5\\u12c8-\\u12d6\\u12d8-\\u1310\\u1312-\\u1315\\u1318-\\u135a\\u1380-\\u138f\\u13a0-\\u13f4\\u1401-\\u166c\\u166f-\\u167f\\u1681-\\u169a\\u16a0-\\u16ea\\u16ee-\\u16f0\\u1700-\\u170c\\u170e-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176c\\u176e-\\u1770\\u1780-\\u17b3\\u17d7\\u17dc\\u1820-\\u1877\\u1880-\\u18a8\\u18aa\\u18b0-\\u18f5\\u1900-\\u191c\\u1950-\\u196d\\u1970-\\u1974\\u1980-\\u19ab\\u19c1-\\u19c7\\u1a00-\\u1a16\\u1a20-\\u1a54\\u1aa7\\u1b05-\\u1b33\\u1b45-\\u1b4b\\u1b83-\\u1ba0\\u1bae\\u1baf\\u1bba-\\u1be5\\u1c00-\\u1c23\\u1c4d-\\u1c4f\\u1c5a-\\u1c7d\\u1ce9-\\u1cec\\u1cee-\\u1cf1\\u1cf5\\u1cf6\\u1d00-\\u1dbf\\u1e00-\\u1f15\\u1f18-\\u1f1d\\u1f20-\\u1f45\\u1f48-\\u1f4d\\u1f50-\\u1f57\\u1f59\\u1f5b\\u1f5d\\u1f5f-\\u1f7d\\u1f80-\\u1fb4\\u1fb6-\\u1fbc\\u1fbe\\u1fc2-\\u1fc4\\u1fc6-\\u1fcc\\u1fd0-\\u1fd3\\u1fd6-\\u1fdb\\u1fe0-\\u1fec\\u1ff2-\\u1ff4\\u1ff6-\\u1ffc\\u2071\\u207f\\u2090-\\u209c\\u2102\\u2107\\u210a-\\u2113\\u2115\\u2119-\\u211d\\u2124\\u2126\\u2128\\u212a-\\u212d\\u212f-\\u2139\\u213c-\\u213f\\u2145-\\u2149\\u214e\\u2160-\\u2188\\u2c00-\\u2c2e\\u2c30-\\u2c5e\\u2c60-\\u2ce4\\u2ceb-\\u2cee\\u2cf2\\u2cf3\\u2d00-\\u2d25\\u2d27\\u2d2d\\u2d30-\\u2d67\\u2d6f\\u2d80-\\u2d96\\u2da0-\\u2da6\\u2da8-\\u2dae\\u2db0-\\u2db6\\u2db8-\\u2dbe\\u2dc0-\\u2dc6\\u2dc8-\\u2dce\\u2dd0-\\u2dd6\\u2dd8-\\u2dde\\u2e2f\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303c\\u3041-\\u3096\\u309d-\\u309f\\u30a1-\\u30fa\\u30fc-\\u30ff\\u3105-\\u312d\\u3131-\\u318e\\u31a0-\\u31ba\\u31f0-\\u31ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\ua000-\\ua48c\\ua4d0-\\ua4fd\\ua500-\\ua60c\\ua610-\\ua61f\\ua62a\\ua62b\\ua640-\\ua66e\\ua67f-\\ua697\\ua6a0-\\ua6ef\\ua717-\\ua71f\\ua722-\\ua788\\ua78b-\\ua78e\\ua790-\\ua793\\ua7a0-\\ua7aa\\ua7f8-\\ua801\\ua803-\\ua805\\ua807-\\ua80a\\ua80c-\\ua822\\ua840-\\ua873\\ua882-\\ua8b3\\ua8f2-\\ua8f7\\ua8fb\\ua90a-\\ua925\\ua930-\\ua946\\ua960-\\ua97c\\ua984-\\ua9b2\\ua9cf\\uaa00-\\uaa28\\uaa40-\\uaa42\\uaa44-\\uaa4b\\uaa60-\\uaa76\\uaa7a\\uaa80-\\uaaaf\\uaab1\\uaab5\\uaab6\\uaab9-\\uaabd\\uaac0\\uaac2\\uaadb-\\uaadd\\uaae0-\\uaaea\\uaaf2-\\uaaf4\\uab01-\\uab06\\uab09-\\uab0e\\uab11-\\uab16\\uab20-\\uab26\\uab28-\\uab2e\\uabc0-\\uabe2\\uac00-\\ud7a3\\ud7b0-\\ud7c6\\ud7cb-\\ud7fb\\uf900-\\ufa6d\\ufa70-\\ufad9\\ufb00-\\ufb06\\ufb13-\\ufb17\\ufb1d\\ufb1f-\\ufb28\\ufb2a-\\ufb36\\ufb38-\\ufb3c\\ufb3e\\ufb40\\ufb41\\ufb43\\ufb44\\ufb46-\\ufbb1\\ufbd3-\\ufd3d\\ufd50-\\ufd8f\\ufd92-\\ufdc7\\ufdf0-\\ufdfb\\ufe70-\\ufe74\\ufe76-\\ufefc\\uff21-\\uff3a\\uff41-\\uff5a\\uff66-\\uffbe\\uffc2-\\uffc7\\uffca-\\uffcf\\uffd2-\\uffd7\\uffda-\\uffdc",ee="\\u0300-\\u036f\\u0483-\\u0487\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u0620-\\u0649\\u0672-\\u06d3\\u06e7-\\u06e8\\u06fb-\\u06fc\\u0730-\\u074a\\u0800-\\u0814\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0840-\\u0857\\u08e4-\\u08fe\\u0900-\\u0903\\u093a-\\u093c\\u093e-\\u094f\\u0951-\\u0957\\u0962-\\u0963\\u0966-\\u096f\\u0981-\\u0983\\u09bc\\u09be-\\u09c4\\u09c7\\u09c8\\u09d7\\u09df-\\u09e0\\u0a01-\\u0a03\\u0a3c\\u0a3e-\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a66-\\u0a71\\u0a75\\u0a81-\\u0a83\\u0abc\\u0abe-\\u0ac5\\u0ac7-\\u0ac9\\u0acb-\\u0acd\\u0ae2-\\u0ae3\\u0ae6-\\u0aef\\u0b01-\\u0b03\\u0b3c\\u0b3e-\\u0b44\\u0b47\\u0b48\\u0b4b-\\u0b4d\\u0b56\\u0b57\\u0b5f-\\u0b60\\u0b66-\\u0b6f\\u0b82\\u0bbe-\\u0bc2\\u0bc6-\\u0bc8\\u0bca-\\u0bcd\\u0bd7\\u0be6-\\u0bef\\u0c01-\\u0c03\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62-\\u0c63\\u0c66-\\u0c6f\\u0c82\\u0c83\\u0cbc\\u0cbe-\\u0cc4\\u0cc6-\\u0cc8\\u0cca-\\u0ccd\\u0cd5\\u0cd6\\u0ce2-\\u0ce3\\u0ce6-\\u0cef\\u0d02\\u0d03\\u0d46-\\u0d48\\u0d57\\u0d62-\\u0d63\\u0d66-\\u0d6f\\u0d82\\u0d83\\u0dca\\u0dcf-\\u0dd4\\u0dd6\\u0dd8-\\u0ddf\\u0df2\\u0df3\\u0e34-\\u0e3a\\u0e40-\\u0e45\\u0e50-\\u0e59\\u0eb4-\\u0eb9\\u0ec8-\\u0ecd\\u0ed0-\\u0ed9\\u0f18\\u0f19\\u0f20-\\u0f29\\u0f35\\u0f37\\u0f39\\u0f41-\\u0f47\\u0f71-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u1000-\\u1029\\u1040-\\u1049\\u1067-\\u106d\\u1071-\\u1074\\u1082-\\u108d\\u108f-\\u109d\\u135d-\\u135f\\u170e-\\u1710\\u1720-\\u1730\\u1740-\\u1750\\u1772\\u1773\\u1780-\\u17b2\\u17dd\\u17e0-\\u17e9\\u180b-\\u180d\\u1810-\\u1819\\u1920-\\u192b\\u1930-\\u193b\\u1951-\\u196d\\u19b0-\\u19c0\\u19c8-\\u19c9\\u19d0-\\u19d9\\u1a00-\\u1a15\\u1a20-\\u1a53\\u1a60-\\u1a7c\\u1a7f-\\u1a89\\u1a90-\\u1a99\\u1b46-\\u1b4b\\u1b50-\\u1b59\\u1b6b-\\u1b73\\u1bb0-\\u1bb9\\u1be6-\\u1bf3\\u1c00-\\u1c22\\u1c40-\\u1c49\\u1c5b-\\u1c7d\\u1cd0-\\u1cd2\\u1d00-\\u1dbe\\u1e01-\\u1f15\\u200c\\u200d\\u203f\\u2040\\u2054\\u20d0-\\u20dc\\u20e1\\u20e5-\\u20f0\\u2d81-\\u2d96\\u2de0-\\u2dff\\u3021-\\u3028\\u3099\\u309a\\ua640-\\ua66d\\ua674-\\ua67d\\ua69f\\ua6f0-\\ua6f1\\ua7f8-\\ua800\\ua806\\ua80b\\ua823-\\ua827\\ua880-\\ua881\\ua8b4-\\ua8c4\\ua8d0-\\ua8d9\\ua8f3-\\ua8f7\\ua900-\\ua909\\ua926-\\ua92d\\ua930-\\ua945\\ua980-\\ua983\\ua9b3-\\ua9c0\\uaa00-\\uaa27\\uaa40-\\uaa41\\uaa4c-\\uaa4d\\uaa50-\\uaa59\\uaa7b\\uaae0-\\uaae9\\uaaf2-\\uaaf3\\uabc0-\\uabe1\\uabec\\uabed\\uabf0-\\uabf9\\ufb20-\\ufb28\\ufe00-\\ufe0f\\ufe20-\\ufe26\\ufe33\\ufe34\\ufe4d-\\ufe4f\\uff10-\\uff19\\uff3f",pe="\\\\u[0-9a-fA-F]{4}|\\\\u\\{[0-9a-fA-F]+\\}",He="(?:"+pe+"|["+T+F+"])",xe="(?:"+pe+"|["+N+F+ee+"])*";I.identifier=new RegExp(He+xe,"g"),I.identifierStart=new RegExp(He),I.identifierMatch=new RegExp("(?:"+pe+"|["+N+F+ee+"])+"),I.newline=/[\n\r\u2028\u2029]/,I.lineBreak=new RegExp(`\r
|`+I.newline.source),I.allLineBreaks=new RegExp(I.lineBreak.source,"g")}(BF)),BF}var NF={},Cz={},wL;function eI(){if(wL)return Cz;wL=1;function I(F,ee){this.raw_options=T(F,ee),this.disabled=this._get_boolean("disabled"),this.eol=this._get_characters("eol","auto"),this.end_with_newline=this._get_boolean("end_with_newline"),this.indent_size=this._get_number("indent_size",4),this.indent_char=this._get_characters("indent_char"," "),this.indent_level=this._get_number("indent_level"),this.preserve_newlines=this._get_boolean("preserve_newlines",!0),this.max_preserve_newlines=this._get_number("max_preserve_newlines",32786),this.preserve_newlines||(this.max_preserve_newlines=0),this.indent_with_tabs=this._get_boolean("indent_with_tabs",this.indent_char==="	"),this.indent_with_tabs&&(this.indent_char="	",this.indent_size===1&&(this.indent_size=4)),this.wrap_line_length=this._get_number("wrap_line_length",this._get_number("max_char")),this.indent_empty_lines=this._get_boolean("indent_empty_lines"),this.templating=this._get_selection_list("templating",["auto","none","angular","django","erb","handlebars","php","smarty"],["auto"])}I.prototype._get_array=function(F,ee){var pe=this.raw_options[F],He=ee||[];return typeof pe=="object"?pe!==null&&typeof pe.concat=="function"&&(He=pe.concat()):typeof pe=="string"&&(He=pe.split(/[^a-zA-Z0-9_\/\-]+/)),He},I.prototype._get_boolean=function(F,ee){var pe=this.raw_options[F],He=pe===void 0?!!ee:!!pe;return He},I.prototype._get_characters=function(F,ee){var pe=this.raw_options[F],He=ee||"";return typeof pe=="string"&&(He=pe.replace(/\\r/,"\r").replace(/\\n/,`
`).replace(/\\t/,"	")),He},I.prototype._get_number=function(F,ee){var pe=this.raw_options[F];ee=parseInt(ee,10),isNaN(ee)&&(ee=0);var He=parseInt(pe,10);return isNaN(He)&&(He=ee),He},I.prototype._get_selection=function(F,ee,pe){var He=this._get_selection_list(F,ee,pe);if(He.length!==1)throw new Error("Invalid Option Value: The option '"+F+`' can only be one of the following values:
`+ee+`
You passed in: '`+this.raw_options[F]+"'");return He[0]},I.prototype._get_selection_list=function(F,ee,pe){if(!ee||ee.length===0)throw new Error("Selection list cannot be empty.");if(pe=pe||[ee[0]],!this._is_valid_selection(pe,ee))throw new Error("Invalid Default Value!");var He=this._get_array(F,pe);if(!this._is_valid_selection(He,ee))throw new Error("Invalid Option Value: The option '"+F+`' can contain only the following values:
`+ee+`
You passed in: '`+this.raw_options[F]+"'");return He},I.prototype._is_valid_selection=function(F,ee){return F.length&&ee.length&&!F.some(function(pe){return ee.indexOf(pe)===-1})};function T(F,ee){var pe={};F=N(F);var He;for(He in F)He!==ee&&(pe[He]=F[He]);if(ee&&F[ee])for(He in F[ee])pe[He]=F[ee][He];return pe}function N(F){var ee={},pe;for(pe in F){var He=pe.replace(/-/g,"_");ee[He]=F[pe]}return ee}return Cz.Options=I,Cz.normalizeOpts=N,Cz.mergeOpts=T,Cz}var kL;function QL(){if(kL)return NF;kL=1;var I=eI().Options,T=["before-newline","after-newline","preserve-newline"];function N(F){I.call(this,F,"js");var ee=this.raw_options.brace_style||null;ee==="expand-strict"?this.raw_options.brace_style="expand":ee==="collapse-preserve-inline"?this.raw_options.brace_style="collapse,preserve-inline":this.raw_options.braces_on_own_line!==void 0&&(this.raw_options.brace_style=this.raw_options.braces_on_own_line?"expand":"collapse");var pe=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_preserve_inline=!1,this.brace_style="collapse";for(var He=0;He<pe.length;He++)pe[He]==="preserve-inline"?this.brace_preserve_inline=!0:this.brace_style=pe[He];this.unindent_chained_methods=this._get_boolean("unindent_chained_methods"),this.break_chained_methods=this._get_boolean("break_chained_methods"),this.space_in_paren=this._get_boolean("space_in_paren"),this.space_in_empty_paren=this._get_boolean("space_in_empty_paren"),this.jslint_happy=this._get_boolean("jslint_happy"),this.space_after_anon_function=this._get_boolean("space_after_anon_function"),this.space_after_named_function=this._get_boolean("space_after_named_function"),this.keep_array_indentation=this._get_boolean("keep_array_indentation"),this.space_before_conditional=this._get_boolean("space_before_conditional",!0),this.unescape_strings=this._get_boolean("unescape_strings"),this.e4x=this._get_boolean("e4x"),this.comma_first=this._get_boolean("comma_first"),this.operator_position=this._get_selection("operator_position",T),this.test_output_raw=this._get_boolean("test_output_raw"),this.jslint_happy&&(this.space_after_anon_function=!0)}return N.prototype=new I,NF.Options=N,NF}var mx={},PF={},CL;function tI(){if(CL)return PF;CL=1;var I=RegExp.prototype.hasOwnProperty("sticky");function T(N){this.__input=N||"",this.__input_length=this.__input.length,this.__position=0}return T.prototype.restart=function(){this.__position=0},T.prototype.back=function(){this.__position>0&&(this.__position-=1)},T.prototype.hasNext=function(){return this.__position<this.__input_length},T.prototype.next=function(){var N=null;return this.hasNext()&&(N=this.__input.charAt(this.__position),this.__position+=1),N},T.prototype.peek=function(N){var F=null;return N=N||0,N+=this.__position,N>=0&&N<this.__input_length&&(F=this.__input.charAt(N)),F},T.prototype.__match=function(N,F){N.lastIndex=F;var ee=N.exec(this.__input);return ee&&!(I&&N.sticky)&&ee.index!==F&&(ee=null),ee},T.prototype.test=function(N,F){return F=F||0,F+=this.__position,F>=0&&F<this.__input_length?!!this.__match(N,F):!1},T.prototype.testChar=function(N,F){var ee=this.peek(F);return N.lastIndex=0,ee!==null&&N.test(ee)},T.prototype.match=function(N){var F=this.__match(N,this.__position);return F?this.__position+=F[0].length:F=null,F},T.prototype.read=function(N,F,ee){var pe="",He;return N&&(He=this.match(N),He&&(pe+=He[0])),F&&(He||!N)&&(pe+=this.readUntil(F,ee)),pe},T.prototype.readUntil=function(N,F){var ee="",pe=this.__position;N.lastIndex=this.__position;var He=N.exec(this.__input);return He?(pe=He.index,F&&(pe+=He[0].length)):pe=this.__input_length,ee=this.__input.substring(this.__position,pe),this.__position=pe,ee},T.prototype.readUntilAfter=function(N){return this.readUntil(N,!0)},T.prototype.get_regexp=function(N,F){var ee=null,pe="g";return F&&I&&(pe="y"),typeof N=="string"&&N!==""?ee=new RegExp(N,pe):N&&(ee=new RegExp(N.source,pe)),ee},T.prototype.get_literal_regexp=function(N){return RegExp(N.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))},T.prototype.peekUntilAfter=function(N){var F=this.__position,ee=this.readUntilAfter(N);return this.__position=F,ee},T.prototype.lookBack=function(N){var F=this.__position-1;return F>=N.length&&this.__input.substring(F-N.length,F).toLowerCase()===N},PF.InputScanner=T,PF}var FD={},FF={},xL;function eG(){if(xL)return FF;xL=1;function I(T){this.__tokens=[],this.__tokens_length=this.__tokens.length,this.__position=0,this.__parent_token=T}return I.prototype.restart=function(){this.__position=0},I.prototype.isEmpty=function(){return this.__tokens_length===0},I.prototype.hasNext=function(){return this.__position<this.__tokens_length},I.prototype.next=function(){var T=null;return this.hasNext()&&(T=this.__tokens[this.__position],this.__position+=1),T},I.prototype.peek=function(T){var N=null;return T=T||0,T+=this.__position,T>=0&&T<this.__tokens_length&&(N=this.__tokens[T]),N},I.prototype.add=function(T){this.__parent_token&&(T.parent=this.__parent_token),this.__tokens.push(T),this.__tokens_length+=1},FF.TokenStream=I,FF}var IF={},$F={},SL;function GD(){if(SL)return $F;SL=1;function I(T,N){this._input=T,this._starting_pattern=null,this._match_pattern=null,this._until_pattern=null,this._until_after=!1,N&&(this._starting_pattern=this._input.get_regexp(N._starting_pattern,!0),this._match_pattern=this._input.get_regexp(N._match_pattern,!0),this._until_pattern=this._input.get_regexp(N._until_pattern),this._until_after=N._until_after)}return I.prototype.read=function(){var T=this._input.read(this._starting_pattern);return(!this._starting_pattern||T)&&(T+=this._input.read(this._match_pattern,this._until_pattern,this._until_after)),T},I.prototype.read_match=function(){return this._input.match(this._match_pattern)},I.prototype.until_after=function(T){var N=this._create();return N._until_after=!0,N._until_pattern=this._input.get_regexp(T),N._update(),N},I.prototype.until=function(T){var N=this._create();return N._until_after=!1,N._until_pattern=this._input.get_regexp(T),N._update(),N},I.prototype.starting_with=function(T){var N=this._create();return N._starting_pattern=this._input.get_regexp(T,!0),N._update(),N},I.prototype.matching=function(T){var N=this._create();return N._match_pattern=this._input.get_regexp(T,!0),N._update(),N},I.prototype._create=function(){return new I(this._input,this)},I.prototype._update=function(){},$F.Pattern=I,$F}var TL;function tG(){if(TL)return IF;TL=1;var I=GD().Pattern;function T(N,F){I.call(this,N,F),F?this._line_regexp=this._input.get_regexp(F._line_regexp):this.__set_whitespace_patterns("",""),this.newline_count=0,this.whitespace_before_token=""}return T.prototype=new I,T.prototype.__set_whitespace_patterns=function(N,F){N+="\\t ",F+="\\n\\r",this._match_pattern=this._input.get_regexp("["+N+F+"]+",!0),this._newline_regexp=this._input.get_regexp("\\r\\n|["+F+"]")},T.prototype.read=function(){this.newline_count=0,this.whitespace_before_token="";var N=this._input.read(this._match_pattern);if(N===" ")this.whitespace_before_token=" ";else if(N){var F=this.__split(this._newline_regexp,N);this.newline_count=F.length-1,this.whitespace_before_token=F[this.newline_count]}return N},T.prototype.matching=function(N,F){var ee=this._create();return ee.__set_whitespace_patterns(N,F),ee._update(),ee},T.prototype._create=function(){return new T(this._input,this)},T.prototype.__split=function(N,F){N.lastIndex=0;for(var ee=0,pe=[],He=N.exec(F);He;)pe.push(F.substring(ee,He.index)),ee=He.index+He[0].length,He=N.exec(F);return ee<F.length?pe.push(F.substring(ee,F.length)):pe.push(""),pe},IF.WhitespacePattern=T,IF}var EL;function UD(){if(EL)return FD;EL=1;var I=tI().InputScanner,T=ZL().Token,N=eG().TokenStream,F=tG().WhitespacePattern,ee={START:"TK_START",RAW:"TK_RAW",EOF:"TK_EOF"},pe=function(He,xe){this._input=new I(He),this._options=xe||{},this.__tokens=null,this._patterns={},this._patterns.whitespace=new F(this._input)};return pe.prototype.tokenize=function(){this._input.restart(),this.__tokens=new N,this._reset();for(var He,xe=new T(ee.START,""),ye=null,jt=[],Ye=new N;xe.type!==ee.EOF;){for(He=this._get_next_token(xe,ye);this._is_comment(He);)Ye.add(He),He=this._get_next_token(xe,ye);Ye.isEmpty()||(He.comments_before=Ye,Ye=new N),He.parent=ye,this._is_opening(He)?(jt.push(ye),ye=He):ye&&this._is_closing(He,ye)&&(He.opened=ye,ye.closed=He,ye=jt.pop(),He.parent=ye),He.previous=xe,xe.next=He,this.__tokens.add(He),xe=He}return this.__tokens},pe.prototype._is_first_token=function(){return this.__tokens.isEmpty()},pe.prototype._reset=function(){},pe.prototype._get_next_token=function(He,xe){this._readWhitespace();var ye=this._input.read(/.+/g);return ye?this._create_token(ee.RAW,ye):this._create_token(ee.EOF,"")},pe.prototype._is_comment=function(He){return!1},pe.prototype._is_opening=function(He){return!1},pe.prototype._is_closing=function(He,xe){return!1},pe.prototype._create_token=function(He,xe){var ye=new T(He,xe,this._patterns.whitespace.newline_count,this._patterns.whitespace.whitespace_before_token);return ye},pe.prototype._readWhitespace=function(){return this._patterns.whitespace.read()},FD.Tokenizer=pe,FD.TOKEN=ee,FD}var LF={},zL;function rI(){if(zL)return LF;zL=1;function I(T,N){T=typeof T=="string"?T:T.source,N=typeof N=="string"?N:N.source,this.__directives_block_pattern=new RegExp(T+/ beautify( \w+[:]\w+)+ /.source+N,"g"),this.__directive_pattern=/ (\w+)[:](\w+)/g,this.__directives_end_ignore_pattern=new RegExp(T+/\sbeautify\signore:end\s/.source+N,"g")}return I.prototype.get_directives=function(T){if(!T.match(this.__directives_block_pattern))return null;var N={};this.__directive_pattern.lastIndex=0;for(var F=this.__directive_pattern.exec(T);F;)N[F[1]]=F[2],F=this.__directive_pattern.exec(T);return N},I.prototype.readIgnored=function(T){return T.readUntilAfter(this.__directives_end_ignore_pattern)},LF.Directives=I,LF}var HF={},AL;function e9(){if(AL)return HF;AL=1;var I=GD().Pattern,T={django:!1,erb:!1,handlebars:!1,php:!1,smarty:!1,angular:!1};function N(F,ee){I.call(this,F,ee),this.__template_pattern=null,this._disabled=Object.assign({},T),this._excluded=Object.assign({},T),ee&&(this.__template_pattern=this._input.get_regexp(ee.__template_pattern),this._excluded=Object.assign(this._excluded,ee._excluded),this._disabled=Object.assign(this._disabled,ee._disabled));var pe=new I(F);this.__patterns={handlebars_comment:pe.starting_with(/{{!--/).until_after(/--}}/),handlebars_unescaped:pe.starting_with(/{{{/).until_after(/}}}/),handlebars:pe.starting_with(/{{/).until_after(/}}/),php:pe.starting_with(/<\?(?:[= ]|php)/).until_after(/\?>/),erb:pe.starting_with(/<%[^%]/).until_after(/[^%]%>/),django:pe.starting_with(/{%/).until_after(/%}/),django_value:pe.starting_with(/{{/).until_after(/}}/),django_comment:pe.starting_with(/{#/).until_after(/#}/),smarty:pe.starting_with(/{(?=[^}{\s\n])/).until_after(/[^\s\n]}/),smarty_comment:pe.starting_with(/{\*/).until_after(/\*}/),smarty_literal:pe.starting_with(/{literal}/).until_after(/{\/literal}/)}}return N.prototype=new I,N.prototype._create=function(){return new N(this._input,this)},N.prototype._update=function(){this.__set_templated_pattern()},N.prototype.disable=function(F){var ee=this._create();return ee._disabled[F]=!0,ee._update(),ee},N.prototype.read_options=function(F){var ee=this._create();for(var pe in T)ee._disabled[pe]=F.templating.indexOf(pe)===-1;return ee._update(),ee},N.prototype.exclude=function(F){var ee=this._create();return ee._excluded[F]=!0,ee._update(),ee},N.prototype.read=function(){var F="";this._match_pattern?F=this._input.read(this._starting_pattern):F=this._input.read(this._starting_pattern,this.__template_pattern);for(var ee=this._read_template();ee;)this._match_pattern?ee+=this._input.read(this._match_pattern):ee+=this._input.readUntil(this.__template_pattern),F+=ee,ee=this._read_template();return this._until_after&&(F+=this._input.readUntilAfter(this._until_pattern)),F},N.prototype.__set_templated_pattern=function(){var F=[];this._disabled.php||F.push(this.__patterns.php._starting_pattern.source),this._disabled.handlebars||F.push(this.__patterns.handlebars._starting_pattern.source),this._disabled.erb||F.push(this.__patterns.erb._starting_pattern.source),this._disabled.django||(F.push(this.__patterns.django._starting_pattern.source),F.push(this.__patterns.django_value._starting_pattern.source),F.push(this.__patterns.django_comment._starting_pattern.source)),this._disabled.smarty||F.push(this.__patterns.smarty._starting_pattern.source),this._until_pattern&&F.push(this._until_pattern.source),this.__template_pattern=this._input.get_regexp("(?:"+F.join("|")+")")},N.prototype._read_template=function(){var F="",ee=this._input.peek();if(ee==="<"){var pe=this._input.peek(1);!this._disabled.php&&!this._excluded.php&&pe==="?"&&(F=F||this.__patterns.php.read()),!this._disabled.erb&&!this._excluded.erb&&pe==="%"&&(F=F||this.__patterns.erb.read())}else ee==="{"&&(!this._disabled.handlebars&&!this._excluded.handlebars&&(F=F||this.__patterns.handlebars_comment.read(),F=F||this.__patterns.handlebars_unescaped.read(),F=F||this.__patterns.handlebars.read()),this._disabled.django||(!this._excluded.django&&!this._excluded.handlebars&&(F=F||this.__patterns.django_value.read()),this._excluded.django||(F=F||this.__patterns.django_comment.read(),F=F||this.__patterns.django.read())),this._disabled.smarty||this._disabled.django&&this._disabled.handlebars&&(F=F||this.__patterns.smarty_comment.read(),F=F||this.__patterns.smarty_literal.read(),F=F||this.__patterns.smarty.read()));return F},HF.TemplatablePattern=N,HF}var OL;function ID(){if(OL)return mx;OL=1;var I=tI().InputScanner,T=UD().Tokenizer,N=UD().TOKEN,F=rI().Directives,ee=JL(),pe=GD().Pattern,He=e9().TemplatablePattern;function xe(Le,Ge){return Ge.indexOf(Le)!==-1}var ye={START_EXPR:"TK_START_EXPR",END_EXPR:"TK_END_EXPR",START_BLOCK:"TK_START_BLOCK",END_BLOCK:"TK_END_BLOCK",WORD:"TK_WORD",RESERVED:"TK_RESERVED",SEMICOLON:"TK_SEMICOLON",STRING:"TK_STRING",EQUALS:"TK_EQUALS",OPERATOR:"TK_OPERATOR",COMMA:"TK_COMMA",BLOCK_COMMENT:"TK_BLOCK_COMMENT",COMMENT:"TK_COMMENT",DOT:"TK_DOT",UNKNOWN:"TK_UNKNOWN",START:N.START,RAW:N.RAW,EOF:N.EOF},jt=new F(/\/\*/,/\*\//),Ye=/0[xX][0123456789abcdefABCDEF_]*n?|0[oO][01234567_]*n?|0[bB][01_]*n?|\d[\d_]*n|(?:\.\d[\d_]*|\d[\d_]*\.?[\d_]*)(?:[eE][+-]?[\d_]+)?/,Ae=/[0-9]/,tt=/[^\d\.]/,er=">>> === !== &&= ??= ||= << && >= ** != == <= >> || ?? |> < / - + > : & % ? ^ | *".split(" "),Xe=">>>= ... >>= <<= === >>> !== **= &&= ??= ||= => ^= :: /= << <= == && -= >= >> != -- += ** || ?? ++ %= &= *= |= |> = ! ? > < : / ^ - + * & % ~ |";Xe=Xe.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),Xe="\\?\\.(?!\\d) "+Xe,Xe=Xe.replace(/ /g,"|");var at=new RegExp(Xe),_e="continue,try,throw,return,var,let,const,if,switch,case,default,for,while,break,function,import,export".split(","),Y=_e.concat(["do","in","of","else","get","set","new","catch","finally","typeof","yield","async","await","from","as","class","extends"]),De=new RegExp("^(?:"+Y.join("|")+")$"),ue,Je=function(Le,Ge){T.call(this,Le,Ge),this._patterns.whitespace=this._patterns.whitespace.matching(/\u00A0\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff/.source,/\u2028\u2029/.source);var ce=new pe(this._input),Ue=new He(this._input).read_options(this._options);this.__patterns={template:Ue,identifier:Ue.starting_with(ee.identifier).matching(ee.identifierMatch),number:ce.matching(Ye),punct:ce.matching(at),comment:ce.starting_with(/\/\//).until(/[\n\r\u2028\u2029]/),block_comment:ce.starting_with(/\/\*/).until_after(/\*\//),html_comment_start:ce.matching(/<!--/),html_comment_end:ce.matching(/-->/),include:ce.starting_with(/#include/).until_after(ee.lineBreak),shebang:ce.starting_with(/#!/).until_after(ee.lineBreak),xml:ce.matching(/[\s\S]*?<(\/?)([-a-zA-Z:0-9_.]+|{[^}]+?}|!\[CDATA\[[^\]]*?\]\]|)(\s*{[^}]+?}|\s+[-a-zA-Z:0-9_.]+|\s+[-a-zA-Z:0-9_.]+\s*=\s*('[^']*'|"[^"]*"|{([^{}]|{[^}]+?})+?}))*\s*(\/?)\s*>/),single_quote:Ue.until(/['\\\n\r\u2028\u2029]/),double_quote:Ue.until(/["\\\n\r\u2028\u2029]/),template_text:Ue.until(/[`\\$]/),template_expression:Ue.until(/[`}\\]/)}};Je.prototype=new T,Je.prototype._is_comment=function(Le){return Le.type===ye.COMMENT||Le.type===ye.BLOCK_COMMENT||Le.type===ye.UNKNOWN},Je.prototype._is_opening=function(Le){return Le.type===ye.START_BLOCK||Le.type===ye.START_EXPR},Je.prototype._is_closing=function(Le,Ge){return(Le.type===ye.END_BLOCK||Le.type===ye.END_EXPR)&&Ge&&(Le.text==="]"&&Ge.text==="["||Le.text===")"&&Ge.text==="("||Le.text==="}"&&Ge.text==="{")},Je.prototype._reset=function(){ue=!1},Je.prototype._get_next_token=function(Le,Ge){var ce=null;this._readWhitespace();var Ue=this._input.peek();return Ue===null?this._create_token(ye.EOF,""):(ce=ce||this._read_non_javascript(Ue),ce=ce||this._read_string(Ue),ce=ce||this._read_pair(Ue,this._input.peek(1)),ce=ce||this._read_word(Le),ce=ce||this._read_singles(Ue),ce=ce||this._read_comment(Ue),ce=ce||this._read_regexp(Ue,Le),ce=ce||this._read_xml(Ue,Le),ce=ce||this._read_punctuation(),ce=ce||this._create_token(ye.UNKNOWN,this._input.next()),ce)},Je.prototype._read_word=function(Le){var Ge;if(Ge=this.__patterns.identifier.read(),Ge!=="")return Ge=Ge.replace(ee.allLineBreaks,`
`),!(Le.type===ye.DOT||Le.type===ye.RESERVED&&(Le.text==="set"||Le.text==="get"))&&De.test(Ge)?(Ge==="in"||Ge==="of")&&(Le.type===ye.WORD||Le.type===ye.STRING)?this._create_token(ye.OPERATOR,Ge):this._create_token(ye.RESERVED,Ge):this._create_token(ye.WORD,Ge);if(Ge=this.__patterns.number.read(),Ge!=="")return this._create_token(ye.WORD,Ge)},Je.prototype._read_singles=function(Le){var Ge=null;return Le==="("||Le==="["?Ge=this._create_token(ye.START_EXPR,Le):Le===")"||Le==="]"?Ge=this._create_token(ye.END_EXPR,Le):Le==="{"?Ge=this._create_token(ye.START_BLOCK,Le):Le==="}"?Ge=this._create_token(ye.END_BLOCK,Le):Le===";"?Ge=this._create_token(ye.SEMICOLON,Le):Le==="."&&tt.test(this._input.peek(1))?Ge=this._create_token(ye.DOT,Le):Le===","&&(Ge=this._create_token(ye.COMMA,Le)),Ge&&this._input.next(),Ge},Je.prototype._read_pair=function(Le,Ge){var ce=null;return Le==="#"&&Ge==="{"&&(ce=this._create_token(ye.START_BLOCK,Le+Ge)),ce&&(this._input.next(),this._input.next()),ce},Je.prototype._read_punctuation=function(){var Le=this.__patterns.punct.read();if(Le!=="")return Le==="="?this._create_token(ye.EQUALS,Le):Le==="?."?this._create_token(ye.DOT,Le):this._create_token(ye.OPERATOR,Le)},Je.prototype._read_non_javascript=function(Le){var Ge="";if(Le==="#"){if(this._is_first_token()&&(Ge=this.__patterns.shebang.read(),Ge))return this._create_token(ye.UNKNOWN,Ge.trim()+`
`);if(Ge=this.__patterns.include.read(),Ge)return this._create_token(ye.UNKNOWN,Ge.trim()+`
`);Le=this._input.next();var ce="#";if(this._input.hasNext()&&this._input.testChar(Ae)){do Le=this._input.next(),ce+=Le;while(this._input.hasNext()&&Le!=="#"&&Le!=="=");return Le==="#"||(this._input.peek()==="["&&this._input.peek(1)==="]"?(ce+="[]",this._input.next(),this._input.next()):this._input.peek()==="{"&&this._input.peek(1)==="}"&&(ce+="{}",this._input.next(),this._input.next())),this._create_token(ye.WORD,ce)}this._input.back()}else if(Le==="<"&&this._is_first_token()){if(Ge=this.__patterns.html_comment_start.read(),Ge){for(;this._input.hasNext()&&!this._input.testChar(ee.newline);)Ge+=this._input.next();return ue=!0,this._create_token(ye.COMMENT,Ge)}}else if(ue&&Le==="-"&&(Ge=this.__patterns.html_comment_end.read(),Ge))return ue=!1,this._create_token(ye.COMMENT,Ge);return null},Je.prototype._read_comment=function(Le){var Ge=null;if(Le==="/"){var ce="";if(this._input.peek(1)==="*"){ce=this.__patterns.block_comment.read();var Ue=jt.get_directives(ce);Ue&&Ue.ignore==="start"&&(ce+=jt.readIgnored(this._input)),ce=ce.replace(ee.allLineBreaks,`
`),Ge=this._create_token(ye.BLOCK_COMMENT,ce),Ge.directives=Ue}else this._input.peek(1)==="/"&&(ce=this.__patterns.comment.read(),Ge=this._create_token(ye.COMMENT,ce))}return Ge},Je.prototype._read_string=function(Le){if(Le==="`"||Le==="'"||Le==='"'){var Ge=this._input.next();return this.has_char_escapes=!1,Le==="`"?Ge+=this._read_string_recursive("`",!0,"${"):Ge+=this._read_string_recursive(Le),this.has_char_escapes&&this._options.unescape_strings&&(Ge=ze(Ge)),this._input.peek()===Le&&(Ge+=this._input.next()),Ge=Ge.replace(ee.allLineBreaks,`
`),this._create_token(ye.STRING,Ge)}return null},Je.prototype._allow_regexp_or_xml=function(Le){return Le.type===ye.RESERVED&&xe(Le.text,["return","case","throw","else","do","typeof","yield"])||Le.type===ye.END_EXPR&&Le.text===")"&&Le.opened.previous.type===ye.RESERVED&&xe(Le.opened.previous.text,["if","while","for"])||xe(Le.type,[ye.COMMENT,ye.START_EXPR,ye.START_BLOCK,ye.START,ye.END_BLOCK,ye.OPERATOR,ye.EQUALS,ye.EOF,ye.SEMICOLON,ye.COMMA])},Je.prototype._read_regexp=function(Le,Ge){if(Le==="/"&&this._allow_regexp_or_xml(Ge)){for(var ce=this._input.next(),Ue=!1,U=!1;this._input.hasNext()&&(Ue||U||this._input.peek()!==Le)&&!this._input.testChar(ee.newline);)ce+=this._input.peek(),Ue?Ue=!1:(Ue=this._input.peek()==="\\",this._input.peek()==="["?U=!0:this._input.peek()==="]"&&(U=!1)),this._input.next();return this._input.peek()===Le&&(ce+=this._input.next(),ce+=this._input.read(ee.identifier)),this._create_token(ye.STRING,ce)}return null},Je.prototype._read_xml=function(Le,Ge){if(this._options.e4x&&Le==="<"&&this._allow_regexp_or_xml(Ge)){var ce="",Ue=this.__patterns.xml.read_match();if(Ue){for(var U=Ue[2].replace(/^{\s+/,"{").replace(/\s+}$/,"}"),Ce=U.indexOf("{")===0,J=0;Ue;){var X=!!Ue[1],It=Ue[2],fn=!!Ue[Ue.length-1]||It.slice(0,8)==="![CDATA[";if(!fn&&(It===U||Ce&&It.replace(/^{\s+/,"{").replace(/\s+}$/,"}"))&&(X?--J:++J),ce+=Ue[0],J<=0)break;Ue=this.__patterns.xml.read_match()}return Ue||(ce+=this._input.match(/[\s\S]*/g)[0]),ce=ce.replace(ee.allLineBreaks,`
`),this._create_token(ye.STRING,ce)}}return null};function ze(Le){for(var Ge="",ce=0,Ue=new I(Le),U=null;Ue.hasNext();)if(U=Ue.match(/([\s]|[^\\]|\\\\)+/g),U&&(Ge+=U[0]),Ue.peek()==="\\"){if(Ue.next(),Ue.peek()==="x")U=Ue.match(/x([0-9A-Fa-f]{2})/g);else if(Ue.peek()==="u")U=Ue.match(/u([0-9A-Fa-f]{4})/g),U||(U=Ue.match(/u\{([0-9A-Fa-f]+)\}/g));else{Ge+="\\",Ue.hasNext()&&(Ge+=Ue.next());continue}if(!U||(ce=parseInt(U[1],16),ce>126&&ce<=255&&U[0].indexOf("x")===0))return Le;ce>=0&&ce<32||ce>1114111?Ge+="\\"+U[0]:ce===34||ce===39||ce===92?Ge+="\\"+String.fromCharCode(ce):Ge+=String.fromCharCode(ce)}return Ge}return Je.prototype._read_string_recursive=function(Le,Ge,ce){var Ue,U;Le==="'"?U=this.__patterns.single_quote:Le==='"'?U=this.__patterns.double_quote:Le==="`"?U=this.__patterns.template_text:Le==="}"&&(U=this.__patterns.template_expression);for(var Ce=U.read(),J="";this._input.hasNext();){if(J=this._input.next(),J===Le||!Ge&&ee.newline.test(J)){this._input.back();break}else J==="\\"&&this._input.hasNext()?(Ue=this._input.peek(),Ue==="x"||Ue==="u"?this.has_char_escapes=!0:Ue==="\r"&&this._input.peek(1)===`
`&&this._input.next(),J+=this._input.next()):ce&&(ce==="${"&&J==="$"&&this._input.peek()==="{"&&(J+=this._input.next()),ce===J&&(Le==="`"?J+=this._read_string_recursive("}",Ge,"`"):J+=this._read_string_recursive("`",Ge,"${"),this._input.hasNext()&&(J+=this._input.next())));J+=U.read(),Ce+=J}return Ce},mx.Tokenizer=Je,mx.TOKEN=ye,mx.positionable_operators=er.slice(),mx.line_starters=_e.slice(),mx}var RL;function rG(){if(RL)return RF;RL=1;var I=QF().Output,T=ZL().Token,N=JL(),F=QL().Options,ee=ID().Tokenizer,pe=ID().line_starters,He=ID().positionable_operators,xe=ID().TOKEN;function ye(U,Ce){return Ce.indexOf(U)!==-1}function jt(U){return U.replace(/^\s+/g,"")}function Ye(U){for(var Ce={},J=0;J<U.length;J++)Ce[U[J].replace(/-/g,"_")]=U[J];return Ce}function Ae(U,Ce){return U&&U.type===xe.RESERVED&&U.text===Ce}function tt(U,Ce){return U&&U.type===xe.RESERVED&&ye(U.text,Ce)}var er=["case","return","do","if","throw","else","await","break","continue","async"],Xe=["before-newline","after-newline","preserve-newline"],at=Ye(Xe),_e=[at.before_newline,at.preserve_newline],Y={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"};function De(U,Ce){Ce.multiline_frame||Ce.mode===Y.ForInitializer||Ce.mode===Y.Conditional||U.remove_indent(Ce.start_line_index)}function ue(U){U=U.replace(N.allLineBreaks,`
`);for(var Ce=[],J=U.indexOf(`
`);J!==-1;)Ce.push(U.substring(0,J)),U=U.substring(J+1),J=U.indexOf(`
`);return U.length&&Ce.push(U),Ce}function Je(U){return U===Y.ArrayLiteral}function ze(U){return ye(U,[Y.Expression,Y.ForInitializer,Y.Conditional])}function Le(U,Ce){for(var J=0;J<U.length;J++){var X=U[J].trim();if(X.charAt(0)!==Ce)return!1}return!0}function Ge(U,Ce){for(var J=0,X=U.length,It;J<X;J++)if(It=U[J],It&&It.indexOf(Ce)!==0)return!1;return!0}function ce(U,Ce){Ce=Ce||{},this._source_text=U||"",this._output=null,this._tokens=null,this._last_last_text=null,this._flags=null,this._previous_flags=null,this._flag_store=null,this._options=new F(Ce)}ce.prototype.create_flags=function(U,Ce){var J=0;U&&(J=U.indentation_level,!this._output.just_added_newline()&&U.line_indent_level>J&&(J=U.line_indent_level));var X={mode:Ce,parent:U,last_token:U?U.last_token:new T(xe.START_BLOCK,""),last_word:U?U.last_word:"",declaration_statement:!1,declaration_assignment:!1,multiline_frame:!1,inline_frame:!1,if_block:!1,else_block:!1,class_start_block:!1,do_block:!1,do_while:!1,import_block:!1,in_case_statement:!1,in_case:!1,case_body:!1,case_block:!1,indentation_level:J,alignment:0,line_indent_level:U?U.line_indent_level:J,start_line_index:this._output.get_line_number(),ternary_depth:0};return X},ce.prototype._reset=function(U){var Ce=U.match(/^[\t ]*/)[0];this._last_last_text="",this._output=new I(this._options,Ce),this._output.raw=this._options.test_output_raw,this._flag_store=[],this.set_mode(Y.BlockStatement);var J=new ee(U,this._options);return this._tokens=J.tokenize(),U},ce.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var U,Ce=this._reset(this._source_text),J=this._options.eol;this._options.eol==="auto"&&(J=`
`,Ce&&N.lineBreak.test(Ce||"")&&(J=Ce.match(N.lineBreak)[0]));for(var X=this._tokens.next();X;)this.handle_token(X),this._last_last_text=this._flags.last_token.text,this._flags.last_token=X,X=this._tokens.next();return U=this._output.get_code(J),U},ce.prototype.handle_token=function(U,Ce){U.type===xe.START_EXPR?this.handle_start_expr(U):U.type===xe.END_EXPR?this.handle_end_expr(U):U.type===xe.START_BLOCK?this.handle_start_block(U):U.type===xe.END_BLOCK?this.handle_end_block(U):U.type===xe.WORD?this.handle_word(U):U.type===xe.RESERVED?this.handle_word(U):U.type===xe.SEMICOLON?this.handle_semicolon(U):U.type===xe.STRING?this.handle_string(U):U.type===xe.EQUALS?this.handle_equals(U):U.type===xe.OPERATOR?this.handle_operator(U):U.type===xe.COMMA?this.handle_comma(U):U.type===xe.BLOCK_COMMENT?this.handle_block_comment(U,Ce):U.type===xe.COMMENT?this.handle_comment(U,Ce):U.type===xe.DOT?this.handle_dot(U):U.type===xe.EOF?this.handle_eof(U):U.type===xe.UNKNOWN?this.handle_unknown(U,Ce):this.handle_unknown(U,Ce)},ce.prototype.handle_whitespace_and_comments=function(U,Ce){var J=U.newlines,X=this._options.keep_array_indentation&&Je(this._flags.mode);if(U.comments_before)for(var It=U.comments_before.next();It;)this.handle_whitespace_and_comments(It,Ce),this.handle_token(It,Ce),It=U.comments_before.next();if(X)for(var fn=0;fn<J;fn+=1)this.print_newline(fn>0,Ce);else if(this._options.max_preserve_newlines&&J>this._options.max_preserve_newlines&&(J=this._options.max_preserve_newlines),this._options.preserve_newlines&&J>1){this.print_newline(!1,Ce);for(var St=1;St<J;St+=1)this.print_newline(!0,Ce)}};var Ue=["async","break","continue","return","throw","yield"];return ce.prototype.allow_wrap_or_preserved_newline=function(U,Ce){if(Ce=Ce===void 0?!1:Ce,!this._output.just_added_newline()){var J=this._options.preserve_newlines&&U.newlines||Ce,X=ye(this._flags.last_token.text,He)||ye(U.text,He);if(X){var It=ye(this._flags.last_token.text,He)&&ye(this._options.operator_position,_e)||ye(U.text,He);J=J&&It}if(J)this.print_newline(!1,!0);else if(this._options.wrap_line_length){if(tt(this._flags.last_token,Ue))return;this._output.set_wrap_point()}}},ce.prototype.print_newline=function(U,Ce){if(!Ce&&this._flags.last_token.text!==";"&&this._flags.last_token.text!==","&&this._flags.last_token.text!=="="&&(this._flags.last_token.type!==xe.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++"))for(var J=this._tokens.peek();this._flags.mode===Y.Statement&&!(this._flags.if_block&&Ae(J,"else"))&&!this._flags.do_block;)this.restore_mode();this._output.add_new_line(U)&&(this._flags.multiline_frame=!0)},ce.prototype.print_token_line_indentation=function(U){this._output.just_added_newline()&&(this._options.keep_array_indentation&&U.newlines&&(U.text==="["||Je(this._flags.mode))?(this._output.current_line.set_indent(-1),this._output.current_line.push(U.whitespace_before),this._output.space_before_token=!1):this._output.set_indent(this._flags.indentation_level,this._flags.alignment)&&(this._flags.line_indent_level=this._flags.indentation_level))},ce.prototype.print_token=function(U){if(this._output.raw){this._output.add_raw_token(U);return}if(this._options.comma_first&&U.previous&&U.previous.type===xe.COMMA&&this._output.just_added_newline()&&this._output.previous_line.last()===","){var Ce=this._output.previous_line.pop();this._output.previous_line.is_empty()&&(this._output.previous_line.push(Ce),this._output.trim(!0),this._output.current_line.pop(),this._output.trim()),this.print_token_line_indentation(U),this._output.add_token(","),this._output.space_before_token=!0}this.print_token_line_indentation(U),this._output.non_breaking_space=!0,this._output.add_token(U.text),this._output.previous_token_wrapped&&(this._flags.multiline_frame=!0)},ce.prototype.indent=function(){this._flags.indentation_level+=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},ce.prototype.deindent=function(){this._flags.indentation_level>0&&(!this._flags.parent||this._flags.indentation_level>this._flags.parent.indentation_level)&&(this._flags.indentation_level-=1,this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},ce.prototype.set_mode=function(U){this._flags?(this._flag_store.push(this._flags),this._previous_flags=this._flags):this._previous_flags=this.create_flags(null,U),this._flags=this.create_flags(this._previous_flags,U),this._output.set_indent(this._flags.indentation_level,this._flags.alignment)},ce.prototype.restore_mode=function(){this._flag_store.length>0&&(this._previous_flags=this._flags,this._flags=this._flag_store.pop(),this._previous_flags.mode===Y.Statement&&De(this._output,this._previous_flags),this._output.set_indent(this._flags.indentation_level,this._flags.alignment))},ce.prototype.start_of_object_property=function(){return this._flags.parent.mode===Y.ObjectLiteral&&this._flags.mode===Y.Statement&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||tt(this._flags.last_token,["get","set"]))},ce.prototype.start_of_statement=function(U){var Ce=!1;return Ce=Ce||tt(this._flags.last_token,["var","let","const"])&&U.type===xe.WORD,Ce=Ce||Ae(this._flags.last_token,"do"),Ce=Ce||!(this._flags.parent.mode===Y.ObjectLiteral&&this._flags.mode===Y.Statement)&&tt(this._flags.last_token,Ue)&&!U.newlines,Ce=Ce||Ae(this._flags.last_token,"else")&&!(Ae(U,"if")&&!U.comments_before),Ce=Ce||this._flags.last_token.type===xe.END_EXPR&&(this._previous_flags.mode===Y.ForInitializer||this._previous_flags.mode===Y.Conditional),Ce=Ce||this._flags.last_token.type===xe.WORD&&this._flags.mode===Y.BlockStatement&&!this._flags.in_case&&!(U.text==="--"||U.text==="++")&&this._last_last_text!=="function"&&U.type!==xe.WORD&&U.type!==xe.RESERVED,Ce=Ce||this._flags.mode===Y.ObjectLiteral&&(this._flags.last_token.text===":"&&this._flags.ternary_depth===0||tt(this._flags.last_token,["get","set"])),Ce?(this.set_mode(Y.Statement),this.indent(),this.handle_whitespace_and_comments(U,!0),this.start_of_object_property()||this.allow_wrap_or_preserved_newline(U,tt(U,["do","for","if","while"])),!0):!1},ce.prototype.handle_start_expr=function(U){this.start_of_statement(U)||this.handle_whitespace_and_comments(U);var Ce=Y.Expression;if(U.text==="["){if(this._flags.last_token.type===xe.WORD||this._flags.last_token.text===")"){tt(this._flags.last_token,pe)&&(this._output.space_before_token=!0),this.print_token(U),this.set_mode(Ce),this.indent(),this._options.space_in_paren&&(this._output.space_before_token=!0);return}Ce=Y.ArrayLiteral,Je(this._flags.mode)&&(this._flags.last_token.text==="["||this._flags.last_token.text===","&&(this._last_last_text==="]"||this._last_last_text==="}"))&&(this._options.keep_array_indentation||this.print_newline()),ye(this._flags.last_token.type,[xe.START_EXPR,xe.END_EXPR,xe.WORD,xe.OPERATOR,xe.DOT])||(this._output.space_before_token=!0)}else{if(this._flags.last_token.type===xe.RESERVED)this._flags.last_token.text==="for"?(this._output.space_before_token=this._options.space_before_conditional,Ce=Y.ForInitializer):ye(this._flags.last_token.text,["if","while","switch"])?(this._output.space_before_token=this._options.space_before_conditional,Ce=Y.Conditional):ye(this._flags.last_word,["await","async"])?this._output.space_before_token=!0:this._flags.last_token.text==="import"&&U.whitespace_before===""?this._output.space_before_token=!1:(ye(this._flags.last_token.text,pe)||this._flags.last_token.text==="catch")&&(this._output.space_before_token=!0);else if(this._flags.last_token.type===xe.EQUALS||this._flags.last_token.type===xe.OPERATOR)this.start_of_object_property()||this.allow_wrap_or_preserved_newline(U);else if(this._flags.last_token.type===xe.WORD){this._output.space_before_token=!1;var J=this._tokens.peek(-3);if(this._options.space_after_named_function&&J){var X=this._tokens.peek(-4);tt(J,["async","function"])||J.text==="*"&&tt(X,["async","function"])?this._output.space_before_token=!0:this._flags.mode===Y.ObjectLiteral?(J.text==="{"||J.text===","||J.text==="*"&&(X.text==="{"||X.text===","))&&(this._output.space_before_token=!0):this._flags.parent&&this._flags.parent.class_start_block&&(this._output.space_before_token=!0)}}else this.allow_wrap_or_preserved_newline(U);(this._flags.last_token.type===xe.RESERVED&&(this._flags.last_word==="function"||this._flags.last_word==="typeof")||this._flags.last_token.text==="*"&&(ye(this._last_last_text,["function","yield"])||this._flags.mode===Y.ObjectLiteral&&ye(this._last_last_text,["{",","])))&&(this._output.space_before_token=this._options.space_after_anon_function)}this._flags.last_token.text===";"||this._flags.last_token.type===xe.START_BLOCK?this.print_newline():(this._flags.last_token.type===xe.END_EXPR||this._flags.last_token.type===xe.START_EXPR||this._flags.last_token.type===xe.END_BLOCK||this._flags.last_token.text==="."||this._flags.last_token.type===xe.COMMA)&&this.allow_wrap_or_preserved_newline(U,U.newlines),this.print_token(U),this.set_mode(Ce),this._options.space_in_paren&&(this._output.space_before_token=!0),this.indent()},ce.prototype.handle_end_expr=function(U){for(;this._flags.mode===Y.Statement;)this.restore_mode();this.handle_whitespace_and_comments(U),this._flags.multiline_frame&&this.allow_wrap_or_preserved_newline(U,U.text==="]"&&Je(this._flags.mode)&&!this._options.keep_array_indentation),this._options.space_in_paren&&(this._flags.last_token.type===xe.START_EXPR&&!this._options.space_in_empty_paren?(this._output.trim(),this._output.space_before_token=!1):this._output.space_before_token=!0),this.deindent(),this.print_token(U),this.restore_mode(),De(this._output,this._previous_flags),this._flags.do_while&&this._previous_flags.mode===Y.Conditional&&(this._previous_flags.mode=Y.Expression,this._flags.do_block=!1,this._flags.do_while=!1)},ce.prototype.handle_start_block=function(U){this.handle_whitespace_and_comments(U);var Ce=this._tokens.peek(),J=this._tokens.peek(1);this._flags.last_word==="switch"&&this._flags.last_token.type===xe.END_EXPR?(this.set_mode(Y.BlockStatement),this._flags.in_case_statement=!0):this._flags.case_body?this.set_mode(Y.BlockStatement):J&&(ye(J.text,[":",","])&&ye(Ce.type,[xe.STRING,xe.WORD,xe.RESERVED])||ye(Ce.text,["get","set","..."])&&ye(J.type,[xe.WORD,xe.RESERVED]))?ye(this._last_last_text,["class","interface"])&&!ye(J.text,[":",","])?this.set_mode(Y.BlockStatement):this.set_mode(Y.ObjectLiteral):this._flags.last_token.type===xe.OPERATOR&&this._flags.last_token.text==="=>"?this.set_mode(Y.BlockStatement):ye(this._flags.last_token.type,[xe.EQUALS,xe.START_EXPR,xe.COMMA,xe.OPERATOR])||tt(this._flags.last_token,["return","throw","import","default"])?this.set_mode(Y.ObjectLiteral):this.set_mode(Y.BlockStatement),this._flags.last_token&&tt(this._flags.last_token.previous,["class","extends"])&&(this._flags.class_start_block=!0);var X=!Ce.comments_before&&Ce.text==="}",It=X&&this._flags.last_word==="function"&&this._flags.last_token.type===xe.END_EXPR;if(this._options.brace_preserve_inline){var fn=0,St=null;this._flags.inline_frame=!0;do if(fn+=1,St=this._tokens.peek(fn-1),St.newlines){this._flags.inline_frame=!1;break}while(St.type!==xe.EOF&&!(St.type===xe.END_BLOCK&&St.opened===U))}(this._options.brace_style==="expand"||this._options.brace_style==="none"&&U.newlines)&&!this._flags.inline_frame?this._flags.last_token.type!==xe.OPERATOR&&(It||this._flags.last_token.type===xe.EQUALS||tt(this._flags.last_token,er)&&this._flags.last_token.text!=="else")?this._output.space_before_token=!0:this.print_newline(!1,!0):(Je(this._previous_flags.mode)&&(this._flags.last_token.type===xe.START_EXPR||this._flags.last_token.type===xe.COMMA)&&((this._flags.last_token.type===xe.COMMA||this._options.space_in_paren)&&(this._output.space_before_token=!0),(this._flags.last_token.type===xe.COMMA||this._flags.last_token.type===xe.START_EXPR&&this._flags.inline_frame)&&(this.allow_wrap_or_preserved_newline(U),this._previous_flags.multiline_frame=this._previous_flags.multiline_frame||this._flags.multiline_frame,this._flags.multiline_frame=!1)),this._flags.last_token.type!==xe.OPERATOR&&this._flags.last_token.type!==xe.START_EXPR&&(ye(this._flags.last_token.type,[xe.START_BLOCK,xe.SEMICOLON])&&!this._flags.inline_frame?this.print_newline():this._output.space_before_token=!0)),this.print_token(U),this.indent(),!X&&!(this._options.brace_preserve_inline&&this._flags.inline_frame)&&this.print_newline()},ce.prototype.handle_end_block=function(U){for(this.handle_whitespace_and_comments(U);this._flags.mode===Y.Statement;)this.restore_mode();var Ce=this._flags.last_token.type===xe.START_BLOCK;this._flags.inline_frame&&!Ce?this._output.space_before_token=!0:this._options.brace_style==="expand"?Ce||this.print_newline():Ce||(Je(this._flags.mode)&&this._options.keep_array_indentation?(this._options.keep_array_indentation=!1,this.print_newline(),this._options.keep_array_indentation=!0):this.print_newline()),this.restore_mode(),this.print_token(U)},ce.prototype.handle_word=function(U){if(U.type===xe.RESERVED){if(ye(U.text,["set","get"])&&this._flags.mode!==Y.ObjectLiteral)U.type=xe.WORD;else if(U.text==="import"&&ye(this._tokens.peek().text,["(","."]))U.type=xe.WORD;else if(ye(U.text,["as","from"])&&!this._flags.import_block)U.type=xe.WORD;else if(this._flags.mode===Y.ObjectLiteral){var Ce=this._tokens.peek();Ce.text===":"&&(U.type=xe.WORD)}}if(this.start_of_statement(U)?tt(this._flags.last_token,["var","let","const"])&&U.type===xe.WORD&&(this._flags.declaration_statement=!0):U.newlines&&!ze(this._flags.mode)&&(this._flags.last_token.type!==xe.OPERATOR||this._flags.last_token.text==="--"||this._flags.last_token.text==="++")&&this._flags.last_token.type!==xe.EQUALS&&(this._options.preserve_newlines||!tt(this._flags.last_token,["var","let","const","set","get"]))?(this.handle_whitespace_and_comments(U),this.print_newline()):this.handle_whitespace_and_comments(U),this._flags.do_block&&!this._flags.do_while)if(Ae(U,"while")){this._output.space_before_token=!0,this.print_token(U),this._output.space_before_token=!0,this._flags.do_while=!0;return}else this.print_newline(),this._flags.do_block=!1;if(this._flags.if_block)if(!this._flags.else_block&&Ae(U,"else"))this._flags.else_block=!0;else{for(;this._flags.mode===Y.Statement;)this.restore_mode();this._flags.if_block=!1,this._flags.else_block=!1}if(this._flags.in_case_statement&&tt(U,["case","default"])){this.print_newline(),!this._flags.case_block&&(this._flags.case_body||this._options.jslint_happy)&&this.deindent(),this._flags.case_body=!1,this.print_token(U),this._flags.in_case=!0;return}if((this._flags.last_token.type===xe.COMMA||this._flags.last_token.type===xe.START_EXPR||this._flags.last_token.type===xe.EQUALS||this._flags.last_token.type===xe.OPERATOR)&&!this.start_of_object_property()&&!(ye(this._flags.last_token.text,["+","-"])&&this._last_last_text===":"&&this._flags.parent.mode===Y.ObjectLiteral)&&this.allow_wrap_or_preserved_newline(U),Ae(U,"function")){(ye(this._flags.last_token.text,["}",";"])||this._output.just_added_newline()&&!(ye(this._flags.last_token.text,["(","[","{",":","=",","])||this._flags.last_token.type===xe.OPERATOR))&&!this._output.just_added_blankline()&&!U.comments_before&&(this.print_newline(),this.print_newline(!0)),this._flags.last_token.type===xe.RESERVED||this._flags.last_token.type===xe.WORD?tt(this._flags.last_token,["get","set","new","export"])||tt(this._flags.last_token,Ue)?this._output.space_before_token=!0:Ae(this._flags.last_token,"default")&&this._last_last_text==="export"?this._output.space_before_token=!0:this._flags.last_token.text==="declare"?this._output.space_before_token=!0:this.print_newline():this._flags.last_token.type===xe.OPERATOR||this._flags.last_token.text==="="?this._output.space_before_token=!0:!this._flags.multiline_frame&&(ze(this._flags.mode)||Je(this._flags.mode))||this.print_newline(),this.print_token(U),this._flags.last_word=U.text;return}var J="NONE";if(this._flags.last_token.type===xe.END_BLOCK?this._previous_flags.inline_frame?J="SPACE":tt(U,["else","catch","finally","from"])?this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&U.newlines?J="NEWLINE":(J="SPACE",this._output.space_before_token=!0):J="NEWLINE":this._flags.last_token.type===xe.SEMICOLON&&this._flags.mode===Y.BlockStatement?J="NEWLINE":this._flags.last_token.type===xe.SEMICOLON&&ze(this._flags.mode)?J="SPACE":this._flags.last_token.type===xe.STRING?J="NEWLINE":this._flags.last_token.type===xe.RESERVED||this._flags.last_token.type===xe.WORD||this._flags.last_token.text==="*"&&(ye(this._last_last_text,["function","yield"])||this._flags.mode===Y.ObjectLiteral&&ye(this._last_last_text,["{",","]))?J="SPACE":this._flags.last_token.type===xe.START_BLOCK?this._flags.inline_frame?J="SPACE":J="NEWLINE":this._flags.last_token.type===xe.END_EXPR&&(this._output.space_before_token=!0,J="NEWLINE"),tt(U,pe)&&this._flags.last_token.text!==")"&&(this._flags.inline_frame||this._flags.last_token.text==="else"||this._flags.last_token.text==="export"?J="SPACE":J="NEWLINE"),tt(U,["else","catch","finally"]))if((!(this._flags.last_token.type===xe.END_BLOCK&&this._previous_flags.mode===Y.BlockStatement)||this._options.brace_style==="expand"||this._options.brace_style==="end-expand"||this._options.brace_style==="none"&&U.newlines)&&!this._flags.inline_frame)this.print_newline();else{this._output.trim(!0);var X=this._output.current_line;X.last()!=="}"&&this.print_newline(),this._output.space_before_token=!0}else J==="NEWLINE"?tt(this._flags.last_token,er)?this._output.space_before_token=!0:this._flags.last_token.text==="declare"&&tt(U,["var","let","const"])?this._output.space_before_token=!0:this._flags.last_token.type!==xe.END_EXPR?(this._flags.last_token.type!==xe.START_EXPR||!tt(U,["var","let","const"]))&&this._flags.last_token.text!==":"&&(Ae(U,"if")&&Ae(U.previous,"else")?this._output.space_before_token=!0:this.print_newline()):tt(U,pe)&&this._flags.last_token.text!==")"&&this.print_newline():this._flags.multiline_frame&&Je(this._flags.mode)&&this._flags.last_token.text===","&&this._last_last_text==="}"?this.print_newline():J==="SPACE"&&(this._output.space_before_token=!0);U.previous&&(U.previous.type===xe.WORD||U.previous.type===xe.RESERVED)&&(this._output.space_before_token=!0),this.print_token(U),this._flags.last_word=U.text,U.type===xe.RESERVED&&(U.text==="do"?this._flags.do_block=!0:U.text==="if"?this._flags.if_block=!0:U.text==="import"?this._flags.import_block=!0:this._flags.import_block&&Ae(U,"from")&&(this._flags.import_block=!1))},ce.prototype.handle_semicolon=function(U){this.start_of_statement(U)?this._output.space_before_token=!1:this.handle_whitespace_and_comments(U);for(var Ce=this._tokens.peek();this._flags.mode===Y.Statement&&!(this._flags.if_block&&Ae(Ce,"else"))&&!this._flags.do_block;)this.restore_mode();this._flags.import_block&&(this._flags.import_block=!1),this.print_token(U)},ce.prototype.handle_string=function(U){U.text.startsWith("`")&&U.newlines===0&&U.whitespace_before===""&&(U.previous.text===")"||this._flags.last_token.type===xe.WORD)||(this.start_of_statement(U)?this._output.space_before_token=!0:(this.handle_whitespace_and_comments(U),this._flags.last_token.type===xe.RESERVED||this._flags.last_token.type===xe.WORD||this._flags.inline_frame?this._output.space_before_token=!0:this._flags.last_token.type===xe.COMMA||this._flags.last_token.type===xe.START_EXPR||this._flags.last_token.type===xe.EQUALS||this._flags.last_token.type===xe.OPERATOR?this.start_of_object_property()||this.allow_wrap_or_preserved_newline(U):U.text.startsWith("`")&&this._flags.last_token.type===xe.END_EXPR&&(U.previous.text==="]"||U.previous.text===")")&&U.newlines===0?this._output.space_before_token=!0:this.print_newline())),this.print_token(U)},ce.prototype.handle_equals=function(U){this.start_of_statement(U)||this.handle_whitespace_and_comments(U),this._flags.declaration_statement&&(this._flags.declaration_assignment=!0),this._output.space_before_token=!0,this.print_token(U),this._output.space_before_token=!0},ce.prototype.handle_comma=function(U){this.handle_whitespace_and_comments(U,!0),this.print_token(U),this._output.space_before_token=!0,this._flags.declaration_statement?(ze(this._flags.parent.mode)&&(this._flags.declaration_assignment=!1),this._flags.declaration_assignment?(this._flags.declaration_assignment=!1,this.print_newline(!1,!0)):this._options.comma_first&&this.allow_wrap_or_preserved_newline(U)):this._flags.mode===Y.ObjectLiteral||this._flags.mode===Y.Statement&&this._flags.parent.mode===Y.ObjectLiteral?(this._flags.mode===Y.Statement&&this.restore_mode(),this._flags.inline_frame||this.print_newline()):this._options.comma_first&&this.allow_wrap_or_preserved_newline(U)},ce.prototype.handle_operator=function(U){var Ce=U.text==="*"&&(tt(this._flags.last_token,["function","yield"])||ye(this._flags.last_token.type,[xe.START_BLOCK,xe.COMMA,xe.END_BLOCK,xe.SEMICOLON])),J=ye(U.text,["-","+"])&&(ye(this._flags.last_token.type,[xe.START_BLOCK,xe.START_EXPR,xe.EQUALS,xe.OPERATOR])||ye(this._flags.last_token.text,pe)||this._flags.last_token.text===",");if(!this.start_of_statement(U)){var X=!Ce;this.handle_whitespace_and_comments(U,X)}if(U.text==="*"&&this._flags.last_token.type===xe.DOT){this.print_token(U);return}if(U.text==="::"){this.print_token(U);return}if(ye(U.text,["-","+"])&&this.start_of_object_property()){this.print_token(U);return}if(this._flags.last_token.type===xe.OPERATOR&&ye(this._options.operator_position,_e)&&this.allow_wrap_or_preserved_newline(U),U.text===":"&&this._flags.in_case){this.print_token(U),this._flags.in_case=!1,this._flags.case_body=!0,this._tokens.peek().type!==xe.START_BLOCK?(this.indent(),this.print_newline(),this._flags.case_block=!1):(this._flags.case_block=!0,this._output.space_before_token=!0);return}var It=!0,fn=!0,St=!1;if(U.text===":"?this._flags.ternary_depth===0?It=!1:(this._flags.ternary_depth-=1,St=!0):U.text==="?"&&(this._flags.ternary_depth+=1),!J&&!Ce&&this._options.preserve_newlines&&ye(U.text,He)){var Xn=U.text===":",mn=Xn&&St,O=Xn&&!St;switch(this._options.operator_position){case at.before_newline:this._output.space_before_token=!O,this.print_token(U),(!Xn||mn)&&this.allow_wrap_or_preserved_newline(U),this._output.space_before_token=!0;return;case at.after_newline:this._output.space_before_token=!0,!Xn||mn?this._tokens.peek().newlines?this.print_newline(!1,!0):this.allow_wrap_or_preserved_newline(U):this._output.space_before_token=!1,this.print_token(U),this._output.space_before_token=!0;return;case at.preserve_newline:O||this.allow_wrap_or_preserved_newline(U),It=!(this._output.just_added_newline()||O),this._output.space_before_token=It,this.print_token(U),this._output.space_before_token=!0;return}}if(Ce){this.allow_wrap_or_preserved_newline(U),It=!1;var On=this._tokens.peek();fn=On&&ye(On.type,[xe.WORD,xe.RESERVED])}else if(U.text==="...")this.allow_wrap_or_preserved_newline(U),It=this._flags.last_token.type===xe.START_BLOCK,fn=!1;else if(ye(U.text,["--","++","!","~"])||J){if((this._flags.last_token.type===xe.COMMA||this._flags.last_token.type===xe.START_EXPR)&&this.allow_wrap_or_preserved_newline(U),It=!1,fn=!1,U.newlines&&(U.text==="--"||U.text==="++"||U.text==="~")){var Wt=tt(this._flags.last_token,er)&&U.newlines;Wt&&(this._previous_flags.if_block||this._previous_flags.else_block)&&this.restore_mode(),this.print_newline(Wt,!0)}this._flags.last_token.text===";"&&ze(this._flags.mode)&&(It=!0),this._flags.last_token.type===xe.RESERVED?It=!0:this._flags.last_token.type===xe.END_EXPR?It=!(this._flags.last_token.text==="]"&&(U.text==="--"||U.text==="++")):this._flags.last_token.type===xe.OPERATOR&&(It=ye(U.text,["--","-","++","+"])&&ye(this._flags.last_token.text,["--","-","++","+"]),ye(U.text,["+","-"])&&ye(this._flags.last_token.text,["--","++"])&&(fn=!0)),(this._flags.mode===Y.BlockStatement&&!this._flags.inline_frame||this._flags.mode===Y.Statement)&&(this._flags.last_token.text==="{"||this._flags.last_token.text===";")&&this.print_newline()}this._output.space_before_token=this._output.space_before_token||It,this.print_token(U),this._output.space_before_token=fn},ce.prototype.handle_block_comment=function(U,Ce){if(this._output.raw){this._output.add_raw_token(U),U.directives&&U.directives.preserve==="end"&&(this._output.raw=this._options.test_output_raw);return}if(U.directives){this.print_newline(!1,Ce),this.print_token(U),U.directives.preserve==="start"&&(this._output.raw=!0),this.print_newline(!1,!0);return}if(!N.newline.test(U.text)&&!U.newlines){this._output.space_before_token=!0,this.print_token(U),this._output.space_before_token=!0;return}else this.print_block_commment(U,Ce)},ce.prototype.print_block_commment=function(U,Ce){var J=ue(U.text),X,It=!1,fn=!1,St=U.whitespace_before,Xn=St.length;if(this.print_newline(!1,Ce),this.print_token_line_indentation(U),this._output.add_token(J[0]),this.print_newline(!1,Ce),J.length>1){for(J=J.slice(1),It=Le(J,"*"),fn=Ge(J,St),It&&(this._flags.alignment=1),X=0;X<J.length;X++)It?(this.print_token_line_indentation(U),this._output.add_token(jt(J[X]))):fn&&J[X]?(this.print_token_line_indentation(U),this._output.add_token(J[X].substring(Xn))):(this._output.current_line.set_indent(-1),this._output.add_token(J[X])),this.print_newline(!1,Ce);this._flags.alignment=0}},ce.prototype.handle_comment=function(U,Ce){U.newlines?this.print_newline(!1,Ce):this._output.trim(!0),this._output.space_before_token=!0,this.print_token(U),this.print_newline(!1,Ce)},ce.prototype.handle_dot=function(U){this.start_of_statement(U)||this.handle_whitespace_and_comments(U,!0),this._flags.last_token.text.match("^[0-9]+$")&&(this._output.space_before_token=!0),tt(this._flags.last_token,er)?this._output.space_before_token=!1:this.allow_wrap_or_preserved_newline(U,this._flags.last_token.text===")"&&this._options.break_chained_methods),this._options.unindent_chained_methods&&this._output.just_added_newline()&&this.deindent(),this.print_token(U)},ce.prototype.handle_unknown=function(U,Ce){this.print_token(U),U.text[U.text.length-1]===`
`&&this.print_newline(!1,Ce)},ce.prototype.handle_eof=function(U){for(;this._flags.mode===Y.Statement;)this.restore_mode();this.handle_whitespace_and_comments(U)},RF.Beautifier=ce,RF}var DL;function nG(){if(DL)return PD.exports;DL=1;var I=rG().Beautifier,T=QL().Options;function N(F,ee){var pe=new I(F,ee);return pe.beautify()}return PD.exports=N,PD.exports.defaultOptions=function(){return new T},PD.exports}var $D={exports:{}},VF={},UF={},ML;function t9(){if(ML)return UF;ML=1;var I=eI().Options;function T(N){I.call(this,N,"css"),this.selector_separator_newline=this._get_boolean("selector_separator_newline",!0),this.newline_between_rules=this._get_boolean("newline_between_rules",!0);var F=this._get_boolean("space_around_selector_separator");this.space_around_combinator=this._get_boolean("space_around_combinator")||F;var ee=this._get_selection_list("brace_style",["collapse","expand","end-expand","none","preserve-inline"]);this.brace_style="collapse";for(var pe=0;pe<ee.length;pe++)ee[pe]!=="expand"?this.brace_style="collapse":this.brace_style=ee[pe]}return T.prototype=new I,UF.Options=T,UF}var BL;function aG(){if(BL)return VF;BL=1;var I=t9().Options,T=QF().Output,N=tI().InputScanner,F=rI().Directives,ee=new F(/\/\*/,/\*\//),pe=/\r\n|[\r\n]/,He=/\r\n|[\r\n]/g,xe=/\s/,ye=/(?:\s|\n)+/g,jt=/\/\*(?:[\s\S]*?)((?:\*\/)|$)/g,Ye=/\/\/(?:[^\n\r\u2028\u2029]*)/g;function Ae(tt,er){this._source_text=tt||"",this._options=new I(er),this._ch=null,this._input=null,this.NESTED_AT_RULE={page:!0,"font-face":!0,keyframes:!0,media:!0,supports:!0,document:!0},this.CONDITIONAL_GROUP_RULE={media:!0,supports:!0,document:!0},this.NON_SEMICOLON_NEWLINE_PROPERTY=["grid-template-areas","grid-template"]}return Ae.prototype.eatString=function(tt){var er="";for(this._ch=this._input.next();this._ch;){if(er+=this._ch,this._ch==="\\")er+=this._input.next();else if(tt.indexOf(this._ch)!==-1||this._ch===`
`)break;this._ch=this._input.next()}return er},Ae.prototype.eatWhitespace=function(tt){for(var er=xe.test(this._input.peek()),Xe=0;xe.test(this._input.peek());)this._ch=this._input.next(),tt&&this._ch===`
`&&(Xe===0||Xe<this._options.max_preserve_newlines)&&(Xe++,this._output.add_new_line(!0));return er},Ae.prototype.foundNestedPseudoClass=function(){for(var tt=0,er=1,Xe=this._input.peek(er);Xe;){if(Xe==="{")return!0;if(Xe==="(")tt+=1;else if(Xe===")"){if(tt===0)return!1;tt-=1}else if(Xe===";"||Xe==="}")return!1;er++,Xe=this._input.peek(er)}return!1},Ae.prototype.print_string=function(tt){this._output.set_indent(this._indentLevel),this._output.non_breaking_space=!0,this._output.add_token(tt)},Ae.prototype.preserveSingleSpace=function(tt){tt&&(this._output.space_before_token=!0)},Ae.prototype.indent=function(){this._indentLevel++},Ae.prototype.outdent=function(){this._indentLevel>0&&this._indentLevel--},Ae.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var tt=this._source_text,er=this._options.eol;er==="auto"&&(er=`
`,tt&&pe.test(tt||"")&&(er=tt.match(pe)[0])),tt=tt.replace(He,`
`);var Xe=tt.match(/^[\t ]*/)[0];this._output=new T(this._options,Xe),this._input=new N(tt),this._indentLevel=0,this._nestedLevel=0,this._ch=null;for(var at=0,_e=!1,Y=!1,De=!1,ue=!1,Je=!1,ze=this._ch,Le=!1,Ge,ce,Ue;Ge=this._input.read(ye),ce=Ge!=="",Ue=ze,this._ch=this._input.next(),this._ch==="\\"&&this._input.hasNext()&&(this._ch+=this._input.next()),ze=this._ch,this._ch;)if(this._ch==="/"&&this._input.peek()==="*"){this._output.add_new_line(),this._input.back();var U=this._input.read(jt),Ce=ee.get_directives(U);Ce&&Ce.ignore==="start"&&(U+=ee.readIgnored(this._input)),this.print_string(U),this.eatWhitespace(!0),this._output.add_new_line()}else if(this._ch==="/"&&this._input.peek()==="/")this._output.space_before_token=!0,this._input.back(),this.print_string(this._input.read(Ye)),this.eatWhitespace(!0);else if(this._ch==="$"){this.preserveSingleSpace(ce),this.print_string(this._ch);var J=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);J.match(/[ :]$/)&&(J=this.eatString(": ").replace(/\s+$/,""),this.print_string(J),this._output.space_before_token=!0),at===0&&J.indexOf(":")!==-1&&(Y=!0,this.indent())}else if(this._ch==="@")if(this.preserveSingleSpace(ce),this._input.peek()==="{")this.print_string(this._ch+this.eatString("}"));else{this.print_string(this._ch);var X=this._input.peekUntilAfter(/[: ,;{}()[\]\/='"]/g);X.match(/[ :]$/)&&(X=this.eatString(": ").replace(/\s+$/,""),this.print_string(X),this._output.space_before_token=!0),at===0&&X.indexOf(":")!==-1?(Y=!0,this.indent()):X in this.NESTED_AT_RULE?(this._nestedLevel+=1,X in this.CONDITIONAL_GROUP_RULE&&(De=!0)):at===0&&!Y&&(ue=!0)}else if(this._ch==="#"&&this._input.peek()==="{")this.preserveSingleSpace(ce),this.print_string(this._ch+this.eatString("}"));else if(this._ch==="{")Y&&(Y=!1,this.outdent()),ue=!1,De?(De=!1,_e=this._indentLevel>=this._nestedLevel):_e=this._indentLevel>=this._nestedLevel-1,this._options.newline_between_rules&&_e&&this._output.previous_line&&this._output.previous_line.item(-1)!=="{"&&this._output.ensure_empty_line_above("/",","),this._output.space_before_token=!0,this._options.brace_style==="expand"?(this._output.add_new_line(),this.print_string(this._ch),this.indent(),this._output.set_indent(this._indentLevel)):(Ue==="("?this._output.space_before_token=!1:Ue!==","&&this.indent(),this.print_string(this._ch)),this.eatWhitespace(!0),this._output.add_new_line();else if(this._ch==="}")this.outdent(),this._output.add_new_line(),Ue==="{"&&this._output.trim(!0),Y&&(this.outdent(),Y=!1),this.print_string(this._ch),_e=!1,this._nestedLevel&&this._nestedLevel--,this.eatWhitespace(!0),this._output.add_new_line(),this._options.newline_between_rules&&!this._output.just_added_blankline()&&this._input.peek()!=="}"&&this._output.add_new_line(!0),this._input.peek()===")"&&(this._output.trim(!0),this._options.brace_style==="expand"&&this._output.add_new_line(!0));else if(this._ch===":"){for(var It=0;It<this.NON_SEMICOLON_NEWLINE_PROPERTY.length;It++)if(this._input.lookBack(this.NON_SEMICOLON_NEWLINE_PROPERTY[It])){Le=!0;break}(_e||De)&&!(this._input.lookBack("&")||this.foundNestedPseudoClass())&&!this._input.lookBack("(")&&!ue&&at===0?(this.print_string(":"),Y||(Y=!0,this._output.space_before_token=!0,this.eatWhitespace(!0),this.indent())):(this._input.lookBack(" ")&&(this._output.space_before_token=!0),this._input.peek()===":"?(this._ch=this._input.next(),this.print_string("::")):this.print_string(":"))}else if(this._ch==='"'||this._ch==="'"){var fn=Ue==='"'||Ue==="'";this.preserveSingleSpace(fn||ce),this.print_string(this._ch+this.eatString(this._ch)),this.eatWhitespace(!0)}else if(this._ch===";")Le=!1,at===0?(Y&&(this.outdent(),Y=!1),ue=!1,this.print_string(this._ch),this.eatWhitespace(!0),this._input.peek()!=="/"&&this._output.add_new_line()):(this.print_string(this._ch),this.eatWhitespace(!0),this._output.space_before_token=!0);else if(this._ch==="(")if(this._input.lookBack("url"))this.print_string(this._ch),this.eatWhitespace(),at++,this.indent(),this._ch=this._input.next(),this._ch===")"||this._ch==='"'||this._ch==="'"?this._input.back():this._ch&&(this.print_string(this._ch+this.eatString(")")),at&&(at--,this.outdent()));else{var St=!1;this._input.lookBack("with")&&(St=!0),this.preserveSingleSpace(ce||St),this.print_string(this._ch),Y&&Ue==="$"&&this._options.selector_separator_newline?(this._output.add_new_line(),Je=!0):(this.eatWhitespace(),at++,this.indent())}else if(this._ch===")")at&&(at--,this.outdent()),Je&&this._input.peek()===";"&&this._options.selector_separator_newline&&(Je=!1,this.outdent(),this._output.add_new_line()),this.print_string(this._ch);else if(this._ch===",")this.print_string(this._ch),this.eatWhitespace(!0),this._options.selector_separator_newline&&(!Y||Je)&&at===0&&!ue?this._output.add_new_line():this._output.space_before_token=!0;else if((this._ch===">"||this._ch==="+"||this._ch==="~")&&!Y&&at===0)this._options.space_around_combinator?(this._output.space_before_token=!0,this.print_string(this._ch),this._output.space_before_token=!0):(this.print_string(this._ch),this.eatWhitespace(),this._ch&&xe.test(this._ch)&&(this._ch=""));else if(this._ch==="]")this.print_string(this._ch);else if(this._ch==="[")this.preserveSingleSpace(ce),this.print_string(this._ch);else if(this._ch==="=")this.eatWhitespace(),this.print_string("="),xe.test(this._ch)&&(this._ch="");else if(this._ch==="!"&&!this._input.lookBack("\\"))this._output.space_before_token=!0,this.print_string(this._ch);else{var Xn=Ue==='"'||Ue==="'";this.preserveSingleSpace(Xn||ce),this.print_string(this._ch),!this._output.just_added_newline()&&this._input.peek()===`
`&&Le&&this._output.add_new_line()}var mn=this._output.get_code(er);return mn},VF.Beautifier=Ae,VF}var NL;function oG(){if(NL)return $D.exports;NL=1;var I=aG().Beautifier,T=t9().Options;function N(F,ee){var pe=new I(F,ee);return pe.beautify()}return $D.exports=N,$D.exports.defaultOptions=function(){return new T},$D.exports}var LD={exports:{}},jF={},WF={},PL;function r9(){if(PL)return WF;PL=1;var I=eI().Options;function T(N){I.call(this,N,"html"),this.templating.length===1&&this.templating[0]==="auto"&&(this.templating=["django","erb","handlebars","php"]),this.indent_inner_html=this._get_boolean("indent_inner_html"),this.indent_body_inner_html=this._get_boolean("indent_body_inner_html",!0),this.indent_head_inner_html=this._get_boolean("indent_head_inner_html",!0),this.indent_handlebars=this._get_boolean("indent_handlebars",!0),this.wrap_attributes=this._get_selection("wrap_attributes",["auto","force","force-aligned","force-expand-multiline","aligned-multiple","preserve","preserve-aligned"]),this.wrap_attributes_min_attrs=this._get_number("wrap_attributes_min_attrs",2),this.wrap_attributes_indent_size=this._get_number("wrap_attributes_indent_size",this.indent_size),this.extra_liners=this._get_array("extra_liners",["head","body","/html"]),this.inline=this._get_array("inline",["a","abbr","area","audio","b","bdi","bdo","br","button","canvas","cite","code","data","datalist","del","dfn","em","embed","i","iframe","img","input","ins","kbd","keygen","label","map","mark","math","meter","noscript","object","output","progress","q","ruby","s","samp","select","small","span","strong","sub","sup","svg","template","textarea","time","u","var","video","wbr","text","acronym","big","strike","tt"]),this.inline_custom_elements=this._get_boolean("inline_custom_elements",!0),this.void_elements=this._get_array("void_elements",["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr","!doctype","?xml","basefont","isindex"]),this.unformatted=this._get_array("unformatted",[]),this.content_unformatted=this._get_array("content_unformatted",["pre","textarea"]),this.unformatted_content_delimiter=this._get_characters("unformatted_content_delimiter"),this.indent_scripts=this._get_selection("indent_scripts",["normal","keep","separate"])}return T.prototype=new I,WF.Options=T,WF}var HD={},FL;function IL(){if(FL)return HD;FL=1;var I=UD().Tokenizer,T=UD().TOKEN,N=rI().Directives,F=e9().TemplatablePattern,ee=GD().Pattern,pe={TAG_OPEN:"TK_TAG_OPEN",TAG_CLOSE:"TK_TAG_CLOSE",CONTROL_FLOW_OPEN:"TK_CONTROL_FLOW_OPEN",CONTROL_FLOW_CLOSE:"TK_CONTROL_FLOW_CLOSE",ATTRIBUTE:"TK_ATTRIBUTE",EQUALS:"TK_EQUALS",VALUE:"TK_VALUE",COMMENT:"TK_COMMENT",TEXT:"TK_TEXT",UNKNOWN:"TK_UNKNOWN",START:T.START,RAW:T.RAW,EOF:T.EOF},He=new N(/<\!--/,/-->/),xe=function(ye,jt){I.call(this,ye,jt),this._current_tag_name="";var Ye=new F(this._input).read_options(this._options),Ae=new ee(this._input);if(this.__patterns={word:Ye.until(/[\n\r\t <]/),word_control_flow_close_excluded:Ye.until(/[\n\r\t <}]/),single_quote:Ye.until_after(/'/),double_quote:Ye.until_after(/"/),attribute:Ye.until(/[\n\r\t =>]|\/>/),element_name:Ye.until(/[\n\r\t >\/]/),angular_control_flow_start:Ae.matching(/\@[a-zA-Z]+[^({]*[({]/),handlebars_comment:Ae.starting_with(/{{!--/).until_after(/--}}/),handlebars:Ae.starting_with(/{{/).until_after(/}}/),handlebars_open:Ae.until(/[\n\r\t }]/),handlebars_raw_close:Ae.until(/}}/),comment:Ae.starting_with(/<!--/).until_after(/-->/),cdata:Ae.starting_with(/<!\[CDATA\[/).until_after(/]]>/),conditional_comment:Ae.starting_with(/<!\[/).until_after(/]>/),processing:Ae.starting_with(/<\?/).until_after(/\?>/)},this._options.indent_handlebars&&(this.__patterns.word=this.__patterns.word.exclude("handlebars"),this.__patterns.word_control_flow_close_excluded=this.__patterns.word_control_flow_close_excluded.exclude("handlebars")),this._unformatted_content_delimiter=null,this._options.unformatted_content_delimiter){var tt=this._input.get_literal_regexp(this._options.unformatted_content_delimiter);this.__patterns.unformatted_content_delimiter=Ae.matching(tt).until_after(tt)}};return xe.prototype=new I,xe.prototype._is_comment=function(ye){return!1},xe.prototype._is_opening=function(ye){return ye.type===pe.TAG_OPEN||ye.type===pe.CONTROL_FLOW_OPEN},xe.prototype._is_closing=function(ye,jt){return ye.type===pe.TAG_CLOSE&&jt&&((ye.text===">"||ye.text==="/>")&&jt.text[0]==="<"||ye.text==="}}"&&jt.text[0]==="{"&&jt.text[1]==="{")||ye.type===pe.CONTROL_FLOW_CLOSE&&ye.text==="}"&&jt.text.endsWith("{")},xe.prototype._reset=function(){this._current_tag_name=""},xe.prototype._get_next_token=function(ye,jt){var Ye=null;this._readWhitespace();var Ae=this._input.peek();return Ae===null?this._create_token(pe.EOF,""):(Ye=Ye||this._read_open_handlebars(Ae,jt),Ye=Ye||this._read_attribute(Ae,ye,jt),Ye=Ye||this._read_close(Ae,jt),Ye=Ye||this._read_control_flows(Ae,jt),Ye=Ye||this._read_raw_content(Ae,ye,jt),Ye=Ye||this._read_content_word(Ae,jt),Ye=Ye||this._read_comment_or_cdata(Ae),Ye=Ye||this._read_processing(Ae),Ye=Ye||this._read_open(Ae,jt),Ye=Ye||this._create_token(pe.UNKNOWN,this._input.next()),Ye)},xe.prototype._read_comment_or_cdata=function(ye){var jt=null,Ye=null,Ae=null;if(ye==="<"){var tt=this._input.peek(1);tt==="!"&&(Ye=this.__patterns.comment.read(),Ye?(Ae=He.get_directives(Ye),Ae&&Ae.ignore==="start"&&(Ye+=He.readIgnored(this._input))):Ye=this.__patterns.cdata.read()),Ye&&(jt=this._create_token(pe.COMMENT,Ye),jt.directives=Ae)}return jt},xe.prototype._read_processing=function(ye){var jt=null,Ye=null,Ae=null;if(ye==="<"){var tt=this._input.peek(1);(tt==="!"||tt==="?")&&(Ye=this.__patterns.conditional_comment.read(),Ye=Ye||this.__patterns.processing.read()),Ye&&(jt=this._create_token(pe.COMMENT,Ye),jt.directives=Ae)}return jt},xe.prototype._read_open=function(ye,jt){var Ye=null,Ae=null;return(!jt||jt.type===pe.CONTROL_FLOW_OPEN)&&ye==="<"&&(Ye=this._input.next(),this._input.peek()==="/"&&(Ye+=this._input.next()),Ye+=this.__patterns.element_name.read(),Ae=this._create_token(pe.TAG_OPEN,Ye)),Ae},xe.prototype._read_open_handlebars=function(ye,jt){var Ye=null,Ae=null;return(!jt||jt.type===pe.CONTROL_FLOW_OPEN)&&this._options.indent_handlebars&&ye==="{"&&this._input.peek(1)==="{"&&(this._input.peek(2)==="!"?(Ye=this.__patterns.handlebars_comment.read(),Ye=Ye||this.__patterns.handlebars.read(),Ae=this._create_token(pe.COMMENT,Ye)):(Ye=this.__patterns.handlebars_open.read(),Ae=this._create_token(pe.TAG_OPEN,Ye))),Ae},xe.prototype._read_control_flows=function(ye,jt){var Ye="",Ae=null;if(!this._options.templating.includes("angular")||!this._options.indent_handlebars)return Ae;if(ye==="@"){if(Ye=this.__patterns.angular_control_flow_start.read(),Ye==="")return Ae;for(var tt=Ye.endsWith("(")?1:0,er=0;!(Ye.endsWith("{")&&tt===er);){var Xe=this._input.next();if(Xe===null)break;Xe==="("?tt++:Xe===")"&&er++,Ye+=Xe}Ae=this._create_token(pe.CONTROL_FLOW_OPEN,Ye)}else ye==="}"&&jt&&jt.type===pe.CONTROL_FLOW_OPEN&&(Ye=this._input.next(),Ae=this._create_token(pe.CONTROL_FLOW_CLOSE,Ye));return Ae},xe.prototype._read_close=function(ye,jt){var Ye=null,Ae=null;return jt&&jt.type===pe.TAG_OPEN&&(jt.text[0]==="<"&&(ye===">"||ye==="/"&&this._input.peek(1)===">")?(Ye=this._input.next(),ye==="/"&&(Ye+=this._input.next()),Ae=this._create_token(pe.TAG_CLOSE,Ye)):jt.text[0]==="{"&&ye==="}"&&this._input.peek(1)==="}"&&(this._input.next(),this._input.next(),Ae=this._create_token(pe.TAG_CLOSE,"}}"))),Ae},xe.prototype._read_attribute=function(ye,jt,Ye){var Ae=null,tt="";if(Ye&&Ye.text[0]==="<")if(ye==="=")Ae=this._create_token(pe.EQUALS,this._input.next());else if(ye==='"'||ye==="'"){var er=this._input.next();ye==='"'?er+=this.__patterns.double_quote.read():er+=this.__patterns.single_quote.read(),Ae=this._create_token(pe.VALUE,er)}else tt=this.__patterns.attribute.read(),tt&&(jt.type===pe.EQUALS?Ae=this._create_token(pe.VALUE,tt):Ae=this._create_token(pe.ATTRIBUTE,tt));return Ae},xe.prototype._is_content_unformatted=function(ye){return this._options.void_elements.indexOf(ye)===-1&&(this._options.content_unformatted.indexOf(ye)!==-1||this._options.unformatted.indexOf(ye)!==-1)},xe.prototype._read_raw_content=function(ye,jt,Ye){var Ae="";if(Ye&&Ye.text[0]==="{")Ae=this.__patterns.handlebars_raw_close.read();else if(jt.type===pe.TAG_CLOSE&&jt.opened.text[0]==="<"&&jt.text[0]!=="/"){var tt=jt.opened.text.substr(1).toLowerCase();if(tt==="script"||tt==="style"){var er=this._read_comment_or_cdata(ye);if(er)return er.type=pe.TEXT,er;Ae=this._input.readUntil(new RegExp("</"+tt+"[\\n\\r\\t ]*?>","ig"))}else this._is_content_unformatted(tt)&&(Ae=this._input.readUntil(new RegExp("</"+tt+"[\\n\\r\\t ]*?>","ig")))}return Ae?this._create_token(pe.TEXT,Ae):null},xe.prototype._read_content_word=function(ye,jt){var Ye="";if(this._options.unformatted_content_delimiter&&ye===this._options.unformatted_content_delimiter[0]&&(Ye=this.__patterns.unformatted_content_delimiter.read()),Ye||(Ye=jt&&jt.type===pe.CONTROL_FLOW_OPEN?this.__patterns.word_control_flow_close_excluded.read():this.__patterns.word.read()),Ye)return this._create_token(pe.TEXT,Ye)},HD.Tokenizer=xe,HD.TOKEN=pe,HD}var $L;function iG(){if($L)return jF;$L=1;var I=r9().Options,T=QF().Output,N=IL().Tokenizer,F=IL().TOKEN,ee=/\r\n|[\r\n]/,pe=/\r\n|[\r\n]/g,He=function(_e,Y){this.indent_level=0,this.alignment_size=0,this.max_preserve_newlines=_e.max_preserve_newlines,this.preserve_newlines=_e.preserve_newlines,this._output=new T(_e,Y)};He.prototype.current_line_has_match=function(_e){return this._output.current_line.has_match(_e)},He.prototype.set_space_before_token=function(_e,Y){this._output.space_before_token=_e,this._output.non_breaking_space=Y},He.prototype.set_wrap_point=function(){this._output.set_indent(this.indent_level,this.alignment_size),this._output.set_wrap_point()},He.prototype.add_raw_token=function(_e){this._output.add_raw_token(_e)},He.prototype.print_preserved_newlines=function(_e){var Y=0;_e.type!==F.TEXT&&_e.previous.type!==F.TEXT&&(Y=_e.newlines?1:0),this.preserve_newlines&&(Y=_e.newlines<this.max_preserve_newlines+1?_e.newlines:this.max_preserve_newlines+1);for(var De=0;De<Y;De++)this.print_newline(De>0);return Y!==0},He.prototype.traverse_whitespace=function(_e){return _e.whitespace_before||_e.newlines?(this.print_preserved_newlines(_e)||(this._output.space_before_token=!0),!0):!1},He.prototype.previous_token_wrapped=function(){return this._output.previous_token_wrapped},He.prototype.print_newline=function(_e){this._output.add_new_line(_e)},He.prototype.print_token=function(_e){_e.text&&(this._output.set_indent(this.indent_level,this.alignment_size),this._output.add_token(_e.text))},He.prototype.indent=function(){this.indent_level++},He.prototype.deindent=function(){this.indent_level>0&&(this.indent_level--,this._output.set_indent(this.indent_level,this.alignment_size))},He.prototype.get_full_indent=function(_e){return _e=this.indent_level+(_e||0),_e<1?"":this._output.get_indent_string(_e)};var xe=function(_e){for(var Y=null,De=_e.next;De.type!==F.EOF&&_e.closed!==De;){if(De.type===F.ATTRIBUTE&&De.text==="type"){De.next&&De.next.type===F.EQUALS&&De.next.next&&De.next.next.type===F.VALUE&&(Y=De.next.next.text);break}De=De.next}return Y},ye=function(_e,Y){var De=null,ue=null;return Y.closed?(_e==="script"?De="text/javascript":_e==="style"&&(De="text/css"),De=xe(Y)||De,De.search("text/css")>-1?ue="css":De.search(/module|((text|application|dojo)\/(x-)?(javascript|ecmascript|jscript|livescript|(ld\+)?json|method|aspect))/)>-1?ue="javascript":De.search(/(text|application|dojo)\/(x-)?(html)/)>-1?ue="html":De.search(/test\/null/)>-1&&(ue="null"),ue):null};function jt(_e,Y){return Y.indexOf(_e)!==-1}function Ye(_e,Y,De){this.parent=_e||null,this.tag=Y?Y.tag_name:"",this.indent_level=De||0,this.parser_token=Y||null}function Ae(_e){this._printer=_e,this._current_frame=null}Ae.prototype.get_parser_token=function(){return this._current_frame?this._current_frame.parser_token:null},Ae.prototype.record_tag=function(_e){var Y=new Ye(this._current_frame,_e,this._printer.indent_level);this._current_frame=Y},Ae.prototype._try_pop_frame=function(_e){var Y=null;return _e&&(Y=_e.parser_token,this._printer.indent_level=_e.indent_level,this._current_frame=_e.parent),Y},Ae.prototype._get_frame=function(_e,Y){for(var De=this._current_frame;De&&_e.indexOf(De.tag)===-1;){if(Y&&Y.indexOf(De.tag)!==-1){De=null;break}De=De.parent}return De},Ae.prototype.try_pop=function(_e,Y){var De=this._get_frame([_e],Y);return this._try_pop_frame(De)},Ae.prototype.indent_to_tag=function(_e){var Y=this._get_frame(_e);Y&&(this._printer.indent_level=Y.indent_level)};function tt(_e,Y,De,ue){this._source_text=_e||"",Y=Y||{},this._js_beautify=De,this._css_beautify=ue,this._tag_stack=null;var Je=new I(Y,"html");this._options=Je,this._is_wrap_attributes_force=this._options.wrap_attributes.substr(0,5)==="force",this._is_wrap_attributes_force_expand_multiline=this._options.wrap_attributes==="force-expand-multiline",this._is_wrap_attributes_force_aligned=this._options.wrap_attributes==="force-aligned",this._is_wrap_attributes_aligned_multiple=this._options.wrap_attributes==="aligned-multiple",this._is_wrap_attributes_preserve=this._options.wrap_attributes.substr(0,8)==="preserve",this._is_wrap_attributes_preserve_aligned=this._options.wrap_attributes==="preserve-aligned"}tt.prototype.beautify=function(){if(this._options.disabled)return this._source_text;var _e=this._source_text,Y=this._options.eol;this._options.eol==="auto"&&(Y=`
`,_e&&ee.test(_e)&&(Y=_e.match(ee)[0])),_e=_e.replace(pe,`
`);var De=_e.match(/^[\t ]*/)[0],ue={text:"",type:""},Je=new er,ze=new He(this._options,De),Le=new N(_e,this._options).tokenize();this._tag_stack=new Ae(ze);for(var Ge=null,ce=Le.next();ce.type!==F.EOF;)ce.type===F.TAG_OPEN||ce.type===F.COMMENT?(Ge=this._handle_tag_open(ze,ce,Je,ue,Le),Je=Ge):ce.type===F.ATTRIBUTE||ce.type===F.EQUALS||ce.type===F.VALUE||ce.type===F.TEXT&&!Je.tag_complete?Ge=this._handle_inside_tag(ze,ce,Je,ue):ce.type===F.TAG_CLOSE?Ge=this._handle_tag_close(ze,ce,Je):ce.type===F.TEXT?Ge=this._handle_text(ze,ce,Je):ce.type===F.CONTROL_FLOW_OPEN?Ge=this._handle_control_flow_open(ze,ce):ce.type===F.CONTROL_FLOW_CLOSE?Ge=this._handle_control_flow_close(ze,ce):ze.add_raw_token(ce),ue=Ge,ce=Le.next();var Ue=ze._output.get_code(Y);return Ue},tt.prototype._handle_control_flow_open=function(_e,Y){var De={text:Y.text,type:Y.type};return _e.set_space_before_token(Y.newlines||Y.whitespace_before!=="",!0),Y.newlines?_e.print_preserved_newlines(Y):_e.set_space_before_token(Y.newlines||Y.whitespace_before!=="",!0),_e.print_token(Y),_e.indent(),De},tt.prototype._handle_control_flow_close=function(_e,Y){var De={text:Y.text,type:Y.type};return _e.deindent(),Y.newlines?_e.print_preserved_newlines(Y):_e.set_space_before_token(Y.newlines||Y.whitespace_before!=="",!0),_e.print_token(Y),De},tt.prototype._handle_tag_close=function(_e,Y,De){var ue={text:Y.text,type:Y.type};return _e.alignment_size=0,De.tag_complete=!0,_e.set_space_before_token(Y.newlines||Y.whitespace_before!=="",!0),De.is_unformatted?_e.add_raw_token(Y):(De.tag_start_char==="<"&&(_e.set_space_before_token(Y.text[0]==="/",!0),this._is_wrap_attributes_force_expand_multiline&&De.has_wrapped_attrs&&_e.print_newline(!1)),_e.print_token(Y)),De.indent_content&&!(De.is_unformatted||De.is_content_unformatted)&&(_e.indent(),De.indent_content=!1),!De.is_inline_element&&!(De.is_unformatted||De.is_content_unformatted)&&_e.set_wrap_point(),ue},tt.prototype._handle_inside_tag=function(_e,Y,De,ue){var Je=De.has_wrapped_attrs,ze={text:Y.text,type:Y.type};return _e.set_space_before_token(Y.newlines||Y.whitespace_before!=="",!0),De.is_unformatted?_e.add_raw_token(Y):De.tag_start_char==="{"&&Y.type===F.TEXT?_e.print_preserved_newlines(Y)?(Y.newlines=0,_e.add_raw_token(Y)):_e.print_token(Y):(Y.type===F.ATTRIBUTE?_e.set_space_before_token(!0):(Y.type===F.EQUALS||Y.type===F.VALUE&&Y.previous.type===F.EQUALS)&&_e.set_space_before_token(!1),Y.type===F.ATTRIBUTE&&De.tag_start_char==="<"&&((this._is_wrap_attributes_preserve||this._is_wrap_attributes_preserve_aligned)&&(_e.traverse_whitespace(Y),Je=Je||Y.newlines!==0),this._is_wrap_attributes_force&&De.attr_count>=this._options.wrap_attributes_min_attrs&&(ue.type!==F.TAG_OPEN||this._is_wrap_attributes_force_expand_multiline)&&(_e.print_newline(!1),Je=!0)),_e.print_token(Y),Je=Je||_e.previous_token_wrapped(),De.has_wrapped_attrs=Je),ze},tt.prototype._handle_text=function(_e,Y,De){var ue={text:Y.text,type:"TK_CONTENT"};return De.custom_beautifier_name?this._print_custom_beatifier_text(_e,Y,De):De.is_unformatted||De.is_content_unformatted?_e.add_raw_token(Y):(_e.traverse_whitespace(Y),_e.print_token(Y)),ue},tt.prototype._print_custom_beatifier_text=function(_e,Y,De){var ue=this;if(Y.text!==""){var Je=Y.text,ze,Le=1,Ge="",ce="";De.custom_beautifier_name==="javascript"&&typeof this._js_beautify=="function"?ze=this._js_beautify:De.custom_beautifier_name==="css"&&typeof this._css_beautify=="function"?ze=this._css_beautify:De.custom_beautifier_name==="html"&&(ze=function(It,fn){var St=new tt(It,fn,ue._js_beautify,ue._css_beautify);return St.beautify()}),this._options.indent_scripts==="keep"?Le=0:this._options.indent_scripts==="separate"&&(Le=-_e.indent_level);var Ue=_e.get_full_indent(Le);if(Je=Je.replace(/\n[ \t]*$/,""),De.custom_beautifier_name!=="html"&&Je[0]==="<"&&Je.match(/^(<!--|<!\[CDATA\[)/)){var U=/^(<!--[^\n]*|<!\[CDATA\[)(\n?)([ \t\n]*)([\s\S]*)(-->|]]>)$/.exec(Je);if(!U){_e.add_raw_token(Y);return}Ge=Ue+U[1]+`
`,Je=U[4],U[5]&&(ce=Ue+U[5]),Je=Je.replace(/\n[ \t]*$/,""),(U[2]||U[3].indexOf(`
`)!==-1)&&(U=U[3].match(/[ \t]+$/),U&&(Y.whitespace_before=U[0]))}if(Je)if(ze){var Ce=function(){this.eol=`
`};Ce.prototype=this._options.raw_options;var J=new Ce;Je=ze(Ue+Je,J)}else{var X=Y.whitespace_before;X&&(Je=Je.replace(new RegExp(`
(`+X+")?","g"),`
`)),Je=Ue+Je.replace(/\n/g,`
`+Ue)}Ge&&(Je?Je=Ge+Je+`
`+ce:Je=Ge+ce),_e.print_newline(!1),Je&&(Y.text=Je,Y.whitespace_before="",Y.newlines=0,_e.add_raw_token(Y),_e.print_newline(!0))}},tt.prototype._handle_tag_open=function(_e,Y,De,ue,Je){var ze=this._get_tag_open_token(Y);if((De.is_unformatted||De.is_content_unformatted)&&!De.is_empty_element&&Y.type===F.TAG_OPEN&&!ze.is_start_tag?(_e.add_raw_token(Y),ze.start_tag_token=this._tag_stack.try_pop(ze.tag_name)):(_e.traverse_whitespace(Y),this._set_tag_position(_e,Y,ze,De,ue),ze.is_inline_element||_e.set_wrap_point(),_e.print_token(Y)),ze.is_start_tag&&this._is_wrap_attributes_force){var Le=0,Ge;do Ge=Je.peek(Le),Ge.type===F.ATTRIBUTE&&(ze.attr_count+=1),Le+=1;while(Ge.type!==F.EOF&&Ge.type!==F.TAG_CLOSE)}return(this._is_wrap_attributes_force_aligned||this._is_wrap_attributes_aligned_multiple||this._is_wrap_attributes_preserve_aligned)&&(ze.alignment_size=Y.text.length+1),!ze.tag_complete&&!ze.is_unformatted&&(_e.alignment_size=ze.alignment_size),ze};var er=function(_e,Y){if(this.parent=_e||null,this.text="",this.type="TK_TAG_OPEN",this.tag_name="",this.is_inline_element=!1,this.is_unformatted=!1,this.is_content_unformatted=!1,this.is_empty_element=!1,this.is_start_tag=!1,this.is_end_tag=!1,this.indent_content=!1,this.multiline_content=!1,this.custom_beautifier_name=null,this.start_tag_token=null,this.attr_count=0,this.has_wrapped_attrs=!1,this.alignment_size=0,this.tag_complete=!1,this.tag_start_char="",this.tag_check="",!Y)this.tag_complete=!0;else{var De;this.tag_start_char=Y.text[0],this.text=Y.text,this.tag_start_char==="<"?(De=Y.text.match(/^<([^\s>]*)/),this.tag_check=De?De[1]:""):(De=Y.text.match(/^{{~?(?:[\^]|#\*?)?([^\s}]+)/),this.tag_check=De?De[1]:"",(Y.text.startsWith("{{#>")||Y.text.startsWith("{{~#>"))&&this.tag_check[0]===">"&&(this.tag_check===">"&&Y.next!==null?this.tag_check=Y.next.text.split(" ")[0]:this.tag_check=Y.text.split(">")[1])),this.tag_check=this.tag_check.toLowerCase(),Y.type===F.COMMENT&&(this.tag_complete=!0),this.is_start_tag=this.tag_check.charAt(0)!=="/",this.tag_name=this.is_start_tag?this.tag_check:this.tag_check.substr(1),this.is_end_tag=!this.is_start_tag||Y.closed&&Y.closed.text==="/>";var ue=2;this.tag_start_char==="{"&&this.text.length>=3&&this.text.charAt(2)==="~"&&(ue=3),this.is_end_tag=this.is_end_tag||this.tag_start_char==="{"&&(this.text.length<3||/[^#\^]/.test(this.text.charAt(ue)))}};tt.prototype._get_tag_open_token=function(_e){var Y=new er(this._tag_stack.get_parser_token(),_e);return Y.alignment_size=this._options.wrap_attributes_indent_size,Y.is_end_tag=Y.is_end_tag||jt(Y.tag_check,this._options.void_elements),Y.is_empty_element=Y.tag_complete||Y.is_start_tag&&Y.is_end_tag,Y.is_unformatted=!Y.tag_complete&&jt(Y.tag_check,this._options.unformatted),Y.is_content_unformatted=!Y.is_empty_element&&jt(Y.tag_check,this._options.content_unformatted),Y.is_inline_element=jt(Y.tag_name,this._options.inline)||this._options.inline_custom_elements&&Y.tag_name.includes("-")||Y.tag_start_char==="{",Y},tt.prototype._set_tag_position=function(_e,Y,De,ue,Je){if(De.is_empty_element||(De.is_end_tag?De.start_tag_token=this._tag_stack.try_pop(De.tag_name):(this._do_optional_end_element(De)&&(De.is_inline_element||_e.print_newline(!1)),this._tag_stack.record_tag(De),(De.tag_name==="script"||De.tag_name==="style")&&!(De.is_unformatted||De.is_content_unformatted)&&(De.custom_beautifier_name=ye(De.tag_check,Y)))),jt(De.tag_check,this._options.extra_liners)&&(_e.print_newline(!1),_e._output.just_added_blankline()||_e.print_newline(!0)),De.is_empty_element){if(De.tag_start_char==="{"&&De.tag_check==="else"){this._tag_stack.indent_to_tag(["if","unless","each"]),De.indent_content=!0;var ze=_e.current_line_has_match(/{{#if/);ze||_e.print_newline(!1)}De.tag_name==="!--"&&Je.type===F.TAG_CLOSE&&ue.is_end_tag&&De.text.indexOf(`
`)===-1||(De.is_inline_element||De.is_unformatted||_e.print_newline(!1),this._calcluate_parent_multiline(_e,De))}else if(De.is_end_tag){var Le=!1;Le=De.start_tag_token&&De.start_tag_token.multiline_content,Le=Le||!De.is_inline_element&&!(ue.is_inline_element||ue.is_unformatted)&&!(Je.type===F.TAG_CLOSE&&De.start_tag_token===ue)&&Je.type!=="TK_CONTENT",(De.is_content_unformatted||De.is_unformatted)&&(Le=!1),Le&&_e.print_newline(!1)}else De.indent_content=!De.custom_beautifier_name,De.tag_start_char==="<"&&(De.tag_name==="html"?De.indent_content=this._options.indent_inner_html:De.tag_name==="head"?De.indent_content=this._options.indent_head_inner_html:De.tag_name==="body"&&(De.indent_content=this._options.indent_body_inner_html)),!(De.is_inline_element||De.is_unformatted)&&(Je.type!=="TK_CONTENT"||De.is_content_unformatted)&&_e.print_newline(!1),this._calcluate_parent_multiline(_e,De)},tt.prototype._calcluate_parent_multiline=function(_e,Y){Y.parent&&_e._output.just_added_newline()&&!((Y.is_inline_element||Y.is_unformatted)&&Y.parent.is_inline_element)&&(Y.parent.multiline_content=!0)};var Xe=["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hr","main","menu","nav","ol","p","pre","section","table","ul"],at=["a","audio","del","ins","map","noscript","video"];return tt.prototype._do_optional_end_element=function(_e){var Y=null;if(!(_e.is_empty_element||!_e.is_start_tag||!_e.parent)){if(_e.tag_name==="body")Y=Y||this._tag_stack.try_pop("head");else if(_e.tag_name==="li")Y=Y||this._tag_stack.try_pop("li",["ol","ul","menu"]);else if(_e.tag_name==="dd"||_e.tag_name==="dt")Y=Y||this._tag_stack.try_pop("dt",["dl"]),Y=Y||this._tag_stack.try_pop("dd",["dl"]);else if(_e.parent.tag_name==="p"&&Xe.indexOf(_e.tag_name)!==-1){var De=_e.parent.parent;(!De||at.indexOf(De.tag_name)===-1)&&(Y=Y||this._tag_stack.try_pop("p"))}else _e.tag_name==="rp"||_e.tag_name==="rt"?(Y=Y||this._tag_stack.try_pop("rt",["ruby","rtc"]),Y=Y||this._tag_stack.try_pop("rp",["ruby","rtc"])):_e.tag_name==="optgroup"?Y=Y||this._tag_stack.try_pop("optgroup",["select"]):_e.tag_name==="option"?Y=Y||this._tag_stack.try_pop("option",["select","datalist","optgroup"]):_e.tag_name==="colgroup"?Y=Y||this._tag_stack.try_pop("caption",["table"]):_e.tag_name==="thead"?(Y=Y||this._tag_stack.try_pop("caption",["table"]),Y=Y||this._tag_stack.try_pop("colgroup",["table"])):_e.tag_name==="tbody"||_e.tag_name==="tfoot"?(Y=Y||this._tag_stack.try_pop("caption",["table"]),Y=Y||this._tag_stack.try_pop("colgroup",["table"]),Y=Y||this._tag_stack.try_pop("thead",["table"]),Y=Y||this._tag_stack.try_pop("tbody",["table"])):_e.tag_name==="tr"?(Y=Y||this._tag_stack.try_pop("caption",["table"]),Y=Y||this._tag_stack.try_pop("colgroup",["table"]),Y=Y||this._tag_stack.try_pop("tr",["table","thead","tbody","tfoot"])):(_e.tag_name==="th"||_e.tag_name==="td")&&(Y=Y||this._tag_stack.try_pop("td",["table","thead","tbody","tfoot","tr"]),Y=Y||this._tag_stack.try_pop("th",["table","thead","tbody","tfoot","tr"]));return _e.parent=this._tag_stack.get_parser_token(),Y}},jF.Beautifier=tt,jF}var LL;function uG(){if(LL)return LD.exports;LL=1;var I=iG().Beautifier,T=r9().Options;function N(F,ee,pe,He){var xe=new I(F,ee,pe,He);return xe.beautify()}return LD.exports=N,LD.exports.defaultOptions=function(){return new T},LD.exports}var HL;function sG(){if(HL)return kz;HL=1;var I=nG(),T=oG(),N=uG();function F(ee,pe,He,xe){return He=He||I,xe=xe||T,N(ee,pe,He,xe)}return F.defaultOptions=N.defaultOptions,kz.js=I,kz.css=T,kz.html=F,kz}(function(I){function T(N,F,ee){var pe=function(He,xe){return N.js_beautify(He,xe)};return pe.js=N.js_beautify,pe.css=F.css_beautify,pe.html=ee.html_beautify,pe.js_beautify=N.js_beautify,pe.css_beautify=F.css_beautify,pe.html_beautify=ee.html_beautify,pe}(function(N){var F=sG();F.js_beautify=F.js,F.css_beautify=F.css,F.html_beautify=F.html,N.exports=T(F,F,F)})(I)})(YL);var cG=YL.exports;function lG(I){for(var T=1;T<arguments.length;T++){var N=arguments[T];for(var F in N)N.hasOwnProperty(F)&&(I[F]=N[F])}return I}function ZF(I,T){return Array(T+1).join(I)}function fG(I){return I.replace(/^\n*/,"")}function dG(I){for(var T=I.length;T>0&&I[T-1]===`
`;)T--;return I.substring(0,T)}var vG=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function nI(I){return aI(I,vG)}var n9=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function a9(I){return aI(I,n9)}function mG(I){return i9(I,n9)}var o9=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function hG(I){return aI(I,o9)}function pG(I){return i9(I,o9)}function aI(I,T){return T.indexOf(I.nodeName)>=0}function i9(I,T){return I.getElementsByTagName&&T.some(function(N){return I.getElementsByTagName(N).length})}var vl={};vl.paragraph={filter:"p",replacement:function(I){return`

`+I+`

`}};vl.lineBreak={filter:"br",replacement:function(I,T,N){return N.br+`
`}};vl.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(I,T,N){var F=Number(T.nodeName.charAt(1));if(N.headingStyle==="setext"&&F<3){var ee=ZF(F===1?"=":"-",I.length);return`

`+I+`
`+ee+`

`}else return`

`+ZF("#",F)+" "+I+`

`}};vl.blockquote={filter:"blockquote",replacement:function(I){return I=I.replace(/^\n+|\n+$/g,""),I=I.replace(/^/gm,"> "),`

`+I+`

`}};vl.list={filter:["ul","ol"],replacement:function(I,T){var N=T.parentNode;return N.nodeName==="LI"&&N.lastElementChild===T?`
`+I:`

`+I+`

`}};vl.listItem={filter:"li",replacement:function(I,T,N){I=I.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var F=N.bulletListMarker+"   ",ee=T.parentNode;if(ee.nodeName==="OL"){var pe=ee.getAttribute("start"),He=Array.prototype.indexOf.call(ee.children,T);F=(pe?Number(pe)+He:He+1)+".  "}return F+I+(T.nextSibling&&!/\n$/.test(I)?`
`:"")}};vl.indentedCodeBlock={filter:function(I,T){return T.codeBlockStyle==="indented"&&I.nodeName==="PRE"&&I.firstChild&&I.firstChild.nodeName==="CODE"},replacement:function(I,T,N){return`

    `+T.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};vl.fencedCodeBlock={filter:function(I,T){return T.codeBlockStyle==="fenced"&&I.nodeName==="PRE"&&I.firstChild&&I.firstChild.nodeName==="CODE"},replacement:function(I,T,N){for(var F=T.firstChild.getAttribute("class")||"",ee=(F.match(/language-(\S+)/)||[null,""])[1],pe=T.firstChild.textContent,He=N.fence.charAt(0),xe=3,ye=new RegExp("^"+He+"{3,}","gm"),jt;jt=ye.exec(pe);)jt[0].length>=xe&&(xe=jt[0].length+1);var Ye=ZF(He,xe);return`

`+Ye+ee+`
`+pe.replace(/\n$/,"")+`
`+Ye+`

`}};vl.horizontalRule={filter:"hr",replacement:function(I,T,N){return`

`+N.hr+`

`}};vl.inlineLink={filter:function(I,T){return T.linkStyle==="inlined"&&I.nodeName==="A"&&I.getAttribute("href")},replacement:function(I,T){var N=T.getAttribute("href");N&&(N=N.replace(/([()])/g,"\\$1"));var F=jD(T.getAttribute("title"));return F&&(F=' "'+F.replace(/"/g,'\\"')+'"'),"["+I+"]("+N+F+")"}};vl.referenceLink={filter:function(I,T){return T.linkStyle==="referenced"&&I.nodeName==="A"&&I.getAttribute("href")},replacement:function(I,T,N){var F=T.getAttribute("href"),ee=jD(T.getAttribute("title"));ee&&(ee=' "'+ee+'"');var pe,He;switch(N.linkReferenceStyle){case"collapsed":pe="["+I+"][]",He="["+I+"]: "+F+ee;break;case"shortcut":pe="["+I+"]",He="["+I+"]: "+F+ee;break;default:var xe=this.references.length+1;pe="["+I+"]["+xe+"]",He="["+xe+"]: "+F+ee}return this.references.push(He),pe},references:[],append:function(I){var T="";return this.references.length&&(T=`

`+this.references.join(`
`)+`

`,this.references=[]),T}};vl.emphasis={filter:["em","i"],replacement:function(I,T,N){return I.trim()?N.emDelimiter+I+N.emDelimiter:""}};vl.strong={filter:["strong","b"],replacement:function(I,T,N){return I.trim()?N.strongDelimiter+I+N.strongDelimiter:""}};vl.code={filter:function(I){var T=I.previousSibling||I.nextSibling,N=I.parentNode.nodeName==="PRE"&&!T;return I.nodeName==="CODE"&&!N},replacement:function(I){if(!I)return"";I=I.replace(/\r?\n|\r/g," ");for(var T=/^`|^ .*?[^ ].* $|`$/.test(I)?" ":"",N="`",F=I.match(/`+/gm)||[];F.indexOf(N)!==-1;)N=N+"`";return N+T+I+T+N}};vl.image={filter:"img",replacement:function(I,T){var N=jD(T.getAttribute("alt")),F=T.getAttribute("src")||"",ee=jD(T.getAttribute("title")),pe=ee?' "'+ee+'"':"";return F?"!["+N+"]("+F+pe+")":""}};function jD(I){return I?I.replace(/(\n+\s*)+/g,`
`):""}function u9(I){this.options=I,this._keep=[],this._remove=[],this.blankRule={replacement:I.blankReplacement},this.keepReplacement=I.keepReplacement,this.defaultRule={replacement:I.defaultReplacement},this.array=[];for(var T in I.rules)this.array.push(I.rules[T])}u9.prototype={add:function(I,T){this.array.unshift(T)},keep:function(I){this._keep.unshift({filter:I,replacement:this.keepReplacement})},remove:function(I){this._remove.unshift({filter:I,replacement:function(){return""}})},forNode:function(I){if(I.isBlank)return this.blankRule;var T;return(T=qF(this.array,I,this.options))||(T=qF(this._keep,I,this.options))||(T=qF(this._remove,I,this.options))?T:this.defaultRule},forEach:function(I){for(var T=0;T<this.array.length;T++)I(this.array[T],T)}};function qF(I,T,N){for(var F=0;F<I.length;F++){var ee=I[F];if(gG(ee,T,N))return ee}}function gG(I,T,N){var F=I.filter;if(typeof F=="string"){if(F===T.nodeName.toLowerCase())return!0}else if(Array.isArray(F)){if(F.indexOf(T.nodeName.toLowerCase())>-1)return!0}else if(typeof F=="function"){if(F.call(I,T,N))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function yG(I){var T=I.element,N=I.isBlock,F=I.isVoid,ee=I.isPre||function(Ae){return Ae.nodeName==="PRE"};if(!(!T.firstChild||ee(T))){for(var pe=null,He=!1,xe=null,ye=VL(xe,T,ee);ye!==T;){if(ye.nodeType===3||ye.nodeType===4){var jt=ye.data.replace(/[ \r\n\t]+/g," ");if((!pe||/ $/.test(pe.data))&&!He&&jt[0]===" "&&(jt=jt.substr(1)),!jt){ye=GF(ye);continue}ye.data=jt,pe=ye}else if(ye.nodeType===1)N(ye)||ye.nodeName==="BR"?(pe&&(pe.data=pe.data.replace(/ $/,"")),pe=null,He=!1):F(ye)||ee(ye)?(pe=null,He=!0):pe&&(He=!1);else{ye=GF(ye);continue}var Ye=VL(xe,ye,ee);xe=ye,ye=Ye}pe&&(pe.data=pe.data.replace(/ $/,""),pe.data||GF(pe))}}function GF(I){var T=I.nextSibling||I.parentNode;return I.parentNode.removeChild(I),T}function VL(I,T,N){return I&&I.parentNode===T||N(T)?T.nextSibling||T.parentNode:T.firstChild||T.nextSibling||T.parentNode}var oI=typeof window<"u"?window:{};function bG(){var I=oI.DOMParser,T=!1;try{new I().parseFromString("","text/html")&&(T=!0)}catch{}return T}function _G(){var I=function(){};return wG()?I.prototype.parseFromString=function(T){var N=new window.ActiveXObject("htmlfile");return N.designMode="on",N.open(),N.write(T),N.close(),N}:I.prototype.parseFromString=function(T){var N=document.implementation.createHTMLDocument("");return N.open(),N.write(T),N.close(),N},I}function wG(){var I=!1;try{document.implementation.createHTMLDocument("").open()}catch{oI.ActiveXObject&&(I=!0)}return I}var kG=bG()?oI.DOMParser:_G();function CG(I,T){var N;if(typeof I=="string"){var F=xG().parseFromString('<x-turndown id="turndown-root">'+I+"</x-turndown>","text/html");N=F.getElementById("turndown-root")}else N=I.cloneNode(!0);return yG({element:N,isBlock:nI,isVoid:a9,isPre:T.preformattedCode?SG:null}),N}var KF;function xG(){return KF=KF||new kG,KF}function SG(I){return I.nodeName==="PRE"||I.nodeName==="CODE"}function TG(I,T){return I.isBlock=nI(I),I.isCode=I.nodeName==="CODE"||I.parentNode.isCode,I.isBlank=EG(I),I.flankingWhitespace=zG(I,T),I}function EG(I){return!a9(I)&&!hG(I)&&/^\s*$/i.test(I.textContent)&&!mG(I)&&!pG(I)}function zG(I,T){if(I.isBlock||T.preformattedCode&&I.isCode)return{leading:"",trailing:""};var N=AG(I.textContent);return N.leadingAscii&&UL("left",I,T)&&(N.leading=N.leadingNonAscii),N.trailingAscii&&UL("right",I,T)&&(N.trailing=N.trailingNonAscii),{leading:N.leading,trailing:N.trailing}}function AG(I){var T=I.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:T[1],leadingAscii:T[2],leadingNonAscii:T[3],trailing:T[4],trailingNonAscii:T[5],trailingAscii:T[6]}}function UL(I,T,N){var F,ee,pe;return I==="left"?(F=T.previousSibling,ee=/ $/):(F=T.nextSibling,ee=/^ /),F&&(F.nodeType===3?pe=ee.test(F.nodeValue):N.preformattedCode&&F.nodeName==="CODE"?pe=!1:F.nodeType===1&&!nI(F)&&(pe=ee.test(F.textContent))),pe}var OG=Array.prototype.reduce,RG=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function WD(I){if(!(this instanceof WD))return new WD(I);var T={rules:vl,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(N,F){return F.isBlock?`

`:""},keepReplacement:function(N,F){return F.isBlock?`

`+F.outerHTML+`

`:F.outerHTML},defaultReplacement:function(N,F){return F.isBlock?`

`+N+`

`:N}};this.options=lG({},T,I),this.rules=new u9(this.options)}WD.prototype={turndown:function(I){if(!BG(I))throw new TypeError(I+" is not a string, or an element/document/fragment node.");if(I==="")return"";var T=s9.call(this,new CG(I,this.options));return DG.call(this,T)},use:function(I){if(Array.isArray(I))for(var T=0;T<I.length;T++)this.use(I[T]);else if(typeof I=="function")I(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(I,T){return this.rules.add(I,T),this},keep:function(I){return this.rules.keep(I),this},remove:function(I){return this.rules.remove(I),this},escape:function(I){return RG.reduce(function(T,N){return T.replace(N[0],N[1])},I)}};function s9(I){var T=this;return OG.call(I.childNodes,function(N,F){F=new TG(F,T.options);var ee="";return F.nodeType===3?ee=F.isCode?F.nodeValue:T.escape(F.nodeValue):F.nodeType===1&&(ee=MG.call(T,F)),c9(N,ee)},"")}function DG(I){var T=this;return this.rules.forEach(function(N){typeof N.append=="function"&&(I=c9(I,N.append(T.options)))}),I.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function MG(I){var T=this.rules.forNode(I),N=s9.call(this,I),F=I.flankingWhitespace;return(F.leading||F.trailing)&&(N=N.trim()),F.leading+T.replacement(N,I,this.options)+F.trailing}function c9(I,T){var N=dG(I),F=fG(T),ee=Math.max(I.length-N.length,T.length-F.length),pe=`

`.substring(0,ee);return N+pe+F}function BG(I){return I!=null&&(typeof I=="string"||I.nodeType&&(I.nodeType===1||I.nodeType===9||I.nodeType===11))}var NG=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],PG=function(I){return NG.map(function(T){return T.toLowerCase()}).indexOf(I.toLowerCase())!==-1},FG=function(I,T,N){Object.keys(T).filter(PG).forEach(function(F){var ee=T[F];typeof ee=="function"&&(F==="onInit"?ee(I,N):N.on(F.substring(2),function(pe){return ee(pe,N)}))})},IG=function(I,T){var N=I.$props.modelEvents?I.$props.modelEvents:null,F=Array.isArray(N)?N.join(" "):N;T.on(F||"change input undo redo",function(){I.$emit("input",T.getContent({format:I.$props.outputFormat}))})},$G=function(I,T,N){var F=T.$props.value?T.$props.value:"",ee=T.$props.initialValue?T.$props.initialValue:"";N.setContent(F||(T.initialized?T.cache:ee)),T.$watch("value",function(pe,He){N&&typeof pe=="string"&&pe!==He&&pe!==N.getContent({format:T.$props.outputFormat})&&N.setContent(pe)}),T.$listeners.input&&IG(T,N),FG(I,T.$listeners,N),T.initialized=!0},jL=0,l9=function(I){var T=Date.now(),N=Math.floor(Math.random()*1e9);return jL++,I+"_"+N+jL+String(T)},LG=function(I){return I!==null&&I.tagName.toLowerCase()==="textarea"},WL=function(I){return typeof I>"u"||I===""?[]:Array.isArray(I)?I:I.split(" ")},HG=function(I,T){return WL(I).concat(WL(T))},VG=function(I){return I==null},qL=function(){return{listeners:[],scriptId:l9("tiny-script"),scriptLoaded:!1}},UG=function(){var I=qL(),T=function(ee,pe,He,xe){var ye=pe.createElement("script");ye.referrerPolicy="origin",ye.type="application/javascript",ye.id=ee,ye.src=He;var jt=function(){ye.removeEventListener("load",jt),xe()};ye.addEventListener("load",jt),pe.head&&pe.head.appendChild(ye)},N=function(ee,pe,He){I.scriptLoaded?He():(I.listeners.push(He),ee.getElementById(I.scriptId)||T(I.scriptId,ee,pe,function(){I.listeners.forEach(function(xe){return xe()}),I.scriptLoaded=!0}))},F=function(){I=qL()};return{load:N,reinitialize:F}},jG=UG(),WG=function(){return typeof window<"u"?window:global},xz=function(){var I=WG();return I&&I.tinymce?I.tinymce:null},qG={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(I){return I==="html"||I==="text"}}},qD=function(){return qD=Object.assign||function(I){for(var T,N=1,F=arguments.length;N<F;N++){T=arguments[N];for(var ee in T)Object.prototype.hasOwnProperty.call(T,ee)&&(I[ee]=T[ee])}return I},qD.apply(this,arguments)},GG=function(I,T,N){return I(N||"div",{attrs:{id:T}})},KG=function(I,T){return I("textarea",{attrs:{id:T},style:{visibility:"hidden"}})},XF=function(I){return function(){var T=qD(qD({},I.$props.init),{readonly:I.$props.disabled,selector:"#"+I.elementId,plugins:HG(I.$props.init&&I.$props.init.plugins,I.$props.plugins),toolbar:I.$props.toolbar||I.$props.init&&I.$props.init.toolbar,inline:I.inlineEditor,setup:function(N){I.editor=N,N.on("init",function(F){return $G(F,I,N)}),I.$props.init&&typeof I.$props.init.setup=="function"&&I.$props.init.setup(N)}});LG(I.element)&&(I.element.style.visibility="",I.element.style.display=""),xz().init(T)}},XG={props:qG,created:function(){this.elementId=this.$props.id||l9("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,xz()!==null)XF(this)();else if(this.element&&this.element.ownerDocument){var I=this.$props.cloudChannel?this.$props.cloudChannel:"5",T=this.$props.apiKey?this.$props.apiKey:"no-api-key",N=VG(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+T+"/tinymce/"+I+"/tinymce.min.js":this.$props.tinymceScriptSrc;jG.load(this.element.ownerDocument,N,XF(this))}},beforeDestroy:function(){xz()!==null&&xz().remove(this.editor)},deactivated:function(){var I;this.inlineEditor||(this.cache=this.editor.getContent(),(I=xz())===null||I===void 0||I.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&XF(this)()},render:function(I){return this.inlineEditor?GG(I,this.elementId,this.$props.tagName):KG(I,this.elementId)}},YG={exports:{}};(function(I){(function(){var T=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var r=typeof e;return r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},N=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},F=function(e,r){var a=Array.prototype.slice.call(e);return a.sort(r)},ee=function(e,r){return pe(function(a,i){return e.eq(r(a),r(i))})},pe=function(e){return{eq:e}},He=pe(function(e,r){return e===r}),xe=He,ye=function(e){return pe(function(r,a){if(r.length!==a.length)return!1;for(var i=r.length,c=0;c<i;c++)if(!e.eq(r[c],a[c]))return!1;return!0})},jt=function(e,r){return ee(ye(e),function(a){return F(a,r)})},Ye=function(e){return pe(function(r,a){var i=Object.keys(r),c=Object.keys(a);if(!jt(xe).eq(i,c))return!1;for(var f=i.length,h=0;h<f;h++){var y=i[h];if(!e.eq(r[y],a[y]))return!1}return!0})},Ae=pe(function(e,r){if(e===r)return!0;var a=T(e),i=T(r);return a!==i?!1:N(a)?e===r:a==="array"?ye(Ae).eq(e,r):a==="object"?Ye(Ae).eq(e,r):!1}),tt=function(e){var r=typeof e;return e===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},er=function(e){return function(r){return tt(r)===e}},Xe=function(e){return function(r){return typeof r===e}},at=function(e){return function(r){return e===r}},_e=er("string"),Y=er("object"),De=er("array"),ue=at(null),Je=Xe("boolean"),ze=at(void 0),Le=function(e){return e==null},Ge=function(e){return!Le(e)},ce=Xe("function"),Ue=Xe("number"),U=function(){},Ce=function(e,r){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(r.apply(null,a))}},J=function(e,r){return function(a){return e(r(a))}},X=function(e){return function(){return e}},It=function(e){return e},fn=function(e,r){return e===r};function St(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];var f=r.concat(i);return e.apply(null,f)}}var Xn=function(e){return function(r){return!e(r)}},mn=function(e){return function(){throw new Error(e)}},O=function(e){return e()},On=function(e){e()},Wt=X(!1),sr=X(!0),ya=function(){return vo},vo=function(){var e=function(i){return i()},r=It,a={fold:function(i,c){return i()},isSome:Wt,isNone:sr,getOr:r,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:X(null),getOrUndefined:X(void 0),or:r,orThunk:e,map:ya,each:U,bind:ya,exists:Wt,forall:sr,filter:function(){return ya()},toArray:function(){return[]},toString:X("none()")};return a}(),dn=function(e){var r=X(e),a=function(){return c},i=function(f){return f(e)},c={fold:function(f,h){return h(e)},isSome:sr,isNone:Wt,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:a,orThunk:a,map:function(f){return dn(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?c:vo},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return c},fa=function(e){return e==null?vo:dn(e)},oe={some:dn,none:ya,from:fa},Xa=Array.prototype.slice,$t=Array.prototype.indexOf,Qe=Array.prototype.push,Sr=function(e,r){return $t.call(e,r)},rt=function(e,r){var a=Sr(e,r);return a===-1?oe.none():oe.some(a)},qe=function(e,r){return Sr(e,r)>-1},be=function(e,r){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(r(c,a))return!0}return!1},Pe=function(e,r){for(var a=e.length,i=new Array(a),c=0;c<a;c++){var f=e[c];i[c]=r(f,c)}return i},je=function(e,r){for(var a=0,i=e.length;a<i;a++){var c=e[a];r(c,a)}},Nt=function(e,r){for(var a=e.length-1;a>=0;a--){var i=e[a];r(i,a)}},fr=function(e,r){for(var a=[],i=[],c=0,f=e.length;c<f;c++){var h=e[c],y=r(h,c)?a:i;y.push(h)}return{pass:a,fail:i}},Xt=function(e,r){for(var a=[],i=0,c=e.length;i<c;i++){var f=e[i];r(f,i)&&a.push(f)}return a},Pr=function(e,r,a){return Nt(e,function(i,c){a=r(a,i,c)}),a},ut=function(e,r,a){return je(e,function(i,c){a=r(a,i,c)}),a},st=function(e,r,a){for(var i=0,c=e.length;i<c;i++){var f=e[i];if(r(f,i))return oe.some(f);if(a(f,i))break}return oe.none()},nr=function(e,r){return st(e,r,Wt)},Rr=function(e,r){for(var a=0,i=e.length;a<i;a++){var c=e[a];if(r(c,a))return oe.some(a)}return oe.none()},sn=function(e){for(var r=[],a=0,i=e.length;a<i;++a){if(!De(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Qe.apply(r,e[a])}return r},wn=function(e,r){return sn(Pe(e,r))},Gn=function(e,r){for(var a=0,i=e.length;a<i;++a){var c=e[a];if(r(c,a)!==!0)return!1}return!0},Yn=function(e){var r=Xa.call(e,0);return r.reverse(),r},Ta=function(e,r){return Xt(e,function(a){return!qe(r,a)})},ba=function(e,r){for(var a={},i=0,c=e.length;i<c;i++){var f=e[i];a[String(f)]=r(f,i)}return a},Zn=function(e,r){var a=Xa.call(e,0);return a.sort(r),a},In=function(e,r){return r>=0&&r<e.length?oe.some(e[r]):oe.none()},ga=function(e){return In(e,0)},Rn=function(e){return In(e,e.length-1)},kn=ce(Array.from)?Array.from:function(e){return Xa.call(e)},Ka=function(e,r){for(var a=0;a<e.length;a++){var i=r(e[a],a);if(i.isSome())return i}return oe.none()},ao=Object.keys,Ca=Object.hasOwnProperty,xn=function(e,r){for(var a=ao(e),i=0,c=a.length;i<c;i++){var f=a[i],h=e[f];r(h,f)}},Co=function(e,r){return Ke(e,function(a,i){return{k:i,v:r(a,i)}})},Ke=function(e,r){var a={};return xn(e,function(i,c){var f=r(i,c);a[f.k]=f.v}),a},Mt=function(e){return function(r,a){e[a]=r}},gt=function(e,r,a,i){var c={};return xn(e,function(f,h){(r(f,h)?a:i)(f,h)}),c},dr=function(e,r){var a={},i={};return gt(e,r,Mt(a),Mt(i)),{t:a,f:i}},un=function(e,r){var a={};return gt(e,r,Mt(a),U),a},ua=function(e,r){var a=[];return xn(e,function(i,c){a.push(r(i,c))}),a},fi=function(e){return ua(e,It)},Kn=function(e,r){return Sn(e,r)?oe.from(e[r]):oe.none()},Sn=function(e,r){return Ca.call(e,r)},xo=function(e,r){return Sn(e,r)&&e[r]!==void 0&&e[r]!==null},di=function(e,r,a){return a===void 0&&(a=Ae),Ye(a).eq(e,r)},Ni=Array.isArray,mo=function(e){if(Ni(e))return e;for(var r=[],a=0,i=e.length;a<i;a++)r[a]=e[a];return r},Jo=function(e,r,a){var i,c;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,c=e.length;i<c;i++)if(r.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Sn(e,i)&&r.call(a,e[i],i,e)===!1)return!1;return!0},qi=function(e,r){var a=[];return Jo(e,function(i,c){a.push(r(i,c,e))}),a},Qo=function(e,r){var a=[];return Jo(e,function(i,c){(!r||r(i,c,e))&&a.push(i)}),a},Lo=function(e,r){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===r)return a}return-1},Gi=function(e,r,a,i){for(var c=ze(a)?e[0]:a,f=0;f<e.length;f++)c=r.call(i,c,e[f],f);return c},ra=function(e,r,a){var i,c;for(i=0,c=e.length;i<c;i++)if(r.call(a,e[i],i,e))return i;return-1},oi=function(e){return e[e.length-1]},$r=function(){return $r=Object.assign||function(r){for(var a,i=1,c=arguments.length;i<c;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(r[f]=a[f])}return r},$r.apply(this,arguments)};function Pu(e,r){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,i=Object.getOwnPropertySymbols(e);c<i.length;c++)r.indexOf(i[c])<0&&Object.prototype.propertyIsEnumerable.call(e,i[c])&&(a[i[c]]=e[i[c]]);return a}function ei(e,r,a){if(a||arguments.length===2)for(var i=0,c=r.length,f;i<c;i++)(f||!(i in r))&&(f||(f=Array.prototype.slice.call(r,0,i)),f[i]=r[i]);return e.concat(f||Array.prototype.slice.call(r))}var vi=function(e){var r=!1,a;return function(){for(var i=[],c=0;c<arguments.length;c++)i[c]=arguments[c];return r||(r=!0,a=e.apply(null,i)),a}},Ro=function(e,r,a,i){var c=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!c,h=e.isiOS()||e.isAndroid(),y=h||i("(pointer:coarse)"),w=c||!f&&h&&i("(min-device-width:768px)"),R=f||h&&!w,L=r.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,V=!R&&!w&&!L;return{isiPad:X(c),isiPhone:X(f),isTablet:X(w),isPhone:X(R),isTouch:X(y),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:X(L),isDesktop:X(V)}},Pi=function(e,r){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(r))return i}},Fu=function(e,r){var a=Pi(e,r);if(!a)return{major:0,minor:0};var i=function(c){return Number(r.replace(a,"$"+c))};return Do(i(1),i(2))},mi=function(e,r){var a=String(r).toLowerCase();return e.length===0?Ku():Fu(e,a)},Ku=function(){return Do(0,0)},Do=function(e,r){return{major:e,minor:r}},So={nu:Do,detect:mi,unknown:Ku},rr=function(e,r){return Ka(r.brands,function(a){var i=a.brand.toLowerCase();return nr(e,function(c){var f;return i===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(c){return{current:c.name,version:So.nu(parseInt(a.version,10),0)}})})},iu=function(e,r){var a=String(r).toLowerCase();return nr(e,function(i){return i.search(a)})},Cu=function(e,r){return iu(e,r).map(function(a){var i=So.detect(a.versionRegexes,r);return{current:a.name,version:i}})},Fi=function(e,r){return iu(e,r).map(function(a){var i=So.detect(a.versionRegexes,r);return{current:a.name,version:i}})},ge=function(e,r){return e.substring(r)},Te=function(e,r,a){return r===""||e.length>=r.length&&e.substr(a,a+r.length)===r},wt=function(e,r){return Gt(e,r)?ge(e,r.length):e},Ft=function(e,r){return e.indexOf(r)!==-1},Gt=function(e,r){return Te(e,r,0)},mr=function(e){return function(r){return r.replace(e,"")}},kr=mr(/^\s+|\s+$/g),ln=mr(/^\s+/g),hn=mr(/\s+$/g),Dn=function(e){return e.length>0},ka=function(e){return!Dn(e)},Va=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,To=function(e){return function(r){return Ft(r,e)}},Lt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Ft(e,"edge/")&&Ft(e,"chrome")&&Ft(e,"safari")&&Ft(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Va],search:function(e){return Ft(e,"chrome")&&!Ft(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Ft(e,"msie")||Ft(e,"trident")}},{name:"Opera",versionRegexes:[Va,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:To("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:To("firefox")},{name:"Safari",versionRegexes:[Va,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Ft(e,"safari")||Ft(e,"mobile/"))&&Ft(e,"applewebkit")}}],cn=[{name:"Windows",search:To("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Ft(e,"iphone")||Ft(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:To("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:To("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:To("linux"),versionRegexes:[]},{name:"Solaris",search:To("sunos"),versionRegexes:[]},{name:"FreeBSD",search:To("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:To("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],da={browsers:X(Lt),oses:X(cn)},Eo="Edge",Ii="Chrome",Wn="IE",gs="Opera",Ki="Firefox",oo="Safari",Xu=function(){return ii({current:void 0,version:So.unknown()})},ii=function(e){var r=e.current,a=e.version,i=function(c){return function(){return r===c}};return{current:r,version:a,isEdge:i(Eo),isChrome:i(Ii),isIE:i(Wn),isOpera:i(gs),isFirefox:i(Ki),isSafari:i(oo)}},hi={unknown:Xu,nu:ii,edge:X(Eo),chrome:X(Ii),ie:X(Wn),opera:X(gs),firefox:X(Ki),safari:X(oo)},Ba="Windows",Yu="iOS",te="Android",Se="Linux",et="OSX",bt="Solaris",vr="FreeBSD",Tr="ChromeOS",Br=function(){return Mn({current:void 0,version:So.unknown()})},Mn=function(e){var r=e.current,a=e.version,i=function(c){return function(){return r===c}};return{current:r,version:a,isWindows:i(Ba),isiOS:i(Yu),isAndroid:i(te),isOSX:i(et),isLinux:i(Se),isSolaris:i(bt),isFreeBSD:i(vr),isChromeOS:i(Tr)}},G={unknown:Br,nu:Mn,windows:X(Ba),ios:X(Yu),android:X(te),linux:X(Se),osx:X(et),solaris:X(bt),freebsd:X(vr),chromeos:X(Tr)},ke=function(e,r,a){var i=da.browsers(),c=da.oses(),f=r.bind(function(w){return rr(i,w)}).orThunk(function(){return Cu(i,e)}).fold(hi.unknown,hi.nu),h=Fi(c,e).fold(G.unknown,G.nu),y=Ro(h,f,e,a);return{browser:f,os:h,deviceType:y}},Ie={detect:ke},ct=function(e){return window.matchMedia(e).matches},kt=vi(function(){return Ie.detect(navigator.userAgent,oe.from(navigator.userAgentData),ct)}),br=function(){return kt()},Ir=navigator.userAgent,na=br(),Tn=na.browser,xa=na.os,qa=na.deviceType,xu=/WebKit/.test(Ir)&&!Tn.isEdge(),Mo="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,Hr=Ir.indexOf("Windows Phone")!==-1,Zt={opera:Tn.isOpera(),webkit:xu,ie:Tn.isIE()||Tn.isEdge()?Tn.version.major:!1,gecko:Tn.isFirefox(),mac:xa.isOSX()||xa.isiOS(),iOS:qa.isiPad()||qa.isiPhone(),android:xa.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Tn.isIE()?document.documentMode||7:10,fileApi:Mo,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Tn.isIE(),desktop:qa.isDesktop(),windowsPhone:Hr,browser:{current:Tn.current,version:Tn.version,isChrome:Tn.isChrome,isEdge:Tn.isEdge,isFirefox:Tn.isFirefox,isIE:Tn.isIE,isOpera:Tn.isOpera,isSafari:Tn.isSafari},os:{current:xa.current,version:xa.version,isAndroid:xa.isAndroid,isChromeOS:xa.isChromeOS,isFreeBSD:xa.isFreeBSD,isiOS:xa.isiOS,isLinux:xa.isLinux,isOSX:xa.isOSX,isSolaris:xa.isSolaris,isWindows:xa.isWindows},deviceType:{isDesktop:qa.isDesktop,isiPad:qa.isiPad,isiPhone:qa.isiPhone,isPhone:qa.isPhone,isTablet:qa.isTablet,isTouch:qa.isTouch,isWebView:qa.isWebView}},Ea=/^\s*|\s*$/g,Bo=function(e){return e==null?"":(""+e).replace(Ea,"")},qn=function(e,r){return r?r==="array"&&Ni(e)?!0:typeof e===r:e!==void 0},Ns=function(e,r,a){var i;for(e=e||[],r=r||",",typeof e=="string"&&(e=e.split(r)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},Zu=Sn,kc=function(e,r,a){var i=this,c,f,h,y=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var w=e[3].match(/(^|\.)(\w+)$/i)[2],R=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!R[w]){if(e[2]==="static"){R[w]=r,this.onCreate&&this.onCreate(e[2],e[3],R[w]);return}r[w]||(r[w]=function(){},y=1),R[w]=r[w],i.extend(R[w].prototype,r),e[5]&&(c=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],h=R[w],y?R[w]=function(){return c[f].apply(this,arguments)}:R[w]=function(){return this.parent=c[f],h.apply(this,arguments)},R[w].prototype[w]=R[w],i.each(c,function(L,V){R[w].prototype[V]=c[V]}),i.each(r,function(L,V){c[V]?R[w].prototype[V]=function(){return this.parent=c[V],L.apply(this,arguments)}:V!==w&&(R[w].prototype[V]=L)})),i.each(r.static,function(L,V){R[w][V]=L})}},va=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];for(var i=0;i<r.length;i++){var c=r[i];for(var f in c)if(Sn(c,f)){var h=c[f];h!==void 0&&(e[f]=h)}}return e},Ci=function(e,r,a,i){i=i||this,e&&(a&&(e=e[a]),Jo(e,function(c,f){if(r.call(i,c,f,a)===!1)return!1;Ci(c,r,a,i)}))},Cc=function(e,r){var a,i;for(r=r||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],r[i]||(r[i]={}),r=r[i];return r},Su=function(e,r){var a,i;for(r=r||window,e=e.split("."),a=0,i=e.length;a<i&&(r=r[e[a]],!!r);a++);return r},go=function(e,r){return!e||qn(e,"array")?e:qi(e.split(r||","),Bo)},Ps=function(e){var r=Zt.cacheSuffix;return r&&(e+=(e.indexOf("?")===-1?"?":"&")+r),e},ht={trim:Bo,isArray:Ni,is:qn,toArray:mo,makeMap:Ns,each:Jo,map:qi,grep:Qo,inArray:Lo,hasOwn:Zu,extend:va,create:kc,walk:Ci,createNS:Cc,resolve:Su,explode:go,_addCacheSuffix:Ps},tc=function(e,r){var a=r||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ys(i.childNodes[0])},yo=function(e,r){var a=r||document,i=a.createElement(e);return ys(i)},ml=function(e,r){var a=r||document,i=a.createTextNode(e);return ys(i)},ys=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},B=function(e,r,a){return oe.from(e.dom.elementFromPoint(r,a)).map(ys)},x={fromHtml:tc,fromTag:yo,fromText:ml,fromDom:ys,fromPoint:B},_=function(e,r){var a=[],i=function(f){return a.push(f),r(f)},c=r(e);do c=c.bind(i);while(c.isSome());return a},A=function(e,r,a){return(e.compareDocumentPosition(r)&a)!==0},W=function(e,r){return A(e,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},le=8,$e=9,Et=11,Mr=1,Zr=3,ir=function(e,r){var a=e.dom;if(a.nodeType!==Mr)return!1;var i=a;if(i.matches!==void 0)return i.matches(r);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(r);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(r);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Dr=function(e){return e.nodeType!==Mr&&e.nodeType!==$e&&e.nodeType!==Et||e.childElementCount===0},En=function(e,r){var a=r===void 0?document:r.dom;return Dr(a)?[]:Pe(a.querySelectorAll(e),x.fromDom)},Cn=function(e,r){var a=r===void 0?document:r.dom;return Dr(a)?oe.none():oe.from(a.querySelector(e)).map(x.fromDom)},an=function(e,r){return e.dom===r.dom},Ja=function(e,r){var a=e.dom,i=r.dom;return a===i?!1:a.contains(i)},tn=function(e,r){return W(e.dom,r.dom)},Ia=function(e,r){return br().browser.isIE()?tn(e,r):Ja(e,r)};typeof window<"u"||Function("return this;")();var za=function(e){var r=e.dom.nodeName;return r.toLowerCase()},xi=function(e){return e.dom.nodeType},Fn=function(e){return function(r){return xi(r)===e}},Fs=function(e){return xi(e)===le||za(e)==="#comment"},bo=Fn(Mr),No=Fn(Zr),Wg=Fn($e),Xi=Fn(Et),ap=function(e){return function(r){return bo(r)&&za(r)===e}},Wc=function(e){return x.fromDom(e.dom.ownerDocument)},vn=function(e){return Wg(e)?e:Wc(e)},Is=function(e){return x.fromDom(vn(e).dom.documentElement)},Ho=function(e){return x.fromDom(vn(e).dom.defaultView)},Vo=function(e){return oe.from(e.dom.parentNode).map(x.fromDom)},Si=function(e,r){for(var a=ce(r)?r:Wt,i=e.dom,c=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,h=x.fromDom(f);if(c.push(h),a(h)===!0)break;i=f}return c},ui=function(e){var r=function(a){return Xt(a,function(i){return!an(e,i)})};return Vo(e).map(Iu).map(r).getOr([])},Tf=function(e){return oe.from(e.dom.previousSibling).map(x.fromDom)},rc=function(e){return oe.from(e.dom.nextSibling).map(x.fromDom)},Aa=function(e){return Yn(_(e,Tf))},fo=function(e){return _(e,rc)},Iu=function(e){return Pe(e.dom.childNodes,x.fromDom)},hl=function(e,r){var a=e.dom.childNodes;return oe.from(a[r]).map(x.fromDom)},pi=function(e){return hl(e,0)},$s=function(e){return hl(e,e.dom.childNodes.length-1)},qg=function(e){return e.dom.childNodes.length},Ef=function(e){var r=e.dom.head;if(r==null)throw new Error("Head is not available yet");return x.fromDom(r)},Qa=function(e){return Xi(e)&&Ge(e.dom.host)},xc=ce(Element.prototype.attachShadow)&&ce(Node.prototype.getRootNode),Hl=X(xc),Ju=xc?function(e){return x.fromDom(e.dom.getRootNode())}:vn,Xo=function(e){return Qa(e)?e:Ef(vn(e))},Vl=function(e){var r=Ju(e);return Qa(r)?oe.some(r):oe.none()},pl=function(e){return x.fromDom(e.dom.host)},Tu=function(e){if(Hl()&&Ge(e.target)){var r=x.fromDom(e.target);if(bo(r)&&Qu(r)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return ga(a)}}return oe.from(e.target)},Qu=function(e){return Ge(e.dom.shadowRoot)},uu=function(e,r){var a=Vo(e);a.each(function(i){i.dom.insertBefore(r.dom,e.dom)})},pd=function(e,r){var a=rc(e);a.fold(function(){var i=Vo(e);i.each(function(c){Ti(c,r)})},function(i){uu(i,r)})},Sc=function(e,r){var a=pi(e);a.fold(function(){Ti(e,r)},function(i){e.dom.insertBefore(r.dom,i.dom)})},Ti=function(e,r){e.dom.appendChild(r.dom)},cv=function(e,r){uu(e,r),Ti(r,e)},Gg=function(e,r){je(r,function(a){uu(e,a)})},zf=function(e,r){je(r,function(a){Ti(e,a)})},Af=function(e){e.dom.textContent="",je(Iu(e),function(r){Uo(r)})},Uo=function(e){var r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Of=function(e){var r=Iu(e);r.length>0&&Gg(e,r),Uo(e)},Rf=function(e){var r=No(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;var a=r.ownerDocument;return Vl(x.fromDom(r)).fold(function(){return a.body.contains(r)},J(Rf,pl))},Eu=function(e,r){var a=function(i,c){return Eu(e+i,r+c)};return{left:e,top:r,translate:a}},gl=Eu,Df=function(e){var r=e.getBoundingClientRect();return gl(r.left,r.top)},yl=function(e,r){return e!==void 0?e:r!==void 0?r:0},zo=function(e){var r=e.dom.ownerDocument,a=r.body,i=r.defaultView,c=r.documentElement;if(a===e.dom)return gl(a.offsetLeft,a.offsetTop);var f=yl(i==null?void 0:i.pageYOffset,c.scrollTop),h=yl(i==null?void 0:i.pageXOffset,c.scrollLeft),y=yl(c.clientTop,a.clientTop),w=yl(c.clientLeft,a.clientLeft);return bs(e).translate(h-w,f-y)},bs=function(e){var r=e.dom,a=r.ownerDocument,i=a.body;return i===r?gl(i.offsetLeft,i.offsetTop):Rf(e)?Df(r):gl(0,0)},pm=function(e){var r=e!==void 0?e.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,i=r.body.scrollTop||r.documentElement.scrollTop;return gl(a,i)},Ls=function(e,r,a){var i=a!==void 0?a.dom:document,c=i.defaultView;c&&c.scrollTo(e,r)},gm=function(e,r){var a=br().browser.isSafari();a&&ce(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(r)},Kg=function(e){var r=e===void 0?window:e;return br().browser.isFirefox()?oe.none():oe.from(r.visualViewport)},op=function(e,r,a,i){return{x:e,y:r,width:a,height:i,right:e+a,bottom:r+i}},Mf=function(e){var r=e===void 0?window:e,a=r.document,i=pm(x.fromDom(a));return Kg(r).fold(function(){var c=r.document.documentElement,f=c.clientWidth,h=c.clientHeight;return op(i.left,i.top,f,h)},function(c){return op(Math.max(c.pageLeft,i.left),Math.max(c.pageTop,i.top),c.width,c.height)})},Bf=function(e){return function(r){return!!r&&r.nodeType===e}},Ul=function(e){return!!e&&!Object.getPrototypeOf(e)},pn=Bf(1),nc=function(e){var r=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return qe(r,i)}return!1}},es=function(e,r){var a=r.toLowerCase().split(" ");return function(i){if(pn(i))for(var c=0;c<a.length;c++){var f=i.ownerDocument.defaultView.getComputedStyle(i,null),h=f?f.getPropertyValue(e):null;if(h===a[c])return!0}return!1}},zu=function(e){return function(r){return pn(r)&&r.hasAttribute(e)}},ac=function(e,r){return function(a){return pn(a)&&a.getAttribute(e)===r}},ti=function(e){return pn(e)&&e.hasAttribute("data-mce-bogus")},Ei=function(e){return pn(e)&&e.getAttribute("data-mce-bogus")==="all"},si=function(e){return pn(e)&&e.tagName==="TABLE"},jl=function(e){return function(r){return!!(pn(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e))}},su=nc(["textarea","input"]),zr=Bf(3),Nf=Bf(8),ip=Bf(9),$n=Bf(11),eo=nc(["br"]),ym=nc(["img"]),qc=jl("true"),_o=jl("false"),bm=nc(["td","th"]),_s=nc(["video","audio","object","embed"]),lv=function(e,r,a){return a===void 0&&(a=fn),e.exists(function(i){return a(i,r)})},Vn=function(e){for(var r=[],a=function(c){r.push(c)},i=0;i<e.length;i++)e[i].each(a);return r},$u=function(e,r,a){return e.isSome()&&r.isSome()?oe.some(a(e.getOrDie(),r.getOrDie())):oe.none()},P_=function(e,r,a,i){return e.isSome()&&r.isSome()&&a.isSome()?oe.some(i(e.getOrDie(),r.getOrDie(),a.getOrDie())):oe.none()},F_=function(e,r){return e?oe.some(r):oe.none()},Ao=function(e){return e.style!==void 0&&ce(e.style.getPropertyValue)},_m=function(e,r,a){if(_e(a)||Je(a)||Ue(a))e.setAttribute(r,a+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},z=function(e,r,a){_m(e.dom,r,a)},H=function(e,r){var a=e.dom;xn(r,function(i,c){_m(a,c,i)})},K=function(e,r){var a=e.dom.getAttribute(r);return a===null?void 0:a},ve=function(e,r){return oe.from(K(e,r))},We=function(e,r){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(r):!1},_t=function(e,r){e.dom.removeAttribute(r)},Vr=function(e){return ut(e.dom.attributes,function(r,a){return r[a.name]=a.value,r},{})},zn=function(e,r,a){if(!_e(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Ao(e)&&e.style.setProperty(r,a)},sa=function(e,r){var a=e.dom;xn(r,function(i,c){zn(a,c,i)})},Un=function(e,r){var a=e.dom,i=window.getComputedStyle(a),c=i.getPropertyValue(r);return c===""&&!Rf(e)?io(a,r):c},io=function(e,r){return Ao(e)?e.style.getPropertyValue(r):""},cu=function(e,r){var a=e.dom,i=io(a,r);return oe.from(i).filter(function(c){return c.length>0})},jo=function(e){var r={},a=e.dom;if(Ao(a))for(var i=0;i<a.style.length;i++){var c=a.style.item(i);r[c]=a.style[c]}return r},px=function(e){return e.dom.offsetWidth},qw=br().browser,Gw=function(e){return nr(e,bo)},gx=function(e){return qw.isFirefox()&&za(e)==="table"?Gw(Iu(e)).filter(function(r){return za(r)==="caption"}).bind(function(r){return Gw(fo(r)).map(function(a){var i=a.dom.offsetTop,c=r.dom.offsetTop,f=r.dom.offsetHeight;return i<=c?-f:0})}).getOr(0):0},bl=function(e,r){return e.children&&qe(e.children,r)},up=function(e,r,a){var i=0,c=0,f=e.ownerDocument;if(a=a||e,r){if(a===e&&r.getBoundingClientRect&&Un(x.fromDom(e),"position")==="static"){var h=r.getBoundingClientRect();return i=h.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,c=h.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:c}}for(var y=r;y&&y!==a&&y.nodeType&&!bl(y,a);){var w=y;i+=w.offsetLeft||0,c+=w.offsetTop||0,y=w.offsetParent}for(y=r.parentNode;y&&y!==a&&y.nodeType&&!bl(y,a);)i-=y.scrollLeft||0,c-=y.scrollTop||0,y=y.parentNode;c+=gx(x.fromDom(r))}return{x:i,y:c}},ws={},wm={exports:ws};(function(e,r,a,i){(function(c,f){typeof r=="object"&&typeof a<"u"?a.exports=f():(c=typeof globalThis<"u"?globalThis:c||self,c.EphoxContactWrapper=f())})(this,function(){var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof hx<"u"?hx:typeof self<"u"?self:{},f={exports:{}};(function(R){(function(L){var V=setTimeout;function j(){}function re(Ee,nt){return function(){Ee.apply(nt,arguments)}}function ae(Ee){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Ee!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ve(Ee,this)}function ie(Ee,nt){for(;Ee._state===3;)Ee=Ee._value;if(Ee._state===0){Ee._deferreds.push(nt);return}Ee._handled=!0,ae._immediateFn(function(){var Tt=Ee._state===1?nt.onFulfilled:nt.onRejected;if(Tt===null){(Ee._state===1?se:we)(nt.promise,Ee._value);return}var Kt;try{Kt=Tt(Ee._value)}catch(nn){we(nt.promise,nn);return}se(nt.promise,Kt)})}function se(Ee,nt){try{if(nt===Ee)throw new TypeError("A promise cannot be resolved with itself.");if(nt&&(typeof nt=="object"||typeof nt=="function")){var Tt=nt.then;if(nt instanceof ae){Ee._state=3,Ee._value=nt,he(Ee);return}else if(typeof Tt=="function"){Ve(re(Tt,nt),Ee);return}}Ee._state=1,Ee._value=nt,he(Ee)}catch(Kt){we(Ee,Kt)}}function we(Ee,nt){Ee._state=2,Ee._value=nt,he(Ee)}function he(Ee){Ee._state===2&&Ee._deferreds.length===0&&ae._immediateFn(function(){Ee._handled||ae._unhandledRejectionFn(Ee._value)});for(var nt=0,Tt=Ee._deferreds.length;nt<Tt;nt++)ie(Ee,Ee._deferreds[nt]);Ee._deferreds=null}function Ze(Ee,nt,Tt){this.onFulfilled=typeof Ee=="function"?Ee:null,this.onRejected=typeof nt=="function"?nt:null,this.promise=Tt}function Ve(Ee,nt){var Tt=!1;try{Ee(function(Kt){Tt||(Tt=!0,se(nt,Kt))},function(Kt){Tt||(Tt=!0,we(nt,Kt))})}catch(Kt){if(Tt)return;Tt=!0,we(nt,Kt)}}ae.prototype.catch=function(Ee){return this.then(null,Ee)},ae.prototype.then=function(Ee,nt){var Tt=new this.constructor(j);return ie(this,new Ze(Ee,nt,Tt)),Tt},ae.all=function(Ee){var nt=Array.prototype.slice.call(Ee);return new ae(function(Tt,Kt){if(nt.length===0)return Tt([]);var nn=nt.length;function Cr(qr,Jt){try{if(Jt&&(typeof Jt=="object"||typeof Jt=="function")){var wr=Jt.then;if(typeof wr=="function"){wr.call(Jt,function(Qt){Cr(qr,Qt)},Kt);return}}nt[qr]=Jt,--nn===0&&Tt(nt)}catch(Qt){Kt(Qt)}}for(var At=0;At<nt.length;At++)Cr(At,nt[At])})},ae.resolve=function(Ee){return Ee&&typeof Ee=="object"&&Ee.constructor===ae?Ee:new ae(function(nt){nt(Ee)})},ae.reject=function(Ee){return new ae(function(nt,Tt){Tt(Ee)})},ae.race=function(Ee){return new ae(function(nt,Tt){for(var Kt=0,nn=Ee.length;Kt<nn;Kt++)Ee[Kt].then(nt,Tt)})},ae._immediateFn=typeof setImmediate=="function"?function(Ee){setImmediate(Ee)}:function(Ee){V(Ee,0)},ae._unhandledRejectionFn=function(nt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",nt)},ae._setImmediateFn=function(nt){ae._immediateFn=nt},ae._setUnhandledRejectionFn=function(nt){ae._unhandledRejectionFn=nt},R.exports?R.exports=ae:L.Promise||(L.Promise=ae)})(c)})(f);var h=f.exports,y=function(){return typeof window<"u"?window:Function("return this;")()}(),w={boltExport:y.Promise||h};return w})})(void 0,ws,wm);var I_=wm.exports.boltExport,sp=function(e){var r=oe.none(),a=[],i=function(R){return sp(function(L){c(function(V){L(R(V))})})},c=function(R){h()?w(R):a.push(R)},f=function(R){h()||(r=oe.some(R),y(a),a=[])},h=function(){return r.isSome()},y=function(R){je(R,w)},w=function(R){r.each(function(L){setTimeout(function(){R(L)},0)})};return e(f),{get:c,map:i,isReady:h}},Xg=function(e){return sp(function(r){r(e)})},Kw={nu:sp,pure:Xg},yx=function(e){setTimeout(function(){throw e},0)},_l=function(e){var r=function(w){e().then(w,yx)},a=function(w){return _l(function(){return e().then(w)})},i=function(w){return _l(function(){return e().then(function(R){return w(R).toPromise()})})},c=function(w){return _l(function(){return e().then(function(){return w.toPromise()})})},f=function(){return Kw.nu(r)},h=function(){var w=null;return _l(function(){return w===null&&(w=e()),w})},y=e;return{map:a,bind:i,anonBind:c,toLazy:f,toCached:h,toPromise:y,get:r}},cp=function(e){return _l(function(){return new I_(e)})},bx=function(e){return _l(function(){return I_.resolve(e)})},$_={nu:cp,pure:bx},_x=function(e,r){return r(function(a){var i=[],c=0,f=function(h){return function(y){i[h]=y,c++,c>=e.length&&a(i)}};e.length===0?a([]):je(e,function(h,y){h.get(f(y))})})},wx=function(e){return _x(e,$_.nu)},km=function(e){var r=function(V){return km(e)},a=function(V){return km(e)},i=function(V){return km(V(e))},c=function(V){return km(e)},f=function(V){V(e)},h=function(V){return V(e)},y=function(V,j){return j(e)},w=function(V){return V(e)},R=function(V){return V(e)},L=function(){return oe.some(e)};return{isValue:sr,isError:Wt,getOr:X(e),getOrThunk:X(e),getOrDie:X(e),or:r,orThunk:a,fold:y,map:i,mapError:c,each:f,bind:h,exists:w,forall:R,toOptional:L}},lp=function(e){var r=function(R){return R()},a=function(){return mn(String(e))()},i=It,c=function(R){return R()},f=function(R){return lp(e)},h=function(R){return lp(R(e))},y=function(R){return lp(e)},w=function(R,L){return R(e)};return{isValue:Wt,isError:sr,getOr:It,getOrThunk:r,getOrDie:a,or:i,orThunk:c,fold:w,map:f,mapError:h,each:U,bind:y,exists:Wt,forall:sr,toOptional:oe.none}},Xw=function(e,r){return e.fold(function(){return lp(r)},km)},Yw={value:km,error:lp,fromOption:Xw},Hs=function(e){if(!De(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var r=[],a={};return je(e,function(i,c){var f=ao(i);if(f.length!==1)throw new Error("one and only one name per case");var h=f[0],y=i[h];if(a[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!De(y))throw new Error("case arguments must be an array");r.push(h),a[h]=function(){for(var w=[],R=0;R<arguments.length;R++)w[R]=arguments[R];var L=w.length;if(L!==y.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+y.length+" ("+y+"), got "+L);var V=function(j){var re=ao(j);if(r.length!==re.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+re.join(","));var ae=Gn(r,function(ie){return qe(re,ie)});if(!ae)throw new Error("Not all branches were specified when using match. Specified: "+re.join(", ")+`
Required: `+r.join(", "));return j[h].apply(null,w)};return{fold:function(){for(var j=[],re=0;re<arguments.length;re++)j[re]=arguments[re];if(j.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+j.length);var ae=j[c];return ae.apply(null,w)},match:V,log:function(j){console.log(j,{constructors:r,constructor:h,params:w})}}}}),a},Kr={generate:Hs};Kr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Pf=function(e){return e.fold(It,It)};function fp(e,r,a,i,c){return e(a,i)?oe.some(a):ce(c)&&c(a)?oe.none():r(a,i,c)}var gd=function(e,r,a){for(var i=e.dom,c=ce(a)?a:Wt;i.parentNode;){i=i.parentNode;var f=x.fromDom(i);if(r(f))return oe.some(f);if(c(f))break}return oe.none()},Cm=function(e,r,a){var i=function(c,f){return f(c)};return fp(i,gd,e,r,a)},L_=function(e,r){var a=e.dom;return a.parentNode?Gc(x.fromDom(a.parentNode),function(i){return!an(e,i)&&r(i)}):oe.none()},Gc=function(e,r){var a=function(c){return r(x.fromDom(c))},i=nr(e.dom.childNodes,a);return i.map(x.fromDom)},fv=function(e,r,a){return gd(e,function(i){return ir(i,r)},a)},xm=function(e,r){return Cn(r,e)},ri=function(e,r,a){var i=function(c,f){return ir(c,f)};return fp(i,fv,e,r,a)},Yi=window.Promise?window.Promise:I_,dp,Wl=function(e,r){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],c=function(h){window.setTimeout(h,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=c),a(e,r)},vp=function(e,r){return typeof r!="number"&&(r=0),setTimeout(e,r)},Yg=function(e,r){return typeof r!="number"&&(r=1),setInterval(e,r)},Zg=function(e){return clearTimeout(e)},kx=function(e){return clearInterval(e)},Sm=function(e,r){var a,i=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];clearTimeout(a),a=vp(function(){e.apply(this,c)},r)};return i.stop=function(){clearTimeout(a)},i},Au={requestAnimationFrame:function(e,r){if(dp){dp.then(e);return}dp=new Yi(function(a){r||(r=document.body),Wl(a,r)}).then(e)},setTimeout:vp,setInterval:Yg,setEditorTimeout:function(e,r,a){return vp(function(){e.removed||r()},a)},setEditorInterval:function(e,r,a){var i=Yg(function(){e.removed?clearInterval(i):r()},a);return i},debounce:Sm,throttle:Sm,clearInterval:kx,clearTimeout:Zg},Zw=function(e,r){r===void 0&&(r={});var a=0,i={},c=x.fromDom(e),f=vn(c),h=r.maxLoadTime||5e3,y=function(se){r.referrerPolicy=se},w=function(se){Ti(Xo(c),se)},R=function(se){var we=Xo(c);xm(we,"#"+se).each(Uo)},L=function(se){return Kn(i,se).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},V=function(se,we,he){var Ze,Ve=ht._addCacheSuffix(se),Ee=L(Ve);i[Ve]=Ee,Ee.count++;var nt=function(Jt,wr){for(var Qt=Jt.length;Qt--;)Jt[Qt]();Ee.status=wr,Ee.passed=[],Ee.failed=[],Ze&&(Ze.onload=null,Ze.onerror=null,Ze=null)},Tt=function(){return nt(Ee.passed,2)},Kt=function(){return nt(Ee.failed,3)},nn=function(Jt,wr){Jt()||(Date.now()-qr<h?Au.setTimeout(wr):Kt())},Cr=function(){nn(function(){for(var Jt=e.styleSheets,wr=Jt.length;wr--;){var Qt=Jt[wr],hr=Qt.ownerNode;if(hr&&hr.id===Ze.id)return Tt(),!0}return!1},Cr)};if(we&&Ee.passed.push(we),he&&Ee.failed.push(he),Ee.status!==1){if(Ee.status===2){Tt();return}if(Ee.status===3){Kt();return}Ee.status=1;var At=x.fromTag("link",f.dom);H(At,{rel:"stylesheet",type:"text/css",id:Ee.id});var qr=Date.now();r.contentCssCors&&z(At,"crossOrigin","anonymous"),r.referrerPolicy&&z(At,"referrerpolicy",r.referrerPolicy),Ze=At.dom,Ze.onload=Cr,Ze.onerror=Kt,w(At),z(At,"href",Ve)}},j=function(se){return $_.nu(function(we){V(se,Ce(we,X(Yw.value(se))),Ce(we,X(Yw.error(se))))})},re=function(se,we,he){wx(Pe(se,j)).get(function(Ze){var Ve=fr(Ze,function(Ee){return Ee.isValue()});Ve.fail.length>0?he(Ve.fail.map(Pf)):we(Ve.pass.map(Pf))})},ae=function(se){var we=ht._addCacheSuffix(se);Kn(i,we).each(function(he){var Ze=--he.count;Ze===0&&(delete i[we],R(he.id))})},ie=function(se){je(se,function(we){ae(we)})};return{load:V,loadAll:re,unload:ae,unloadAll:ie,_setReferrerPolicy:y}},Po=function(){var e=new WeakMap,r=function(a,i){var c=Ju(a),f=c.dom;return oe.from(e.get(f)).getOrThunk(function(){var h=Zw(f,i);return e.set(f,h),h})};return{forElement:r}},Kc=Po(),Ua=function(){function e(r,a){this.node=r,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node},e.prototype.prev=function(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node},e.prototype.prev2=function(r){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",r),this.node},e.prototype.findSibling=function(r,a,i,c){var f,h;if(r){if(!c&&r[a])return r[a];if(r!==this.rootNode){if(f=r[i],f)return f;for(h=r.parentNode;h&&h!==this.rootNode;h=h.parentNode)if(f=h[i],f)return f}}},e.prototype.findPreviousNode=function(r,a,i,c){var f,h,y;if(r){if(f=r[i],this.rootNode&&f===this.rootNode)return;if(f){if(!c){for(y=f[a];y;y=y[a])if(!y[a])return y}return f}if(h=r.parentNode,h&&h!==this.rootNode)return h}},e}(),yd=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Tc=["td","th"],Cx=["thead","tbody","tfoot"],zi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],ts=["h1","h2","h3","h4","h5","h6"],Jw=["li","dd","dt"],zt=["ul","ol","dl"],ks=["pre","script","textarea","style"],Ff=function(e){var r;return function(a){return r=r||ba(e,sr),Sn(r,za(a))}},gn=Ff(ts),oc=Ff(yd),xx=function(e){return za(e)==="table"},Lu=function(e){return bo(e)&&!oc(e)},Tm=function(e){return bo(e)&&za(e)==="br"},ql=Ff(zi),Xc=Ff(zt),Ou=Ff(Jw),Oa=Ff(Cx),wl=Ff(Tc),dv=Ff(ks),co=function(e,r,a){return fv(e,r,a).isSome()},bd="\uFEFF",Vs="",Us=function(e){return e===bd},Sx=function(e){return e.replace(/\uFEFF/g,"")},Fe=bd,rs=Us,Cs=Sx,Em=pn,ic=zr,to=function(e){return ic(e)&&(e=e.parentNode),Em(e)&&e.hasAttribute("data-mce-caret")},lo=function(e){return ic(e)&&rs(e.data)},xs=function(e){return to(e)||lo(e)},If=function(e){return e.firstChild!==e.lastChild||!eo(e.firstChild)},H_=function(e,r){var a=e.ownerDocument,i=a.createTextNode(Fe),c=e.parentNode;if(r){var f=e.previousSibling;if(ic(f)){if(xs(f))return f;if(hp(f))return f.splitText(f.data.length-1)}c.insertBefore(i,e)}else{var f=e.nextSibling;if(ic(f)){if(xs(f))return f;if(mp(f))return f.splitText(1),f}e.nextSibling?c.insertBefore(i,e.nextSibling):c.appendChild(i)}return i},Qr=function(e){var r=e.container();return zr(r)?r.data.charAt(e.offset())===Fe||e.isAtStart()&&lo(r.previousSibling):!1},Jg=function(e){var r=e.container();return zr(r)?r.data.charAt(e.offset()-1)===Fe||e.isAtEnd()&&lo(r.nextSibling):!1},uc=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Qw=function(e,r,a){var i=r.ownerDocument,c=i.createElement(e);c.setAttribute("data-mce-caret",a?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(uc());var f=r.parentNode;return a?f.insertBefore(c,r):r.nextSibling?f.insertBefore(c,r.nextSibling):f.appendChild(c),c},mp=function(e){return ic(e)&&e.data[0]===Fe},hp=function(e){return ic(e)&&e.data[e.data.length-1]===Fe},V_=function(e){var r=e.getElementsByTagName("br"),a=r[r.length-1];ti(a)&&a.parentNode.removeChild(a)},U_=function(e){return e&&e.hasAttribute("data-mce-caret")?(V_(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Gl=function(e){return to(e.startContainer)},$f=qc,Tx=_o,j_=eo,Ex=zr,ek=nc(["script","style","textarea"]),pp=nc(["img","input","textarea","hr","iframe","video","audio","object","embed"]),zm=nc(["table"]),tk=xs,Kl=function(e){return tk(e)?!1:Ex(e)?!ek(e.parentNode):pp(e)||j_(e)||zm(e)||W_(e)},Am=function(e){return pn(e)&&e.getAttribute("unselectable")==="true"},W_=function(e){return Am(e)===!1&&Tx(e)},rk=function(e,r){for(e=e.parentNode;e&&e!==r;e=e.parentNode){if(W_(e))return!1;if($f(e))return!0}return!0},zx=function(e){return W_(e)?ut(kn(e.getElementsByTagName("*")),function(r,a){return r||$f(a)},!1)!==!0:!1},Ax=function(e){return pp(e)||zx(e)},gi=function(e,r){return Kl(e)&&rk(e,r)},Xl=/^[ \t\r\n]*$/,Yc=function(e){return Xl.test(e)},_d=function(e,r){var a=x.fromDom(r),i=x.fromDom(e);return co(i,"pre,code",St(an,a))},nk=function(e,r){return zr(e)&&Yc(e.data)&&_d(e,r)===!1},Zc=function(e){return pn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},vv=function(e,r){return Kl(e)&&nk(e,r)===!1||Zc(e)||q_(e)},q_=zu("data-mce-bookmark"),G_=zu("data-mce-bogus"),Lf=ac("data-mce-bogus","all"),Ec=function(e,r){var a=0;if(vv(e,e))return!1;var i=e.firstChild;if(!i)return!0;var c=new Ua(i,e);do{if(r){if(Lf(i)){i=c.next(!0);continue}if(G_(i)){i=c.next();continue}}if(eo(i)){a++,i=c.next();continue}if(vv(i,e))return!1;i=c.next()}while(i);return a<=1},lu=function(e,r){return r===void 0&&(r=!0),Ec(e.dom,r)},Qg=function(e){return e.nodeName.toLowerCase()==="span"},K_=function(e,r){return Ge(e)&&(vv(e,r)||Lu(x.fromDom(e)))},mv=function(e,r){var a=new Ua(e,r).prev(!1),i=new Ua(e,r).next(!1),c=ze(a)||K_(a,r),f=ze(i)||K_(i,r);return c&&f},Om=function(e){return Qg(e)&&e.getAttribute("data-mce-type")==="bookmark"},Rm=function(e,r){return zr(e)&&e.data.length>0&&mv(e,r)},Ox=function(e){return pn(e)?e.childNodes.length>0:!1},Dm=function(e){return $n(e)||ip(e)},X_=function(e,r,a){var i=a||r;if(pn(r)&&Om(r))return r;for(var c=r.childNodes,f=c.length-1;f>=0;f--)X_(e,c[f],i);if(pn(r)){var h=r.childNodes;h.length===1&&Om(h[0])&&r.parentNode.insertBefore(h[0],r)}return!Dm(r)&&!vv(r,i)&&!Ox(r)&&!Rm(r,i)&&e.remove(r),r},Rx=ht.makeMap,Wo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ey=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wd=/[<>&\"\']/g,Y_=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Z_={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},zc={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},sc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},hv=function(e){var r=x.fromTag("div").dom;return r.innerHTML=e,r.textContent||r.innerText||e},kd=function(e,r){var a,i,c,f={};if(e){for(e=e.split(","),r=r||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],r)),zc[i]||(c="&"+e[a+1]+";",f[i]=c,f[c]=i);return f}},ty=kd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),gp=function(e,r){return e.replace(r?Wo:ey,function(a){return zc[a]||a})},J_=function(e){return(""+e).replace(wd,function(r){return zc[r]||r})},pv=function(e,r){return e.replace(r?Wo:ey,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":zc[a]||"&#"+a.charCodeAt(0)+";"})},ry=function(e,r,a){return a=a||ty,e.replace(r?Wo:ey,function(i){return zc[i]||a[i]||i})},Dx=function(e,r){var a=kd(r)||ty,i=function(h,y){return h.replace(y?Wo:ey,function(w){return zc[w]!==void 0?zc[w]:a[w]!==void 0?a[w]:w.length>1?"&#"+((w.charCodeAt(0)-55296)*1024+(w.charCodeAt(1)-56320)+65536)+";":"&#"+w.charCodeAt(0)+";"})},c=function(h,y){return ry(h,y,a)},f=Rx(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?r?c:ry:f.numeric?pv:gp},Q_=function(e){return e.replace(Y_,function(r,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):Z_[a]||String.fromCharCode(a)):sc[r]||ty[r]||hv(r)})},cc={encodeRaw:gp,encodeAllRaw:J_,encodeNumeric:pv,encodeNamed:ry,getEncodeFunc:Dx,decode:Q_},js={},Mm={},Jc=ht.makeMap,Ru=ht.each,ny=ht.extend,Hf=ht.explode,ak=ht.inArray,fu=function(e,r){return e=ht.trim(e),e?e.split(r||" "):[]},e1=function(e,r){var a=Jc(e," ",Jc(e.toUpperCase()," "));return ny(a,r)},ay=function(e){return e1("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Sa=function(e){var r={},a,i,c,f,h,y,w=function(L,V,j){var re,ae,ie,se=function(he,Ze){var Ve={},Ee,nt;for(Ee=0,nt=he.length;Ee<nt;Ee++)Ve[he[Ee]]=Ze||{};return Ve};j=j||[],V=V||"",typeof j=="string"&&(j=fu(j));var we=fu(L);for(re=we.length;re--;)ae=fu([a,V].join(" ")),ie={attributes:se(ae),attributesOrder:ae,children:se(j,Mm)},r[we[re]]=ie},R=function(L,V){var j,re,ae,ie,se=fu(L);j=se.length;for(var we=fu(V);j--;)for(re=r[se[j]],ae=0,ie=we.length;ae<ie;ae++)re.attributes[we[ae]]={},re.attributesOrder.push(we[ae])};return js[e]?js[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",y="acronym applet basefont big font strike tt",c=[c,y].join(" "),Ru(fu(y),function(L){w(L,"",c)}),h="center dir isindex noframes",i=[i,h].join(" "),f=[i,c].join(" "),Ru(fu(h),function(L){w(L,"",f)})),f=f||[i,c].join(" "),w("html","manifest","head body"),w("head","","base command link meta noscript script style title"),w("title hr noscript br"),w("base","href target"),w("link","href rel media hreflang type sizes hreflang"),w("meta","name http-equiv content charset"),w("style","media type scoped"),w("script","src async defer type charset"),w("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),w("address dt dd div caption","",f),w("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),w("blockquote","cite",f),w("ol","reversed start type","li"),w("ul","","li"),w("li","value",f),w("dl","","dt dd"),w("a","href target rel media hreflang type",c),w("q","cite",c),w("ins del","cite datetime",f),w("img","src sizes srcset alt usemap ismap width height"),w("iframe","src name width height",f),w("embed","src type width height"),w("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),w("param","name value"),w("map","name",[f,"area"].join(" ")),w("area","alt coords shape href target rel media hreflang type"),w("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),w("colgroup","span","col"),w("col","span"),w("tbody thead tfoot","","tr"),w("tr","","td th"),w("td","colspan rowspan headers",f),w("th","colspan rowspan headers scope abbr",f),w("form","accept-charset action autocomplete enctype method name novalidate target",f),w("fieldset","disabled form name",[f,"legend"].join(" ")),w("label","form for",c),w("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),w("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:c),w("select","disabled form multiple name required size","option optgroup"),w("optgroup","disabled label","option"),w("option","disabled label selected value"),w("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),w("menu","type label",[f,"li"].join(" ")),w("noscript","",f),e!=="html4"&&(w("wbr"),w("ruby","",[c,"rt rp"].join(" ")),w("figcaption","",f),w("mark rt rp summary bdi","",c),w("canvas","width height",f),w("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),w("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),w("picture","","img source"),w("source","src srcset type media sizes"),w("track","kind src srclang label default"),w("datalist","",[c,"option"].join(" ")),w("article section nav aside main header footer","",f),w("hgroup","","h1 h2 h3 h4 h5 h6"),w("figure","",[f,"figcaption"].join(" ")),w("time","datetime",c),w("dialog","open",f),w("command","type label icon disabled checked radiogroup command"),w("output","for form name",c),w("progress","value max",c),w("meter","value min max low high optimum",c),w("details","open",[f,"summary"].join(" ")),w("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(R("script","language xml:space"),R("style","xml:space"),R("object","declare classid code codebase codetype archive standby align border hspace vspace"),R("embed","align name hspace vspace"),R("param","valuetype type"),R("a","charset name rev shape coords"),R("br","clear"),R("applet","codebase archive code object alt name width height align hspace vspace"),R("img","name longdesc align border hspace vspace"),R("iframe","longdesc frameborder marginwidth marginheight scrolling align"),R("font basefont","size color face"),R("input","usemap align"),R("select"),R("textarea"),R("h1 h2 h3 h4 h5 h6 div p legend caption","align"),R("ul","type compact"),R("li","type"),R("ol dl menu dir","compact"),R("pre","width xml:space"),R("hr","align noshade size width"),R("isindex","prompt"),R("table","summary width frame rules cellspacing cellpadding align bgcolor"),R("col","width align char charoff valign"),R("colgroup","width align char charoff valign"),R("thead","align char charoff valign"),R("tr","align char charoff valign bgcolor"),R("th","axis align char charoff valign nowrap bgcolor width height"),R("form","accept"),R("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),R("tfoot","align char charoff valign"),R("tbody","align char charoff valign"),R("area","nohref"),R("body","background bgcolor text link vlink alink")),e!=="html4"&&(R("input button select textarea","autofocus"),R("input textarea","placeholder"),R("a","download"),R("link script img","crossorigin"),R("img","loading"),R("iframe","sandbox seamless allowfullscreen loading")),Ru(fu("a form meter progress dfn"),function(L){r[L]&&delete r[L].children[L]}),delete r.caption.children.table,delete r.script,js[e]=r,r)},en=function(e,r){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Ru(e,function(i,c){a[c]=a[c.toUpperCase()]=r==="map"?Jc(i,/[, ]/):Hf(i,/[, ]/)})),a},lc=function(e){var r={},a={},i=[],c={},f={},h=function(Ut,ur,Gr){var ot=e[Ut];return ot?ot=Jc(ot,/[, ]/,Jc(ot.toUpperCase(),/[, ]/)):(ot=js[Ut],ot||(ot=e1(ur,Gr),js[Ut]=ot)),ot};e=e||{};var y=Sa(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var w=en(e.valid_styles),R=en(e.invalid_styles,"map"),L=en(e.valid_classes,"map"),V=h("whitespace_elements","pre script noscript style textarea video audio iframe object code"),j=h("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),re=h("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ae=h("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),ie="td th iframe video audio object script code",se=h("non_empty_elements",ie+" pre",re),we=h("move_caret_before_on_enter_elements",ie+" table",re),he=h("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Ze=h("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",he),Ve=h("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Ru((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Ut){f[Ut]=new RegExp("</"+Ut+"[^>]*>","gi")});var Ee=function(Ut){return new RegExp("^"+Ut.replace(/([?+*])/g,".$1")+"$")},nt=function(Ut){var ur,Gr,ot,Yt,qt,Yr,rn,so,ru,ji,ms,hs,Zs,Wi,fl,Js,iv,Fa,ko=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,nu=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,ld=/[*?+]/;if(Ut){var fd=fu(Ut,",");for(r["@"]&&(Js=r["@"].attributes,iv=r["@"].attributesOrder),ur=0,Gr=fd.length;ur<Gr;ur++)if(qt=ko.exec(fd[ur]),qt){if(Wi=qt[1],ru=qt[2],fl=qt[3],so=qt[5],hs={},Zs=[],Yr={attributes:hs,attributesOrder:Zs},Wi==="#"&&(Yr.paddEmpty=!0),Wi==="-"&&(Yr.removeEmpty=!0),qt[4]==="!"&&(Yr.removeEmptyAttrs=!0),Js&&(xn(Js,function(dd,Qh){hs[Qh]=dd}),Zs.push.apply(Zs,iv)),so){for(so=fu(so,"|"),ot=0,Yt=so.length;ot<Yt;ot++)if(qt=nu.exec(so[ot]),qt){if(rn={},ms=qt[1],ji=qt[2].replace(/[\\:]:/g,":"),Wi=qt[3],Fa=qt[4],ms==="!"&&(Yr.attributesRequired=Yr.attributesRequired||[],Yr.attributesRequired.push(ji),rn.required=!0),ms==="-"){delete hs[ji],Zs.splice(ak(Zs,ji),1);continue}Wi&&(Wi==="="&&(Yr.attributesDefault=Yr.attributesDefault||[],Yr.attributesDefault.push({name:ji,value:Fa}),rn.defaultValue=Fa),Wi===":"&&(Yr.attributesForced=Yr.attributesForced||[],Yr.attributesForced.push({name:ji,value:Fa}),rn.forcedValue=Fa),Wi==="<"&&(rn.validValues=Jc(Fa,"?"))),ld.test(ji)?(Yr.attributePatterns=Yr.attributePatterns||[],rn.pattern=Ee(ji),Yr.attributePatterns.push(rn)):(hs[ji]||Zs.push(ji),hs[ji]=rn)}}!Js&&ru==="@"&&(Js=hs,iv=Zs),fl&&(Yr.outputName=ru,r[fl]=Yr),ld.test(ru)?(Yr.pattern=Ee(ru),i.push(Yr)):r[ru]=Yr}}},Tt=function(Ut){r={},i=[],nt(Ut),Ru(y,function(ur,Gr){a[Gr]=ur.children})},Kt=function(Ut){var ur=/^(~)?(.+)$/;Ut&&(js.text_block_elements=js.block_elements=null,Ru(fu(Ut,","),function(Gr){var ot=ur.exec(Gr),Yt=ot[1]==="~",qt=Yt?"span":"div",Yr=ot[2];if(a[Yr]=a[qt],c[Yr]=qt,Yt||(Ze[Yr.toUpperCase()]={},Ze[Yr]={}),!r[Yr]){var rn=r[qt];rn=ny({},rn),delete rn.removeEmptyAttrs,delete rn.removeEmpty,r[Yr]=rn}Ru(a,function(so,ru){so[qt]&&(a[ru]=so=ny({},a[ru]),so[Yr]=so[qt])})}))},nn=function(Ut){var ur=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;js[e.schema]=null,Ut&&Ru(fu(Ut,","),function(Gr){var ot=ur.exec(Gr),Yt,qt;ot&&(qt=ot[1],qt?Yt=a[ot[2]]:Yt=a[ot[2]]={"#comment":{}},Yt=a[ot[2]],Ru(fu(ot[3],"|"),function(Yr){qt==="-"?delete Yt[Yr]:Yt[Yr]={}}))})},Cr=function(Ut){var ur=r[Ut],Gr;if(ur)return ur;for(Gr=i.length;Gr--;)if(ur=i[Gr],ur.pattern.test(Ut))return ur};e.valid_elements?Tt(e.valid_elements):(Ru(y,function(Ut,ur){r[ur]={attributes:Ut.attributes,attributesOrder:Ut.attributesOrder},a[ur]=Ut.children}),e.schema!=="html5"&&Ru(fu("strong/b em/i"),function(Ut){var ur=fu(Ut,"/");r[ur[1]].outputName=ur[0]}),Ru(Ve,function(Ut,ur){r[ur]&&(e.padd_empty_block_inline_children&&(r[ur].paddInEmptyBlock=!0),r[ur].removeEmpty=!0)}),Ru(fu("ol ul blockquote a table tbody"),function(Ut){r[Ut]&&(r[Ut].removeEmpty=!0)}),Ru(fu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Ut){r[Ut].paddEmpty=!0}),Ru(fu("span"),function(Ut){r[Ut].removeEmptyAttrs=!0})),Kt(e.custom_elements),nn(e.valid_children),nt(e.extended_valid_elements),nn("+ol[ul|ol],+ul[ul|ol]"),Ru({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Ut,ur){r[ur]&&(r[ur].parentsRequired=fu(Ut))}),e.invalid_elements&&Ru(Hf(e.invalid_elements),function(Ut){r[Ut]&&delete r[Ut]}),Cr("span")||nt("span[!data-mce-type|*]");var At=X(w),qr=X(R),Jt=X(L),wr=X(ae),Qt=X(Ze),hr=X(he),Or=X(Ve),Vt=X(re),Er=X(j),ea=X(se),Pa=X(we),Ma=X(V),wu=X(f),Go=function(Ut,ur){var Gr=a[Ut.toLowerCase()];return!!(Gr&&Gr[ur.toLowerCase()])},Ds=function(Ut,ur){var Gr,ot,Yt=Cr(Ut);if(Yt)if(ur){if(Yt.attributes[ur])return!0;if(Gr=Yt.attributePatterns,Gr){for(ot=Gr.length;ot--;)if(Gr[ot].pattern.test(Ut))return!0}}else return!0;return!1},Hc=X(c);return{children:a,elements:r,getValidStyles:At,getValidClasses:Jt,getBlockElements:Qt,getInvalidStyles:qr,getShortEndedElements:Vt,getTextBlockElements:hr,getTextInlineElements:Or,getBoolAttrs:wr,getElementRule:Cr,getSelfClosingElements:Er,getNonEmptyElements:ea,getMoveCaretBeforeOnEnterElements:Pa,getWhiteSpaceElements:Ma,getSpecialElements:wu,isValidChild:Go,isValid:Ds,getCustomElements:Hc,addValidElements:nt,setValidElements:Tt,addCustomElements:Kt,addValidChildren:nn}},oy=function(e,r,a,i){var c=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+c(r)+c(a)+c(i)},Qc=function(e,r){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,h=/\s+$/,y,w={},R,L,V=bd;e=e||{},r&&(R=r.getValidStyles(),L=r.getInvalidStyles());var j=(`\\" \\' \\; \\: ; : `+V).split(" ");for(y=0;y<j.length;y++)w[j[y]]=V+y,w[V+y]=j[y];return{toHex:function(re){return re.replace(i,oy)},parse:function(re){var ae={},ie,se,we,he,Ze=e.url_converter,Ve=e.url_converter_scope||a,Ee=function(Jt,wr,Qt){var hr=ae[Jt+"-top"+wr];if(hr){var Or=ae[Jt+"-right"+wr];if(Or){var Vt=ae[Jt+"-bottom"+wr];if(Vt){var Er=ae[Jt+"-left"+wr];if(Er){var ea=[hr,Or,Vt,Er];for(y=ea.length-1;y--&&ea[y]===ea[y+1];);y>-1&&Qt||(ae[Jt+wr]=y===-1?ea[0]:ea.join(" "),delete ae[Jt+"-top"+wr],delete ae[Jt+"-right"+wr],delete ae[Jt+"-bottom"+wr],delete ae[Jt+"-left"+wr])}}}}},nt=function(Jt){var wr=ae[Jt],Qt;if(wr){for(wr=wr.split(" "),Qt=wr.length;Qt--;)if(wr[Qt]!==wr[0])return!1;return ae[Jt]=wr[0],!0}},Tt=function(Jt,wr,Qt,hr){nt(wr)&&nt(Qt)&&nt(hr)&&(ae[Jt]=ae[wr]+" "+ae[Qt]+" "+ae[hr],delete ae[wr],delete ae[Qt],delete ae[hr])},Kt=function(Jt){return he=!0,w[Jt]},nn=function(Jt,wr){return he&&(Jt=Jt.replace(/\uFEFF[0-9]/g,function(Qt){return w[Qt]})),wr||(Jt=Jt.replace(/\\([\'\";:])/g,"$1")),Jt},Cr=function(Jt){return String.fromCharCode(parseInt(Jt.slice(1),16))},At=function(Jt){return Jt.replace(/\\[0-9a-f]+/gi,Cr)},qr=function(Jt,wr,Qt,hr,Or,Vt){if(Or=Or||Vt,Or)return Or=nn(Or),"'"+Or.replace(/\'/g,"\\'")+"'";if(wr=nn(wr||Qt||hr),!e.allow_script_urls){var Er=wr.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Er)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Er))return""}return Ze&&(wr=Ze.call(Ve,wr,"style")),"url('"+wr.replace(/\'/g,"\\'")+"')"};if(re){for(re=re.replace(/[\u0000-\u001F]/g,""),re=re.replace(/\\[\"\';:\uFEFF]/g,Kt).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Jt){return Jt.replace(/[;:]/g,Kt)});ie=f.exec(re);)if(f.lastIndex=ie.index+ie[0].length,se=ie[1].replace(h,"").toLowerCase(),we=ie[2].replace(h,""),se&&we){if(se=At(se),we=At(we),se.indexOf(V)!==-1||se.indexOf('"')!==-1||!e.allow_script_urls&&(se==="behavior"||/expression\s*\(|\/\*|\*\//.test(we)))continue;se==="font-weight"&&we==="700"?we="bold":(se==="color"||se==="background-color")&&(we=we.toLowerCase()),we=we.replace(i,oy),we=we.replace(c,qr),ae[se]=he?nn(we,!0):we}Ee("border","",!0),Ee("border","-width"),Ee("border","-color"),Ee("border","-style"),Ee("padding",""),Ee("margin",""),Tt("border","border-width","border-style","border-color"),ae.border==="medium none"&&delete ae.border,ae["border-image"]==="none"&&delete ae["border-image"]}return ae},serialize:function(re,ae){var ie="",se=function(he){var Ze,Ve=R[he];if(Ve)for(var Ee=0,nt=Ve.length;Ee<nt;Ee++)he=Ve[Ee],Ze=re[he],Ze&&(ie+=(ie.length>0?" ":"")+he+": "+Ze+";")},we=function(he,Ze){var Ve=L["*"];return Ve&&Ve[he]?!1:(Ve=L[Ze],!(Ve&&Ve[he]))};return ae&&R?(se("*"),se(ae)):xn(re,function(he,Ze){he&&(!L||we(Ze,ae))&&(ie+=(ie.length>0?" ":"")+Ze+": "+he+";")}),ie}}},ok={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ro=function(e){return e instanceof Event||ce(e.initEvent)},t1=function(e){return e.isDefaultPrevented===sr||e.isDefaultPrevented===Wt},iy=function(e){return Le(e.preventDefault)||ro(e)},uy=function(e,r){var a=r??{};for(var i in e)Sn(ok,i)||(a[i]=e[i]);return Ge(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},Bt=function(e,r,a,i){var c,f=uy(r,i);return f.type=e,Le(f.target)&&(f.target=(c=f.srcElement)!==null&&c!==void 0?c:a),iy(r)&&(f.preventDefault=function(){f.defaultPrevented=!0,f.isDefaultPrevented=sr,ce(r.preventDefault)?r.preventDefault():ro(r)&&(r.returnValue=!1)},f.stopPropagation=function(){f.cancelBubble=!0,f.isPropagationStopped=sr,ce(r.stopPropagation)?r.stopPropagation():ro(r)&&(r.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=sr,f.stopPropagation()},t1(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?sr:Wt,f.isPropagationStopped=f.cancelBubble===!0?sr:Wt,f.isImmediatePropagationStopped=Wt)),f},r1="mce-data-",n1=/^(?:mouse|contextmenu)|click/,Cd=function(e,r,a,i){e.addEventListener?e.addEventListener(r,a,i||!1):e.attachEvent&&e.attachEvent("on"+r,a)},yp=function(e,r,a,i){e.removeEventListener?e.removeEventListener(r,a,i||!1):e.detachEvent&&e.detachEvent("on"+r,a)},gv=function(e){return Ge(e)&&n1.test(e.type)},xd=function(e,r){var a=Bt(e.type,e,document,r);if(gv(e)&&ze(e.pageX)&&!ze(e.clientX)){var i=a.target.ownerDocument||document,c=i.documentElement,f=i.body,h=a;h.pageX=e.clientX+(c&&c.scrollLeft||f&&f.scrollLeft||0)-(c&&c.clientLeft||f&&f.clientLeft||0),h.pageY=e.clientY+(c&&c.scrollTop||f&&f.scrollTop||0)-(c&&c.clientTop||f&&f.clientTop||0)}return ze(a.metaKey)&&(a.metaKey=!1),a},yv=function(e,r,a){var i=e.document,c={type:"ready"};if(a.domLoaded){r(c);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},h=function(){yp(e,"DOMContentLoaded",h),yp(e,"load",h),a.domLoaded||(a.domLoaded=!0,r(c)),e=null};f()?h():Cd(e,"DOMContentLoaded",h),a.domLoaded||Cd(e,"load",h)},Bm=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=r1+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(r,a,i,c){var f=this,h,y,w,R,L,V,j,re=window,ae=function(se){f.executeHandlers(xd(se||re.event),h)};if(!(!r||r.nodeType===3||r.nodeType===8)){r[f.expando]?h=r[f.expando]:(h=f.count++,r[f.expando]=h,f.events[h]={}),c=c||r;var ie=a.split(" ");for(w=ie.length;w--;){if(R=ie[w],V=ae,L=j=!1,R==="DOMContentLoaded"&&(R="ready"),f.domLoaded&&R==="ready"&&r.readyState==="complete"){i.call(c,xd({type:R}));continue}f.hasMouseEnterLeave||(L=f.mouseEnterLeave[R],L&&(V=function(se){var we=se.currentTarget,he=se.relatedTarget;if(he&&we.contains)he=we.contains(he);else for(;he&&he!==we;)he=he.parentNode;he||(se=xd(se||re.event),se.type=se.type==="mouseout"?"mouseleave":"mouseenter",se.target=we,f.executeHandlers(se,h))})),!f.hasFocusIn&&(R==="focusin"||R==="focusout")&&(j=!0,L=R==="focusin"?"focus":"blur",V=function(se){se=xd(se||re.event),se.type=se.type==="focus"?"focusin":"focusout",f.executeHandlers(se,h)}),y=f.events[h][R],y?R==="ready"&&f.domLoaded?i(xd({type:R})):y.push({func:i,scope:c}):(f.events[h][R]=y=[{func:i,scope:c}],y.fakeName=L,y.capture=j,y.nativeHandler=V,R==="ready"?yv(r,V,f):Cd(r,L||R,V,j))}return r=y=null,i}},e.prototype.unbind=function(r,a,i){var c,f,h,y,w;if(!r||r.nodeType===3||r.nodeType===8)return this;var R=r[this.expando];if(R){if(w=this.events[R],a){var L=a.split(" ");for(f=L.length;f--;)if(y=L[f],c=w[y],c){if(i){for(h=c.length;h--;)if(c[h].func===i){var V=c.nativeHandler,j=c.fakeName,re=c.capture;c=c.slice(0,h).concat(c.slice(h+1)),c.nativeHandler=V,c.fakeName=j,c.capture=re,w[y]=c}}(!i||c.length===0)&&(delete w[y],yp(r,c.fakeName||y,c.nativeHandler,c.capture))}}else xn(w,function(ae,ie){yp(r,ae.fakeName||ie,ae.nativeHandler,ae.capture)}),w={};for(y in w)if(Sn(w,y))return this;delete this.events[R];try{delete r[this.expando]}catch{r[this.expando]=null}}return this},e.prototype.fire=function(r,a,i){var c;if(!r||r.nodeType===3||r.nodeType===8)return this;var f=xd({type:a,target:r},i);do c=r[this.expando],c&&this.executeHandlers(f,c),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow;while(r&&!f.isPropagationStopped());return this},e.prototype.clean=function(r){var a,i;if(!r||r.nodeType===3||r.nodeType===8)return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName)for(this.unbind(r),i=r.getElementsByTagName("*"),a=i.length;a--;)r=i[a],r[this.expando]&&this.unbind(r);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(r,a){var i=this.events[a],c=i&&i[r.type];if(c)for(var f=0,h=c.length;f<h;f++){var y=c[f];if(y&&y.func.call(y.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}},e.Event=new e,e}(),ci,Bn,fc,ik,Ws,a1,Yl,Vf,Uf,dc,Sd,$i,ns,Zl,Td,Nm,bv,Nr,Zi="sizzle"+-new Date,kl=window.document,Jl=0,bp=0,uk=fy(),sy=fy(),Ed=fy(),zd=function(e,r){return e===r&&(dc=!0),0},Pm="undefined",_p=1<<31,Mx={}.hasOwnProperty,vc=[],o1=vc.pop,_v=vc.push,Ad=vc.push,i1=vc.slice,Od=vc.indexOf||function(e){for(var r=0,a=this.length;r<a;r++)if(this[r]===e)return r;return-1},sk="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Fo="[\\x20\\t\\r\\n\\f]",du="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Du="\\["+Fo+"*("+du+")(?:"+Fo+"*([*^$|!~]?=)"+Fo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+du+"))|)"+Fo+"*\\]",ck=":("+du+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Du+")*)|.*)\\)|)",cy=new RegExp("^"+Fo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fo+"+$","g"),Bx=new RegExp("^"+Fo+"*,"+Fo+"*"),lk=new RegExp("^"+Fo+"*([>+~]|"+Fo+")"+Fo+"*"),el=new RegExp("="+Fo+`*([^\\]'"]*?)`+Fo+"*\\]","g"),Nx=new RegExp(ck),Fm=new RegExp("^"+du+"$"),ly={ID:new RegExp("^#("+du+")"),CLASS:new RegExp("^\\.("+du+")"),TAG:new RegExp("^("+du+"|[*])"),ATTR:new RegExp("^"+Du),PSEUDO:new RegExp("^"+ck),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Fo+"*(even|odd|(([+-]|)(\\d*)n|)"+Fo+"*(?:([+-]|)"+Fo+"*(\\d+)|))"+Fo+"*\\)|)","i"),bool:new RegExp("^(?:"+sk+")$","i"),needsContext:new RegExp("^"+Fo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Fo+"*((?:-\\d)?\\d*)"+Fo+"*\\)|)(?=[^-]|$)","i")},Px=/^(?:input|select|textarea|button)$/i,fk=/^h\d$/i,u1=/^[^{]+\{\s*\[native \w/,s1=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,c1=/[+~]/,Fx=/'|\\/g,Rd=new RegExp("\\\\([\\da-f]{1,6}"+Fo+"?|("+Fo+")|.)","ig"),Dd=function(e,r,a){var i="0x"+r-65536;return i!==i||a?r:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Ad.apply(vc=i1.call(kl.childNodes),kl.childNodes),vc[kl.childNodes.length].nodeType}catch{Ad={apply:vc.length?function(r,a){_v.apply(r,i1.call(a))}:function(r,a){for(var i=r.length,c=0;r[i++]=a[c++];);r.length=i-1}}}var Ya=function(e,r,a,i){var c,f,h,y,w,R,L,V,j,re;if((r?r.ownerDocument||r:kl)!==$i&&Sd(r),r=r||$i,a=a||[],!e||typeof e!="string")return a;if((y=r.nodeType)!==1&&y!==9)return[];if(Zl&&!i){if(c=s1.exec(e))if(h=c[1]){if(y===9)if(f=r.getElementById(h),f&&f.parentNode){if(f.id===h)return a.push(f),a}else return a;else if(r.ownerDocument&&(f=r.ownerDocument.getElementById(h))&&Nr(r,f)&&f.id===h)return a.push(f),a}else{if(c[2])return Ad.apply(a,r.getElementsByTagName(e)),a;if((h=c[3])&&ci.getElementsByClassName)return Ad.apply(a,r.getElementsByClassName(h)),a}if(ci.qsa&&(!Td||!Td.test(e))){if(V=L=Zi,j=r,re=y===9&&e,y===1&&r.nodeName.toLowerCase()!=="object"){for(R=Ws(e),(L=r.getAttribute("id"))?V=L.replace(Fx,"\\$&"):r.setAttribute("id",V),V="[id='"+V+"'] ",w=R.length;w--;)R[w]=V+vy(R[w]);j=c1.test(e)&&dy(r.parentNode)||r,re=R.join(",")}if(re)try{return Ad.apply(a,j.querySelectorAll(re)),a}catch{}finally{L||r.removeAttribute("id")}}}return Yl(e.replace(cy,"$1"),r,a,i)};function fy(){var e=[];function r(a,i){return e.push(a+" ")>Bn.cacheLength&&delete r[e.shift()],r[a+" "]=i}return r}function Cl(e){return e[Zi]=!0,e}function dk(e,r){var a=r&&e,i=a&&e.nodeType===1&&r.nodeType===1&&(~r.sourceIndex||_p)-(~e.sourceIndex||_p);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===r)return-1}return e?1:-1}function xl(e){return function(r){var a=r.nodeName.toLowerCase();return a==="input"&&r.type===e}}function Ql(e){return function(r){var a=r.nodeName.toLowerCase();return(a==="input"||a==="button")&&r.type===e}}function Md(e){return Cl(function(r){return r=+r,Cl(function(a,i){for(var c,f=e([],a.length,r),h=f.length;h--;)a[c=f[h]]&&(a[c]=!(i[c]=a[c]))})})}function dy(e){return e&&typeof e.getElementsByTagName!==Pm&&e}ci=Ya.support={},ik=Ya.isXML=function(e){var r=e&&(e.ownerDocument||e).documentElement;return r?r.nodeName!=="HTML":!1},Sd=Ya.setDocument=function(e){var r,a=e?e.ownerDocument||e:kl,i=a.defaultView;function c(f){try{return f.top}catch{}return null}return a===$i||a.nodeType!==9||!a.documentElement?$i:($i=a,ns=a.documentElement,Zl=!ik(a),i&&i!==c(i)&&(i.addEventListener?i.addEventListener("unload",function(){Sd()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Sd()})),ci.attributes=!0,ci.getElementsByTagName=!0,ci.getElementsByClassName=u1.test(a.getElementsByClassName),ci.getById=!0,Bn.find.ID=function(f,h){if(typeof h.getElementById!==Pm&&Zl){var y=h.getElementById(f);return y&&y.parentNode?[y]:[]}},Bn.filter.ID=function(f){var h=f.replace(Rd,Dd);return function(y){return y.getAttribute("id")===h}},Bn.find.TAG=ci.getElementsByTagName?function(f,h){if(typeof h.getElementsByTagName!==Pm)return h.getElementsByTagName(f)}:function(f,h){var y,w=[],R=0,L=h.getElementsByTagName(f);if(f==="*"){for(;y=L[R++];)y.nodeType===1&&w.push(y);return w}return L},Bn.find.CLASS=ci.getElementsByClassName&&function(f,h){if(Zl)return h.getElementsByClassName(f)},Nm=[],Td=[],ci.disconnectedMatch=!0,Td=Td.length&&new RegExp(Td.join("|")),Nm=Nm.length&&new RegExp(Nm.join("|")),r=u1.test(ns.compareDocumentPosition),Nr=r||u1.test(ns.contains)?function(f,h){var y=f.nodeType===9?f.documentElement:f,w=h&&h.parentNode;return f===w||!!(w&&w.nodeType===1&&(y.contains?y.contains(w):f.compareDocumentPosition&&f.compareDocumentPosition(w)&16))}:function(f,h){if(h){for(;h=h.parentNode;)if(h===f)return!0}return!1},zd=r?function(f,h){if(f===h)return dc=!0,0;var y=!f.compareDocumentPosition-!h.compareDocumentPosition;return y||(y=(f.ownerDocument||f)===(h.ownerDocument||h)?f.compareDocumentPosition(h):1,y&1||!ci.sortDetached&&h.compareDocumentPosition(f)===y?f===a||f.ownerDocument===kl&&Nr(kl,f)?-1:h===a||h.ownerDocument===kl&&Nr(kl,h)?1:Uf?Od.call(Uf,f)-Od.call(Uf,h):0:y&4?-1:1)}:function(f,h){if(f===h)return dc=!0,0;var y,w=0,R=f.parentNode,L=h.parentNode,V=[f],j=[h];if(!R||!L)return f===a?-1:h===a?1:R?-1:L?1:Uf?Od.call(Uf,f)-Od.call(Uf,h):0;if(R===L)return dk(f,h);for(y=f;y=y.parentNode;)V.unshift(y);for(y=h;y=y.parentNode;)j.unshift(y);for(;V[w]===j[w];)w++;return w?dk(V[w],j[w]):V[w]===kl?-1:j[w]===kl?1:0},a)},Ya.matches=function(e,r){return Ya(e,null,null,r)},Ya.matchesSelector=function(e,r){if((e.ownerDocument||e)!==$i&&Sd(e),r=r.replace(el,"='$1']"),ci.matchesSelector&&Zl&&(!Nm||!Nm.test(r))&&(!Td||!Td.test(r)))try{var a=bv.call(e,r);if(a||ci.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return Ya(r,$i,null,[e]).length>0},Ya.contains=function(e,r){return(e.ownerDocument||e)!==$i&&Sd(e),Nr(e,r)},Ya.attr=function(e,r){(e.ownerDocument||e)!==$i&&Sd(e);var a=Bn.attrHandle[r.toLowerCase()],i=a&&Mx.call(Bn.attrHandle,r.toLowerCase())?a(e,r,!Zl):void 0;return i!==void 0?i:ci.attributes||!Zl?e.getAttribute(r):(i=e.getAttributeNode(r))&&i.specified?i.value:null},Ya.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ya.uniqueSort=function(e){var r,a=[],i=0,c=0;if(dc=!ci.detectDuplicates,Uf=!ci.sortStable&&e.slice(0),e.sort(zd),dc){for(;r=e[c++];)r===e[c]&&(i=a.push(c));for(;i--;)e.splice(a[i],1)}return Uf=null,e},fc=Ya.getText=function(e){var r,a="",i=0,c=e.nodeType;if(c){if(c===1||c===9||c===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=fc(e)}else if(c===3||c===4)return e.nodeValue}else for(;r=e[i++];)a+=fc(r);return a},Bn=Ya.selectors={cacheLength:50,createPseudo:Cl,match:ly,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Rd,Dd),e[3]=(e[3]||e[4]||e[5]||"").replace(Rd,Dd),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||Ya.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&Ya.error(e[0]),e},PSEUDO:function(e){var r,a=!e[6]&&e[2];return ly.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&Nx.test(a)&&(r=Ws(a,!0))&&(r=a.indexOf(")",a.length-r)-a.length)&&(e[0]=e[0].slice(0,r),e[2]=a.slice(0,r)),e.slice(0,3))}},filter:{TAG:function(e){var r=e.replace(Rd,Dd).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===r}},CLASS:function(e){var r=uk[e+" "];return r||(r=new RegExp("(^|"+Fo+")"+e+"("+Fo+"|$)"))&&uk(e,function(a){return r.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Pm&&a.getAttribute("class")||"")})},ATTR:function(e,r,a){return function(i){var c=Ya.attr(i,e);return c==null?r==="!=":r?(c+="",r==="="?c===a:r==="!="?c!==a:r==="^="?a&&c.indexOf(a)===0:r==="*="?a&&c.indexOf(a)>-1:r==="$="?a&&c.slice(-a.length)===a:r==="~="?(" "+c+" ").indexOf(a)>-1:r==="|="?c===a||c.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,r,a,i,c){var f=e.slice(0,3)!=="nth",h=e.slice(-4)!=="last",y=r==="of-type";return i===1&&c===0?function(w){return!!w.parentNode}:function(w,R,L){var V,j,re,ae,ie,se,we=f!==h?"nextSibling":"previousSibling",he=w.parentNode,Ze=y&&w.nodeName.toLowerCase(),Ve=!L&&!y;if(he){if(f){for(;we;){for(re=w;re=re[we];)if(y?re.nodeName.toLowerCase()===Ze:re.nodeType===1)return!1;se=we=e==="only"&&!se&&"nextSibling"}return!0}if(se=[h?he.firstChild:he.lastChild],h&&Ve){for(j=he[Zi]||(he[Zi]={}),V=j[e]||[],ie=V[0]===Jl&&V[1],ae=V[0]===Jl&&V[2],re=ie&&he.childNodes[ie];re=++ie&&re&&re[we]||(ae=ie=0)||se.pop();)if(re.nodeType===1&&++ae&&re===w){j[e]=[Jl,ie,ae];break}}else if(Ve&&(V=(w[Zi]||(w[Zi]={}))[e])&&V[0]===Jl)ae=V[1];else for(;(re=++ie&&re&&re[we]||(ae=ie=0)||se.pop())&&!((y?re.nodeName.toLowerCase()===Ze:re.nodeType===1)&&++ae&&(Ve&&((re[Zi]||(re[Zi]={}))[e]=[Jl,ae]),re===w)););return ae-=c,ae===i||ae%i===0&&ae/i>=0}}},PSEUDO:function(e,r){var a,i=Bn.pseudos[e]||Bn.setFilters[e.toLowerCase()]||Ya.error("unsupported pseudo: "+e);return i[Zi]?i(r):i.length>1?(a=[e,e,"",r],Bn.setFilters.hasOwnProperty(e.toLowerCase())?Cl(function(c,f){for(var h,y=i(c,r),w=y.length;w--;)h=Od.call(c,y[w]),c[h]=!(f[h]=y[w])}):function(c){return i(c,0,a)}):i}},pseudos:{not:Cl(function(e){var r=[],a=[],i=a1(e.replace(cy,"$1"));return i[Zi]?Cl(function(c,f,h,y){for(var w,R=i(c,null,y,[]),L=c.length;L--;)(w=R[L])&&(c[L]=!(f[L]=w))}):function(c,f,h){return r[0]=c,i(r,null,h,a),r[0]=null,!a.pop()}}),has:Cl(function(e){return function(r){return Ya(e,r).length>0}}),contains:Cl(function(e){return e=e.replace(Rd,Dd),function(r){return(r.textContent||r.innerText||fc(r)).indexOf(e)>-1}}),lang:Cl(function(e){return Fm.test(e||"")||Ya.error("unsupported lang: "+e),e=e.replace(Rd,Dd).toLowerCase(),function(r){var a;do if(a=Zl?r.lang:r.getAttribute("xml:lang")||r.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((r=r.parentNode)&&r.nodeType===1);return!1}}),target:function(e){var r=window.location&&window.location.hash;return r&&r.slice(1)===e.id},root:function(e){return e===ns},focus:function(e){return e===$i.activeElement&&(!$i.hasFocus||$i.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&!!e.checked||r==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Bn.pseudos.empty(e)},header:function(e){return fk.test(e.nodeName)},input:function(e){return Px.test(e.nodeName)},button:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&e.type==="button"||r==="button"},text:function(e){var r;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((r=e.getAttribute("type"))==null||r.toLowerCase()==="text")},first:Md(function(){return[0]}),last:Md(function(e,r){return[r-1]}),eq:Md(function(e,r,a){return[a<0?a+r:a]}),even:Md(function(e,r){for(var a=0;a<r;a+=2)e.push(a);return e}),odd:Md(function(e,r){for(var a=1;a<r;a+=2)e.push(a);return e}),lt:Md(function(e,r,a){for(var i=a<0?a+r:a;--i>=0;)e.push(i);return e}),gt:Md(function(e,r,a){for(var i=a<0?a+r:a;++i<r;)e.push(i);return e})}},Bn.pseudos.nth=Bn.pseudos.eq,je(["radio","checkbox","file","password","image"],function(e){Bn.pseudos[e]=xl(e)}),je(["submit","reset"],function(e){Bn.pseudos[e]=Ql(e)});function wp(){}wp.prototype=Bn.filters=Bn.pseudos,Bn.setFilters=new wp,Ws=Ya.tokenize=function(e,r){var a,i,c,f,h,y,w,R=sy[e+" "];if(R)return r?0:R.slice(0);for(h=e,y=[],w=Bn.preFilter;h;){(!a||(i=Bx.exec(h)))&&(i&&(h=h.slice(i[0].length)||h),y.push(c=[])),a=!1,(i=lk.exec(h))&&(a=i.shift(),c.push({value:a,type:i[0].replace(cy," ")}),h=h.slice(a.length));for(f in Bn.filter)Bn.filter.hasOwnProperty(f)&&(i=ly[f].exec(h))&&(!w[f]||(i=w[f](i)))&&(a=i.shift(),c.push({value:a,type:f,matches:i}),h=h.slice(a.length));if(!a)break}return r?h.length:h?Ya.error(e):sy(e,y).slice(0)};function vy(e){for(var r=0,a=e.length,i="";r<a;r++)i+=e[r].value;return i}function my(e,r,a){var i=r.dir,c=a&&i==="parentNode",f=bp++;return r.first?function(h,y,w){for(;h=h[i];)if(h.nodeType===1||c)return e(h,y,w)}:function(h,y,w){var R,L,V=[Jl,f];if(w){for(;h=h[i];)if((h.nodeType===1||c)&&e(h,y,w))return!0}else for(;h=h[i];)if(h.nodeType===1||c){if(L=h[Zi]||(h[Zi]={}),(R=L[i])&&R[0]===Jl&&R[1]===f)return V[2]=R[2];if(L[i]=V,V[2]=e(h,y,w))return!0}}}function wv(e){return e.length>1?function(r,a,i){for(var c=e.length;c--;)if(!e[c](r,a,i))return!1;return!0}:e[0]}function Ix(e,r,a){for(var i=0,c=r.length;i<c;i++)Ya(e,r[i],a);return a}function hy(e,r,a,i,c){for(var f,h=[],y=0,w=e.length,R=r!=null;y<w;y++)(f=e[y])&&(!a||a(f,i,c))&&(h.push(f),R&&r.push(y));return h}function Im(e,r,a,i,c,f){return i&&!i[Zi]&&(i=Im(i)),c&&!c[Zi]&&(c=Im(c,f)),Cl(function(h,y,w,R){var L,V,j,re=[],ae=[],ie=y.length,se=h||Ix(r||"*",w.nodeType?[w]:w,[]),we=e&&(h||!r)?hy(se,re,e,w,R):se,he=a?c||(h?e:ie||i)?[]:y:we;if(a&&a(we,he,w,R),i)for(L=hy(he,ae),i(L,[],w,R),V=L.length;V--;)(j=L[V])&&(he[ae[V]]=!(we[ae[V]]=j));if(h){if(c||e){if(c){for(L=[],V=he.length;V--;)(j=he[V])&&L.push(we[V]=j);c(null,he=[],L,R)}for(V=he.length;V--;)(j=he[V])&&(L=c?Od.call(h,j):re[V])>-1&&(h[L]=!(y[L]=j))}}else he=hy(he===y?he.splice(ie,he.length):he),c?c(null,y,he,R):Ad.apply(y,he)})}function kp(e){for(var r,a,i,c=e.length,f=Bn.relative[e[0].type],h=f||Bn.relative[" "],y=f?1:0,w=my(function(V){return V===r},h,!0),R=my(function(V){return Od.call(r,V)>-1},h,!0),L=[function(V,j,re){var ae=!f&&(re||j!==Vf)||((r=j).nodeType?w(V,j,re):R(V,j,re));return r=null,ae}];y<c;y++)if(a=Bn.relative[e[y].type])L=[my(wv(L),a)];else{if(a=Bn.filter[e[y].type].apply(null,e[y].matches),a[Zi]){for(i=++y;i<c&&!Bn.relative[e[i].type];i++);return Im(y>1&&wv(L),y>1&&vy(e.slice(0,y-1).concat({value:e[y-2].type===" "?"*":""})).replace(cy,"$1"),a,y<i&&kp(e.slice(y,i)),i<c&&kp(e=e.slice(i)),i<c&&vy(e))}L.push(a)}return wv(L)}function Cp(e,r){var a=r.length>0,i=e.length>0,c=function(f,h,y,w,R){var L,V,j,re=0,ae="0",ie=f&&[],se=[],we=Vf,he=f||i&&Bn.find.TAG("*",R),Ze=Jl+=we==null?1:Math.random()||.1,Ve=he.length;for(R&&(Vf=h!==$i&&h);ae!==Ve&&(L=he[ae])!=null;ae++){if(i&&L){for(V=0;j=e[V++];)if(j(L,h,y)){w.push(L);break}R&&(Jl=Ze)}a&&((L=!j&&L)&&re--,f&&ie.push(L))}if(re+=ae,a&&ae!==re){for(V=0;j=r[V++];)j(ie,se,h,y);if(f){if(re>0)for(;ae--;)ie[ae]||se[ae]||(se[ae]=o1.call(w));se=hy(se)}Ad.apply(w,se),R&&!f&&se.length>0&&re+r.length>1&&Ya.uniqueSort(w)}return R&&(Jl=Ze,Vf=we),ie};return a?Cl(c):c}a1=Ya.compile=function(e,r){var a,i=[],c=[],f=Ed[e+" "];if(!f){for(r||(r=Ws(e)),a=r.length;a--;)f=kp(r[a]),f[Zi]?i.push(f):c.push(f);f=Ed(e,Cp(c,i)),f.selector=e}return f},Yl=Ya.select=function(e,r,a,i){var c,f,h,y,w,R=typeof e=="function"&&e,L=!i&&Ws(e=R.selector||e);if(a=a||[],L.length===1){if(f=L[0]=L[0].slice(0),f.length>2&&(h=f[0]).type==="ID"&&ci.getById&&r.nodeType===9&&Zl&&Bn.relative[f[1].type]){if(r=(Bn.find.ID(h.matches[0].replace(Rd,Dd),r)||[])[0],r)R&&(r=r.parentNode);else return a;e=e.slice(f.shift().value.length)}for(c=ly.needsContext.test(e)?0:f.length;c--&&(h=f[c],!Bn.relative[y=h.type]);)if((w=Bn.find[y])&&(i=w(h.matches[0].replace(Rd,Dd),c1.test(f[0].type)&&dy(r.parentNode)||r))){if(f.splice(c,1),e=i.length&&vy(f),!e)return Ad.apply(a,i),a;break}}return(R||a1(e,L))(i,r,!Zl,a,c1.test(e)&&dy(r.parentNode)||r),a},ci.sortStable=Zi.split("").sort(zd).join("")===Zi,ci.detectDuplicates=!!dc,Sd(),ci.sortDetached=!0;var l1=document,Ai=Array.prototype.push,kv=Array.prototype.slice,yi=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,as=Bm.Event,Cv=ht.makeMap("children,contents,next,prev"),mc=function(e){return typeof e<"u"},py=function(e){return typeof e=="string"},ef=function(e){return e&&e===e.window},$m=function(e,r){r=r||l1;var a=r.createElement("div"),i=r.createDocumentFragment();a.innerHTML=e;for(var c;c=a.firstChild;)i.appendChild(c);return i},Lm=function(e,r,a,i){var c;if(py(r))r=$m(r,Bd(e[0]));else if(r.length&&!r.nodeType){if(r=Ln.makeArray(r),i)for(c=r.length-1;c>=0;c--)Lm(e,r[c],a,i);else for(c=0;c<r.length;c++)Lm(e,r[c],a,i);return e}if(r.nodeType)for(c=e.length;c--;)a.call(e[c],r);return e},vk=function(e,r){return e&&r&&(" "+e.className+" ").indexOf(" "+r+" ")!==-1},mk=function(e,r,a){var i,c;return r=Ln(r)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,c=r.cloneNode(!1),f.parentNode.insertBefore(c,f)),c.appendChild(f)}),e},$x=ht.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Lx=ht.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Hx={for:"htmlFor",class:"className",readonly:"readOnly"},hk={float:"cssFloat"},gy={},yy={},vu=function(e,r){return new Ln.fn.init(e,r)},by=function(e,r){var a;if(r.indexOf)return r.indexOf(e);for(a=r.length;a--;)if(r[a]===e)return a;return-1},f1=/^\s*|\s*$/g,Ac=function(e){return e==null?"":(""+e).replace(f1,"")},wo=function(e,r){var a,i,c,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],r.call(f,i,f)===!1))break}else for(c=0;c<a&&(f=e[c],r.call(f,c,f)!==!1);c++);return e},hc=function(e,r){var a=[];return wo(e,function(i,c){r(c,i)&&a.push(c)}),a},Bd=function(e){return e?e.nodeType===9?e:e.ownerDocument:l1};vu.fn=vu.prototype={constructor:vu,selector:"",context:null,length:0,init:function(e,r){var a=this,i,c;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(r&&r.nodeType)a.context=r;else{if(r)return Ln(e).attr(r);a.context=r=document}if(py(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=yi.exec(e),i)if(i[1])for(c=$m(e,Bd(r)).firstChild;c;)Ai.call(a,c),c=c.nextSibling;else{if(c=Bd(r).getElementById(i[2]),!c)return a;if(c.id!==i[2])return a.find(e);a.length=1,a[0]=c}else return Ln(r).find(e);else this.add(e,!1);return a},toArray:function(){return ht.toArray(this)},add:function(e,r){var a=this,i,c;if(py(e))return a.add(Ln(e));if(r!==!1)for(i=Ln.unique(a.toArray().concat(Ln.makeArray(e))),a.length=i.length,c=0;c<i.length;c++)a[c]=i[c];else Ai.apply(a,Ln.makeArray(e));return a},attr:function(e,r){var a=this,i;if(typeof e=="object")wo(e,function(c,f){a.attr(c,f)});else if(mc(r))this.each(function(){var c;if(this.nodeType===1){if(c=gy[e],c&&c.set){c.set(this,r);return}r===null?this.removeAttribute(e,2):this.setAttribute(e,r,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=gy[e],i&&i.get)return i.get(a[0],e);if(Lx[e])return a.prop(e)?e:void 0;r=a[0].getAttribute(e,2),r===null&&(r=void 0)}return r}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,r){var a=this;if(e=Hx[e]||e,typeof e=="object")wo(e,function(i,c){a.prop(i,c)});else if(mc(r))this.each(function(){this.nodeType===1&&(this[e]=r)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:r;return a},css:function(e,r){var a=this,i,c,f=function(y){return y.replace(/-(\D)/g,function(w,R){return R.toUpperCase()})},h=function(y){return y.replace(/[A-Z]/g,function(w){return"-"+w})};if(typeof e=="object")wo(e,function(y,w){a.css(y,w)});else if(mc(r))e=f(e),typeof r=="number"&&!$x[e]&&(r=r.toString()+"px"),a.each(function(){var y=this.style;if(c=yy[e],c&&c.set){c.set(this,r);return}try{this.style[hk[e]||e]=r}catch{}(r===null||r==="")&&(y.removeProperty?y.removeProperty(h(e)):y.removeAttribute(e))});else{if(i=a[0],c=yy[e],c&&c.get)return c.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(h(e))}catch{return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,r,a=this.length;a--;)r=e[a],as.clean(r),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=this,r,a=this.length;a--;)for(r=e[a];r.firstChild;)r.removeChild(r.firstChild);return this},html:function(e){var r=this,a;if(mc(e)){a=r.length;try{for(;a--;)r[a].innerHTML=e}catch{Ln(r[a]).empty().append(e)}return r}return r[0]?r[0].innerHTML:""},text:function(e){var r=this,a;if(mc(e)){for(a=r.length;a--;)"innerText"in r[a]?r[a].innerText=e:r[0].textContent=e;return r}return r[0]?r[0].innerText||r[0].textContent:""},append:function(){return Lm(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Lm(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Lm(e,arguments,function(r){this.parentNode.insertBefore(r,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Lm(e,arguments,function(r){this.parentNode.insertBefore(r,this.nextSibling)},!0):e},appendTo:function(e){return Ln(e).append(this),this},prependTo:function(e){return Ln(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return mk(this,e)},wrapAll:function(e){return mk(this,e,!0)},wrapInner:function(e){return this.each(function(){Ln(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Ln(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Ln(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,r){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?wo(e.split(" "),function(){a.toggleClass(this,r)}):a.each(function(i,c){var f=vk(c,e);if(f!==r){var h=c.className;f?c.className=Ac((" "+h+" ").replace(" "+e+" "," ")):c.className+=h?" "+e:e}})),a},hasClass:function(e){return vk(this[0],e)},each:function(e){return wo(this,e)},on:function(e,r){return this.each(function(){as.bind(this,e,r)})},off:function(e,r){return this.each(function(){as.unbind(this,e,r)})},trigger:function(e){return this.each(function(){typeof e=="object"?as.fire(this,e.type,e):as.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Ln(kv.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var r,a,i=[];for(r=0,a=this.length;r<a;r++)Ln.find(e,this[r],i);return Ln(i)},filter:function(e){return Ln(typeof e=="function"?hc(this.toArray(),function(r,a){return e(a,r)}):Ln.filter(e,this.toArray()))},closest:function(e){var r=[];return e instanceof Ln&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Ln(i).is(e)){r.push(i);break}else if(i===e){r.push(i);break}i=i.parentNode}}),Ln(r)},offset:function(e){var r,a,i,c=0,f=0,h;return e?this.css(e):(r=this[0],r&&(a=r.ownerDocument,i=a.documentElement,r.getBoundingClientRect&&(h=r.getBoundingClientRect(),c=h.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=h.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:c,top:f})},push:Ai,sort:Array.prototype.sort,splice:Array.prototype.splice},ht.extend(vu,{extend:ht.extend,makeArray:function(e){return ef(e)||e.nodeType?[e]:ht.toArray(e)},inArray:by,isArray:ht.isArray,each:wo,trim:Ac,grep:hc,find:Ya,expr:Ya.selectors,unique:Ya.uniqueSort,text:Ya.getText,contains:Ya.contains,filter:function(e,r,a){var i=r.length;for(a&&(e=":not("+e+")");i--;)r[i].nodeType!==1&&r.splice(i,1);return r.length===1?r=Ln.find.matchesSelector(r[0],e)?[r[0]]:[]:r=Ln.find.matches(e,r),r}});var d1=function(e,r,a){var i=[],c=e[r];for(typeof a!="string"&&a instanceof Ln&&(a=a[0]);c&&c.nodeType!==9&&!(a!==void 0&&(c===a||typeof a=="string"&&Ln(c).is(a)));)c.nodeType===1&&i.push(c),c=c[r];return i},_y=function(e,r,a,i){var c=[];for(i instanceof Ln&&(i=i[0]);e;e=e[r])if(e.nodeType===a){if(i!==void 0&&(e===i||typeof i=="string"&&Ln(e).is(i)))break;c.push(e)}return c},pk=function(e,r,a){for(e=e[r];e;e=e[r])if(e.nodeType===a)return e;return null};wo({parent:function(e){var r=e.parentNode;return r&&r.nodeType!==11?r:null},parents:function(e){return d1(e,"parentNode")},next:function(e){return pk(e,"nextSibling",1)},prev:function(e){return pk(e,"previousSibling",1)},children:function(e){return _y(e.firstChild,"nextSibling",1)},contents:function(e){return ht.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){vu.fn[e]=function(a){var i=this,c=[];i.each(function(){var h=r.call(c,this,a,c);h&&(Ln.isArray(h)?c.push.apply(c,h):c.push(h))}),this.length>1&&(Cv[e]||(c=Ln.unique(c)),e.indexOf("parents")===0&&(c=c.reverse()));var f=Ln(c);return a?f.filter(a):f}}),wo({parentsUntil:function(e,r){return d1(e,"parentNode",r)},nextUntil:function(e,r){return _y(e,"nextSibling",1,r).slice(1)},prevUntil:function(e,r){return _y(e,"previousSibling",1,r).slice(1)}},function(e,r){vu.fn[e]=function(a,i){var c=this,f=[];c.each(function(){var y=r.call(f,this,a,f);y&&(Ln.isArray(y)?f.push.apply(f,y):f.push(y))}),this.length>1&&(f=Ln.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var h=Ln(f);return i?h.filter(i):h}}),vu.fn.is=function(e){return!!e&&this.filter(e).length>0},vu.fn.init.prototype=vu.fn,vu.overrideDefaults=function(e){var r,a=function(i,c){return r=r||e(),arguments.length===0&&(i=r.element),c||(c=r.context),new a.fn.init(i,c)};return Ln.extend(a,this),a},vu.attrHooks=gy,vu.cssHooks=yy;var Ln=vu,Hm=ht.each,wy=ht.grep,v1=Zt.ie,Oi=/^([a-z0-9],?)+$/i,Oc=function(e,r,a){var i=r.keep_values,c={set:function(h,y,w){r.url_converter&&y!==null&&(y=r.url_converter.call(r.url_converter_scope||a(),y,w,h[0])),h.attr("data-mce-"+w,y).attr(w,y)},get:function(h,y){return h.attr("data-mce-"+y)||h.attr(y)}},f={style:{set:function(h,y){if(y!==null&&typeof y=="object"){h.css(y);return}i&&h.attr("data-mce-style",y),y!==null&&typeof y=="string"?(h.removeAttr("style"),h.css(e.parse(y))):h.attr("style",y)},get:function(h){var y=h.attr("data-mce-style")||h.attr("style");return y=e.serialize(e.parse(y),h[0].nodeName),y}}};return i&&(f.href=f.src=c),f},gk=function(e,r){var a=r.attr("style"),i=e.serialize(e.parse(a),r[0].nodeName);i||(i=null),r.attr("data-mce-style",i)},xv=function(e,r){var a=0,i,c;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)c=e.nodeType,!(r&&c===3&&(c===i||!e.nodeValue.length))&&(a++,i=c);return a},ho=function(e,r){r===void 0&&(r={});var a={},i=window,c={},f=0,h=!0,y=!0,w=Kc.forElement(x.fromDom(e),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy}),R=[],L=r.schema?r.schema:lc({}),V=Qc({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),j=r.ownEvents?new Bm:Bm.Event,re=L.getBlockElements(),ae=Ln.overrideDefaults(function(){return{context:e,element:Pg.getRoot()}}),ie=function(Me){if(typeof Me=="string")return!!re[Me];if(Me){var lt=Me.nodeType;if(lt)return!!(lt===1&&re[Me.nodeName])}return!1},se=function(Me){return Me&&e&&_e(Me)?e.getElementById(Me):Me},we=function(Me){return ae(typeof Me=="string"?se(Me):Me)},he=function(Me,lt,tr){var pr,jn,La=we(Me);return La.length&&(pr=uv[lt],pr&&pr.get?jn=pr.get(La,lt):jn=La.attr(lt)),typeof jn>"u"&&(jn=tr||""),jn},Ze=function(Me){var lt=se(Me);return lt?lt.attributes:[]},Ve=function(Me,lt,tr){tr===""&&(tr=null);var pr=we(Me),jn=pr.attr(lt);if(pr.length){var La=uv[lt];La&&La.set?La.set(pr,tr,lt):pr.attr(lt,tr),jn!==tr&&r.onSetAttrib&&r.onSetAttrib({attrElm:pr,attrName:lt,attrValue:tr})}},Ee=function(Me,lt){if(!v1||Me.nodeType!==1||lt)return Me.cloneNode(lt);var tr=e.createElement(Me.nodeName);return Hm(Ze(Me),function(pr){Ve(tr,pr.nodeName,he(Me,pr.nodeName))}),tr},nt=function(){return r.root_element||e.body},Tt=function(Me){var lt=Mf(Me);return{x:lt.x,y:lt.y,w:lt.width,h:lt.height}},Kt=function(Me,lt){return up(e.body,se(Me),lt)},nn=function(Me,lt,tr){var pr=_e(lt)?we(Me).css(lt,tr):we(Me).css(lt);r.update_styles&&gk(V,pr)},Cr=function(Me,lt){var tr=we(Me).css(lt);r.update_styles&&gk(V,tr)},At=function(Me,lt,tr){var pr=we(Me);return tr?pr.css(lt):(lt=lt.replace(/-(\D)/g,function(jn,La){return La.toUpperCase()}),lt==="float"&&(lt=Zt.browser.isIE()?"styleFloat":"cssFloat"),pr[0]&&pr[0].style?pr[0].style[lt]:void 0)},qr=function(Me){var lt,tr;return Me=se(Me),lt=At(Me,"width"),tr=At(Me,"height"),lt.indexOf("px")===-1&&(lt=0),tr.indexOf("px")===-1&&(tr=0),{w:parseInt(lt,10)||Me.offsetWidth||Me.clientWidth,h:parseInt(tr,10)||Me.offsetHeight||Me.clientHeight}},Jt=function(Me){Me=se(Me);var lt=Kt(Me),tr=qr(Me);return{x:lt.x,y:lt.y,w:tr.w,h:tr.h}},wr=function(Me,lt){var tr;if(!Me)return!1;if(!Array.isArray(Me)){if(lt==="*")return Me.nodeType===1;if(Oi.test(lt)){var pr=lt.toLowerCase().split(/,/),jn=Me.nodeName.toLowerCase();for(tr=pr.length-1;tr>=0;tr--)if(pr[tr]===jn)return!0;return!1}if(Me.nodeType&&Me.nodeType!==1)return!1}var La=Array.isArray(Me)?Me:[Me];return Ya(lt,La[0].ownerDocument||La[0],null,La).length>0},Qt=function(Me,lt,tr,pr){var jn=[],La,Io=se(Me);for(pr=pr===void 0,tr=tr||(nt().nodeName!=="BODY"?nt().parentNode:null),ht.is(lt,"string")&&(La=lt,lt==="*"?lt=function(ep){return ep.nodeType===1}:lt=function(ep){return wr(ep,La)});Io&&!(Io===tr||Le(Io.nodeType)||ip(Io)||$n(Io));){if(!lt||typeof lt=="function"&&lt(Io))if(pr)jn.push(Io);else return[Io];Io=Io.parentNode}return pr?jn:null},hr=function(Me,lt,tr){var pr=Qt(Me,lt,tr,!1);return pr&&pr.length>0?pr[0]:null},Or=function(Me,lt,tr){var pr=lt;if(Me){for(typeof lt=="string"&&(pr=function(jn){return wr(jn,lt)}),Me=Me[tr];Me;Me=Me[tr])if(typeof pr=="function"&&pr(Me))return Me}return null},Vt=function(Me,lt){return Or(Me,lt,"nextSibling")},Er=function(Me,lt){return Or(Me,lt,"previousSibling")},ea=function(Me,lt){return Ya(Me,se(lt)||r.root_element||e,[])},Pa=function(Me,lt,tr){var pr,jn=typeof Me=="string"?se(Me):Me;if(!jn)return!1;if(ht.isArray(jn)&&(jn.length||jn.length===0))return pr=[],Hm(jn,function(Io,ep){Io&&pr.push(lt.call(tr,typeof Io=="string"?se(Io):Io,ep))}),pr;var La=tr||this;return lt.call(La,jn)},Ma=function(Me,lt){we(Me).each(function(tr,pr){Hm(lt,function(jn,La){Ve(pr,La,jn)})})},wu=function(Me,lt){var tr=we(Me);v1?tr.each(function(pr,jn){if(jn.canHaveHTML!==!1){for(;jn.firstChild;)jn.removeChild(jn.firstChild);try{jn.innerHTML="<br>"+lt,jn.removeChild(jn.firstChild)}catch{Ln("<div></div>").html("<br>"+lt).contents().slice(1).appendTo(jn)}return lt}}):tr.html(lt)},Go=function(Me,lt,tr,pr,jn){return Pa(Me,function(La){var Io=typeof lt=="string"?e.createElement(lt):lt;return Ma(Io,tr),pr&&(typeof pr!="string"&&pr.nodeType?Io.appendChild(pr):typeof pr=="string"&&wu(Io,pr)),jn?Io:La.appendChild(Io)})},Ds=function(Me,lt,tr){return Go(e.createElement(Me),Me,lt,tr,!0)},Hc=cc.decode,Ut=cc.encodeAllRaw,ur=function(Me,lt,tr){var pr="",jn;pr+="<"+Me;for(jn in lt)xo(lt,jn)&&(pr+=" "+jn+'="'+Ut(lt[jn])+'"');return typeof tr<"u"?pr+">"+tr+"</"+Me+">":pr+" />"},Gr=function(Me){var lt,tr=e.createElement("div"),pr=e.createDocumentFragment();for(pr.appendChild(tr),Me&&(tr.innerHTML=Me);lt=tr.firstChild;)pr.appendChild(lt);return pr.removeChild(tr),pr},ot=function(Me,lt){var tr=we(Me);return lt?tr.each(function(){for(var pr;pr=this.firstChild;)pr.nodeType===3&&pr.data.length===0?this.removeChild(pr):this.parentNode.insertBefore(pr,this)}).remove():tr.remove(),tr.length>1?tr.toArray():tr[0]},Yt=function(Me){return Pa(Me,function(lt){var tr,pr=lt.attributes;for(tr=pr.length-1;tr>=0;tr--)lt.removeAttributeNode(pr.item(tr))})},qt=function(Me){return V.parse(Me)},Yr=function(Me,lt){return V.serialize(Me,lt)},rn=function(Me){var lt,tr;if(Pg!==ho.DOM&&e===document){if(a[Me])return;a[Me]=!0}tr=e.getElementById("mceDefaultStyles"),tr||(tr=e.createElement("style"),tr.id="mceDefaultStyles",tr.type="text/css",lt=e.getElementsByTagName("head")[0],lt.firstChild?lt.insertBefore(tr,lt.firstChild):lt.appendChild(tr)),tr.styleSheet?tr.styleSheet.cssText+=Me:tr.appendChild(e.createTextNode(Me))},so=function(Me){Me||(Me=""),je(Me.split(","),function(lt){c[lt]=!0,w.load(lt,U)})},ru=function(Me,lt,tr){we(Me).toggleClass(lt,tr).each(function(){this.className===""&&Ln(this).attr("class",null)})},ji=function(Me,lt){we(Me).addClass(lt)},ms=function(Me,lt){ru(Me,lt,!1)},hs=function(Me,lt){return we(Me).hasClass(lt)},Zs=function(Me){we(Me).show()},Wi=function(Me){we(Me).hide()},fl=function(Me){return we(Me).css("display")==="none"},Js=function(Me){return(Me||"mce_")+f++},iv=function(Me){var lt=typeof Me=="string"?se(Me):Me;return pn(lt)?lt.outerHTML:Ln("<div></div>").append(Ln(lt).clone()).html()},Fa=function(Me,lt){we(Me).each(function(){try{if("outerHTML"in this){this.outerHTML=lt;return}}catch{}ot(Ln(this).html(lt),!0)})},ko=function(Me,lt){var tr=se(lt);return Pa(Me,function(pr){var jn=tr.parentNode,La=tr.nextSibling;return La?jn.insertBefore(pr,La):jn.appendChild(pr),pr})},nu=function(Me,lt,tr){return Pa(lt,function(pr){return ht.is(pr,"array")&&(Me=Me.cloneNode(!0)),tr&&Hm(wy(pr.childNodes),function(jn){Me.appendChild(jn)}),pr.parentNode.replaceChild(Me,pr)})},ld=function(Me,lt){var tr;return Me.nodeName!==lt.toUpperCase()&&(tr=Ds(lt),Hm(Ze(Me),function(pr){Ve(tr,pr.nodeName,he(Me,pr.nodeName))}),nu(tr,Me,!0)),tr||Me},fd=function(Me,lt){for(var tr=Me,pr;tr;){for(pr=lt;pr&&tr!==pr;)pr=pr.parentNode;if(tr===pr)break;tr=tr.parentNode}return!tr&&Me.ownerDocument?Me.ownerDocument.documentElement:tr},dd=function(Me){return V.toHex(ht.trim(Me))},Qh=function(Me){if(pn(Me)){var lt=Me.nodeName.toLowerCase()==="a"&&!he(Me,"href")&&he(Me,"id");if(he(Me,"name")||he(Me,"data-mce-bookmark")||lt)return!0}return!1},hz=function(Me,lt){var tr,pr,jn=0;if(Qh(Me))return!1;if(Me=Me.firstChild,Me){var La=new Ua(Me,Me.parentNode),Io=L?L.getWhiteSpaceElements():{};lt=lt||(L?L.getNonEmptyElements():null);do{if(tr=Me.nodeType,pn(Me)){var ep=Me.getAttribute("data-mce-bogus");if(ep){Me=La.next(ep==="all");continue}if(pr=Me.nodeName.toLowerCase(),lt&&lt[pr]){if(pr==="br"){jn++,Me=La.next();continue}return!1}if(Qh(Me))return!1}if(tr===8||tr===3&&!Yc(Me.nodeValue)||tr===3&&Me.parentNode&&Io[Me.parentNode.nodeName]&&Yc(Me.nodeValue))return!1;Me=La.next()}while(Me)}return jn<=1},pz=function(){return e.createRange()},IP=function(Me,lt,tr){var pr=pz(),jn,La,Io;if(Me&&lt)return pr.setStart(Me.parentNode,xv(Me)),pr.setEnd(lt.parentNode,xv(lt)),jn=pr.extractContents(),pr=pz(),pr.setStart(lt.parentNode,xv(lt)+1),pr.setEnd(Me.parentNode,xv(Me)+1),La=pr.extractContents(),Io=Me.parentNode,Io.insertBefore(X_(Pg,jn),Me),tr?Io.insertBefore(tr,Me):Io.insertBefore(lt,Me),Io.insertBefore(X_(Pg,La),Me),ot(Me),tr||lt},ix=function(Me,lt,tr,pr){if(ht.isArray(Me)){for(var jn=Me.length,La=[];jn--;)La[jn]=ix(Me[jn],lt,tr,pr);return La}r.collect&&(Me===e||Me===i)&&R.push([Me,lt,tr,pr]);var Io=j.bind(Me,lt,tr,pr||Pg);return Io},ux=function(Me,lt,tr){if(ht.isArray(Me)){for(var pr=Me.length,jn=[];pr--;)jn[pr]=ux(Me[pr],lt,tr);return jn}else{if(R.length>0&&(Me===e||Me===i))for(var pr=R.length;pr--;){var La=R[pr];Me===La[0]&&(!lt||lt===La[1])&&(!tr||tr===La[2])&&j.unbind(La[0],La[1],La[2])}return j.unbind(Me,lt,tr)}},$P=function(Me,lt,tr){return j.fire(Me,lt,tr)},hD=function(Me){if(Me&&pn(Me)){var lt=Me.getAttribute("data-mce-contenteditable");return lt&&lt!=="inherit"?lt:Me.contentEditable!=="inherit"?Me.contentEditable:null}else return null},LP=function(Me){for(var lt=nt(),tr=null;Me&&Me!==lt&&(tr=hD(Me),tr===null);Me=Me.parentNode);return tr},HP=function(){if(R.length>0)for(var Me=R.length;Me--;){var lt=R[Me];j.unbind(lt[0],lt[1],lt[2])}xn(c,function(tr,pr){w.unload(pr),delete c[pr]}),Ya.setDocument&&Ya.setDocument()},VP=function(Me,lt){if(v1){for(;Me;){if(lt===Me)return!0;Me=Me.parentNode}return!1}else return Me===lt||lt.contains(Me)},UP=function(Me){return"startContainer: "+Me.startContainer.nodeName+", startOffset: "+Me.startOffset+", endContainer: "+Me.endContainer.nodeName+", endOffset: "+Me.endOffset},Pg={doc:e,settings:r,win:i,files:c,stdMode:h,boxModel:y,styleSheetLoader:w,boundEvents:R,styles:V,schema:L,events:j,isBlock:ie,$:ae,$$:we,root:null,clone:Ee,getRoot:nt,getViewPort:Tt,getRect:Jt,getSize:qr,getParent:hr,getParents:Qt,get:se,getNext:Vt,getPrev:Er,select:ea,is:wr,add:Go,create:Ds,createHTML:ur,createFragment:Gr,remove:ot,setStyle:nn,getStyle:At,setStyles:Cr,removeAllAttribs:Yt,setAttrib:Ve,setAttribs:Ma,getAttrib:he,getPos:Kt,parseStyle:qt,serializeStyle:Yr,addStyle:rn,loadCSS:so,addClass:ji,removeClass:ms,hasClass:hs,toggleClass:ru,show:Zs,hide:Wi,isHidden:fl,uniqueId:Js,setHTML:wu,getOuterHTML:iv,setOuterHTML:Fa,decode:Hc,encode:Ut,insertAfter:ko,replace:nu,rename:ld,findCommonAncestor:fd,toHex:dd,run:Pa,getAttribs:Ze,isEmpty:hz,createRng:pz,nodeIndex:xv,split:IP,bind:ix,unbind:ux,fire:$P,getContentEditable:hD,getContentEditableParent:LP,destroy:HP,isChildOf:VP,dumpRng:UP},uv=Oc(V,r,X(Pg));return Pg};ho.DOM=ho(document),ho.nodeIndex=xv;var Sv=ho.DOM,ky=ht.each,Vm=ht.grep,m1=0,yk=1,xp=2,bk=3,jf=function(){function e(r){r===void 0&&(r={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=r}return e.prototype._setReferrerPolicy=function(r){this.settings.referrerPolicy=r},e.prototype.loadScript=function(r,a,i){var c=Sv,f,h=function(){c.remove(R),f&&(f.onerror=f.onload=f=null)},y=function(){h(),a()},w=function(){h(),ce(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+r)},R=c.uniqueId();f=document.createElement("script"),f.id=R,f.type="text/javascript",f.src=ht._addCacheSuffix(r),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=y,f.onerror=w,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(r){return this.states[r]===xp},e.prototype.markDone=function(r){this.states[r]=xp},e.prototype.add=function(r,a,i,c){var f=this.states[r];this.queue.push(r),f===void 0&&(this.states[r]=m1),a&&(this.scriptLoadedCallbacks[r]||(this.scriptLoadedCallbacks[r]=[]),this.scriptLoadedCallbacks[r].push({success:a,failure:c,scope:i||this}))},e.prototype.load=function(r,a,i,c){return this.add(r,a,i,c)},e.prototype.remove=function(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]},e.prototype.loadQueue=function(r,a,i){this.loadScripts(this.queue,r,a,i)},e.prototype.loadScripts=function(r,a,i,c){var f=this,h=[],y=function(R,L){ky(f.scriptLoadedCallbacks[L],function(V){ce(V[R])&&V[R].call(V.scope)}),f.scriptLoadedCallbacks[L]=void 0};f.queueLoadedCallbacks.push({success:a,failure:c,scope:i||this});var w=function(){var R=Vm(r);if(r.length=0,ky(R,function(V){if(f.states[V]===xp){y("success",V);return}if(f.states[V]===bk){y("failure",V);return}f.states[V]!==yk&&(f.states[V]=yk,f.loading++,f.loadScript(V,function(){f.states[V]=xp,f.loading--,y("success",V),w()},function(){f.states[V]=bk,f.loading--,h.push(V),y("failure",V),w()}))}),!f.loading){var L=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,ky(L,function(V){h.length===0?ce(V.success)&&V.success.call(V.scope):ce(V.failure)&&V.failure.call(V.scope,h)})}};w()},e.ScriptLoader=new e,e}(),os=function(e){var r=e,a=function(){return r},i=function(c){r=c};return{get:a,set:i}},h1=function(e){return Y(e)&&Sn(e,"raw")},Vx=function(e){return De(e)&&e.length>1},Sl={},Wf=os("en"),Cy=function(){return Kn(Sl,Wf.get())},Ux=function(){return Co(Sl,function(e){return $r({},e)})},jx=function(e){e&&Wf.set(e)},Tv=function(){return Wf.get()},Ev=function(e,r){var a=Sl[e];a||(Sl[e]=a={}),xn(r,function(i,c){a[c.toLowerCase()]=i})},xy=function(e){var r=Cy().getOr({}),a=function(w){return ce(w)?Object.prototype.toString.call(w):i(w)?"":""+w},i=function(w){return w===""||w===null||w===void 0},c=function(w){var R=a(w);return Kn(r,R.toLowerCase()).map(a).getOr(R)},f=function(w){return w.replace(/{context:\w+}$/,"")};if(i(e))return"";if(h1(e))return a(e.raw);if(Vx(e)){var h=e.slice(1),y=c(e[0]).replace(/\{([0-9]+)\}/g,function(w,R){return Sn(h,R)?a(h[R]):w});return f(y)}return f(c(e))},Ra=function(){return Cy().bind(function(e){return Kn(e,"_dir")}).exists(function(e){return e==="rtl"})},Ri=function(e){return Sn(Sl,e)},is={getData:Ux,setCode:jx,getCode:Tv,add:Ev,translate:xy,isRtl:Ra,hasCode:Ri},Ss=function(){var e=[],r={},a={},i=[],c=function(ie,se){var we=Xt(i,function(he){return he.name===ie&&he.state===se});je(we,function(he){return he.callback()})},f=function(ie){if(a[ie])return a[ie].instance},h=function(ie){var se;return a[ie]&&(se=a[ie].dependencies),se||[]},y=function(ie,se){Ss.languageLoad!==!1&&ae(ie,function(){var we=is.getCode(),he=","+(se||"")+",";!we||se&&he.indexOf(","+we+",")===-1||jf.ScriptLoader.add(r[ie]+"/langs/"+we+".js")},"loaded")},w=function(ie,se,we){var he=se;return e.push(he),a[ie]={instance:he,dependencies:we},c(ie,"added"),he},R=function(ie){delete r[ie],delete a[ie]},L=function(ie,se){return typeof se=="object"?se:typeof ie=="string"?{prefix:"",resource:se,suffix:""}:{prefix:ie.prefix,resource:se,suffix:ie.suffix}},V=function(ie,se){var we=r[ie];je(se,function(he){jf.ScriptLoader.add(we+"/"+he)})},j=function(ie,se,we,he){var Ze=h(ie);je(Ze,function(Ve){var Ee=L(se,Ve);re(Ee.resource,Ee,void 0,void 0)}),we&&(he?we.call(he):we.call(jf))},re=function(ie,se,we,he,Ze){if(!r[ie]){var Ve=typeof se=="string"?se:se.prefix+se.resource+se.suffix;Ve.indexOf("/")!==0&&Ve.indexOf("://")===-1&&(Ve=Ss.baseURL+"/"+Ve),r[ie]=Ve.substring(0,Ve.lastIndexOf("/"));var Ee=function(){c(ie,"loaded"),j(ie,se,we,he)};a[ie]?Ee():jf.ScriptLoader.add(Ve,Ee,he,Ze)}},ae=function(ie,se,we){we===void 0&&(we="added"),Sn(a,ie)&&we==="added"||Sn(r,ie)&&we==="loaded"?se():i.push({name:ie,state:we,callback:se})};return{items:e,urls:r,lookup:a,_listeners:i,get:f,dependencies:h,requireLangPack:y,add:w,remove:R,createUrl:L,addComponents:V,load:re,waitFor:ae}};Ss.languageLoad=!0,Ss.baseURL="",Ss.PluginManager=Ss(),Ss.ThemeManager=Ss();var uo=function(e){var r=os(oe.none()),a=function(){return r.get().each(e)},i=function(){a(),r.set(oe.none())},c=function(){return r.get().isSome()},f=function(){return r.get()},h=function(y){a(),r.set(oe.some(y))};return{clear:i,isSet:c,get:f,set:h}},Nd=function(){var e=uo(U),r=function(a){return e.get().each(a)};return $r($r({},e),{on:r})},Sy=function(e,r){var a=null,i=function(){ue(a)||(clearTimeout(a),a=null)},c=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];ue(a)&&(a=setTimeout(function(){a=null,e.apply(null,f)},r))};return{cancel:i,throttle:c}},Li=function(e,r){var a=null,i=function(){ue(a)||(clearTimeout(a),a=null)},c=function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];i(),a=setTimeout(function(){a=null,e.apply(null,f)},r)};return{cancel:i,throttle:c}},tf=function(e,r){var a=K(e,r);return a===void 0||a===""?[]:a.split(" ")},Wx=function(e,r,a){var i=tf(e,r),c=i.concat([a]);return z(e,r,c.join(" ")),!0},qx=function(e,r,a){var i=Xt(tf(e,r),function(c){return c!==a});return i.length>0?z(e,r,i.join(" ")):_t(e,r),!1},Ty=function(e){return e.dom.classList!==void 0},Ey=function(e){return tf(e,"class")},p1=function(e,r){return Wx(e,"class",r)},g1=function(e,r){return qx(e,"class",r)},zv=function(e,r){Ty(e)?e.dom.classList.add(r):p1(e,r)},Sp=function(e){var r=Ty(e)?e.dom.classList:Ey(e);r.length===0&&_t(e,"class")},y1=function(e,r){if(Ty(e)){var a=e.dom.classList;a.remove(r)}else g1(e,r);Sp(e)},b1=function(e,r){return Ty(e)&&e.dom.classList.contains(r)},Um=function(e,r){var a=[];return je(Iu(e),function(i){r(i)&&(a=a.concat([i])),a=a.concat(Um(i,r))}),a},mu=function(e,r){return En(r,e)},qs=X("mce-annotation"),Tp=X("data-mce-annotation"),Di=X("data-mce-annotation-uid"),zy=function(e,r){var a=e.selection.getRng(),i=x.fromDom(a.startContainer),c=x.fromDom(e.getBody()),f=r.fold(function(){return"."+qs()},function(R){return"["+Tp()+'="'+R+'"]'}),h=hl(i,a.startOffset).getOr(i),y=ri(h,f,function(R){return an(R,c)}),w=function(R,L){return We(R,L)?oe.some(K(R,L)):oe.none()};return y.bind(function(R){return w(R,""+Di()).bind(function(L){return w(R,""+Tp()).map(function(V){var j=_1(e,L);return{uid:L,name:V,elements:j}})})})},qf=function(e){return bo(e)&&b1(e,qs())},_1=function(e,r){var a=x.fromDom(e.getBody());return mu(a,"["+Di()+'="'+r+'"]')},w1=function(e,r){var a=x.fromDom(e.getBody()),i=mu(a,"["+Tp()+'="'+r+'"]'),c={};return je(i,function(f){var h=K(f,Di()),y=Kn(c,h).getOr([]);c[h]=y.concat([f])}),c},_k=function(e,r){var a=os({}),i=function(){return{listeners:[],previous:Nd()}},c=function(L,V){f(L,function(j){return V(j),j})},f=function(L,V){var j=a.get(),re=Kn(j,L).getOrThunk(i),ae=V(re);j[L]=ae,a.set(j)},h=function(L,V,j){c(L,function(re){je(re.listeners,function(ae){return ae(!0,L,{uid:V,nodes:Pe(j,function(ie){return ie.dom})})})})},y=function(L){c(L,function(V){je(V.listeners,function(j){return j(!1,L)})})},w=Li(function(){var L=a.get(),V=Zn(ao(L));je(V,function(j){f(j,function(re){var ae=re.previous.get();return zy(e,oe.some(j)).fold(function(){ae.isSome()&&(y(j),re.previous.clear())},function(ie){var se=ie.uid,we=ie.name,he=ie.elements;lv(ae,se)||(h(we,se,he),re.previous.set(se))}),{previous:re.previous,listeners:re.listeners}})})},30);e.on("remove",function(){w.cancel()}),e.on("NodeChange",function(){w.throttle()});var R=function(L,V){f(L,function(j){return{previous:j.previous,listeners:j.listeners.concat([V])}})};return{addListener:R}},k1=function(e,r){var a=function(i){return oe.from(i.attr(Tp())).bind(r.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){je(i,function(c){a(c).each(function(f){f.persistent===!1&&c.unwrap()})})})})},Ep=function(){var e={},r=function(i,c){e[i]={name:i,settings:c}},a=function(i){return Kn(e,i).map(function(c){return c.settings})};return{register:r,lookup:a}},Ay=0,wk=function(e){var r=new Date,a=r.getTime(),i=Math.floor(Math.random()*1e9);return Ay++,e+"_"+i+Ay+String(a)},Gx=function(e,r){je(r,function(a){zv(e,a)})},Mu=function(e,r){var a=r||document,i=a.createElement("div");return i.innerHTML=e,Iu(x.fromDom(i))},Hi=function(e){return Pe(e,x.fromDom)},us=function(e){return e.dom.innerHTML},ss=function(e,r){var a=Wc(e),i=a.dom,c=x.fromDom(i.createDocumentFragment()),f=Mu(r,i);zf(c,f),Af(e),Ti(e,c)},Ts=function(e,r){return x.fromDom(e.dom.cloneNode(r))},bi=function(e){return Ts(e,!1)},Oy=function(e){return Ts(e,!0)},Ry=function(e,r,a){a===void 0&&(a=Wt);var i=new Ua(e,r),c=function(f){var h;do h=i[f]();while(h&&!zr(h)&&!a(h));return oe.from(h).filter(zr)};return{current:function(){return oe.from(i.current()).filter(zr)},next:function(){return c("next")},prev:function(){return c("prev")},prev2:function(){return c("prev2")}}},C1=function(e,r){var a=r||function(h){return e.isBlock(h)||eo(h)||_o(h)},i=function(h,y,w,R){if(zr(h)){var L=R(h,y,h.data);if(L!==-1)return oe.some({container:h,offset:L})}return w().bind(function(V){return i(V.container,V.offset,w,R)})},c=function(h,y,w,R){var L=Ry(h,R,a);return i(h,y,function(){return L.prev().map(function(V){return{container:V,offset:V.length}})},w).getOrNull()},f=function(h,y,w,R){var L=Ry(h,R,a);return i(h,y,function(){return L.next().map(function(V){return{container:V,offset:0}})},w).getOrNull()};return{backwards:c,forwards:f}},Av=Math.round,Pd=function(e){return e?{left:Av(e.left),top:Av(e.top),bottom:Av(e.bottom),right:Av(e.right),width:Av(e.width),height:Av(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Dy=function(e,r){return e=Pd(e),r||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},My=function(e,r){return e.left===r.left&&e.top===r.top&&e.bottom===r.bottom&&e.right===r.right},By=function(e,r,a){return e>=0&&e<=Math.min(r.height,a.height)/2},jm=function(e,r){var a=Math.min(r.height/2,e.height/2);return e.bottom-a<r.top?!0:e.top>r.bottom?!1:By(r.top-e.bottom,e,r)},Wm=function(e,r){return e.top>r.bottom?!0:e.bottom<r.top?!1:By(r.bottom-e.top,e,r)},kk=function(e,r,a){return r>=e.left&&r<=e.right&&a>=e.top&&a<=e.bottom},rf=function(e,r,a){return Math.min(Math.max(e,r),a)},Ov=function(e){var r=e.startContainer,a=e.startOffset;return r.hasChildNodes()&&e.endOffset===a+1?r.childNodes[a]:null},Oo=function(e,r){if(pn(e)&&e.hasChildNodes()){var a=e.childNodes,i=rf(r,0,a.length-1);return a[i]}else return e},Kx=function(e,r){if(!(r<0&&pn(e)&&e.hasChildNodes()))return Oo(e,r)},Xx=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Ny=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&Xx.test(e)},Yx=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},Ck=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},cr=pn,Zx=Kl,Mi=es("display","block table"),x1=es("float","left right"),Rv=Ck(cr,Zx,Xn(x1)),xk=Xn(es("white-space","pre pre-line pre-wrap")),Hu=zr,zp=eo,Py=ho.nodeIndex,Ap=Kx,Tl=function(e){return"createRange"in e?e.createRange():ho.DOM.createRng()},Op=function(e){return e&&/[\r\n\t ]/.test(e)},Rp=function(e){return!!e.setStart&&!!e.setEnd},cs=function(e){var r=e.startContainer,a=e.startOffset;if(Op(e.toString())&&xk(r.parentNode)&&zr(r)){var i=r.data;if(Op(i[a-1])||Op(i[a+1]))return!0}return!1},El=function(e){var r=e.ownerDocument,a=Tl(r),i=r.createTextNode(Vs),c=e.parentNode;c.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=Pd(a.getBoundingClientRect());return c.removeChild(i),f},Sk=function(e){var r=e.startContainer,a=e.endContainer,i=e.startOffset,c=e.endOffset;if(r===a&&zr(a)&&i===0&&c===1){var f=e.cloneRange();return f.setEndAfter(a),nf(f)}else return null},Vu=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},nf=function(e){var r,a=e.getClientRects();return a.length>0?r=Pd(a[0]):r=Pd(e.getBoundingClientRect()),!Rp(e)&&zp(e)&&Vu(r)?El(e):Vu(r)&&Rp(e)?Sk(e):r},Fd=function(e,r){var a=Dy(e,r);return a.width=1,a.right=a.left+1,a},Dp=function(e){var r=[],a=function(w){w.height!==0&&(r.length>0&&My(w,r[r.length-1])||r.push(w))},i=function(w,R){var L=Tl(w.ownerDocument);if(R<w.data.length){if(Ny(w.data[R]))return r;if(Ny(w.data[R-1])&&(L.setStart(w,R),L.setEnd(w,R+1),!cs(L)))return a(Fd(nf(L),!1)),r}R>0&&(L.setStart(w,R-1),L.setEnd(w,R),cs(L)||a(Fd(nf(L),!1))),R<w.data.length&&(L.setStart(w,R),L.setEnd(w,R+1),cs(L)||a(Fd(nf(L),!0)))},c=e.container(),f=e.offset();if(Hu(c))return i(c,f),r;if(cr(c))if(e.isAtEnd()){var h=Ap(c,f);Hu(h)&&i(h,h.data.length),Rv(h)&&!zp(h)&&a(Fd(nf(h),!1))}else{var h=Ap(c,f);if(Hu(h)&&i(h,0),Rv(h)&&e.isAtEnd())return a(Fd(nf(h),!1)),r;var y=Ap(e.container(),e.offset()-1);Rv(y)&&!zp(y)&&(Mi(y)||Mi(h)||!Rv(h))&&a(Fd(nf(y),!1)),Rv(h)&&a(Fd(nf(h),!0))}return r},vt=function(e,r,a){var i=function(){return Hu(e),r===0},c=function(){return Hu(e)?r>=e.data.length:r>=e.childNodes.length},f=function(){var L=Tl(e.ownerDocument);return L.setStart(e,r),L.setEnd(e,r),L},h=function(){return a||(a=Dp(vt(e,r))),a},y=function(){return h().length>0},w=function(L){return L&&e===L.container()&&r===L.offset()},R=function(L){return Ap(e,L?r-1:r)};return{container:X(e),offset:X(r),toRange:f,getClientRects:h,isVisible:y,isAtStart:i,isAtEnd:c,isEqual:w,getNode:R}};vt.fromRangeStart=function(e){return vt(e.startContainer,e.startOffset)},vt.fromRangeEnd=function(e){return vt(e.endContainer,e.endOffset)},vt.after=function(e){return vt(e.parentNode,Py(e)+1)},vt.before=function(e){return vt(e.parentNode,Py(e))},vt.isAbove=function(e,r){return $u(ga(r.getClientRects()),Rn(e.getClientRects()),jm).getOr(!1)},vt.isBelow=function(e,r){return $u(Rn(r.getClientRects()),ga(e.getClientRects()),Wm).getOr(!1)},vt.isAtStart=function(e){return e?e.isAtStart():!1},vt.isAtEnd=function(e){return e?e.isAtEnd():!1},vt.isTextPosition=function(e){return e?zr(e.container()):!1},vt.isElementPosition=function(e){return vt.isTextPosition(e)===!1};var Gf=function(e,r){zr(r)&&r.data.length===0&&e.remove(r)},qm=function(e,r,a){r.insertNode(a),Gf(e,a.previousSibling),Gf(e,a.nextSibling)},Jx=function(e,r,a){var i=oe.from(a.firstChild),c=oe.from(a.lastChild);r.insertNode(a),i.each(function(f){return Gf(e,f.previousSibling)}),c.each(function(f){return Gf(e,f.nextSibling)})},Fy=function(e,r,a){$n(a)?Jx(e,r,a):qm(e,r,a)},tl=zr,Iy=ti,S1=ho.nodeIndex,T1=function(e){var r=e.parentNode;return Iy(r)?T1(r):r},$y=function(e){return e?Gi(e.childNodes,function(r,a){return Iy(a)&&a.nodeName!=="BR"?r=r.concat($y(a)):r.push(a),r},[]):[]},E1=function(e,r){for(;(e=e.previousSibling)&&tl(e);)r+=e.data.length;return r},z1=function(e){return function(r){return e===r}},A1=function(e){var r,a;r=$y(T1(e)),a=ra(r,z1(e),e),r=r.slice(0,a+1);var i=Gi(r,function(c,f,h){return tl(f)&&tl(r[h-1])&&c++,c},0);return r=Qo(r,nc([e.nodeName])),a=ra(r,z1(e),e),a-i},O1=function(e){var r;return tl(e)?r="text()":r=e.nodeName.toLowerCase(),r+"["+A1(e)+"]"},Dv=function(e,r,a){var i=[];for(r=r.parentNode;r!==e;r=r.parentNode)i.push(r);return i},Tk=function(e,r){var a,i,c=[],f,h,y;return a=r.container(),i=r.offset(),tl(a)?f=E1(a,i):(h=a.childNodes,i>=h.length?(f="after",i=h.length-1):f="before",a=h[i]),c.push(O1(a)),y=Dv(e,a),y=Qo(y,Xn(ti)),c=c.concat(qi(y,function(w){return O1(w)})),c.reverse().join("/")+","+f},Qx=function(e,r,a){var i=$y(e);return i=Qo(i,function(c,f){return!tl(c)||!tl(i[f-1])}),i=Qo(i,nc([r])),i[a]},eS=function(e,r){for(var a=e,i=0,c;tl(a);){if(c=a.data.length,r>=i&&r<=i+c){e=a,r=r-i;break}if(!tl(a.nextSibling)){e=a,r=c;break}i+=c,a=a.nextSibling}return tl(e)&&r>e.data.length&&(r=e.data.length),vt(e,r)},Gm=function(e,r){var a;if(!r)return null;var i=r.split(","),c=i[0].split("/");a=i.length>1?i[1]:"before";var f=Gi(c,function(h,y){var w=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(y);return w?(w[1]==="text()"&&(w[1]="#text"),Qx(h,w[1],parseInt(w[2],10))):null},e);return f?tl(f)?eS(f,parseInt(a,10)):(a==="after"?a=S1(f)+1:a=S1(f),vt(f.parentNode,a)):null},Km=_o,Ly=function(e,r,a){var i,c;for(c=e(r.data.slice(0,a)).length,i=r.previousSibling;i&&zr(i);i=i.previousSibling)c+=e(i.data).length;return c},R1=function(e,r,a,i,c){var f=i[c?"startContainer":"endContainer"],h=i[c?"startOffset":"endOffset"],y=[],w,R=0,L=e.getRoot();for(zr(f)?y.push(a?Ly(r,f,h):h):(w=f.childNodes,h>=w.length&&w.length&&(R=1,h=Math.max(0,w.length-1)),y.push(e.nodeIndex(w[h],a)+R));f&&f!==L;f=f.parentNode)y.push(e.nodeIndex(f,a));return y},Xm=function(e,r,a,i){var c=r.dom,f={};return f.start=R1(c,e,a,i,!0),r.isCollapsed()||(f.end=R1(c,e,a,i,!1)),Gl(i)&&(f.isFakeCaret=!0),f},D1=function(e,r,a){var i=0;return ht.each(e.select(r),function(c){if(c.getAttribute("data-mce-bogus")!=="all"){if(c===a)return!1;i++}}),i},Yo=function(e,r){var a,i,c,f=r?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],pn(a)&&a.nodeName==="TR"&&(c=a.childNodes,a=c[Math.min(r?i:i-1,c.length-1)],a&&(i=r?0:a.childNodes.length,e["set"+(r?"Start":"End")](a,i)))},Mp=function(e){return Yo(e,!0),Yo(e,!1),e},ni=function(e,r){var a;if(pn(e)&&(e=Oo(e,r),Km(e)))return e;if(xs(e)&&(zr(e)&&to(e)&&(e=e.parentNode),a=e.previousSibling,Km(a)||(a=e.nextSibling,Km(a))))return a},Hy=function(e){return ni(e.startContainer,e.startOffset)||ni(e.endContainer,e.endOffset)},Mv=function(e,r,a){var i=a.getNode(),c=i?i.nodeName:null,f=a.getRng();if(Km(i)||c==="IMG")return{name:c,index:D1(a.dom,c,i)};var h=Hy(f);return h?(c=h.tagName,{name:c,index:D1(a.dom,c,h)}):Xm(e,a,r,f)},M1=function(e){var r=e.getRng();return{start:Tk(e.dom.getRoot(),vt.fromRangeStart(r)),end:Tk(e.dom.getRoot(),vt.fromRangeEnd(r))}},Bp=function(e){return{rng:e.getRng()}},B1=function(e,r,a){var i={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},Ek=function(e,r){var a=e.dom,i=e.getRng(),c=a.uniqueId(),f=e.isCollapsed(),h=e.getNode(),y=h.nodeName;if(y==="IMG")return{name:y,index:D1(a,y,h)};var w=Mp(i.cloneRange());if(!f){w.collapse(!1);var R=B1(a,c+"_end",r);Fy(a,w,R)}i=Mp(i),i.collapse(!0);var L=B1(a,c+"_start",r);return Fy(a,i,L),e.moveToBookmark({id:c,keep:!0}),{id:c}},tS=function(e,r,a){return r===2?Mv(Cs,a,e):r===3?M1(e):r?Bp(e):Ek(e,!1)},zk=St(Mv,It,!0),rS=ho.DOM,Vy="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Np=function(e,r,a){var i=e.getParam(r,a);if(i.indexOf("=")!==-1){var c=e.getParam(r,"","hash");return Kn(c,e.id).getOr(a)}else return i},nS=function(e){return e.getParam("iframe_attrs",{})},Ak=function(e){return e.getParam("doctype","<!DOCTYPE html>")},N1=function(e){return e.getParam("document_base_url","")},aS=function(e){return Np(e,"body_id","tinymce")},oS=function(e){return Np(e,"body_class","")},Uy=function(e){return e.getParam("content_security_policy","")},P1=function(e){return e.getParam("br_in_pre",!0)},hu=function(e){if(e.getParam("force_p_newlines",!1))return"p";var r=e.getParam("forced_root_block","p");return r===!1?"":r===!0?"p":r},Ym=function(e){return e.getParam("forced_root_block_attrs",{})},Zm=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Ok=function(e){return e.getParam("no_newline_selector","")},iS=function(e){return e.getParam("keep_styles",!0)},Pp=function(e){return e.getParam("end_container_on_empty_block",!1)},Fp=function(e){return ht.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Bv=function(e){return ht.explode(e.getParam("font_size_classes",""))},jy=function(e){return e.getParam("images_dataimg_filter",sr,"function")},Ip=function(e){return e.getParam("automatic_uploads",!0,"boolean")},F1=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},uS=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},af=function(e){return e.getParam("icons","","string")},Wy=function(e){return e.getParam("icons_url","","string")},sS=function(e){return e.getParam("images_upload_url","","string")},Id=function(e){return e.getParam("images_upload_base_path","","string")},$d=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},cS=function(e){return e.getParam("images_upload_handler",null,"function")},qy=function(e){return e.getParam("content_css_cors",!1,"boolean")},Gy=function(e){return e.getParam("referrer_policy","","string")},Ky=function(e){return e.getParam("language","en","string")},Ji=function(e){return e.getParam("language_url","","string")},Rk=function(e){return e.getParam("indent_use_margin",!1)},I1=function(e){return e.getParam("indentation","40px","string")},Dk=function(e){var r=e.getParam("content_css");return _e(r)?Pe(r.split(","),kr):De(r)?r:r===!1||e.inline?[]:["default"]},Mk=function(e){var r=e.getParam("font_css",[]);return De(r)?r:Pe(r.split(","),kr)},zl=function(e){return e.getParam("directionality",is.isRtl()?"rtl":void 0)},Kf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},Bk=function(e){var r=e.getParam("object_resizing");return r===!1||Zt.iOS?!1:_e(r)?r:"table,img,figure.image,div,video,iframe"},Nk=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},$1=function(e){return e.getParam("placeholder",rS.getAttrib(e.getElement(),"placeholder"),"string")},Xy=function(e){return e.getParam("event_root")},Pk=function(e){return e.getParam("service_message")},Jm=function(e){return e.getParam("theme")},lS=function(e){return e.getParam("validate")},$p=function(e){return e.getParam("inline_boundaries")!==!1},fS=function(e){return e.getParam("formats")},Qm=function(e){var r=e.getParam("preview_styles",Vy);return _e(r)?r:""},Nv=function(e){return e.getParam("format_empty_lines",!1,"boolean")},L1=function(e){return e.getParam("custom_ui_selector","","string")},Fk=function(e){return e.getParam("theme_url")},dS=function(e){return e.getParam("inline")},Ik=function(e){return e.getParam("hidden_input")},$k=function(e){return e.getParam("submit_patch")},H1=function(e){return e.getParam("encoding")==="xml"},vS=function(e){return e.getParam("add_form_submit_trigger")},Yy=function(e){return e.getParam("add_unload_trigger")},mS=function(e){return hu(e)!==""},Lp=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},hS=function(e){return e.getParam("disable_nodechange")},pS=function(e){return e.getParam("readonly")},gS=function(e){return e.getParam("content_css_cors")},Zy=function(e){return e.getParam("plugins","","string")},yS=function(e){return e.getParam("external_plugins")},eh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},Lk=function(e){return e.getParam("visual",!0,"boolean")},bS=function(e){return e.getParam("visual_table_class","mce-item-table","string")},V1=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},Hk=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},U1=pn,Vk=zr,Uk=function(e){var r=e.parentNode;r&&r.removeChild(e)},th=function(e){var r=Cs(e);return{count:e.length-r.length,text:r}},j1=function(e){for(var r;(r=e.data.lastIndexOf(Fe))!==-1;)e.deleteData(r,1)},W1=function(e,r){return Ld(e),r},_S=function(e,r){var a=th(e.data.substr(0,r.offset())),i=th(e.data.substr(r.offset())),c=a.text+i.text;return c.length>0?(j1(e),vt(e,r.offset()-a.count)):r},wS=function(e,r){var a=r.container(),i=rt(kn(a.childNodes),e).map(function(c){return c<r.offset()?vt(a,r.offset()-1):r}).getOr(r);return Ld(e),i},q1=function(e,r){return Vk(e)&&r.container()===e?_S(e,r):W1(e,r)},kS=function(e,r){return r.container()===e.parentNode?wS(e,r):W1(e,r)},jk=function(e,r){return vt.isTextPosition(r)?q1(e,r):kS(e,r)},Ld=function(e){U1(e)&&xs(e)&&(If(e)?e.removeAttribute("data-mce-caret"):Uk(e)),Vk(e)&&(j1(e),e.data.length===0&&Uk(e))},rh=br().browser,Wk=_o,CS=_s,qk=bm,xS="*[contentEditable=false],video,audio,embed,object",G1=function(e,r,a){var i=Dy(r.getBoundingClientRect(),a),c,f;if(e.tagName==="BODY"){var h=e.ownerDocument.documentElement;c=e.scrollLeft||h.scrollLeft,f=e.scrollTop||h.scrollTop}else{var y=e.getBoundingClientRect();c=e.scrollLeft-y.left,f=e.scrollTop-y.top}i.left+=c,i.right+=c,i.top+=f,i.bottom+=f,i.width=1;var w=r.offsetWidth-r.clientWidth;return w>0&&(a&&(w*=-1),i.left+=w,i.right+=w),i},nh=function(e){for(var r=mu(x.fromDom(e),xS),a=0;a<r.length;a++){var i=r[a].dom,c=i.previousSibling;if(hp(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(f.length-1,1)}if(c=i.nextSibling,mp(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(0,1)}}},Uu=function(e,r,a,i){var c=Nd(),f,h,y=hu(e),w=y.length>0?y:"p",R=function(ie,se){var we;if(L(),qk(se))return null;if(a(se)){h=Qw(w,se,ie);var he=G1(r,se,ie);Ln(h).css("top",he.top);var Ze=Ln('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css($r({},he)).appendTo(r)[0];c.set({caret:Ze,element:se,before:ie}),ie&&Ln(Ze).addClass("mce-visual-caret-before"),V(),we=se.ownerDocument.createRange(),we.setStart(h,0),we.setEnd(h,0)}else return h=H_(se,ie),we=se.ownerDocument.createRange(),ah(h.nextSibling)?(we.setStart(h,0),we.setEnd(h,0)):(we.setStart(h,1),we.setEnd(h,1)),we;return we},L=function(){nh(r),h&&(Ld(h),h=null),c.on(function(ie){Ln(ie.caret).remove(),c.clear()}),f&&(Au.clearInterval(f),f=void 0)},V=function(){f=Au.setInterval(function(){i()?Ln("div.mce-visual-caret",r).toggleClass("mce-visual-caret-hidden"):Ln("div.mce-visual-caret",r).addClass("mce-visual-caret-hidden")},500)},j=function(){c.on(function(ie){var se=G1(r,ie.element,ie.before);Ln(ie.caret).css($r({},se))})},re=function(){return Au.clearInterval(f)},ae=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:R,hide:L,getCss:ae,reposition:j,destroy:re}},K1=function(){return rh.isIE()||rh.isEdge()||rh.isFirefox()},ah=function(e){return Wk(e)||CS(e)},Pv=function(e){return ah(e)||si(e)&&K1()},Jy=_o,SS=_s,Gk=es("display","block table table-cell table-caption list-item"),X1=xs,Es=to,Hp=pn,TS=Kl,Fv=function(e){return e>0},Hd=function(e){return e<0},oh=function(e,r){for(var a;a=e(r);)if(!Es(a))return a;return null},Vd=function(e,r,a,i,c){var f=new Ua(e,i),h=Jy(e)||Es(e);if(Hd(r)){if(h&&(e=oh(f.prev.bind(f),!0),a(e)))return e;for(;e=oh(f.prev.bind(f),c);)if(a(e))return e}if(Fv(r)){if(h&&(e=oh(f.next.bind(f),!0),a(e)))return e;for(;e=oh(f.next.bind(f),c);)if(a(e))return e}return null},Al=function(e,r){for(;e&&e!==r;){if(Gk(e))return e;e=e.parentNode}return null},Ol=function(e,r,a){return Al(e.container(),a)===Al(r.container(),a)},Qy=function(e,r){if(!r)return null;var a=r.container(),i=r.offset();return Hp(a)?a.childNodes[i+e]:null},eb=function(e,r){var a=r.ownerDocument.createRange();return e?(a.setStartBefore(r),a.setEndBefore(r)):(a.setStartAfter(r),a.setEndAfter(r)),a},Y1=function(e,r,a){return Al(r,e)===Al(a,e)},ih=function(e,r,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==r;){var c=a[i];if(X1(c)&&(c=c[i]),Jy(c)||SS(c)){if(Y1(r,c,a))return c;break}if(TS(c))break;a=a.parentNode}return null},uh=St(eb,!0),sh=St(eb,!1),Bu=function(e,r,a){var i,c=St(ih,!0,r),f=St(ih,!1,r),h=a.startContainer,y=a.startOffset;if(to(h)){Hp(h)||(h=h.parentNode);var w=h.getAttribute("data-mce-caret");if(w==="before"&&(i=h.nextSibling,Pv(i)))return uh(i);if(w==="after"&&(i=h.previousSibling,Pv(i)))return sh(i)}if(!a.collapsed)return a;if(zr(h)){if(X1(h)){if(e===1){if(i=f(h),i)return uh(i);if(i=c(h),i)return sh(i)}if(e===-1){if(i=c(h),i)return sh(i);if(i=f(h),i)return uh(i)}return a}if(hp(h)&&y>=h.data.length-1)return e===1&&(i=f(h),i)?uh(i):a;if(mp(h)&&y<=1)return e===-1&&(i=c(h),i)?sh(i):a;if(y===h.data.length)return i=f(h),i?uh(i):a;if(y===0)return i=c(h),i?sh(i):a}return a},ch=function(e,r){return oe.from(Qy(e?0:-1,r)).filter(Jy)},lh=function(e,r,a){var i=Bu(e,r,a);return e===-1?vt.fromRangeStart(i):vt.fromRangeEnd(i)},tb=function(e){return oe.from(e.getNode()).map(x.fromDom)},ES=function(e){return oe.from(e.getNode(!0)).map(x.fromDom)},Z1=function(e,r){for(;r=e(r);)if(r.isVisible())return r;return r},rb=function(e,r){var a=Ol(e,r);return!a&&eo(e.getNode())?!0:a},pu;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(pu||(pu={}));var zS=_o,of=zr,nb=pn,J1=eo,fh=Kl,Q1=Ax,Vp=gi,AS=function(e,r){for(var a=[];e&&e!==r;)a.push(e),e=e.parentNode;return a},Kk=function(e,r){return e.hasChildNodes()&&r<e.childNodes.length?e.childNodes[r]:null},Xk=function(e,r){if(Fv(e)){if(fh(r.previousSibling)&&!of(r.previousSibling))return vt.before(r);if(of(r))return vt(r,0)}if(Hd(e)){if(fh(r.nextSibling)&&!of(r.nextSibling))return vt.after(r);if(of(r))return vt(r,r.data.length)}return Hd(e)?J1(r)?vt.before(r):vt.after(r):vt.before(r)},OS=function(e,r){var a=r.nextSibling;return a&&fh(a)?of(a)?vt(a,0):vt.before(a):dh(pu.Forwards,vt.after(r),e)},dh=function(e,r,a){var i,c,f,h;if(!nb(a)||!r)return null;if(r.isEqual(vt.after(a))&&a.lastChild){if(h=vt.after(a.lastChild),Hd(e)&&fh(a.lastChild)&&nb(a.lastChild))return J1(a.lastChild)?vt.before(a.lastChild):h}else h=r;var y=h.container(),w=h.offset();if(of(y)){if(Hd(e)&&w>0)return vt(y,--w);if(Fv(e)&&w<y.length)return vt(y,++w);i=y}else{if(Hd(e)&&w>0&&(c=Kk(y,w-1),fh(c)))return!Q1(c)&&(f=Vd(c,e,Vp,c),f)?of(f)?vt(f,f.data.length):vt.after(f):of(c)?vt(c,c.data.length):vt.before(c);if(Fv(e)&&w<y.childNodes.length&&(c=Kk(y,w),fh(c)))return J1(c)?OS(a,c):!Q1(c)&&(f=Vd(c,e,Vp,c),f)?of(f)?vt(f,0):vt.before(f):of(c)?vt(c,0):vt.after(c);i=c||h.getNode()}if((Fv(e)&&h.isAtEnd()||Hd(e)&&h.isAtStart())&&(i=Vd(i,e,sr,a,!0),Vp(i,a)))return Xk(e,i);c=Vd(i,e,Vp,a);var R=oi(Xt(AS(y,a),zS));return R&&(!c||!R.contains(c))?(Fv(e)?h=vt.after(R):h=vt.before(R),h):c?Xk(e,c):null},Zo=function(e){return{next:function(r){return dh(pu.Forwards,r,e)},prev:function(r){return dh(pu.Backwards,r,e)}}},ab=function(e,r,a){var i=e?vt.before(a):vt.after(a);return zs(e,r,i)},ob=function(e){return eo(e)?vt.before(e):vt.after(e)},e0=function(e){return vt.isTextPosition(e)?e.offset()===0:Kl(e.getNode())},Yk=function(e){if(vt.isTextPosition(e)){var r=e.container();return e.offset()===r.data.length}else return Kl(e.getNode(!0))},t0=function(e,r){return!vt.isTextPosition(e)&&!vt.isTextPosition(r)&&e.getNode()===r.getNode(!0)},Iv=function(e){return!vt.isTextPosition(e)&&eo(e.getNode())},ib=function(e,r,a){return e?!t0(r,a)&&!Iv(r)&&Yk(r)&&e0(a):!t0(a,r)&&e0(r)&&Yk(a)},zs=function(e,r,a){var i=Zo(r);return oe.from(e?i.next(a):i.prev(a))},Rl=function(e,r,a){return zs(e,r,a).bind(function(i){return Ol(a,i,r)&&ib(e,a,i)?zs(e,r,i):oe.some(i)})},ub=function(e,r,a,i){return Rl(e,r,a).bind(function(c){return i(c)?ub(e,r,c,i):oe.some(c)})},Xf=function(e,r){var a=e?r.firstChild:r.lastChild;return zr(a)?oe.some(vt(a,e?0:a.data.length)):a?Kl(a)?oe.some(e?vt.before(a):ob(a)):ab(e,r,a):oe.none()},rl=St(zs,!0),Dl=St(zs,!1),ju=St(Xf,!0),Rc=St(Xf,!1),vh="_mce_caret",uf=function(e){return pn(e)&&e.id===vh},$v=function(e,r){for(;r&&r!==e;){if(r.id===vh)return r;r=r.parentNode}return null},Zk=function(e){return _e(e.start)},Jk=function(e){return Sn(e,"rng")},RS=function(e){return Sn(e,"id")},DS=function(e){return Sn(e,"name")},Qk=function(e){return ht.isArray(e.start)},e2=function(e,r){return pn(r)&&e.isBlock(r)&&!r.innerHTML&&!Zt.ie&&(r.innerHTML='<br data-mce-bogus="1" />'),r},t2=function(e,r){var a,i=e.createRng();return a=Gm(e.getRoot(),r.start),i.setStart(a.container(),a.offset()),a=Gm(e.getRoot(),r.end),i.setEnd(a.container(),a.offset()),i},MS=function(e,r){var a=e.ownerDocument.createTextNode(Fe);e.appendChild(a),r.setStart(a,0),r.setEnd(a,0)},r2=function(e){return e.hasChildNodes()===!1},BS=function(e,r){return Rc(e).fold(Wt,function(a){return r.setStart(a.container(),a.offset()),r.setEnd(a.container(),a.offset()),!0})},n2=function(e,r,a){return r2(r)&&$v(e,r)?(MS(r,a),!0):!1},a2=function(e,r,a,i){var c=a[r?"start":"end"],f,h,y,w,R=e.getRoot();if(c){for(y=c[0],h=R,f=c.length-1;f>=1;f--){if(w=h.childNodes,n2(R,h,i))return!0;if(c[f]>w.length-1)return n2(R,h,i)?!0:BS(h,i);h=w[c[f]]}h.nodeType===3&&(y=Math.min(c[0],h.nodeValue.length)),h.nodeType===1&&(y=Math.min(c[0],h.childNodes.length)),r?i.setStart(h,y):i.setEnd(h,y)}return!0},r0=function(e){return zr(e)&&e.data.length>0},o2=function(e,r,a){var i=e.get(a.id+"_"+r),c,f,h,y,w=a.keep,R,L;if(i){if(c=i.parentNode,r==="start"?(w?i.hasChildNodes()?(c=i.firstChild,f=1):r0(i.nextSibling)?(c=i.nextSibling,f=0):r0(i.previousSibling)?(c=i.previousSibling,f=i.previousSibling.data.length):(c=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),R=c,L=f):(w?i.hasChildNodes()?(c=i.firstChild,f=1):r0(i.previousSibling)?(c=i.previousSibling,f=i.previousSibling.data.length):(c=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),R=c,L=f),!w){for(y=i.previousSibling,h=i.nextSibling,ht.each(ht.grep(i.childNodes),function(V){zr(V)&&(V.nodeValue=V.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+r);)e.remove(i,!0);y&&h&&y.nodeType===h.nodeType&&zr(y)&&!Zt.opera&&(f=y.nodeValue.length,y.appendData(h.nodeValue),e.remove(h),R=y,L=f)}return oe.some(vt(R,L))}else return oe.none()},NS=function(e,r){var a=e.createRng();return a2(e,!0,r,a)&&a2(e,!1,r,a)?oe.some(a):oe.none()},ma=function(e,r){var a=o2(e,"start",r),i=o2(e,"end",r);return $u(a,i.or(a),function(c,f){var h=e.createRng();return h.setStart(e2(e,c.container()),c.offset()),h.setEnd(e2(e,f.container()),f.offset()),h})},Lv=function(e,r){return oe.from(e.select(r.name)[r.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},mh=function(e,r){var a=e.dom;if(r){if(Qk(r))return NS(a,r);if(Zk(r))return oe.some(t2(a,r));if(RS(r))return ma(a,r);if(DS(r))return Lv(a,r);if(Jk(r))return oe.some(r.rng)}return oe.none()},n0=function(e,r,a){return tS(e,r,a)},PS=function(e,r){mh(e,r).each(function(a){e.setRng(a)})},As=function(e){return pn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},FS=function(e){return function(r){return e===r}},Hv=FS(Vs),Ud=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},sb=function(e){return!Ud(e)&&!Hv(e)},cb=function(e){return!!e.nodeType},IS=function(e){return e&&/^(IMG)$/.test(e.nodeName)},i2=function(e,r,a){var i=a.startOffset,c=a.startContainer;if(!(c===a.endContainer&&IS(c.childNodes[i]))&&pn(c)){var f=c.childNodes,h=void 0;i<f.length?(c=f[i],h=new Ua(c,e.getParent(c,e.isBlock))):(c=f[f.length-1],h=new Ua(c,e.getParent(c,e.isBlock)),h.next(!0));for(var y=h.current();y;y=h.next())if(zr(y)&&!fb(y)){a.setStart(y,0),r.setRng(a);return}}},lb=function(e,r,a){if(e){var i=r?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(pn(e)||!fb(e))return e}},a0=function(e,r){return cb(r)&&(r=r.nodeName),!!e.schema.getTextBlockElements()[r.toLowerCase()]},hh=function(e,r,a){return e.schema.isValidChild(r,a)},fb=function(e,r){if(r===void 0&&(r=!1),Ge(e)&&zr(e)){var a=r?e.data.replace(/ /g,""):e.data;return Yc(a)}else return!1},$S=function(e){return Ge(e)&&zr(e)&&e.length===0},sf=function(e,r){return ce(e)?e=e(r):Ge(r)&&(e=e.replace(/%(\w+)/g,function(a,i){return r[i]||a})),e},o0=function(e,r){return e=e||"",r=r||"",e=""+(e.nodeName||e),r=""+(r.nodeName||r),e.toLowerCase()===r.toLowerCase()},i0=function(e,r,a){return(a==="color"||a==="backgroundColor")&&(r=e.toHex(r)),a==="fontWeight"&&r===700&&(r="bold"),a==="fontFamily"&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+r},ph=function(e,r,a){return i0(e,e.getStyle(r,a),a)},u0=function(e,r){var a;return e.getParent(r,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Up=function(e,r,a){return e.getParents(r,a,e.getRoot())},u2=function(e,r){var a=function(i){var c=function(f){return f.length>1&&f.charAt(0)==="%"};return be(["styles","attributes"],function(f){return Kn(i,f).exists(function(h){var y=De(h)?h:fi(h);return be(y,c)})})};return be(e.formatter.get(r),a)},LS=function(e,r,a){var i=["inline","block","selector","attributes","styles","classes"],c=function(f){return un(f,function(h,y){return be(i,function(w){return w===y})})};return be(e.formatter.get(r),function(f){var h=c(f);return be(e.formatter.get(a),function(y){var w=c(y);return di(h,w)})})},cf=function(e){return xo(e,"block")},Gs=function(e){return xo(e,"selector")},gu=function(e){return xo(e,"inline")},HS=function(e){return Gs(e)&&gu(e)&&lv(Kn(e,"mixed"),!0)},s0=function(e){return Gs(e)&&e.expand!==!1&&!gu(e)},gh=As,c0=Up,jp=fb,l0=a0,VS=function(e){return eo(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},gr=function(e,r){for(var a=r;a;){if(pn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:r;a=a.parentNode}return r},Bi=function(e,r,a,i){for(var c=r.data,f=a;e?f>=0:f<c.length;e?f--:f++)if(i(c.charAt(f)))return e?f+1:f;return-1},yh=function(e,r,a){return Bi(e,r,a,function(i){return Hv(i)||Ud(i)})},Qi=function(e,r,a){return Bi(e,r,a,sb)},Dc=function(e,r,a,i,c,f){var h,y=e.getParent(a,e.isBlock)||r,w=function(L,V,j){var re=C1(e),ae=c?re.backwards:re.forwards;return oe.from(ae(L,V,function(ie,se){return gh(ie.parentNode)?-1:(h=ie,j(c,ie,se))},y))},R=w(a,i,yh);return R.bind(function(L){return f?w(L.container,L.offset+(c?-1:0),Qi):oe.some(L)}).orThunk(function(){return h?oe.some({container:h,offset:c?0:h.length}):oe.none()})},f0=function(e,r,a,i,c){zr(i)&&ka(i.data)&&i[c]&&(i=i[c]);for(var f=c0(e,i),h=0;h<f.length;h++)for(var y=0;y<r.length;y++){var w=r[y];if(!(Ge(w.collapsed)&&w.collapsed!==a.collapsed)&&Gs(w)&&e.is(f[h],w.selector))return f[h]}return i},Wp=function(e,r,a,i){var c=a,f=e.dom,h=f.getRoot(),y=r[0];if(cf(y)&&(c=y.wrapper?null:f.getParent(a,y.block,h)),!c){var w=f.getParent(a,"LI,TD,TH");c=f.getParent(zr(a)?a.parentNode:a,function(R){return R!==h&&l0(e,R)},w)}if(c&&cf(y)&&y.wrapper&&(c=c0(f,c,"ul,ol").reverse()[0]||c),!c)for(c=a;c[i]&&!f.isBlock(c[i])&&(c=c[i],!o0(c,"br")););return c||a},db=function(e,r,a,i){var c=a.parentNode;return Ge(a[i])?!1:c===r||Le(c)||e.isBlock(c)?!0:db(e,r,c,i)},vb=function(e,r,a,i,c){var f=a,h=c?"previousSibling":"nextSibling",y=e.getRoot();if(zr(a)&&!jp(a)&&(c?i>0:i<a.data.length))return a;for(;;){if(!r[0].block_expand&&e.isBlock(f))return f;for(var w=f[h];w;w=w[h]){var R=zr(w)&&!db(e,y,w,h);if(!gh(w)&&!VS(w)&&!jp(w,R))return f}if(f===y||f.parentNode===y){a=f;break}f=f.parentNode}return a},mb=function(e){return gh(e.parentNode)||gh(e)},jd=function(e,r,a,i){i===void 0&&(i=!1);var c=r.startContainer,f=r.startOffset,h=r.endContainer,y=r.endOffset,w=e.dom,R=a[0];if(pn(c)&&c.hasChildNodes()&&(c=Oo(c,f),zr(c)&&(f=0)),pn(h)&&h.hasChildNodes()&&(h=Oo(h,r.collapsed?y:y-1),zr(h)&&(y=h.nodeValue.length)),c=gr(w,c),h=gr(w,h),mb(c)&&(c=gh(c)?c:c.parentNode,r.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,zr(c)&&(f=r.collapsed?c.length:0)),mb(h)&&(h=gh(h)?h:h.parentNode,r.collapsed?h=h.nextSibling||h:h=h.previousSibling||h,zr(h)&&(y=r.collapsed?0:h.length)),r.collapsed){var L=Dc(w,e.getBody(),c,f,!0,i);L.each(function(j){var re=j.container,ae=j.offset;c=re,f=ae});var V=Dc(w,e.getBody(),h,y,!1,i);V.each(function(j){var re=j.container,ae=j.offset;h=re,y=ae})}return(gu(R)||R.block_expand)&&((!gu(R)||!zr(c)||f===0)&&(c=vb(w,a,c,f,!0)),(!gu(R)||!zr(h)||y===h.nodeValue.length)&&(h=vb(w,a,h,y,!1))),s0(R)&&(c=f0(w,a,r,c,"previousSibling"),h=f0(w,a,r,h,"nextSibling")),(cf(R)||Gs(R))&&(c=Wp(e,a,c,"previousSibling"),h=Wp(e,a,h,"nextSibling"),cf(R)&&(w.isBlock(c)||(c=vb(w,a,c,f,!0)),w.isBlock(h)||(h=vb(w,a,h,y,!1)))),pn(c)&&(f=w.nodeIndex(c),c=c.parentNode),pn(h)&&(y=w.nodeIndex(h)+1,h=h.parentNode),{startContainer:c,startOffset:f,endContainer:h,endOffset:y}},qp=function(e,r,a){var i=r.startOffset,c=Oo(r.startContainer,i),f=r.endOffset,h=Oo(r.endContainer,f-1),y=function(ie){var se=ie[0];zr(se)&&se===c&&i>=se.data.length&&ie.splice(0,1);var we=ie[ie.length-1];return f===0&&ie.length>0&&we===h&&zr(we)&&ie.splice(ie.length-1,1),ie},w=function(ie,se,we){for(var he=[];ie&&ie!==we;ie=ie[se])he.push(ie);return he},R=function(ie,se){return e.getParent(ie,function(we){return we.parentNode===se},se)},L=function(ie,se,we){for(var he=we?"nextSibling":"previousSibling",Ze=ie,Ve=Ze.parentNode;Ze&&Ze!==se;Ze=Ve){Ve=Ze.parentNode;var Ee=w(Ze===ie?Ze:Ze[he],he);Ee.length&&(we||Ee.reverse(),a(y(Ee)))}};if(c===h)return a(y([c]));var V=e.findCommonAncestor(c,h);if(e.isChildOf(c,h))return L(c,V,!0);if(e.isChildOf(h,c))return L(h,V);var j=R(c,V)||c,re=R(h,V)||h;L(c,j,!0);var ae=w(j===c?j:j.nextSibling,"nextSibling",re===h?re.nextSibling:re);ae.length&&a(y(ae)),L(h,re)},d0=function(e){var r=[];if(e)for(var a=0;a<e.rangeCount;a++)r.push(e.getRangeAt(a));return r},v0=function(e){return wn(e,function(r){var a=Ov(r);return a?[x.fromDom(a)]:[]})},m0=function(e){return d0(e).length>1},US=function(e){return Xt(v0(e),wl)},s2=function(e){return mu(e,"td[data-mce-selected],th[data-mce-selected]")},Yf=function(e,r){var a=s2(r);return a.length>0?a:US(e)},lf=function(e){return Yf(d0(e.selection.getSel()),x.fromDom(e.getBody()))},Vv=function(e,r){return fv(e,"table",r)},bh=function(e){var r=e.startContainer,a=e.startOffset;return zr(r)?a===0?oe.some(x.fromDom(r)):oe.none():oe.from(r.childNodes[a]).map(x.fromDom)},h0=function(e){var r=e.endContainer,a=e.endOffset;return zr(r)?a===r.data.length?oe.some(x.fromDom(r)):oe.none():oe.from(r.childNodes[a-1]).map(x.fromDom)},hb=function(e){return pi(e).fold(X([e]),function(r){return[e].concat(hb(r))})},ff=function(e){return $s(e).fold(X([e]),function(r){return za(r)==="br"?Tf(r).map(function(a){return[e].concat(ff(a))}).getOr([]):[e].concat(ff(r))})},nl=function(e,r){return $u(bh(r),h0(r),function(a,i){var c=nr(hb(e),St(an,a)),f=nr(ff(e),St(an,i));return c.isSome()&&f.isSome()}).getOr(!1)},Wd=function(e,r,a,i){var c=a,f=new Ua(a,c),h=un(e.schema.getMoveCaretBeforeOnEnterElements(),function(y,w){return!qe(["td","th","table"],w.toLowerCase())});do{if(zr(a)&&ht.trim(a.nodeValue).length!==0){i?r.setStart(a,0):r.setEnd(a,a.nodeValue.length);return}if(h[a.nodeName]){i?r.setStartBefore(a):a.nodeName==="BR"?r.setEndBefore(a):r.setEndAfter(a);return}}while(a=i?f.next():f.prev());c.nodeName==="BODY"&&(i?r.setStart(c,0):r.setEnd(c,c.childNodes.length))},qd=function(e){var r=e.selection.getSel();return r&&r.rangeCount>0},Uv=function(e,r){var a=lf(e);a.length>0?je(a,function(i){var c=i.dom,f=e.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),r(f,!0)}):r(e.selection.getRng(),!1)},_h=function(e,r,a){var i=Ek(e,r);a(i),e.moveToBookmark(i)},p0=function(e,r){var a=function(f){if(!e(f))throw new Error("Can only get "+r+" value of a "+r+" node");return i(f).getOr("")},i=function(f){return e(f)?oe.from(f.dom.nodeValue):oe.none()},c=function(f,h){if(!e(f))throw new Error("Can only set raw "+r+" value of a "+r+" node");f.dom.nodeValue=h};return{get:a,getOption:i,set:c}},g0=p0(No,"text"),y0=function(e){return g0.get(e)},pb=function(e){return No(e)&&y0(e)===Fe},yu=function(e,r,a,i){return Vo(r).fold(function(){return"skipping"},function(c){return i==="br"||pb(r)?"valid":qf(r)?"existing":uf(r.dom)?"caret":!hh(e,a,i)||!hh(e,za(c),a)?"invalid-child":"valid"})},pc=function(e,r){var a=jd(e,r,[{inline:"span"}]);r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),e.selection.setRng(r)},Mc=function(e,r,a,i){var c=r.uid,f=c===void 0?wk("mce-annotation"):c,h=Pu(r,["uid"]),y=x.fromTag("span",e);zv(y,qs()),z(y,""+Di(),f),z(y,""+Tp(),a);var w=i(f,h),R=w.attributes,L=R===void 0?{}:R,V=w.classes,j=V===void 0?[]:V;return H(y,L),Gx(y,j),y},df=function(e,r,a,i,c){var f=[],h=Mc(e.getDoc(),c,a,i),y=Nd(),w=function(){y.clear()},R=function(){return y.get().getOrThunk(function(){var re=bi(h);return f.push(re),y.set(re),re})},L=function(re){je(re,V)},V=function(re){var ae=yu(e,re,"span",za(re));switch(ae){case"invalid-child":{w();var ie=Iu(re);L(ie),w();break}case"valid":{var se=R();cv(re,se);break}}},j=function(re){var ae=Pe(re,x.fromDom);L(ae)};return qp(e.dom,r,function(re){w(),j(re)}),f},wh=function(e,r,a,i){e.undoManager.transact(function(){var c=e.selection,f=c.getRng(),h=lf(e).length>0;if(f.collapsed&&!h&&pc(e,f),c.getRng().collapsed&&!h){var y=Mc(e.getDoc(),i,r,a.decorate);ss(y,Vs),c.getRng().insertNode(y.dom),c.select(y.dom)}else _h(c,!1,function(){Uv(e,function(w){df(e,w,r,a.decorate,i)})})})},gb=function(e){var r=Ep();k1(e,r);var a=_k(e);return{register:function(i,c){r.register(i,c)},annotate:function(i,c){r.lookup(i).each(function(f){wh(e,i,f,c)})},annotationChanged:function(i,c){a.addListener(i,c)},remove:function(i){zy(e,oe.some(i)).each(function(c){var f=c.elements;je(f,Of)})},getAll:function(i){var c=w1(e,i);return Co(c,function(f){return Pe(f,function(h){return h.dom})})}}},Gd=function(e){return{getBookmark:St(n0,e),moveToBookmark:St(PS,e)}};Gd.isBookmarkNode=As;var jv=function(e,r){for(;r&&r!==e;){if(qc(r)||_o(r))return r;r=r.parentNode}return null},Wv=function(e,r,a){if(a.collapsed)return!1;if(Zt.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(pn(i))return be(i.getClientRects(),function(c){return kk(c,e,r)})}return be(a.getClientRects(),function(c){return kk(c,e,r)})},jS=function(e,r){return e.fire("PreProcess",r)},b0=function(e,r){return e.fire("PostProcess",r)},c2=function(e){return e.fire("remove")},l2=function(e){return e.fire("detach")},_0=function(e,r){return e.fire("SwitchMode",{mode:r})},w0=function(e,r,a,i,c){e.fire("ObjectResizeStart",{target:r,width:a,height:i,origin:c})},Za=function(e,r,a,i,c){e.fire("ObjectResized",{target:r,width:a,height:i,origin:c})},vf=function(e){return e.fire("PreInit")},f2=function(e){return e.fire("PostRender")},d2=function(e){return e.fire("Init")},v2=function(e,r){return e.fire("PlaceholderToggle",{state:r})},yb=function(e,r,a){return e.fire(r,a)},k0=function(e,r,a,i){return e.fire("FormatApply",{format:r,node:a,vars:i})},Gp=function(e,r,a,i){return e.fire("FormatRemove",{format:r,node:a,vars:i})},on={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||on.metaKeyPressed(e)},metaKeyPressed:function(e){return Zt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},WS=_o,C0=function(e,r){var a="data-mce-selected",i=r.dom,c=ht.each,f,h,y,w,R,L,V,j,re,ae,ie,se,we,he,Ze,Ve=r.getDoc(),Ee=document,nt=Math.abs,Tt=Math.round,Kt=r.getBody(),nn,Cr,At={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},qr=function(ot){return ot&&(ot.nodeName==="IMG"||r.dom.is(ot,"figure.image"))},Jt=function(ot){return _s(ot)||i.hasClass(ot,"mce-preview-object")},wr=function(ot,Yt){if(ot.type==="longpress"||ot.type.indexOf("touch")===0){var qt=ot.touches[0];return qr(ot.target)&&!Wv(qt.clientX,qt.clientY,Yt)}else return qr(ot.target)&&!Wv(ot.clientX,ot.clientY,Yt)},Qt=function(ot){var Yt=ot.target;wr(ot,r.selection.getRng())&&!ot.isDefaultPrevented()&&r.selection.select(Yt)},hr=function(ot){return i.is(ot,"figure.image")?[ot.querySelector("img")]:i.hasClass(ot,"mce-preview-object")&&Ge(ot.firstElementChild)?[ot,ot.firstElementChild]:[ot]},Or=function(ot){var Yt=Bk(r);return!Yt||ot.getAttribute("data-mce-resize")==="false"||ot===r.getBody()?!1:i.hasClass(ot,"mce-preview-object")?ir(x.fromDom(ot.firstElementChild),Yt):ir(x.fromDom(ot),Yt)},Vt=function(ot){return Jt(ot)?i.create("img",{src:Zt.transparentSrc}):ot.cloneNode(!0)},Er=function(ot,Yt,qt){if(Ge(qt)){var Yr=hr(ot);je(Yr,function(rn){rn.style[Yt]||!r.schema.isValid(rn.nodeName.toLowerCase(),Yt)?i.setStyle(rn,Yt,qt):i.setAttrib(rn,Yt,""+qt)})}},ea=function(ot,Yt,qt){Er(ot,"width",Yt),Er(ot,"height",qt)},Pa=function(ot){var Yt,qt,Yr,rn,so;Yt=ot.screenX-L,qt=ot.screenY-V,he=Yt*w[2]+ae,Ze=qt*w[3]+ie,he=he<5?5:he,Ze=Ze<5?5:Ze,(qr(f)||Jt(f))&&Nk(r)!==!1?Yr=!on.modifierPressed(ot):Yr=on.modifierPressed(ot),Yr&&(nt(Yt)>nt(qt)?(Ze=Tt(he*se),he=Tt(Ze/se)):(he=Tt(Ze/se),Ze=Tt(he*se))),ea(h,he,Ze),rn=w.startPos.x+Yt,so=w.startPos.y+qt,rn=rn>0?rn:0,so=so>0?so:0,i.setStyles(y,{left:rn,top:so,display:"block"}),y.innerHTML=he+" &times; "+Ze,w[2]<0&&h.clientWidth<=he&&i.setStyle(h,"left",j+(ae-he)),w[3]<0&&h.clientHeight<=Ze&&i.setStyle(h,"top",re+(ie-Ze)),Yt=Kt.scrollWidth-nn,qt=Kt.scrollHeight-Cr,Yt+qt!==0&&i.setStyles(y,{left:rn-Yt,top:so-qt}),we||(w0(r,f,ae,ie,"corner-"+w.name),we=!0)},Ma=function(){var ot=we;we=!1,ot&&(Er(f,"width",he),Er(f,"height",Ze)),i.unbind(Ve,"mousemove",Pa),i.unbind(Ve,"mouseup",Ma),Ee!==Ve&&(i.unbind(Ee,"mousemove",Pa),i.unbind(Ee,"mouseup",Ma)),i.remove(h),i.remove(y),i.remove(R),wu(f),ot&&(Za(r,f,he,Ze,"corner-"+w.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),r.nodeChanged()},wu=function(ot){Ut();var Yt=i.getPos(ot,Kt),qt=Yt.x,Yr=Yt.y,rn=ot.getBoundingClientRect(),so=rn.width||rn.right-rn.left,ru=rn.height||rn.bottom-rn.top;f!==ot&&(Go(),f=ot,he=Ze=0);var ji=r.fire("ObjectSelected",{target:ot}),ms=i.getAttrib(f,a,"1");Or(ot)&&!ji.isDefaultPrevented()?c(At,function(hs,Zs){var Wi,fl=function(Js){var iv=hr(f)[0];L=Js.screenX,V=Js.screenY,ae=iv.clientWidth,ie=iv.clientHeight,se=ie/ae,w=hs,w.name=Zs,w.startPos={x:so*hs[0]+qt,y:ru*hs[1]+Yr},nn=Kt.scrollWidth,Cr=Kt.scrollHeight,R=i.add(Kt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(R,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),h=Vt(f),i.addClass(h,"mce-clonedresizable"),i.setAttrib(h,"data-mce-bogus","all"),h.contentEditable="false",i.setStyles(h,{left:qt,top:Yr,margin:0}),ea(h,so,ru),h.removeAttribute(a),Kt.appendChild(h),i.bind(Ve,"mousemove",Pa),i.bind(Ve,"mouseup",Ma),Ee!==Ve&&(i.bind(Ee,"mousemove",Pa),i.bind(Ee,"mouseup",Ma)),y=i.add(Kt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ae+" &times; "+ie)};Wi=i.get("mceResizeHandle"+Zs),Wi&&i.remove(Wi),Wi=i.add(Kt,"div",{id:"mceResizeHandle"+Zs,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Zs+"-resize; margin:0; padding:0"}),Zt.ie===11&&(Wi.contentEditable=!1),i.bind(Wi,"mousedown",function(Js){Js.stopImmediatePropagation(),Js.preventDefault(),fl(Js)}),hs.elm=Wi,i.setStyles(Wi,{left:so*hs[0]+qt-Wi.offsetWidth/2,top:ru*hs[1]+Yr-Wi.offsetHeight/2})}):Go(),i.getAttrib(f,a)||f.setAttribute(a,ms)},Go=function(){Ut(),f&&f.removeAttribute(a),xn(At,function(ot,Yt){var qt=i.get("mceResizeHandle"+Yt);qt&&(i.unbind(qt),i.remove(qt))})},Ds=function(ot){var Yt,qt,Yr=function(rn,so){if(rn)do if(rn===so)return!0;while(rn=rn.parentNode)};if(!(we||r.removed)){if(c(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(rn){rn.removeAttribute(a)}),qt=ot.type==="mousedown"?ot.target:e.getNode(),qt=i.$(qt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Yr(qt,Kt)&&(ur(),Yt=e.getStart(!0),Yr(Yt,qt)&&Yr(e.getEnd(!0),qt))){wu(qt);return}Go()}},Hc=function(ot){return WS(jv(r.getBody(),ot))},Ut=function(){xn(At,function(ot){ot.elm&&(i.unbind(ot.elm),delete ot.elm)})},ur=function(){try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};r.on("init",function(){if(ur(),Zt.browser.isIE()||Zt.browser.isEdge()){r.on("mousedown click",function(qt){var Yr=qt.target,rn=Yr.nodeName;!we&&/^(TABLE|IMG|HR)$/.test(rn)&&!Hc(Yr)&&(qt.button!==2&&r.selection.select(Yr,rn==="TABLE"),qt.type==="mousedown"&&r.nodeChanged())});var ot=function(qt){var Yr=function(rn){Au.setEditorTimeout(r,function(){return r.selection.select(rn)})};if(Hc(qt.target)||_s(qt.target)){qt.preventDefault(),Yr(qt.target);return}/^(TABLE|IMG|HR)$/.test(qt.target.nodeName)&&(qt.preventDefault(),qt.target.tagName==="IMG"&&Yr(qt.target))};i.bind(Kt,"mscontrolselect",ot),r.on("remove",function(){return i.unbind(Kt,"mscontrolselect",ot)})}var Yt=Au.throttle(function(qt){r.composing||Ds(qt)});r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Yt),r.on("keyup compositionend",function(qt){f&&f.nodeName==="TABLE"&&Yt(qt)}),r.on("hide blur",Go),r.on("contextmenu longpress",Qt,!0)}),r.on("remove",Ut);var Gr=function(){f=h=R=null};return{isResizable:Or,showResizeRect:wu,hideResizeRect:Go,updateResizeRect:Ds,destroy:Gr}},m2=function(e){return qc(e)||_o(e)},x0=function(e,r,a){for(;e&&e!==r;){if(a(e))return e;e=e.parentNode}return null},qS=function(e,r,a){var i,c=a.elementFromPoint(e,r),f=a.body.createTextRange();if((!c||c.tagName==="HTML")&&(c=a.body),f.moveToElementText(c),i=ht.toArray(f.getClientRects()),i=i.sort(function(h,y){return h=Math.abs(Math.max(h.top-r,h.bottom-r)),y=Math.abs(Math.max(y.top-r,y.bottom-r)),h-y}),i.length>0){r=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,r),f.collapse(!0),f}catch{}}return null},h2=function(e,r){var a=e&&e.parentElement?e.parentElement():null;return _o(x0(a,r,m2))?null:e},S0=function(e,r,a){var i,c,f=a;if(f.caretPositionFromPoint)c=f.caretPositionFromPoint(e,r),c&&(i=a.createRange(),i.setStart(c.offsetNode,c.offset),i.collapse(!0));else if(f.caretRangeFromPoint)i=f.caretRangeFromPoint(e,r);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,r),i.collapse(!0)}catch{i=qS(e,r,a)}return h2(i,a.body)}return i},T0=function(e,r){return e&&r&&e.startContainer===r.startContainer&&e.startOffset===r.startOffset&&e.endContainer===r.endContainer&&e.endOffset===r.endOffset},GS=function(e,r,a){for(;e&&e!==r;){if(a(e))return e;e=e.parentNode}return null},gc=function(e,r,a){return GS(e,r,a)!==null},ls=function(e,r,a){return gc(e,r,function(i){return i.nodeName===a})},mf=function(e){return e&&e.nodeName==="TABLE"},KS=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},XS=function(e,r){return xs(e)&&gc(e,r,uf)===!1},E0=function(e,r,a){for(var i=new Ua(r,e.getParent(r.parentNode,e.isBlock)||e.getRoot());r=i[a?"prev":"next"]();)if(eo(r))return!0},aa=function(e,r){return e.previousSibling&&e.previousSibling.nodeName===r},YS=function(e,r){for(;r&&r!==e;){if(_o(r))return!0;r=r.parentNode}return!1},bb=function(e,r,a,i,c){var f,h=e.getRoot(),y,w=e.schema.getNonEmptyElements(),R=e.getParent(c.parentNode,e.isBlock)||h;if(i&&eo(c)&&r&&e.isEmpty(R))return oe.some(vt(c.parentNode,e.nodeIndex(c)));for(var L=new Ua(c,R);y=L[i?"prev":"next"]();){if(e.getContentEditableParent(y)==="false"||XS(y,h))return oe.none();if(zr(y)&&y.nodeValue.length>0)return ls(y,h,"A")===!1?oe.some(vt(y,i?y.nodeValue.length:0)):oe.none();if(e.isBlock(y)||w[y.nodeName.toLowerCase()])return oe.none();f=y}return a&&f?oe.some(vt(f,0)):oe.none()},_b=function(e,r,a,i){var c,f,h=e.getRoot(),y,w,R=!1;c=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var L=pn(c)&&f===c.childNodes.length,V=e.schema.getNonEmptyElements();if(w=a,xs(c))return oe.none();if(pn(c)&&f>c.childNodes.length-1&&(w=!1),ip(c)&&(c=h,f=0),c===h){if(w&&(y=c.childNodes[f>0?f-1:0],y&&(xs(y)||V[y.nodeName]||mf(y))))return oe.none();if(c.hasChildNodes()){if(f=Math.min(!w&&f>0?f-1:f,c.childNodes.length-1),c=c.childNodes[f],f=zr(c)&&L?c.data.length:0,!r&&c===h.lastChild&&mf(c)||YS(h,c)||xs(c))return oe.none();if(c.hasChildNodes()&&mf(c)===!1){y=c;var j=new Ua(c,h);do{if(_o(y)||xs(y)){R=!1;break}if(zr(y)&&y.nodeValue.length>0){f=w?0:y.nodeValue.length,c=y,R=!0;break}if(V[y.nodeName.toLowerCase()]&&!KS(y)){f=e.nodeIndex(y),c=y.parentNode,w||f++,R=!0;break}}while(y=w?j.next():j.prev())}}}return r&&(zr(c)&&f===0&&bb(e,L,r,!0,c).each(function(re){c=re.container(),f=re.offset(),R=!0}),pn(c)&&(y=c.childNodes[f],y||(y=c.childNodes[f-1]),y&&eo(y)&&!aa(y,"A")&&!E0(e,y,!1)&&!E0(e,y,!0)&&bb(e,L,r,!0,y).each(function(re){c=re.container(),f=re.offset(),R=!0}))),w&&!r&&zr(c)&&f===c.nodeValue.length&&bb(e,L,r,!1,c).each(function(re){c=re.container(),f=re.offset(),R=!0}),R?oe.some(vt(c,f)):oe.none()},wb=function(e,r){var a=r.collapsed,i=r.cloneRange(),c=vt.fromRangeStart(r);return _b(e,a,!0,i).each(function(f){(!a||!vt.isAbove(c,f))&&i.setStart(f.container(),f.offset())}),a||_b(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),T0(r,i)?oe.none():oe.some(i)},Kp=function(e,r){return e.splitText(r)},Zf=function(e){var r=e.startContainer,a=e.startOffset,i=e.endContainer,c=e.endOffset;return r===i&&zr(r)?a>0&&a<r.nodeValue.length&&(i=Kp(r,a),r=i.previousSibling,c>a?(c=c-a,r=i=Kp(i,c).previousSibling,c=i.nodeValue.length,a=0):c=0):(zr(r)&&a>0&&a<r.nodeValue.length&&(r=Kp(r,a),a=0),zr(i)&&c>0&&c<i.nodeValue.length&&(i=Kp(i,c).previousSibling,c=i.nodeValue.length)),{startContainer:r,startOffset:a,endContainer:i,endOffset:c}},Xp=function(e){var r=function(c,f){return qp(e,c,f)},a=Zf,i=function(c){return wb(e,c).fold(Wt,function(f){return c.setStart(f.startContainer,f.startOffset),c.setEnd(f.endContainer,f.endOffset),!0})};return{walk:r,split:a,normalize:i}};Xp.compareRanges=T0,Xp.getCaretRangeFromPoint=S0,Xp.getSelectedNode=Ov,Xp.getNode=Oo;var ZS=function(e,r){var a=function(y,w){if(!Ue(w)&&!w.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+w);var R=y.dom;Ao(R)&&(R.style[e]=w+"px")},i=function(y){var w=r(y);if(w<=0||w===null){var R=Un(y,e);return parseFloat(R)||0}return w},c=i,f=function(y,w){return ut(w,function(R,L){var V=Un(y,L),j=V===void 0?0:parseInt(V,10);return isNaN(j)?R:R+j},0)},h=function(y,w,R){var L=f(y,R),V=w>L?w-L:0;return V};return{set:a,get:i,getOuter:c,aggregate:f,max:h}},p2=ZS("height",function(e){var r=e.dom;return Rf(e)?r.getBoundingClientRect().height:r.offsetHeight}),z0=function(e){return p2.get(e)},Kd=function(e,r){var a=e.view(r);return a.fold(X([]),function(i){var c=e.owner(i),f=Kd(e,c);return[i].concat(f)})},kb=function(e,r){var a=r.owner(e);return Kd(r,a)},g2=function(e){var r,a=e.dom===document?oe.none():oe.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return a.map(x.fromDom)},JS=function(e){return vn(e)},QS=Object.freeze({__proto__:null,view:g2,owner:JS}),e8=function(e){var r=x.fromDom(document),a=pm(r),i=kb(e,QS),c=bs(e),f=Pr(i,function(h,y){var w=bs(y);return{left:h.left+w.left,top:h.top+w.top}},{left:0,top:0});return gl(f.left+c.left+a.left,f.top+c.top+a.top)},qv=function(e){return za(e)==="textarea"},A0=function(e,r){var a=e.fire("ScrollIntoView",r);return a.isDefaultPrevented()},Jr=function(e,r){e.fire("AfterScrollIntoView",r)},y2=function(e,r){var a=Iu(e);if(a.length===0||qv(e))return{element:e,offset:r};if(r<a.length&&!qv(a[r]))return{element:a[r],offset:0};var i=a[a.length-1];return qv(i)?{element:e,offset:r}:za(i)==="img"?{element:i,offset:1}:No(i)?{element:i,offset:y0(i).length}:{element:i,offset:Iu(i).length}},b2=function(e,r){var a=zo(e),i=z0(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:r}},t8=function(e,r){var a=y2(e,r),i=x.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Fe+"</span>");return uu(a.element,i),b2(i,function(){return Uo(i)})},Yp=function(e){return b2(x.fromDom(e),U)},Wu=function(e,r,a,i){O0(e,function(c,f){return r8(e,r,a,i)},a)},Zp=function(e,r,a,i,c){var f={elm:i.element.dom,alignToTop:c};if(!A0(e,f)){var h=pm(r).top;a(r,h,i,c),Jr(e,f)}},r8=function(e,r,a,i){var c=x.fromDom(e.getBody()),f=x.fromDom(e.getDoc());px(c);var h=t8(x.fromDom(a.startContainer),a.startOffset);Zp(e,f,r,h,i),h.cleanup()},_2=function(e,r,a,i){var c=x.fromDom(e.getDoc());Zp(e,c,a,Yp(r),i)},O0=function(e,r,a){var i=a.startContainer,c=a.startOffset,f=a.endContainer,h=a.endOffset;r(x.fromDom(i),x.fromDom(f));var y=e.dom.createRng();y.setStart(i,c),y.setEnd(f,h),e.selection.setRng(a)},R0=function(e,r,a,i){var c=e.pos;if(a)Ls(c.left,c.top,i);else{var f=c.top-r+e.height;Ls(c.left,f,i)}},w2=function(e,r,a,i,c){var f=a+r,h=i.pos.top,y=i.bottom,w=y-h>=a;if(h<r)R0(i,a,c!==!1,e);else if(h>f){var R=w?c!==!1:c===!0;R0(i,a,R,e)}else y>f&&!w&&R0(i,a,c===!0,e)},D0=function(e,r,a,i){var c=e.dom.defaultView.innerHeight;w2(e,r,c,a,i)},M0=function(e,r,a,i){var c=e.dom.defaultView.innerHeight;w2(e,r,c,a,i);var f=e8(a.element),h=Mf(window);f.top<h.y?gm(a.element,i!==!1):f.top>h.bottom&&gm(a.element,i===!0)},Jf=function(e,r,a){return Wu(e,D0,r,a)},n8=function(e,r,a){return _2(e,r,D0,a)},a8=function(e,r,a){return Wu(e,M0,r,a)},k2=function(e,r,a){return _2(e,r,M0,a)},o8=function(e,r,a){var i=e.inline?n8:k2;i(e,r,a)},Jp=function(e,r,a){var i=e.inline?Jf:a8;i(e,r,a)},Na=function(){return x.fromDom(document)},Cb=function(e){return e.dom.focus()},Qf=function(e){var r=Ju(e).dom;return e.dom===r.activeElement},al=function(e){return e===void 0&&(e=Na()),oe.from(e.dom.activeElement).map(x.fromDom)},Xd=function(e){return al(Ju(e)).filter(function(r){return e.dom.contains(r.dom)})},Os=function(e,r,a,i){return{start:e,soffset:r,finish:a,foffset:i}},xb={create:Os},Gv=Kr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),kh=function(e,r,a,i){return e.fold(r,a,i)},Yd=function(e){return e.fold(It,It,It)},i8=Gv.before,C2=Gv.on,u8=Gv.after,s8={before:i8,on:C2,after:u8,cata:kh,getStart:Yd},Jn=Kr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ol=function(e){return Jn.exact(e.start,e.soffset,e.finish,e.foffset)},Ch=function(e){return e.match({domRange:function(r){return x.fromDom(r.startContainer)},relative:function(r,a){return s8.getStart(r)},exact:function(r,a,i,c){return r}})},x2=Jn.domRange,Qp=Jn.relative,ha=Jn.exact,S2=function(e){var r=Ch(e);return Ho(r)},T2=xb.create,eg={domRange:x2,relative:Qp,exact:ha,exactFromRange:ol,getWin:S2,range:T2},E2=br().browser,tg=function(e,r){var a=No(r)?y0(r).length:Iu(r).length+1;return e>a?a:e<0?0:e},Kv=function(e){return eg.range(e.start,tg(e.soffset,e.start),e.finish,tg(e.foffset,e.finish))},B0=function(e,r){return!Ul(r.dom)&&(Ia(e,r)||an(e,r))},N0=function(e){return function(r){return B0(e,r.start)&&B0(e,r.finish)}},z2=function(e){return e.inline===!0||E2.isIE()},A2=function(e){return eg.range(x.fromDom(e.startContainer),e.startOffset,x.fromDom(e.endContainer),e.endOffset)},Zd=function(e){var r=e.getSelection(),a=!r||r.rangeCount===0?oe.none():oe.from(r.getRangeAt(0));return a.map(A2)},Xv=function(e){var r=Ho(e);return Zd(r.dom).filter(N0(e))},P0=function(e,r){return oe.from(r).filter(N0(e)).map(Kv)},O2=function(e){var r=document.createRange();try{return r.setStart(e.start.dom,e.soffset),r.setEnd(e.finish.dom,e.foffset),oe.some(r)}catch{return oe.none()}},Sb=function(e){var r=z2(e)?Xv(x.fromDom(e.getBody())):oe.none();e.bookmark=r.isSome()?r:e.bookmark},c8=function(e,r){var a=x.fromDom(e.getBody()),i=z2(e)?oe.from(r):oe.none(),c=i.map(A2).filter(N0(a));e.bookmark=c.isSome()?c:e.bookmark},xh=function(e){var r=e.bookmark?e.bookmark:oe.none();return r.bind(function(a){return P0(x.fromDom(e.getBody()),a)}).bind(O2)},F0=function(e){xh(e).each(function(r){return e.selection.setRng(r)})},I0=function(e){var r=e.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1},R2={isEditorUIElement:I0},$0=function(e){return e.type==="nodechange"&&e.selectionChange},Tb=function(e,r){var a=function(){r.throttle()};ho.DOM.bind(document,"mouseup",a),e.on("remove",function(){ho.DOM.unbind(document,"mouseup",a)})},Eb=function(e){e.on("focusout",function(){Sb(e)})},L0=function(e,r){e.on("mouseup touchend",function(a){r.throttle()})},H0=function(e,r){var a=br().browser;a.isIE()?Eb(e):L0(e,r),e.on("keyup NodeChange",function(i){$0(i)||Sb(e)})},D2=function(e){var r=Sy(function(){Sb(e)},0);e.on("init",function(){e.inline&&Tb(e,r),H0(e,r)}),e.on("remove",function(){r.cancel()})},Yv,Sh=ho.DOM,M2=function(e){return R2.isEditorUIElement(e)},B2=function(e){var r=e.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},zb=function(e,r){var a=L1(e),i=Sh.getParent(r,function(c){return M2(c)||(a?e.dom.is(c,a):!1)});return i!==null},N2=function(e){try{var r=Ju(x.fromDom(e.getElement()));return al(r).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},P2=function(e,r){var a=r.editor;D2(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Au.setEditorTimeout(a,function(){var i=e.focusedEditor;!zb(a,N2(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Yv||(Yv=function(i){var c=e.activeEditor;c&&Tu(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!zb(c,f)&&e.focusedEditor===c&&(c.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Sh.bind(document,"focusin",Yv))},V0=function(e,r){e.focusedEditor===r.editor&&(e.focusedEditor=null),e.activeEditor||(Sh.unbind(document,"focusin",Yv),Yv=null)},F2=function(e){e.on("AddEditor",St(P2,e)),e.on("RemoveEditor",St(V0,e))},I2=function(e,r){return e.dom.getParent(r,function(a){return e.dom.getContentEditable(a)==="true"})},$2=function(e){return e.collapsed?oe.from(Oo(e.startContainer,e.startOffset)).map(x.fromDom):oe.none()},l8=function(e,r){return $2(r).bind(function(a){return Oa(a)?oe.some(a):Ia(e,a)===!1?oe.some(e):oe.none()})},L2=function(e,r){l8(x.fromDom(e.getBody()),r).bind(function(a){return ju(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},U0=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},Th=function(e){return Qf(e)||Xd(e).isSome()},f8=function(e){return e.iframeElement&&Qf(x.fromDom(e.iframeElement))},H2=function(e){var r=e.getBody();return r&&Th(x.fromDom(r))},V2=function(e){var r=Ju(x.fromDom(e.getElement()));return al(r).filter(function(a){return!B2(a.dom)&&zb(e,a.dom)}).isSome()},Bc=function(e){return e.inline?H2(e):f8(e)},U2=function(e){return Bc(e)||V2(e)},j2=function(e){var r=e.selection,a=e.getBody(),i=r.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Bc(e)===!1&&xh(e).each(function(f){e.selection.setRng(f),i=f});var c=I2(e,r.getNode());if(e.$.contains(a,c)){U0(c),L2(e,i),Ab(e);return}e.inline||(Zt.opera||U0(a),e.getWin().focus()),(Zt.gecko||e.inline)&&(U0(a),L2(e,i)),Ab(e)},Ab=function(e){return e.editorManager.setActive(e)},Ob=function(e,r){e.removed||(r?Ab(e):j2(e))},j0=function(e,r,a,i,c){var f=a?r.startContainer:r.endContainer,h=a?r.startOffset:r.endOffset;return oe.from(f).map(x.fromDom).map(function(y){return!i||!r.collapsed?hl(y,c(y,h)).getOr(y):y}).bind(function(y){return bo(y)?oe.some(y):Vo(y).filter(bo)}).map(function(y){return y.dom}).getOr(e)},Zv=function(e,r,a){return j0(e,r,!0,a,function(i,c){return Math.min(qg(i),c)})},Eh=function(e,r,a){return j0(e,r,!1,a,function(i,c){return c>0?c-1:c})},W2=function(e,r){for(var a=e;e&&zr(e)&&e.length===0;)e=r?e.nextSibling:e.previousSibling;return e||a},q2=function(e,r){var a,i,c;if(!r)return e;i=r.startContainer,c=r.endContainer;var f=r.startOffset,h=r.endOffset;return a=r.commonAncestorContainer,!r.collapsed&&(i===c&&h-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&c.nodeType===3&&(i.length===f?i=W2(i.nextSibling,!0):i=i.parentNode,h===0?c=W2(c.previousSibling,!1):c=c.parentNode,i&&i===c))?i:a&&a.nodeType===3?a.parentNode:a},Rb=function(e,r,a,i){var c,f=[],h=e.getRoot();if(a=e.getParent(a||Zv(h,r,r.collapsed),e.isBlock),i=e.getParent(i||Eh(h,r,r.collapsed),e.isBlock),a&&a!==h&&f.push(a),a&&i&&a!==i){c=a;for(var y=new Ua(a,h);(c=y.next())&&c!==i;)e.isBlock(c)&&f.push(c)}return i&&a!==i&&i!==h&&f.push(i),f},d8=function(e,r,a){return oe.from(r).map(function(i){var c=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,c),f.setEnd(i.parentNode,c+1),a&&(Wd(e,f,i,!0),Wd(e,f,i,!1)),f})},Db=function(e,r){return Pe(r,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},rg={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Mb=function(e,r,a){var i=a?"lastChild":"firstChild",c=a?"prev":"next";if(e[i])return e[i];if(e!==r){var f=e[c];if(f)return f;for(var h=e.parent;h&&h!==r;h=h.parent)if(f=h[c],f)return f}},G2=function(e){if(!Yc(e.value))return!1;var r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(e.value))},Bb=function(e){var r=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||r},Nc=function(){function e(r,a){this.name=r,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(r,a){var i=new e(r,rg[r]||1);return a&&xn(a,function(c,f){i.attr(f,c)}),i},e.prototype.replace=function(r){var a=this;return r.parent&&r.remove(),a.insert(r,a),a.remove(),a},e.prototype.attr=function(r,a){var i=this,c;if(typeof r!="string")return r!=null&&xn(r,function(h,y){i.attr(y,h)}),i;if(c=i.attributes){if(a!==void 0){if(a===null){if(r in c.map){delete c.map[r];for(var f=c.length;f--;)if(c[f].name===r)return c.splice(f,1),i}return i}if(r in c.map){for(var f=c.length;f--;)if(c[f].name===r){c[f].value=a;break}}else c.push({name:r,value:a});return c.map[r]=a,i}return c.map[r]}},e.prototype.clone=function(){var r=this,a=new e(r.name,r.type),i;if(i=r.attributes){var c=[];c.map={};for(var f=0,h=i.length;f<h;f++){var y=i[f];y.name!=="id"&&(c[c.length]={name:y.name,value:y.value},c.map[y.name]=y.value)}a.attributes=c}return a.value=r.value,a.shortEnded=r.shortEnded,a},e.prototype.wrap=function(r){var a=this;return a.parent.insert(r,a),r.append(a),a},e.prototype.unwrap=function(){for(var r=this,a=r.firstChild;a;){var i=a.next;r.insert(a,r,!0),a=i}r.remove()},e.prototype.remove=function(){var r=this,a=r.parent,i=r.next,c=r.prev;return a&&(a.firstChild===r?(a.firstChild=i,i&&(i.prev=null)):c.next=i,a.lastChild===r?(a.lastChild=c,c&&(c.next=null)):i.prev=c,r.parent=r.next=r.prev=null),r},e.prototype.append=function(r){var a=this;r.parent&&r.remove();var i=a.lastChild;return i?(i.next=r,r.prev=i,a.lastChild=r):a.lastChild=a.firstChild=r,r.parent=a,r},e.prototype.insert=function(r,a,i){r.parent&&r.remove();var c=a.parent||this;return i?(a===c.firstChild?c.firstChild=r:a.prev.next=r,r.prev=a.prev,r.next=a,a.prev=r):(a===c.lastChild?c.lastChild=r:a.next.prev=r,r.next=a.next,r.prev=a,a.next=r),r.parent=c,r},e.prototype.getAll=function(r){for(var a=this,i=[],c=a.firstChild;c;c=Mb(c,a))c.name===r&&i.push(c);return i},e.prototype.children=function(){for(var r=this,a=[],i=r.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var r=this;if(r.firstChild){for(var a=[],i=r.firstChild;i;i=Mb(i,r))a.push(i);for(var c=a.length;c--;){var i=a[c];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(r,a,i){a===void 0&&(a={});var c=this,f=c.firstChild;if(Bb(c))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(r[f.name]||Bb(f))return!1}if(f.type===8||f.type===3&&!G2(f)||f.type===3&&f.parent&&a[f.parent.name]&&Yc(f.value)||i&&i(f))return!1}while(f=Mb(f,c));return!0},e.prototype.walk=function(r){return Mb(this,null,r)},e}(),v8=ht.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),W0=function(e){return _e(e.nodeValue)&&Ft(e.nodeValue,Fe)},q0=function(e){return(e.length===0?"":Pe(e,function(r){return"["+r+"]"}).join(",")+",")+'[data-mce-bogus="all"]'},Nb=function(e,r){return r.querySelectorAll(q0(e))},zh=function(e,r,a){return document.createTreeWalker(e,r,a,!1)},Pb=function(e){return zh(e,NodeFilter.SHOW_COMMENT,function(r){return W0(r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})},G0=function(e){return zh(e,NodeFilter.SHOW_TEXT,function(r){if(W0(r)){var a=r.parentNode;return a&&Sn(v8,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP})},K2=function(e){return Pb(e).nextNode()!==null},X2=function(e){return G0(e).nextNode()!==null},Fb=function(e,r){return r.querySelector(q0(e))!==null},m8=function(e,r){je(Nb(e,r),function(a){var i=x.fromDom(a);K(i,"data-mce-bogus")==="all"?Uo(i):je(e,function(c){We(i,c)&&_t(i,c)})})},Y2=function(e){for(var r=e.nextNode();r!==null;)r.nodeValue=null,r=e.nextNode()},h8=Ce(Y2,Pb),p8=Ce(Y2,G0),Jv=function(e,r){var a=[{condition:St(Fb,r),action:St(m8,r)},{condition:K2,action:h8},{condition:X2,action:p8}],i=e,c=!1;return je(a,function(f){var h=f.condition,y=f.action;h(i)&&(c||(i=e.cloneNode(!0),c=!0),y(i))}),i},g8=function(e,r){var a=hu(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(i,"")},y8=function(e,r){return $r($r({},e),{format:r,get:!0,getInner:!0})},b8=function(e,r,a,i){var c=y8(r,a),f=r.no_events?c:e.fire("BeforeGetContent",c),h;return f.format==="raw"?h=ht.trim(Cs(Jv(i,e.serializer.getTempAttrs()).innerHTML)):f.format==="text"?h=e.dom.isEmpty(i)?"":Cs(i.innerText||i.textContent):f.format==="tree"?h=e.serializer.serialize(i,f):h=g8(e,e.serializer.serialize(i,f)),!qe(["text","tree"],f.format)&&!dv(x.fromDom(i))?f.content=ht.trim(h):f.content=h,f.no_events?f.content:e.fire("GetContent",f).content},K0=function(e,r,a){return oe.from(e.getBody()).fold(X(r.format==="tree"?new Nc("body",11):""),function(i){return b8(e,r,a,i)})},X0=ht.each,Z2=function(e){var r=function(a,i){if(a.nodeName!==i.nodeName)return!1;var c=function(h){var y={};return X0(e.getAttribs(h),function(w){var R=w.nodeName.toLowerCase();R.indexOf("_")!==0&&R!=="style"&&R.indexOf("data-")!==0&&(y[R]=e.getAttrib(h,R))}),y},f=function(h,y){var w,R;for(R in h)if(Sn(h,R)){if(w=y[R],typeof w>"u"||h[R]!==w)return!1;delete y[R]}for(R in y)if(Sn(y,R))return!1;return!0};return!f(c(a),c(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!As(a)&&!As(i)};return{compare:r}},ng=ht.makeMap,Y0=function(e){var r=[];e=e||{};var a=e.indent,i=ng(e.indent_before||""),c=ng(e.indent_after||""),f=cc.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format==="html";return{start:function(y,w,R){var L,V,j,re;if(a&&i[y]&&r.length>0&&(re=r[r.length-1],re.length>0&&re!==`
`&&r.push(`
`)),r.push("<",y),w)for(L=0,V=w.length;L<V;L++)j=w[L],r.push(" ",j.name,'="',f(j.value,!0),'"');!R||h?r[r.length]=">":r[r.length]=" />",R&&a&&c[y]&&r.length>0&&(re=r[r.length-1],re.length>0&&re!==`
`&&r.push(`
`))},end:function(y){var w;r.push("</",y,">"),a&&c[y]&&r.length>0&&(w=r[r.length-1],w.length>0&&w!==`
`&&r.push(`
`))},text:function(y,w){y.length>0&&(r[r.length]=w?y:f(y))},cdata:function(y){r.push("<![CDATA[",y,"]]>")},comment:function(y){r.push("<!--",y,"-->")},pi:function(y,w){w?r.push("<?",y," ",f(w),"?>"):r.push("<?",y,"?>"),a&&r.push(`
`)},doctype:function(y){r.push("<!DOCTYPE",y,">",a?`
`:"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}},Qv=function(e,r){r===void 0&&(r=lc());var a=Y0(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(c){var f=e.validate,h={3:function(w){a.text(w.value,w.raw)},8:function(w){a.comment(w.value)},7:function(w){a.pi(w.name,w.value)},10:function(w){a.doctype(w.value)},4:function(w){a.cdata(w.value)},11:function(w){if(w=w.firstChild)do y(w);while(w=w.next)}};a.reset();var y=function(w){var R=h[w.type];if(R)R(w);else{var L=w.name,V=w.shortEnded,j=w.attributes;if(f&&j&&j.length>1){var re=[];re.map={};var ae=r.getElementRule(w.name);if(ae){for(var ie=0,se=ae.attributesOrder.length;ie<se;ie++){var we=ae.attributesOrder[ie];if(we in j.map){var he=j.map[we];re.map[we]=he,re.push({name:we,value:he})}}for(var ie=0,se=j.length;ie<se;ie++){var we=j[ie].name;if(!(we in re.map)){var he=j.map[we];re.map[we]=he,re.push({name:we,value:he})}}j=re}}if(a.start(w.name,j,V),!V){if(w=w.firstChild)do y(w);while(w=w.next);a.end(L)}}};return c.type===1&&!e.inner?y(c):h[11](c),a.getContent()};return{serialize:i}},J2=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];je(e,function(r){J2.add(r)})})();var ag=["font","text-decoration","text-emphasis"],Ah=function(e,r){return ao(e.parseStyle(e.getAttrib(r,"style")))},Q2=function(e){return J2.has(e)},_8=function(e,r){return Gn(Ah(e,r),function(a){return!Q2(a)})},w8=function(e){return Xt(e,function(r){return be(ag,function(a){return Gt(r,a)})})},e3=function(e,r,a){var i=Ah(e,r),c=Ah(e,a),f=function(h){var y=e.getStyle(r,h),w=e.getStyle(a,h);return Dn(y)&&Dn(w)&&y!==w};return be(i,function(h){var y=function(R){return be(R,function(L){return L===h})};if(!y(c)&&y(ag)){var w=w8(c);return be(w,f)}else return f(h)})},og=function(e,r,a){return oe.from(a.container()).filter(zr).exists(function(i){var c=e?0:-1;return r(i.data.charAt(a.offset()+c))})},ig=St(og,!0,Ud),ug=St(og,!1,Ud),t3=function(e){var r=e.container();return zr(r)&&(r.data.length===0||rs(r.data)&&Gd.isBookmarkNode(r.parentNode))},Rs=function(e,r){return function(a){return oe.from(Qy(e?0:-1,a)).filter(r).isSome()}},r3=function(e){return ym(e)&&Un(x.fromDom(e),"display")==="block"},Ml=function(e){return _o(e)&&!Ei(e)},k8=Rs(!0,r3),n3=Rs(!1,r3),Oh=Rs(!0,_s),Rh=Rs(!1,_s),a3=Rs(!0,si),o3=Rs(!1,si),Jd=Rs(!0,Ml),Qd=Rs(!1,Ml),Z0=function(e){for(var r=[],a=e.dom;a;)r.push(x.fromDom(a)),a=a.lastChild;return r},C8=function(e){var r=mu(e,"br"),a=Xt(Z0(e).slice(-1),Tm);r.length===a.length&&je(a,Uo)},em=function(e){Af(e),Ti(e,x.fromHtml('<br data-mce-bogus="1">'))},x8=function(e){$s(e).each(function(r){Tf(r).each(function(a){oc(e)&&Tm(r)&&oc(a)&&Uo(r)})})},i3=function(e){return e.slice(0,-1)},sg=function(e,r,a){return Ia(r,e)?i3(Si(e,function(i){return a(i)||an(i,r)})):[]},u3=function(e,r){return sg(e,r,Wt)},jr=function(e,r){return[e].concat(u3(e,r))},cg=function(e,r,a){return ub(e,r,a,t3)},lg=function(e,r){return nr(jr(x.fromDom(r.container()),e),oc)},J0=function(e,r,a){return cg(e,r.dom,a).forall(function(i){return lg(r,a).fold(function(){return Ol(i,a,r.dom)===!1},function(c){return Ol(i,a,r.dom)===!1&&Ia(c,x.fromDom(i.container()))})})},s3=function(e,r,a){return lg(r,a).fold(function(){return cg(e,r.dom,a).forall(function(i){return Ol(i,a,r.dom)===!1})},function(i){return cg(e,i.dom,a).isNone()})},Ib=St(s3,!1),fg=St(s3,!0),Q0=St(J0,!1),c3=St(J0,!0),S8=function(e){return tb(e).exists(Tm)},yn=function(e,r,a){var i=Xt(jr(x.fromDom(a.container()),r),oc),c=ga(i).getOr(r);return zs(e,c.dom,a).filter(S8)},$b=function(e,r){return tb(r).exists(Tm)||yn(!0,e,r).isSome()},Nn=function(e,r){return ES(r).exists(Tm)||yn(!1,e,r).isSome()},l3=St(yn,!1),f3=St(yn,!0),ew=function(e){return vt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},tm=function(e,r){var a=Xt(jr(x.fromDom(r.container()),e),oc);return ga(a).getOr(e)},Lb=function(e,r){return ew(r)?ug(r):ug(r)||Dl(tm(e,r).dom,r).exists(ug)},dg=function(e,r){return ew(r)?ig(r):ig(r)||rl(tm(e,r).dom,r).exists(ig)},Hb=function(e){return qe(["pre","pre-wrap"],e)},tw=function(e){return tb(e).bind(function(r){return Cm(r,bo)}).exists(function(r){return Hb(Un(r,"white-space"))})},bn=function(e,r){return Dl(e.dom,r).isNone()},T8=function(e,r){return rl(e.dom,r).isNone()},d3=function(e,r){return bn(e,r)||T8(e,r)||Ib(e,r)||fg(e,r)||Nn(e,r)||$b(e,r)},Vb=function(e,r){return tw(r)?!1:d3(e,r)||Lb(e,r)||dg(e,r)},hf=function(e,r){return tw(r)?!1:Ib(e,r)||Q0(e,r)||Nn(e,r)||Lb(e,r)},v3=function(e){var r=e.container(),a=e.offset();return zr(r)&&a<r.data.length?vt(r,a+1):e},vg=function(e,r){return tw(r)?!1:fg(e,r)||c3(e,r)||$b(e,r)||dg(e,r)},Ub=function(e,r){return hf(e,r)||vg(e,v3(r))},m3=function(e,r){return Hv(e.charAt(r))},h3=function(e){var r=e.container();return zr(r)&&Ft(r.data,Vs)},E8=function(e){var r=e.split("");return Pe(r,function(a,i){return Hv(a)&&i>0&&i<r.length-1&&sb(r[i-1])&&sb(r[i+1])?" ":a}).join("")},z8=function(e,r){var a=r.data,i=vt(r,0);return m3(a,0)&&!Ub(e,i)?(r.data=" "+a.slice(1),!0):!1},A8=function(e){var r=e.data,a=E8(r);return a!==r?(e.data=a,!0):!1},O8=function(e,r){var a=r.data,i=vt(r,a.length-1);return m3(a,a.length-1)&&!Ub(e,i)?(r.data=a.slice(0,-1)+" ",!0):!1},R8=function(e,r){return oe.some(r).filter(h3).bind(function(a){var i=a.container(),c=z8(e,i)||A8(i)||O8(e,i);return c?oe.some(a):oe.none()})},p3=function(e){var r=x.fromDom(e.getBody());e.selection.isCollapsed()&&R8(r,vt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},D8=function(e,r,a){var i=ut(e,function(c,f){return Ud(f)||Hv(f)?c.previousCharIsSpace||c.str===""&&r||c.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:c.str+Vs}:{previousCharIsSpace:!0,str:c.str+" "}:{previousCharIsSpace:!1,str:c.str+f}},{previousCharIsSpace:!1,str:""});return i.str},rw=function(e,r,a){if(a!==0){var i=x.fromDom(e),c=gd(i,oc).getOr(i),f=e.data.slice(r,r+a),h=r+a>=e.data.length&&vg(c,vt(e,e.data.length)),y=r===0&&hf(c,vt(e,0));e.replaceData(r,a,D8(f,y,h))}},Dh=function(e,r){var a=e.data.slice(r),i=a.length-ln(a).length;rw(e,r,i)},ca=function(e,r){var a=e.data.slice(0,r),i=a.length-hn(a).length;rw(e,r-i,i)},jb=function(e,r,a,i){i===void 0&&(i=!0);var c=hn(e.data).length,f=i?e:r,h=i?r:e;return i?f.appendData(h.data):f.insertData(0,h.data),Uo(x.fromDom(h)),a&&Dh(f,c),f},Wb=function(e,r){var a=e.container(),i=e.offset();return vt.isTextPosition(e)===!1&&a===r.parentNode&&i>vt.before(r).offset()},g3=function(e,r){return Wb(r,e)?vt(r.container(),r.offset()-1):r},y3=function(e){return zr(e)?vt(e,0):vt.before(e)},b3=function(e){return zr(e)?vt(e,e.data.length):vt.after(e)},nw=function(e){return Kl(e.previousSibling)?oe.some(b3(e.previousSibling)):e.previousSibling?Rc(e.previousSibling):oe.none()},aw=function(e){return Kl(e.nextSibling)?oe.some(y3(e.nextSibling)):e.nextSibling?ju(e.nextSibling):oe.none()},u=function(e,r){var a=vt.before(r.previousSibling?r.previousSibling:r.parentNode);return Dl(e,a).fold(function(){return rl(e,vt.after(r))},oe.some)},l=function(e,r){return rl(e,vt.after(r)).fold(function(){return Dl(e,vt.before(r))},oe.some)},v=function(e,r){return nw(r).orThunk(function(){return aw(r)}).orThunk(function(){return u(e,r)})},p=function(e,r){return aw(r).orThunk(function(){return nw(r)}).orThunk(function(){return l(e,r)})},b=function(e,r,a){return e?p(r,a):v(r,a)},S=function(e,r,a){return b(e,r,a).map(St(g3,a))},D=function(e,r,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),r)})},$=function(e){return function(r){return r.dom===e}},Q=function(e,r){return r&&Sn(e.schema.getBlockElements(),za(r))},fe=function(e){if(lu(e)){var r=x.fromHtml('<br data-mce-bogus="1">');return Af(e),Ti(e,r),oe.some(vt.before(r.dom))}else return oe.none()},Oe=function(e,r,a){var i=Tf(e).filter(No),c=rc(e).filter(No);return Uo(e),P_(i,c,r,function(f,h,y){var w=f.dom,R=h.dom,L=w.data.length;return jb(w,R,a),y.container()===R?vt(w,L):y}).orThunk(function(){return a&&(i.each(function(f){return ca(f.dom,f.dom.length)}),c.each(function(f){return Dh(f.dom,0)})),r})},yt=function(e,r){return Sn(e.schema.getTextInlineElements(),za(r))},Ht=function(e,r,a,i){i===void 0&&(i=!0);var c=S(r,e.getBody(),a.dom),f=gd(a,St(Q,e),$(e.getBody())),h=Oe(a,c,yt(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(fe).fold(function(){i&&D(e,r,h)},function(y){i&&D(e,r,oe.some(y))})},Rt=function(e){return function(r){return an(e,r)}},pt=function(e){return mu(e,"td,th")},or=function(e,r){var a=function(R){return Vv(x.fromDom(R),r)},i=a(e.startContainer),c=a(e.endContainer),f=i.isSome(),h=c.isSome(),y=$u(i,c,an).getOr(!1),w=!y&&f&&h;return{startTable:i,endTable:c,isStartInTable:f,isEndInTable:h,isSameTable:y,isMultiTable:w}},lr=function(e,r){return{start:e,end:r}},Wr=function(e,r,a){return{rng:e,table:r,cells:a}},pa=Kr.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Xr=function(e,r){return ri(x.fromDom(e),"td,th",r)},_n=function(e){return!an(e.start,e.end)},oa=function(e,r){return Vv(e.start,r).bind(function(a){return Vv(e.end,r).bind(function(i){return F_(an(a,i),a)})})},Qn=function(e,r){return!_n(e)&&oa(e,r).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},_i=function(e,r){var a=Xr(e.startContainer,r),i=Xr(e.endContainer,r);return $u(a,i,lr)},eu=function(e){return function(r){return Vv(r,e).bind(function(a){return Rn(pt(a)).map(function(i){return lr(r,i)})})}},fs=function(e){return function(r){return Vv(r,e).bind(function(a){return ga(pt(a)).map(function(i){return lr(i,r)})})}},_a=function(e){return function(r){return oa(r,e).map(function(a){return Wr(r,a,pt(a))})}},An=function(e,r,a,i){if(a.collapsed||!e.forall(_n))return oe.none();if(r.isSameTable){var c=e.bind(_a(i));return oe.some({start:c,end:c})}else{var f=Xr(a.startContainer,i),h=Xr(a.endContainer,i),y=f.bind(eu(i)).bind(_a(i)),w=h.bind(fs(i)).bind(_a(i));return oe.some({start:y,end:w})}},la=function(e,r){return Rr(e,function(a){return an(a,r)})},ja=function(e){return $u(la(e.cells,e.rng.start),la(e.cells,e.rng.end),function(r,a){return e.cells.slice(r,a+1)})},qo=function(e,r,a){return e.exists(function(i){return Qn(i,a)&&nl(i.start,r)})},pf=function(e,r){var a=r.startTable,i=r.endTable,c=e.cloneRange();return a.each(function(f){return c.setStartAfter(f.dom)}),i.each(function(f){return c.setEndBefore(f.dom)}),c},Ga=function(e,r,a,i){return An(e,r,a,i).bind(function(c){var f=c.start,h=c.end;return f.or(h)}).bind(function(c){var f=r.isSameTable,h=ja(c).getOr([]);if(f&&c.cells.length===h.length)return oe.some(pa.fullTable(c.table));if(h.length>0){if(f)return oe.some(pa.partialTable(h,oe.none()));var y=pf(a,r);return oe.some(pa.partialTable(h,oe.some($r($r({},r),{rng:y}))))}else return oe.none()})},Pc=function(e,r,a,i){return An(e,r,a,i).bind(function(c){var f=c.start,h=c.end,y=f.bind(ja).getOr([]),w=h.bind(ja).getOr([]);if(y.length>0&&w.length>0){var R=pf(a,r);return oe.some(pa.multiTable(y,w,R))}else return oe.none()})},bu=function(e,r){var a=Rt(e),i=_i(r,a),c=or(r,a);return qo(i,r,a)?i.map(function(f){return pa.singleCellTable(r,f.start)}):c.isMultiTable?Pc(i,c,r,a):Ga(i,c,r,a)},mg=function(e){var r=Fs(e)?Tf(e):$s(e);return r.bind(mg).orThunk(function(){return oe.some(e)})},ev=function(e){return je(e,function(r){_t(r,"contenteditable"),em(r)})},Bl=function(e,r){return oe.from(e.dom.getParent(r,e.dom.isBlock)).map(x.fromDom)},Fc=function(e,r,a){a.each(function(i){r?Uo(i):(em(i),e.selection.setCursorLocation(i.dom,0))})},il=function(e,r,a,i){var c=a.cloneRange();i?(c.setStart(a.startContainer,a.startOffset),c.setEndAfter(r.dom.lastChild)):(c.setStartBefore(r.dom.firstChild),c.setEnd(a.endContainer,a.endOffset)),nm(e,c,r,!1)},hg=function(e){var r=lf(e),a=x.fromDom(e.selection.getNode());bm(a.dom)&&lu(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),r.length>1&&be(r,function(i){return an(i,a)})&&z(a,"data-mce-selected","1")},rm=function(e,r,a){var i=e.selection.getRng(),c=a.bind(function(f){var h=f.rng,y=f.isStartInTable,w=Bl(e,y?h.endContainer:h.startContainer);h.deleteContents(),Fc(e,y,w.filter(lu));var R=y?r[0]:r[r.length-1];return il(e,R,i,y),lu(R)?oe.none():oe.some(y?r.slice(1):r.slice(0,-1))}).getOr(r);return ev(c),hg(e),!0},pg=function(e,r,a,i){var c=e.selection.getRng(),f=r[0],h=a[a.length-1];il(e,f,c,!0),il(e,h,c,!1);var y=lu(f)?r:r.slice(1),w=lu(h)?a:a.slice(0,-1);return ev(y.concat(w)),i.deleteContents(),hg(e),!0},nm=function(e,r,a,i){i===void 0&&(i=!0),r.deleteContents();var c=mg(a).getOr(a),f=x.fromDom(e.dom.getParent(c.dom,e.dom.isBlock));if(lu(f)&&(em(f),i&&e.selection.setCursorLocation(f.dom,0)),!an(a,f)){var h=lv(Vo(f),a)?[]:ui(f);je(h.concat(Iu(a)),function(y){!an(y,f)&&!Ia(y,f)&&lu(y)&&Uo(y)})}return!0},Nl=function(e,r){return Ht(e,!1,r),!0},Mh=function(e,r,a){return bu(r,a).map(function(i){return i.fold(St(nm,e),St(Nl,e),St(rm,e),St(pg,e))})},qb=function(e,r){return ed(e,r)},_3=function(e,r,a,i){return B8(r,i).fold(function(){return Mh(e,r,a)},function(c){return qb(e,c)}).getOr(!1)},gg=function(e,r,a){var i=x.fromDom(e.getBody()),c=e.selection.getRng();return a.length!==0?rm(e,a,oe.none()):_3(e,i,c,r)},M8=function(e,r){return nr(jr(r,e),wl)},B8=function(e,r){return nr(jr(r,e),ap("caption"))},KD=function(e,r,a,i,c){return Rl(a,e.getBody(),c).bind(function(f){return M8(r,x.fromDom(f.getNode())).map(function(h){return an(h,i)===!1})})},ed=function(e,r){return em(r),e.selection.setCursorLocation(r.dom,0),oe.some(!0)},XD=function(e,r,a,i){return ju(e.dom).bind(function(c){return Rc(e.dom).map(function(f){return r?a.isEqual(c)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(c)})}).getOr(!0)},Ks=function(e,r){return ed(e,r)},YD=function(e,r,a){return B8(e,x.fromDom(a.getNode())).map(function(i){return an(i,r)===!1})},ZD=function(e,r,a,i,c){return Rl(a,e.getBody(),c).bind(function(f){return XD(i,a,c,f)?Ks(e,i):YD(r,i,f)}).or(oe.some(!0))},am=function(e,r,a,i){var c=vt.fromRangeStart(e.selection.getRng());return M8(a,i).bind(function(f){return lu(f)?ed(e,f):KD(e,a,r,f,c)}).getOr(!1)},$a=function(e,r,a,i){var c=vt.fromRangeStart(e.selection.getRng());return lu(i)?ed(e,i):ZD(e,a,r,i,c)},Bh=function(e,r){return e?a3(r):o3(r)},N8=function(e,r){var a=vt.fromRangeStart(e.selection.getRng());return Bh(r,a)||zs(r,e.getBody(),a).exists(function(i){return Bh(r,i)})},JD=function(e,r,a){var i=x.fromDom(e.getBody());return B8(i,a).fold(function(){return am(e,r,i,a)||N8(e,r)},function(c){return $a(e,r,i,c).getOr(!1)})},yg=function(e,r){var a=x.fromDom(e.selection.getStart(!0)),i=lf(e);return e.selection.isCollapsed()&&i.length===0?JD(e,r,a):gg(e,a,i)},td=function(e,r,a,i){var c=document.createRange();return c.setStart(e,r),c.setEnd(a,i),c},QD=function(e){var r=vt.fromRangeStart(e),a=vt.fromRangeEnd(e),i=e.commonAncestorContainer;return zs(!1,i,a).map(function(c){return!Ol(r,a,i)&&Ol(r,c,i)?td(r.container(),r.offset(),c.container(),c.offset()):e}).getOr(e)},P8=function(e){return e.collapsed?e:QD(e)},e6=function(e){return e.firstChild&&e.firstChild===e.lastChild},F8=function(e){return e.name==="br"||e.value===Vs},t6=function(e,r){var a=e.getBlockElements();return a[r.name]&&e6(r)&&F8(r.firstChild)},r6=function(e,r){var a=e.getNonEmptyElements();return r&&(r.isEmpty(a)||t6(e,r))},Sz=function(e,r){var a=r.firstChild,i=r.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),r6(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},n6=function(e){var r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&r.parentNode.removeChild(r),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},a6=function(e,r,a){var i=r.serialize(a),c=e.createFragment(i);return n6(c)},o6=function(e){return Xt(e.childNodes,function(r){return r.nodeName==="LI"})},Ic=function(e){return e.data===Vs||eo(e)},tv=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Ic(e.firstChild)},i6=function(e){return!e.firstChild||tv(e)},Tz=function(e){return e.length>0&&i6(e[e.length-1])?e.slice(0,-1):e},Gb=function(e,r){var a=e.getParent(r,e.isBlock);return a&&a.nodeName==="LI"?a:null},I8=function(e,r){return!!Gb(e,r)},u6=function(e,r){var a=r.cloneRange(),i=r.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},Ez=function(e,r){var a=vt.before(e),i=Zo(r),c=i.next(a);return c?c.toRange():null},Kb=function(e,r){var a=vt.after(e),i=Zo(r),c=i.prev(a);return c?c.toRange():null},w3=function(e,r,a,i){var c=u6(e,i),f=e.parentNode;return f.insertBefore(c[0],e),ht.each(r,function(h){f.insertBefore(h,e)}),f.insertBefore(c[1],e),f.removeChild(e),Kb(r[r.length-1],a)},s6=function(e,r,a){var i=e.parentNode;return ht.each(r,function(c){i.insertBefore(c,e)}),Ez(e,a)},Nh=function(e,r,a,i){return i.insertAfter(r.reverse(),e),Kb(r[0],a)},c6=function(e,r,a,i){var c=a6(r,e,i),f=Gb(r,a.startContainer),h=Tz(o6(c.firstChild)),y=1,w=2,R=r.getRoot(),L=function(V){var j=vt.fromRangeStart(a),re=Zo(r.getRoot()),ae=V===y?re.prev(j):re.next(j);return ae?Gb(r,ae.getNode())!==f:!0};return L(y)?s6(f,h,R):L(w)?Nh(f,h,R,r):w3(f,h,R,a)},l6=function(e,r,a){var i=x.fromDom(e.getRoot());return hf(i,vt.fromRangeStart(r))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),vg(i,vt.fromRangeEnd(r))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Xs=bm,$8=function(e,r,a){if(a!==null){var i=e.getParent(r.endContainer,Xs);return a===i&&nl(x.fromDom(a),r)}else return!1},rd=function(e,r,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(r),a);else{var i=a.firstChild,c=a.lastChild;!i||i===c&&i.nodeName==="BR"?e.dom.setHTML(a,r):e.selection.setContent(r)}},f6=function(e,r){oe.from(e.getParent(r,"td,th")).map(x.fromDom).each(x8)},no=function(e,r){var a=e.schema.getTextInlineElements(),i=e.dom;if(r){var c=e.getBody(),f=Z2(i);ht.each(i.select("*[data-mce-fragment]"),function(h){var y=Ge(a[h.nodeName.toLowerCase()]);if(y&&_8(i,h))for(var w=h.parentNode;Ge(w)&&w!==c;w=w.parentNode){var R=e3(i,h,w);if(R)break;if(f.compare(w,h)){i.remove(h,!0);break}}})}},bg=function(e){for(var r=e;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},k3=function(e){ht.each(e.getElementsByTagName("*"),function(r){r.removeAttribute("data-mce-fragment")})},zz=function(e){return!!e.getAttribute("data-mce-fragment")},L8=function(e,r){return r&&!e.schema.getShortEndedElements()[r.nodeName]},H8=function(e,r){var a,i=e.dom,c=e.selection;if(r){c.scrollIntoView(r);var f=jv(e.getBody(),r);if(i.getContentEditable(f)==="false"){i.remove(r),c.select(f);return}var h=i.createRng(),y=r.previousSibling;if(zr(y)){if(h.setStart(y,y.nodeValue.length),!Zt.ie){var w=r.nextSibling;zr(w)&&(y.appendData(w.data),w.parentNode.removeChild(w))}}else h.setStartBefore(r),h.setEndBefore(r);var R=function(V){var j=vt.fromRangeStart(V),re=Zo(e.getBody());if(j=re.next(j),j)return j.toRange()},L=i.getParent(r,i.isBlock);i.remove(r),L&&i.isEmpty(L)&&(e.$(L).empty(),h.setStart(L,0),h.setEnd(L,0),!Xs(L)&&!zz(L)&&(a=R(h))?(h=a,i.remove(L)):i.add(L,i.create("br",{"data-mce-bogus":"1"}))),c.setRng(h)}},d6=function(e){var r=e.dom,a=P8(e.selection.getRng());e.selection.setRng(a);var i=r.getParent(a.startContainer,Xs);$8(r,a,i)?nm(e,a,x.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},V8=function(e,r,a){var i,c,f,h=e.selection,y=e.dom;/^ | $/.test(r)&&(r=l6(y,h.getRng(),r));var w=e.parser,R=a.merge,L=Qv({validate:lS(e)},e.schema),V='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',j=e.fire("BeforeSetContent",{content:r,format:"html",selection:!0,paste:a.paste});if(j.isDefaultPrevented()){e.fire("SetContent",{content:j.content,format:"html",selection:!0,paste:a.paste});return}r=j.content,a.preserve_zwsp||(r=Cs(r)),r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,V),c=h.getRng();var re=c.startContainer||(c.parentElement?c.parentElement():null),ae=e.getBody();re===ae&&h.isCollapsed()&&y.isBlock(ae.firstChild)&&L8(e,ae.firstChild)&&y.isEmpty(ae.firstChild)&&(c=y.createRng(),c.setStart(ae.firstChild,0),c.setEnd(ae.firstChild,0),h.setRng(c)),h.isCollapsed()||d6(e),i=h.getNode();var ie={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},se=w.parse(r,ie);if(a.paste===!0&&Sz(e.schema,se)&&I8(y,i)){c=c6(L,y,h.getRng(),se),h.setRng(c),e.fire("SetContent",j);return}if(bg(se),f=se.lastChild,f.attr("id")==="mce_marker"){var we=f;for(f=f.prev;f;f=f.walk(!0))if(f.type===3||!y.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(we,f,f.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!ie.invalid)r=L.serialize(se),rd(e,r,i);else{e.selection.setContent(V),i=h.getNode();var he=e.getBody();for(i.nodeType===9?i=f=he:f=i;f!==he;)i=f,f=f.parentNode;r=i===he?he.innerHTML:y.getOuterHTML(i),r=L.serialize(w.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return L.serialize(se)}))),i===he?y.setHTML(he,r):y.setOuterHTML(i,r)}no(e,R),H8(e,y.get("mce_marker")),k3(e.getBody()),f6(y,h.getStart()),e.fire("SetContent",j),e.addVisual()},U8=function(e,r){r(e),e.firstChild&&U8(e.firstChild,r),e.next&&U8(e.next,r)},Az=function(e,r,a){var i={},c={},f=[];a.firstChild&&U8(a.firstChild,function(w){je(e,function(R){R.name===w.name&&(i[R.name]?i[R.name].nodes.push(w):i[R.name]={filter:R,nodes:[w]})}),je(r,function(R){typeof w.attr(R.name)=="string"&&(c[R.name]?c[R.name].nodes.push(w):c[R.name]={filter:R,nodes:[w]})})});for(var h in i)Sn(i,h)&&f.push(i[h]);for(var y in c)Sn(c,y)&&f.push(c[y]);return f},Oz=function(e,r,a){var i=Az(e,r,a);je(i,function(c){je(c.filter.callbacks,function(f){f(c.nodes,c.filter.name,{})})})},j8="html",C3=function(e){return e instanceof Nc},x3=function(e){Bc(e)&&ju(e.getBody()).each(function(r){var a=r.getNode(),i=si(a)?ju(a).getOr(r):r;e.selection.setRng(i.toRange())})},W8=function(e,r,a){e.dom.setHTML(e.getBody(),r),a!==!0&&x3(e)},v6=function(e,r,a,i){if(a=Cs(a),a.length===0||/^\s+$/.test(a)){var c='<br data-mce-bogus="1">';r.nodeName==="TABLE"?a="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(a="<li>"+c+"</li>");var f=hu(e);f&&e.schema.isValidChild(r.nodeName.toLowerCase(),f.toLowerCase())?(a=c,a=e.dom.createHTML(f,Ym(e),a)):a||(a='<br data-mce-bogus="1">'),W8(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Qv({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=dv(x.fromDom(r))?a:ht.trim(a),W8(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},m6=function(e,r,a,i){Oz(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var c=Qv({validate:e.validate},e.schema).serialize(a);return i.content=Cs(dv(x.fromDom(r))?c:ht.trim(c)),W8(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},h6=function(e,r){return $r($r({format:j8},e),{set:!0,content:C3(r)?"":r})},p6=function(e,r,a){var i=h6(a,r),c=a.no_events?i:e.fire("BeforeSetContent",i);return C3(r)||(r=c.content),oe.from(e.getBody()).fold(X(r),function(f){return C3(r)?m6(e,f,r,c):v6(e,f,r,c)})},g6=function(e,r){return L_(e,r).isSome()},Rz=function(e){return ce(e)?e:Wt},y6=function(e,r,a){for(var i=e.dom,c=Rz(a);i.parentNode;){i=i.parentNode;var f=x.fromDom(i),h=r(f);if(h.isSome())return h;if(c(f))break}return oe.none()},q8=function(e,r,a){var i=r(e),c=Rz(a);return i.orThunk(function(){return c(e)?oe.none():y6(e,r,c)})},G8=o0,K8=function(e,r,a){var i=e.formatter.get(a);if(i)for(var c=0;c<i.length;c++){var f=i[c];if(Gs(f)&&f.inherit===!1&&e.dom.is(r,f.selector))return!0}return!1},X8=function(e,r,a,i,c){var f=e.dom.getRoot();return r===f?!1:(r=e.dom.getParent(r,function(h){return K8(e,h,a)?!0:h.parentNode===f||!!rv(e,h,a,i,!0)}),!!rv(e,r,a,i,c))},S3=function(e,r,a){if(G8(r,a.inline)||G8(r,a.block))return!0;if(a.selector)return r.nodeType===1&&e.is(r,a.selector)},gf=function(e,r,a,i,c,f){var h=a[i];if(ce(a.onmatch))return a.onmatch(r,a,i);if(h){if(ze(h.length)){for(var y in h)if(Sn(h,y)){var w=i==="attributes"?e.getAttrib(r,y):ph(e,r,y),R=sf(h[y],f),L=Le(w)||ka(w);if(L&&Le(R))continue;if(c&&L&&!a.exact||(!c||a.exact)&&!G8(w,i0(e,R,y)))return!1}}else for(var V=0;V<h.length;V++)if(i==="attributes"?e.getAttrib(r,h[V]):ph(e,r,h[V]))return!0}return!0},rv=function(e,r,a,i,c){var f=e.formatter.get(a),h=e.dom;if(f&&r)for(var y=0;y<f.length;y++){var w=f[y];if(S3(e.dom,r,w)&&gf(h,r,w,"attributes",c,i)&&gf(h,r,w,"styles",c,i)){var R=w.classes;if(R){for(var L=0;L<R.length;L++)if(!e.dom.hasClass(r,sf(R[L],i)))return}return w}}},T3=function(e,r,a,i,c){if(i)return X8(e,i,r,a,c);if(i=e.selection.getNode(),X8(e,i,r,a,c))return!0;var f=e.selection.getStart();return!!(f!==i&&X8(e,f,r,a,c))},Y8=function(e,r,a){var i=[],c={},f=e.selection.getStart();return e.dom.getParent(f,function(h){for(var y=0;y<r.length;y++){var w=r[y];!c[w]&&rv(e,h,w,a)&&(c[w]=!0,i.push(w))}},e.dom.getRoot()),i},Z8=function(e,r){var a=function(c){return an(c,x.fromDom(e.getBody()))},i=function(c,f){return rv(e,c.dom,f)?oe.some(f):oe.none()};return oe.from(e.selection.getStart(!0)).bind(function(c){return q8(x.fromDom(c),function(f){return Ka(r,function(h){return i(f,h)})},a)}).getOrNull()},Dz=function(e,r){var a=e.formatter.get(r),i=e.dom;if(a)for(var c=e.selection.getStart(),f=Up(i,c),h=a.length-1;h>=0;h--){var y=a[h];if(!Gs(y)||Ge(y.defaultBlock))return!0;for(var w=f.length-1;w>=0;w--)if(i.is(f[w],y.selector))return!0}return!1},Mz=function(e,r,a){return ut(a,function(i,c){var f=u2(e,c);return e.formatter.matchNode(r,c,{},f)?i.concat([c]):i},[])},Xb=Fe,Bz="_mce_caret",J8=function(e,r){return e.importNode(r,!0)},Nz=function(e){for(var r=[];e;){if(e.nodeType===3&&e.nodeValue!==Xb||e.childNodes.length>1)return[];e.nodeType===1&&r.push(e),e=e.firstChild}return r},yf=function(e){return Nz(e).length>0},Pz=function(e){if(e){var r=new Ua(e,e);for(e=r.current();e;e=r.next())if(zr(e))return e}return null},Q8=function(e){var r=x.fromTag("span");return H(r,{id:Bz,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ti(r,x.fromText(Xb)),r},b6=function(e){var r=Pz(e);return r&&r.nodeValue.charAt(0)===Xb&&r.deleteData(0,1),r},ow=function(e,r,a){a===void 0&&(a=!0);var i=e.dom,c=e.selection;if(yf(r))Ht(e,!1,x.fromDom(r),a);else{var f=c.getRng(),h=i.getParent(r,i.isBlock),y=f.startContainer,w=f.startOffset,R=f.endContainer,L=f.endOffset,V=b6(r);i.remove(r,!0),y===V&&w>0&&f.setStart(V,w-1),R===V&&L>0&&f.setEnd(V,L-1),h&&i.isEmpty(h)&&em(x.fromDom(h)),c.setRng(f)}},eT=function(e,r,a){a===void 0&&(a=!0);var i=e.dom,c=e.selection;if(r)ow(e,r,a);else if(r=$v(e.getBody(),c.getStart()),!r)for(;r=i.get(Bz);)ow(e,r,!1)},_6=function(e,r,a){var i=e.dom,c=i.getParent(a,St(a0,e));c&&i.isEmpty(c)?a.parentNode.replaceChild(r,a):(C8(x.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(r,a):i.insertAfter(r,a))},E3=function(e,r){return e.appendChild(r),r},Fz=function(e,r){var a=Pr(e,function(i,c){return E3(i,c.cloneNode(!1))},r);return E3(a,a.ownerDocument.createTextNode(Xb))},w6=function(e,r,a,i,c,f){var h=e.formatter,y=e.dom,w=Xt(ao(h.get()),function(j){return j!==i&&!Ft(j,"removeformat")}),R=Mz(e,a,w),L=Xt(R,function(j){return!LS(e,j,i)});if(L.length>0){var V=a.cloneNode(!1);return y.add(r,V),h.remove(i,c,V,f),y.remove(V),oe.some(V)}else return oe.none()},Iz=function(e,r,a){var i,c,f=e.selection,h=f.getRng(),y=h.startOffset,w=h.startContainer,R=w.nodeValue;i=$v(e.getBody(),f.getStart()),i&&(c=Pz(i));var L=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(R&&y>0&&y<R.length&&L.test(R.charAt(y))&&L.test(R.charAt(y-1))){var V=f.getBookmark();h.collapse(!0);var j=jd(e,h,e.formatter.get(r));j=Zf(j),e.formatter.apply(r,a,j),f.moveToBookmark(V)}else(!i||c.nodeValue!==Xb)&&(i=J8(e.getDoc(),Q8(!0).dom),c=i.firstChild,h.insertNode(i),y=1),e.formatter.apply(r,a,i),f.setCursorLocation(c,y)},k6=function(e,r,a,i){var c=e.dom,f=e.selection,h,y,w,R=[],L=f.getRng(),V=L.startContainer,j=L.startOffset;for(y=V,V.nodeType===3&&(j!==V.nodeValue.length&&(h=!0),y=y.parentNode);y;){if(rv(e,y,r,a,i)){w=y;break}y.nextSibling&&(h=!0),R.push(y),y=y.parentNode}if(w)if(h){var re=f.getBookmark();L.collapse(!0);var ae=jd(e,L,e.formatter.get(r),!0);ae=Zf(ae),e.formatter.remove(r,a,ae,i),f.moveToBookmark(re)}else{var ie=$v(e.getBody(),w),se=Q8(!1).dom;_6(e,se,ie!==null?ie:w);var we=w6(e,se,w,r,a,i),he=Fz(R.concat(we.toArray()),se);ow(e,ie,!1),f.setCursorLocation(he,1),c.isEmpty(w)&&c.remove(w)}},C6=function(e,r){var a=e.selection,i=e.getBody();eT(e,null,!1),(r===8||r===46)&&a.isCollapsed()&&a.getStart().innerHTML===Xb&&eT(e,$v(i,a.getStart())),(r===37||r===39)&&eT(e,$v(i,a.getStart()))},z3=function(e){e.on("mouseup keydown",function(r){C6(e,r.keyCode)})},x6=function(e,r){var a=Q8(!1),i=Fz(r,a.dom);return uu(x.fromDom(e),a),Uo(x.fromDom(e)),vt(i,0)},$z=function(e,r){var a=e.schema.getTextInlineElements();return Sn(a,za(r))&&!uf(r.dom)&&!ti(r.dom)},Lz=function(e){return uf(e.dom)&&yf(e.dom)},Yb={},Hz=Qo,Vz=Jo,tT=function(e,r){var a=Yb[e];a||(Yb[e]=[]),Yb[e].push(r)},S6=function(e,r){Vz(Yb[e],function(a){a(r)})};tT("pre",function(e){var r=e.selection.getRng(),a,i=function(h){return f(h.previousSibling)&&Lo(a,h.previousSibling)!==-1},c=function(h,y){Ln(y).remove(),Ln(h).append("<br><br>").append(y.childNodes)},f=nc(["pre"]);r.collapsed||(a=e.selection.getSelectedBlocks(),Vz(Hz(Hz(a,f),i),function(h){c(h.previousSibling,h)}))});var rT=ht.each,_g=function(e){return pn(e)&&!As(e)&&!uf(e)&&!ti(e)},A3=function(e,r){for(var a=e;a;a=a[r]){if(zr(a)&&Dn(a.data))return e;if(pn(a)&&!As(a))return a}return e},Uz=function(e,r,a){var i=Z2(e);if(r&&a&&(r=A3(r,"previousSibling"),a=A3(a,"nextSibling"),i.compare(r,a))){for(var c=r.nextSibling;c&&c!==a;){var f=c;c=c.nextSibling,r.appendChild(f)}return e.remove(a),ht.each(ht.grep(a.childNodes),function(h){r.appendChild(h)}),r}return a},jz=function(e,r,a,i){if(i&&r.merge_siblings!==!1){var c=Uz(e,lb(i),i);Uz(e,c,lb(c,!0))}},Wz=function(e,r,a){if(r.clear_child_styles){var i=r.links?"*:not(a)":"*";rT(e.select(i,a),function(c){_g(c)&&rT(r.styles,function(f,h){e.setStyle(c,h,"")})})}},O3=function(e,r,a){rT(e.childNodes,function(i){_g(i)&&(r(i)&&a(i),i.hasChildNodes()&&O3(i,r,a))})},T6=function(e,r){r.nodeName==="SPAN"&&e.getAttribs(r).length===0&&e.remove(r,!0)},qz=function(e,r){return function(a){return!!(a&&ph(e,a,r))}},Gz=function(e,r,a){return function(i){e.setStyle(i,r,a),i.getAttribute("style")===""&&i.removeAttribute("style"),T6(e,i)}},iw=Kr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),Kz=/^(src|href|style)$/,R3=ht.each,Zb=o0,E6=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},Xz=function(e,r,a){return e.isChildOf(r,a)&&r!==a&&!e.isBlock(a)},Yz=function(e,r,a){var i=r[a?"startContainer":"endContainer"],c=r[a?"startOffset":"endOffset"];if(pn(i)){var f=i.childNodes.length-1;!a&&c&&c--,i=i.childNodes[c>f?f:c]}return zr(i)&&a&&c>=i.nodeValue.length&&(i=new Ua(i,e.getBody()).next()||i),zr(i)&&!a&&c===0&&(i=new Ua(i,e.getBody()).prev()||i),i},Zz=function(e,r){var a=r?"firstChild":"lastChild";if(E6(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},nT=function(e,r,a,i){var c=e.create(a,i);return r.parentNode.insertBefore(c,r),c.appendChild(r),c},Jb=function(e,r,a,i,c){var f=x.fromDom(r),h=x.fromDom(e.create(i,c)),y=a?fo(f):Aa(f);return zf(h,y),a?(uu(f,h),Sc(h,f)):(pd(f,h),Ti(h,f)),h.dom},z6=function(e,r,a){if(gu(a)&&Zb(r,a.inline)||cf(a)&&Zb(r,a.block))return!0;if(Gs(a))return pn(r)&&e.is(r,a.selector)},Jz=function(e,r){return r.links&&e.nodeName==="A"},Qb=function(e,r,a,i){var c=lb(r,a,i);return Le(c)||c.nodeName==="BR"||e.isBlock(c)},A6=function(e,r,a){var i=r.parentNode,c,f=e.dom,h=hu(e);cf(a)&&(h?i===f.getRoot()&&(!a.list_block||!Zb(r,a.list_block))&&je(kn(r.childNodes),function(y){hh(e,h,y.nodeName.toLowerCase())?c?c.appendChild(y):(c=nT(f,y,h),f.setAttribs(c,e.settings.forced_root_block_attrs)):c=null}):f.isBlock(r)&&!f.isBlock(i)&&(!Qb(f,r,!1)&&!Qb(f,r.firstChild,!0,!0)&&r.insertBefore(f.create("br"),r.firstChild),!Qb(f,r,!0)&&!Qb(f,r.lastChild,!1,!0)&&r.appendChild(f.create("br")))),!(HS(a)&&!Zb(a.inline,r))&&f.remove(r,!0)},aT=function(e,r,a,i,c){var f,h=e.dom;if(!z6(h,i,r)&&!Jz(i,r))return iw.keep();var y=i;if(gu(r)&&r.remove==="all"&&De(r.preserve_attributes)){var w=Xt(h.getAttribs(y),function(j){return qe(r.preserve_attributes,j.name.toLowerCase())});if(h.removeAllAttribs(y),je(w,function(j){return h.setAttrib(y,j.name,j.value)}),w.length>0)return iw.rename("span")}if(r.remove!=="all"){R3(r.styles,function(j,re){j=i0(h,sf(j,a),re+""),Ue(re)&&(re=j,c=null),(r.remove_similar||!c||Zb(ph(h,c,re),j))&&h.setStyle(y,re,""),f=!0}),f&&h.getAttrib(y,"style")===""&&(y.removeAttribute("style"),y.removeAttribute("data-mce-style")),R3(r.attributes,function(j,re){var ae;if(j=sf(j,a),Ue(re)&&(re=j,c=null),r.remove_similar||!c||Zb(h.getAttrib(c,re),j)){if(re==="class"&&(j=h.getAttrib(y,re),j&&(ae="",je(j.split(/\s+/),function(ie){/mce\-\w+/.test(ie)&&(ae+=(ae?" ":"")+ie)}),ae))){h.setAttrib(y,re,ae);return}if(Kz.test(re)&&y.removeAttribute("data-mce-"+re),re==="style"&&nc(["li"])(y)&&h.getStyle(y,"list-style-type")==="none"){y.removeAttribute(re),h.setStyle(y,"list-style-type","none");return}re==="class"&&y.removeAttribute("className"),y.removeAttribute(re)}}),R3(r.classes,function(j){j=sf(j,a),(!c||h.hasClass(c,j))&&h.removeClass(y,j)});for(var R=h.getAttribs(y),L=0;L<R.length;L++){var V=R[L].nodeName;if(V.indexOf("_")!==0&&V.indexOf("data-")!==0)return iw.keep()}}return r.remove!=="none"?(A6(e,y,r),iw.removed()):iw.keep()},wg=function(e,r,a,i,c){return aT(e,r,a,i,c).fold(Wt,function(f){return e.dom.rename(i,f),!0},sr)},O6=function(e,r,a,i,c){var f;return je(Up(e.dom,r.parentNode).reverse(),function(h){if(!f&&h.id!=="_start"&&h.id!=="_end"){var y=rv(e,h,a,i,c);y&&y.split!==!1&&(f=h)}}),f},R6=function(e,r,a,i){return aT(e,r,a,i,i).fold(X(i),function(c){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,c)},X(null))},D6=function(e,r,a,i,c,f,h,y){var w,R,L,V=e.dom;if(a){for(var j=a.parentNode,re=i.parentNode;re&&re!==j;re=re.parentNode){w=V.clone(re,!1);for(var ae=0;ae<r.length&&(w=R6(e,r[ae],y,w),w!==null);ae++);w&&(R&&w.appendChild(R),L||(L=w),R=w)}(!h.mixed||!V.isBlock(a))&&(i=V.split(a,i)),R&&(c.parentNode.insertBefore(R,c),L.appendChild(c),gu(h)&&jz(V,h,y,R))}return i},Qz=function(e,r,a,i,c){var f=e.formatter.get(r),h=f[0],y=!0,w=e.dom,R=e.selection,L=function(he){var Ze=O6(e,he,r,a,c);return D6(e,f,Ze,he,he,!0,h,a)},V=function(he){return As(he)&&pn(he)&&(he.id==="_start"||he.id==="_end")},j=function(he){return be(f,function(Ze){return wg(e,Ze,a,he,he)})},re=function(he){var Ze=!0,Ve=!1;pn(he)&&w.getContentEditable(he)&&(Ze=y,y=w.getContentEditable(he)==="true",Ve=!0);var Ee=kn(he.childNodes);if(y&&!Ve){var nt=j(he),Tt=nt||be(f,function(At){return S3(w,he,At)}),Kt=he.parentNode;!Tt&&Ge(Kt)&&s0(h)&&j(Kt)}if(h.deep&&Ee.length){for(var nn=0;nn<Ee.length;nn++)re(Ee[nn]);Ve&&(y=Ze)}var Cr=["underline","line-through","overline"];je(Cr,function(At){pn(he)&&e.dom.getStyle(he,"text-decoration")===At&&he.parentNode&&u0(w,he.parentNode)===At&&wg(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:At}},null,he)})},ae=function(he){var Ze=w.get(he?"_start":"_end"),Ve=Ze[he?"firstChild":"lastChild"];return V(Ve)&&(Ve=Ve[he?"firstChild":"lastChild"]),zr(Ve)&&Ve.data.length===0&&(Ve=he?Ze.previousSibling||Ze.nextSibling:Ze.nextSibling||Ze.previousSibling),w.remove(Ze,!0),Ve},ie=function(he){var Ze,Ve,Ee=jd(e,he,f,he.collapsed);if(h.split){if(Ee=Zf(Ee),Ze=Yz(e,Ee,!0),Ve=Yz(e,Ee),Ze!==Ve){if(Ze=Zz(Ze,!0),Ve=Zz(Ve,!1),Xz(w,Ze,Ve)){var nt=oe.from(Ze.firstChild).getOr(Ze);L(Jb(w,nt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ae(!0);return}if(Xz(w,Ve,Ze)){var nt=oe.from(Ve.lastChild).getOr(Ve);L(Jb(w,nt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ae(!1);return}Ze=nT(w,Ze,"span",{id:"_start","data-mce-type":"bookmark"}),Ve=nT(w,Ve,"span",{id:"_end","data-mce-type":"bookmark"});var Tt=w.createRng();Tt.setStartAfter(Ze),Tt.setEndBefore(Ve),qp(w,Tt,function(Kt){je(Kt,function(nn){!As(nn)&&!As(nn.parentNode)&&L(nn)})}),L(Ze),L(Ve),Ze=ae(!0),Ve=ae()}else Ze=Ve=L(Ze);Ee.startContainer=Ze.parentNode?Ze.parentNode:Ze,Ee.startOffset=w.nodeIndex(Ze),Ee.endContainer=Ve.parentNode?Ve.parentNode:Ve,Ee.endOffset=w.nodeIndex(Ve)+1}qp(w,Ee,function(Kt){je(Kt,re)})};if(i){if(cb(i)){var se=w.createRng();se.setStartBefore(i),se.setEndAfter(i),ie(se)}else ie(i);Gp(e,r,i,a);return}if(w.getContentEditable(R.getNode())==="false"){i=R.getNode();for(var we=0;we<f.length&&!(f[we].ceFalseOverride&&wg(e,f[we],a,i,i));we++);Gp(e,r,i,a);return}!R.isCollapsed()||!gu(h)||lf(e).length?(_h(R,!0,function(){Uv(e,ie)}),gu(h)&&T3(e,r,a,R.getStart())&&i2(w,R,R.getRng()),e.nodeChanged()):k6(e,r,a,c),Gp(e,r,i,a)},e4=ht.each,M6=function(e,r,a,i){var c=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var h=u0(e,f.parentNode);e.getStyle(f,"color")&&h?e.setStyle(f,"text-decoration",h):e.getStyle(f,"text-decoration")===h&&e.setStyle(f,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(ht.walk(i,c,"childNodes"),c(i))},B6=function(e,r,a,i){r.styles&&r.styles.backgroundColor&&O3(i,qz(e,"fontSize"),Gz(e,"backgroundColor",sf(r.styles.backgroundColor,a)))},N6=function(e,r,a,i){gu(r)&&(r.inline==="sub"||r.inline==="sup")&&(O3(i,qz(e,"fontSize"),Gz(e,"fontSize","")),e.remove(e.select(r.inline==="sup"?"sub":"sup",i),!0))},P6=function(e,r,a,i){e4(r,function(c){gu(c)&&e4(e.dom.select(c.inline,i),function(f){_g(f)&&wg(e,c,a,f,c.exact?f:null)}),Wz(e.dom,c,i)})},F6=function(e,r,a,i,c){rv(e,c.parentNode,a,i)&&wg(e,r,i,c)||r.merge_with_parents&&e.dom.getParent(c.parentNode,function(f){if(rv(e,f,a,i))return wg(e,r,i,c),!0})},D3=ht.each,oT=function(e){return pn(e)&&!As(e)&&!uf(e)&&!ti(e)},nd=function(e,r,a,i){if(Nv(e)&&gu(r)){var c=ay(e.schema),f=g6(x.fromDom(a),function(h){return uf(h.dom)});return xo(c,i)&&lu(x.fromDom(a.parentNode),!1)&&!f}else return!1},uw=function(e,r,a,i){var c=e.formatter.get(r),f=c[0],h=!i&&e.selection.isCollapsed(),y=e.dom,w=e.selection,R=function(Ze,Ve){if(Ve===void 0&&(Ve=f),ce(Ve.onformat)&&Ve.onformat(Ze,Ve,a,i),D3(Ve.styles,function(nt,Tt){y.setStyle(Ze,Tt,sf(nt,a))}),Ve.styles){var Ee=y.getAttrib(Ze,"style");Ee&&y.setAttrib(Ze,"data-mce-style",Ee)}D3(Ve.attributes,function(nt,Tt){y.setAttrib(Ze,Tt,sf(nt,a))}),D3(Ve.classes,function(nt){nt=sf(nt,a),y.hasClass(Ze,nt)||y.addClass(Ze,nt)})},L=function(Ze,Ve){var Ee=!1;return D3(Ze,function(nt){if(!Gs(nt))return!1;if(!(Ge(nt.collapsed)&&nt.collapsed!==h)&&y.is(Ve,nt.selector)&&!uf(Ve))return R(Ve,nt),Ee=!0,!1}),Ee},V=function(Ze){if(_e(Ze)){var Ve=y.create(Ze);return R(Ve),Ve}else return null},j=function(Ze,Ve,Ee){var nt=[],Tt=!0,Kt=f.inline||f.block,nn=V(Kt);qp(Ze,Ve,function(Cr){var At,qr=function(Jt){var wr=!1,Qt=Tt,hr=Jt.nodeName.toLowerCase(),Or=Jt.parentNode,Vt=Or.nodeName.toLowerCase();if(pn(Jt)&&Ze.getContentEditable(Jt)&&(Qt=Tt,Tt=Ze.getContentEditable(Jt)==="true",wr=!0),eo(Jt)&&!nd(e,f,Jt,Vt)){At=null,cf(f)&&Ze.remove(Jt);return}if(cf(f)&&f.wrapper&&rv(e,Jt,r,a)){At=null;return}if(Tt&&!wr&&cf(f)&&!f.wrapper&&a0(e,hr)&&hh(e,Vt,Kt)){var Er=Ze.rename(Jt,Kt);R(Er),nt.push(Er),At=null;return}if(Gs(f)){var ea=L(c,Jt);if(!ea&&Ge(Or)&&s0(f)&&(ea=L(c,Or)),!gu(f)||ea){At=null;return}}Tt&&!wr&&hh(e,Kt,hr)&&hh(e,Vt,Kt)&&!(!Ee&&zr(Jt)&&rs(Jt.data))&&!uf(Jt)&&(!gu(f)||!Ze.isBlock(Jt))?(At||(At=Ze.clone(nn,!1),Jt.parentNode.insertBefore(At,Jt),nt.push(At)),At.appendChild(Jt)):(At=null,je(kn(Jt.childNodes),qr),wr&&(Tt=Qt),At=null)};je(Cr,qr)}),f.links===!0&&je(nt,function(Cr){var At=function(qr){qr.nodeName==="A"&&R(qr,f),je(kn(qr.childNodes),At)};At(Cr)}),je(nt,function(Cr){var At=function(wr){var Qt=0;return je(wr.childNodes,function(hr){!$S(hr)&&!As(hr)&&Qt++}),Qt},qr=function(wr){var Qt=nr(wr.childNodes,oT).filter(function(hr){return S3(Ze,hr,f)});return Qt.map(function(hr){var Or=Ze.clone(hr,!1);return R(Or),Ze.replace(Or,wr,!0),Ze.remove(hr,!0),Or}).getOr(wr)},Jt=At(Cr);if((nt.length>1||!Ze.isBlock(Cr))&&Jt===0){Ze.remove(Cr,!0);return}(gu(f)||cf(f)&&f.wrapper)&&(!f.exact&&Jt===1&&(Cr=qr(Cr)),P6(e,c,a,Cr),F6(e,f,r,a,Cr),B6(Ze,f,a,Cr),M6(Ze,f,a,Cr),N6(Ze,f,a,Cr),jz(Ze,f,a,Cr))})};if(y.getContentEditable(w.getNode())==="false"){i=w.getNode();for(var re=0,ae=c.length;re<ae;re++){var ie=c[re];if(ie.ceFalseOverride&&Gs(ie)&&y.is(i,ie.selector)){R(i,ie);break}}k0(e,r,i,a);return}if(f){if(i)if(cb(i)){if(!L(c,i)){var se=y.createRng();se.setStartBefore(i),se.setEndAfter(i),j(y,jd(e,se,c),!0)}}else j(y,i,!0);else if(!h||!gu(f)||lf(e).length){var we=w.getNode(),he=c[0];!e.settings.forced_root_block&&he.defaultBlock&&!y.getParent(we,y.isBlock)&&uw(e,he.defaultBlock),w.setRng(P8(w.getRng())),_h(w,!0,function(){Uv(e,function(Ze,Ve){var Ee=Ve?Ze:jd(e,Ze,c);j(y,Ee,!1)})}),i2(y,w,w.getRng()),e.nodeChanged()}else Iz(e,r,a);S6(r,e)}k0(e,r,i,a)},M3=function(e){return Sn(e,"vars")},iT=function(e,r){e.set({}),r.on("NodeChange",function(a){sT(r,a.element,e.get())}),r.on("FormatApply FormatRemove",function(a){var i=oe.from(a.node).map(function(c){return cb(c)?c:c.startContainer}).bind(function(c){return pn(c)?oe.some(c):oe.from(c.parentElement)}).getOrThunk(function(){return t4(r)});sT(r,i,e.get())})},t4=function(e){return e.selection.getStart()},uT=function(e,r,a,i,c){var f=function(y){var w=e.formatter.matchNode(y,a,c??{},i);return!ze(w)},h=function(y){return K8(e,y,a)?!0:i?!1:Ge(e.formatter.matchNode(y,a,c,!0))};return st(r,f,h)},r4=function(e,r){var a=r??t4(e);return Xt(Up(e.dom,a),function(i){return pn(i)&&!ti(i)})},sT=function(e,r,a){var i=r4(e,r);xn(a,function(c,f){var h=function(y){var w=uT(e,i,f,y.similar,M3(y)?y.vars:void 0),R=w.isSome();if(y.state.get()!==R){y.state.set(R);var L=w.getOr(r);M3(y)?y.callback(R,{node:L,format:f,parents:i}):je(y.callbacks,function(V){return V(R,{node:L,format:f,parents:i})})}};je([c.withSimilar,c.withoutSimilar],h),je(c.withVars,h)})},cT=function(e,r,a,i,c,f){var h=r.get();je(a.split(","),function(y){var w=Kn(h,y).getOrThunk(function(){var V={withSimilar:{state:os(!1),similar:!0,callbacks:[]},withoutSimilar:{state:os(!1),similar:!1,callbacks:[]},withVars:[]};return h[y]=V,V}),R=function(){var V=r4(e);return uT(e,V,y,c,f).isSome()};if(ze(f)){var L=c?w.withSimilar:w.withoutSimilar;L.callbacks.push(i),L.callbacks.length===1&&L.state.set(R())}else w.withVars.push({state:os(R()),similar:c,vars:f,callback:i})}),r.set(h)},I6=function(e,r,a){var i=e.get();je(r.split(","),function(c){return Kn(i,c).each(function(f){i[c]={withSimilar:$r($r({},f.withSimilar),{callbacks:Xt(f.withSimilar.callbacks,function(h){return h!==a})}),withoutSimilar:$r($r({},f.withoutSimilar),{callbacks:Xt(f.withoutSimilar.callbacks,function(h){return h!==a})}),withVars:Xt(f.withVars,function(h){return h.callback!==a})}})}),e.set(i)},n4=function(e,r,a,i,c,f){return r.get()===null&&iT(r,e),cT(e,r,a,i,c,f),{unbind:function(){return I6(r,a,i)}}},$6=function(e,r,a,i){var c=e.formatter.get(r);T3(e,r,a,i)&&(!("toggle"in c[0])||c[0].toggle)?Qz(e,r,a,i):uw(e,r,a,i)},kg=function(e,r){var a=document,i=a.createDocumentFragment();return je(e,function(c){i.appendChild(c.dom)}),x.fromDom(i)},B3=function(e,r,a){return{element:e,width:r,rows:a}},a4=function(e,r){return{element:e,cells:r}},o4=function(e,r){return{x:e,y:r}},i4=function(e,r){var a=parseInt(K(e,r),10);return isNaN(a)?1:a},L6=function(e,r,a,i,c){for(var f=i4(c,"rowspan"),h=i4(c,"colspan"),y=e.rows,w=a;w<a+f;w++){y[w]||(y[w]=a4(Oy(i),[]));for(var R=r;R<r+h;R++){var L=y[w].cells;L[R]=w===a&&R===r?c:bi(c)}}},H6=function(e,r,a){var i=e.rows,c=i[a]?i[a].cells:[];return!!c[r]},V6=function(e,r,a){for(;H6(e,r,a);)r++;return r},u4=function(e){return ut(e,function(r,a){return a.cells.length>r?a.cells.length:r},0)},lT=function(e,r){for(var a=e.rows,i=0;i<a.length;i++)for(var c=a[i].cells,f=0;f<c.length;f++)if(an(c[f],r))return oe.some(o4(f,i));return oe.none()},s4=function(e,r,a,i,c){for(var f=[],h=e.rows,y=a;y<=c;y++){var w=h[y].cells,R=r<i?w.slice(r,i+1):w.slice(i,r+1);f.push(a4(h[y].element,R))}return f},fT=function(e,r,a){var i=r.x,c=r.y,f=a.x,h=a.y,y=c<h?s4(e,i,c,f,h):s4(e,i,h,f,c);return B3(e.element,u4(y),y)},e_=function(e,r){var a=bi(e.element),i=x.fromTag("tbody");return zf(i,r),Ti(a,i),a},U6=function(e){return Pe(e.rows,function(r){var a=Pe(r.cells,function(c){var f=Oy(c);return _t(f,"colspan"),_t(f,"rowspan"),f}),i=bi(r.element);return zf(i,a),i})},j6=function(e){var r=B3(bi(e),0,[]);return je(mu(e,"tr"),function(a,i){je(mu(a,"td,th"),function(c,f){L6(r,V6(r,f,i),i,a,c)})}),B3(r.element,u4(r.rows),r.rows)},N3=function(e){return e_(e,U6(e))},dT=function(e,r,a){return lT(e,r).bind(function(i){return lT(e,a).map(function(c){return fT(e,i,c)})})},W6=function(e){return nr(e,function(r){return za(r)==="ul"||za(r)==="ol"})},q6=function(e,r){return nr(e,function(a){return za(a)==="li"&&nl(a,r)}).fold(X([]),function(a){return W6(e).map(function(i){var c=x.fromTag(za(i)),f=un(jo(i),function(h,y){return Gt(y,"list-style")});return sa(c,f),[x.fromTag("li"),c]}).getOr([])})},c4=function(e,r){var a=ut(r,function(i,c){return Ti(c,i),c},e);return r.length>0?kg([a]):a},vT=function(e){return Ou(e)?Vo(e).filter(Xc).fold(X([]),function(r){return[e,r]}):Xc(e)?[e]:[]},G6=function(e,r){var a=x.fromDom(r.commonAncestorContainer),i=jr(a,e),c=Xt(i,function(y){return Lu(y)||gn(y)}),f=q6(i,r),h=c.concat(f.length?f:vT(a));return Pe(h,bi)},sw=function(){return kg([])},om=function(e,r){return c4(x.fromDom(r.cloneContents()),G6(e,r))},K6=function(e,r){return fv(r,"table",St(an,e))},mT=function(e,r){return K6(e,r[0]).bind(function(a){var i=r[0],c=r[r.length-1],f=j6(a);return dT(f,i,c).map(function(h){return kg([N3(h)])})}).getOrThunk(sw)},X6=function(e,r){return r.length>0&&r[0].collapsed?sw():om(e,r[0])},Y6=function(e,r){var a=Yf(r,e);return a.length>0?mT(e,a):X6(e,r)},Z6=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},P3=function(e,r){return r>=0&&r<e.length&&Ud(e.charAt(r))},hT=function(e,r){var a=Cs(e.innerText);return r?Z6(a):a},J6=function(e){return e.map(function(r){return r.nodeName}).getOr("div").toLowerCase()},t_=function(e){return oe.from(e.selection.getRng()).map(function(r){var a=oe.from(e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),c=J6(a),f=Zt.browser.isIE()&&c!=="pre",h=e.dom.add(i,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},r.cloneContents()),y=hT(h,f),w=Cs(h.textContent);if(e.dom.remove(h),P3(w,0)||P3(w,w.length-1)){var R=a.getOr(i),L=hT(R,f),V=L.indexOf(y);if(V===-1)return y;var j=P3(L,V-1),re=P3(L,V+y.length);return(j?" ":"")+y+(re?" ":"")}else return y}).getOr("")},Q6=function(e,r){var a=e.selection.getRng(),i=e.dom.create("body"),c=e.selection.getSel(),f=Db(e,d0(c)),h=r.contextual?Y6(x.fromDom(e.getBody()),f).dom:a.cloneContents();return h&&i.appendChild(h),e.selection.serializer.serialize(i,r)},e5=function(e,r){return $r($r({},e),{format:r,get:!0,selection:!0})},t5=function(e,r,a){a===void 0&&(a={});var i=e5(a,r),c=e.fire("BeforeGetContent",i);if(c.isDefaultPrevented())return e.fire("GetContent",c),c.content;if(c.format==="text")return t_(e);c.getInner=!0;var f=Q6(e,c);return c.format==="tree"?f:(c.content=e.selection.isCollapsed()?"":f,e.fire("GetContent",c),c.content)},pT=0,gT=1,l4=2,r5=function(e,r){var a=e.length+r.length+2,i=new Array(a),c=new Array(a),f=function(L,V,j){return{start:L,end:V,diag:j}},h=function(L,V,j,re,ae){var ie=w(L,V,j,re);if(ie===null||ie.start===V&&ie.diag===V-re||ie.end===L&&ie.diag===L-j)for(var se=L,we=j;se<V||we<re;)se<V&&we<re&&e[se]===r[we]?(ae.push([pT,e[se]]),++se,++we):V-L>re-j?(ae.push([l4,e[se]]),++se):(ae.push([gT,r[we]]),++we);else{h(L,ie.start,j,ie.start-ie.diag,ae);for(var he=ie.start;he<ie.end;++he)ae.push([pT,e[he]]);h(ie.end,V,ie.end-ie.diag,re,ae)}},y=function(L,V,j,re){for(var ae=L;ae-V<re&&ae<j&&e[ae]===r[ae-V];)++ae;return f(L,ae,V)},w=function(L,V,j,re){var ae=V-L,ie=re-j;if(ae===0||ie===0)return null;var se=ae-ie,we=ie+ae,he=(we%2===0?we:we+1)/2;i[1+he]=L,c[1+he]=V+1;var Ze,Ve,Ee,nt,Tt;for(Ze=0;Ze<=he;++Ze){for(Ve=-Ze;Ve<=Ze;Ve+=2){for(Ee=Ve+he,Ve===-Ze||Ve!==Ze&&i[Ee-1]<i[Ee+1]?i[Ee]=i[Ee+1]:i[Ee]=i[Ee-1]+1,nt=i[Ee],Tt=nt-L+j-Ve;nt<V&&Tt<re&&e[nt]===r[Tt];)i[Ee]=++nt,++Tt;if(se%2!==0&&se-Ze<=Ve&&Ve<=se+Ze&&c[Ee-se]<=i[Ee])return y(c[Ee-se],Ve+L-j,V,re)}for(Ve=se-Ze;Ve<=se+Ze;Ve+=2){for(Ee=Ve+he-se,Ve===se-Ze||Ve!==se+Ze&&c[Ee+1]<=c[Ee-1]?c[Ee]=c[Ee+1]-1:c[Ee]=c[Ee-1],nt=c[Ee]-1,Tt=nt-L+j-Ve;nt>=L&&Tt>=j&&e[nt]===r[Tt];)c[Ee]=nt--,Tt--;if(se%2===0&&-Ze<=Ve&&Ve<=Ze&&c[Ee]<=i[Ee+se])return y(c[Ee],Ve+L-j,V,re)}}},R=[];return h(0,e.length,0,r.length,R),R},f4=function(e){return pn(e)?e.outerHTML:zr(e)?cc.encodeRaw(e.data,!1):Nf(e)?"<!--"+e.data+"-->":""},n5=function(e){var r,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);r=a.firstChild;)i.appendChild(r);return i},a5=function(e,r,a){var i=n5(r);if(e.hasChildNodes()&&a<e.childNodes.length){var c=e.childNodes[a];c.parentNode.insertBefore(i,c)}else e.appendChild(i)},o5=function(e,r){if(e.hasChildNodes()&&r<e.childNodes.length){var a=e.childNodes[r];a.parentNode.removeChild(a)}},i5=function(e,r){var a=0;je(e,function(i){i[0]===pT?a++:i[0]===gT?(a5(r,i[1],a),a++):i[0]===l4&&o5(r,a)})},u5=function(e,r){return Xt(Pe(kn(e.childNodes),Ce(Cs,f4)),function(a){return a.length>0})},s5=function(e,r){var a=Pe(kn(r.childNodes),f4);return i5(r5(a,e),r),r},c5=vi(function(){return document.implementation.createHTMLDocument("undo")}),yT=function(e){return e.querySelector("iframe")!==null},d4=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},l5=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},r_=function(e){var r=e.serializer.getTempAttrs(),a=Jv(e.getBody(),r);return yT(a)?d4(u5(a)):l5(Cs(a.innerHTML))},F3=function(e,r,a){var i=a?r.beforeBookmark:r.bookmark;r.type==="fragmented"?s5(r.fragments,e.getBody()):e.setContent(r.content,{format:"raw",no_selection:Ge(i)&&Qk(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},Cg=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},n_=function(e){var r=x.fromTag("body",c5());return ss(r,Cg(e)),je(mu(r,"*[data-mce-bogus]"),Of),us(r)},v4=function(e,r){return Cg(e)===Cg(r)},f5=function(e,r){return n_(e)===n_(r)},I3=function(e,r){return!e||!r?!1:v4(e,r)?!0:f5(e,r)},bT=function(e){return e.get()===0},$3=function(e,r,a){bT(a)&&(e.typing=r)},m4=function(e,r){e.typing&&($3(e,!1,r),e.add())},d5=function(e){e.typing&&(e.typing=!1,e.add())},v5=function(e,r,a){bT(r)&&a.set(zk(e.selection))},h4=function(e,r,a,i,c,f,h){var y=r_(e);if(f=f||{},f=ht.extend(f,y),bT(i)===!1||e.removed)return null;var w=r.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:w,originalEvent:h}).isDefaultPrevented()||w&&I3(w,f))return null;r.data[a.get()]&&c.get().each(function(j){r.data[a.get()].beforeBookmark=j});var R=Lp(e);if(R&&r.data.length>R){for(var L=0;L<r.data.length-1;L++)r.data[L]=r.data[L+1];r.data.length--,a.set(r.data.length)}f.bookmark=zk(e.selection),a.get()<r.data.length-1&&(r.data.length=a.get()+1),r.data.push(f),a.set(r.data.length-1);var V={level:f,lastLevel:w,originalEvent:h};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",V),e.fire("change",V)):e.fire("AddUndo",V),f},m5=function(e,r,a){r.data=[],a.set(0),r.typing=!1,e.fire("ClearUndos")},cw=function(e,r,a,i,c){if(r.transact(i)){var f=r.data[a.get()].bookmark,h=r.data[a.get()-1];F3(e,h,!0),r.transact(c)&&(r.data[a.get()-1].beforeBookmark=f)}},h5=function(e,r,a){var i;return r.get()<a.length-1&&(r.set(r.get()+1),i=a[r.get()],F3(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},p5=function(e,r,a,i){var c;return r.typing&&(r.add(),r.typing=!1,$3(r,!1,a)),i.get()>0&&(i.set(i.get()-1),c=r.data[i.get()],F3(e,c,!0),e.setDirty(!0),e.fire("Undo",{level:c})),c},g5=function(e){e.clear(),e.add()},y5=function(e,r,a){return a.get()>0||r.typing&&r.data[0]&&!I3(r_(e),r.data[0])},p4=function(e,r){return r.get()<e.data.length-1&&!e.typing},g4=function(e,r,a){return m4(e,r),e.beforeChange(),e.ignore(a),e.add()},y4=function(e,r){try{e.set(e.get()+1),r()}finally{e.set(e.get()-1)}},b4=function(e,r){var a=e.dom,i=Ge(r)?r:e.getBody();ze(e.hasVisual)&&(e.hasVisual=Lk(e)),je(a.select("table,a",i),function(c){switch(c.nodeName){case"TABLE":var f=bS(e),h=a.getAttrib(c,"border");(!h||h==="0")&&e.hasVisual?a.addClass(c,f):a.removeClass(c,f);break;case"A":if(!a.getAttrib(c,"href")){var y=a.getAttrib(c,"name")||c.id,w=V1(e);y&&e.hasVisual?a.addClass(c,w):a.removeClass(c,w)}break}}),e.fire("VisualAid",{element:r,hasVisual:e.hasVisual})},L3=function(e){return{undoManager:{beforeChange:function(r,a){return v5(e,r,a)},add:function(r,a,i,c,f,h){return h4(e,r,a,i,c,f,h)},undo:function(r,a,i){return p5(e,r,a,i)},redo:function(r,a){return h5(e,r,a)},clear:function(r,a){return m5(e,r,a)},reset:function(r){return g5(r)},hasUndo:function(r,a){return y5(e,r,a)},hasRedo:function(r,a){return p4(r,a)},transact:function(r,a,i){return g4(r,a,i)},ignore:function(r,a){return y4(r,a)},extra:function(r,a,i,c){return cw(e,r,a,i,c)}},formatter:{match:function(r,a,i,c){return T3(e,r,a,i,c)},matchAll:function(r,a){return Y8(e,r,a)},matchNode:function(r,a,i,c){return rv(e,r,a,i,c)},canApply:function(r){return Dz(e,r)},closest:function(r){return Z8(e,r)},apply:function(r,a,i){return uw(e,r,a,i)},remove:function(r,a,i,c){return Qz(e,r,a,i,c)},toggle:function(r,a,i){return $6(e,r,a,i)},formatChanged:function(r,a,i,c,f){return n4(e,r,a,i,c,f)}},editor:{getContent:function(r,a){return K0(e,r,a)},setContent:function(r,a){return p6(e,r,a)},insertContent:function(r,a){return V8(e,r,a)},addVisual:function(r){return b4(e,r)}},selection:{getContent:function(r,a){return t5(e,r,a)}},raw:{getModel:function(){return oe.none()}}}},_4=function(e){var r=function(y){return Y(y)?y:{}},a=e.undoManager,i=e.formatter,c=e.editor,f=e.selection,h=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(y,w,R){return a.transact(R)},ignore:function(y,w){return a.ignore(w)},extra:function(y,w,R,L){return a.extra(R,L)}},formatter:{match:function(y,w,R,L){return i.match(y,r(w),L)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(y){return i.canApply(y)},closest:function(y){return i.closest(y)},apply:function(y,w,R){return i.apply(y,r(w))},remove:function(y,w,R,L){return i.remove(y,r(w))},toggle:function(y,w,R){return i.toggle(y,r(w))},formatChanged:function(y,w,R,L,V){return i.formatChanged(w,R,L,V)}},editor:{getContent:function(y,w){return c.getContent(y)},setContent:function(y,w){return c.setContent(y,w)},insertContent:function(y,w){return c.insertContent(y)},addVisual:c.addVisual},selection:{getContent:function(y,w){return f.getContent(w)}},raw:{getModel:function(){return oe.some(h.getRawModel())}}}},b5=function(){var e=X(null),r=X("");return{undoManager:{beforeChange:U,add:e,undo:e,redo:e,clear:U,reset:U,hasUndo:Wt,hasRedo:Wt,transact:e,ignore:U,extra:U},formatter:{match:Wt,matchAll:X([]),matchNode:X(void 0),canApply:Wt,closest:r,apply:U,remove:U,toggle:U,formatChanged:X({unbind:U})},editor:{getContent:r,setContent:r,insertContent:U,addVisual:U},selection:{getContent:r},raw:{getModel:X(oe.none())}}},im=function(e){return Sn(e.plugins,"rtc")},_5=function(e){return Kn(e.plugins,"rtc").bind(function(r){return oe.from(r.setup)})},w5=function(e){var r=e;return _5(e).fold(function(){return r.rtcInstance=L3(e),oe.none()},function(a){return r.rtcInstance=b5(),oe.some(function(){return a().then(function(i){return r.rtcInstance=_4(i),i.rtc.isRemote})})})},_T=function(e){return e.rtcInstance?e.rtcInstance:L3(e)},Vi=function(e){var r=e.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},wT=function(e,r,a){Vi(e).undoManager.beforeChange(r,a)},w4=function(e,r,a,i,c,f,h){return Vi(e).undoManager.add(r,a,i,c,f,h)},H3=function(e,r,a,i){return Vi(e).undoManager.undo(r,a,i)},ul=function(e,r,a){return Vi(e).undoManager.redo(r,a)},lw=function(e,r,a){Vi(e).undoManager.clear(r,a)},xg=function(e,r){Vi(e).undoManager.reset(r)},k5=function(e,r,a){return Vi(e).undoManager.hasUndo(r,a)},k4=function(e,r,a){return Vi(e).undoManager.hasRedo(r,a)},C4=function(e,r,a,i){return Vi(e).undoManager.transact(r,a,i)},C5=function(e,r,a){Vi(e).undoManager.ignore(r,a)},x5=function(e,r,a,i,c){Vi(e).undoManager.extra(r,a,i,c)},S5=function(e,r,a,i,c){return Vi(e).formatter.match(r,a,i,c)},x4=function(e,r,a){return Vi(e).formatter.matchAll(r,a)},V3=function(e,r,a,i,c){return Vi(e).formatter.matchNode(r,a,i,c)},S4=function(e,r){return Vi(e).formatter.canApply(r)},T4=function(e,r){return Vi(e).formatter.closest(r)},U3=function(e,r,a,i){Vi(e).formatter.apply(r,a,i)},T5=function(e,r,a,i,c){Vi(e).formatter.remove(r,a,i,c)},E5=function(e,r,a,i){Vi(e).formatter.toggle(r,a,i)},z5=function(e,r,a,i,c,f){return Vi(e).formatter.formatChanged(r,a,i,c,f)},A5=function(e,r,a){return _T(e).editor.getContent(r,a)},O5=function(e,r,a){return _T(e).editor.setContent(r,a)},R5=function(e,r,a){return _T(e).editor.insertContent(r,a)},D5=function(e,r,a){return Vi(e).selection.getContent(r,a)},M5=function(e,r){return Vi(e).editor.addVisual(r)},B5=function(e,r){r===void 0&&(r={});var a=r.format?r.format:"html";return D5(e,a,r)},E4=function(e){return e.dom.length===0?(Uo(e),oe.none()):oe.some(e)},N5=function(e,r){return e.filter(function(a){return Gd.isBookmarkNode(a.dom)}).bind(r?rc:Tf)},P5=function(e,r,a,i){var c=e.dom,f=r.dom,h=i?c.length:f.length;i?(jb(c,f,!1,!i),a.setStart(f,h)):(jb(f,c,!1,!i),a.setEnd(f,h))},kT=function(e,r){Vo(e).each(function(a){var i=e.dom;r&&hf(a,vt(i,0))?Dh(i,0):!r&&vg(a,vt(i,i.length))&&ca(i,i.length)})},z4=function(e,r,a,i){e.bind(function(c){var f=i?ca:Dh;return f(c.dom,i?c.dom.length:0),r.filter(No).map(function(h){return P5(c,h,a,i)})}).orThunk(function(){var c=N5(r,i).or(r).filter(No);return c.map(function(f){return kT(f,i)})})},a_=function(e,r){var a=oe.from(r.firstChild).map(x.fromDom),i=oe.from(r.lastChild).map(x.fromDom);e.deleteContents(),e.insertNode(r);var c=a.bind(Tf).filter(No).bind(E4),f=i.bind(rc).filter(No).bind(E4);z4(c,a,e,!0),z4(f,i,e,!1),e.collapse(!1)},A4=function(e,r){return $r($r({format:"html"},e),{set:!0,selection:!0,content:r})},Ui=function(e,r){if(r.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),c=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(r.content,$r($r({isRootContent:!0,forced_root_block:!1},c),r));return Qv({validate:e.validate},e.schema).serialize(f)}else return r.content},F5=function(e,r,a){a===void 0&&(a={});var i=A4(a,r),c=i;if(!i.no_events){var f=e.fire("BeforeSetContent",i);if(f.isDefaultPrevented()){e.fire("SetContent",f);return}else c=f}c.content=Ui(e,c);var h=e.selection.getRng();a_(h,h.createContextualFragment(c.content)),e.selection.setRng(h),Jp(e,h),c.no_events||e.fire("SetContent",c)},O4=function(e,r,a){if(e&&Sn(e,r)){var i=Xt(e[r],function(c){return c!==a});i.length===0?delete e[r]:e[r]=i}};function I5(e,r){var a,i,c=function(h,y){return nr(y,function(w){return e.is(w,h)})},f=function(h){return e.getParents(h,null,e.getRoot())};return{selectorChangedWithUnbind:function(h,y){return a||(a={},i={},r.on("NodeChange",function(w){var R=w.element,L=f(R),V={};ht.each(a,function(j,re){c(re,L).each(function(ae){i[re]||(je(j,function(ie){ie(!0,{node:ae,selector:re,parents:L})}),i[re]=j),V[re]=j})}),ht.each(i,function(j,re){V[re]||(delete i[re],ht.each(j,function(ae){ae(!1,{node:R,selector:re,parents:L})}))})})),a[h]||(a[h]=[]),a[h].push(y),c(h,f(r.selection.getStart())).each(function(){i[h]=a[h]}),{unbind:function(){O4(a,h,y),O4(i,h,y)}}}}}var R4=function(e){return!!e.select},Pl=function(e){return!!(e&&e.ownerDocument)&&Ia(x.fromDom(e.ownerDocument),x.fromDom(e))},j3=function(e){return e?R4(e)?!0:Pl(e.startContainer)&&Pl(e.endContainer):!1},o_=function(e,r,a,i){var c,f,h=I5(e,i).selectorChangedWithUnbind,y=function(Vt,Er){var ea=e.createRng();Ge(Vt)&&Ge(Er)?(ea.setStart(Vt,Er),ea.setEnd(Vt,Er),Ze(ea),se(!1)):(Wd(e,ea,i.getBody(),!0),Ze(ea))},w=function(Vt){return B5(i,Vt)},R=function(Vt,Er){return F5(i,Vt,Er)},L=function(Vt){return Zv(i.getBody(),he(),Vt)},V=function(Vt){return Eh(i.getBody(),he(),Vt)},j=function(Vt,Er){return hr.getBookmark(Vt,Er)},re=function(Vt){return hr.moveToBookmark(Vt)},ae=function(Vt,Er){return d8(e,Vt,Er).each(Ze),Vt},ie=function(){var Vt=he(),Er=we();return!Vt||Vt.item?!1:Vt.compareEndPoints?Vt.compareEndPoints("StartToEnd",Vt)===0:!Er||Vt.collapsed},se=function(Vt){var Er=he();Er.collapse(!!Vt),Ze(Er)},we=function(){return r.getSelection?r.getSelection():r.document.selection},he=function(){var Vt,Er,ea,Pa=function(Go,Ds,Hc){try{return Ds.compareBoundaryPoints(Go,Hc)}catch{return-1}},Ma=r.document;if(i.bookmark!==void 0&&Bc(i)===!1){var wu=xh(i);if(wu.isSome())return wu.map(function(Go){return Db(i,[Go])[0]}).getOr(Ma.createRange())}try{(Vt=we())&&!Ul(Vt.anchorNode)&&(Vt.rangeCount>0?Er=Vt.getRangeAt(0):Er=Vt.createRange?Vt.createRange():Ma.createRange(),Er=Db(i,[Er])[0])}catch{}return Er||(Er=Ma.createRange?Ma.createRange():Ma.body.createTextRange()),Er.setStart&&Er.startContainer.nodeType===9&&Er.collapsed&&(ea=e.getRoot(),Er.setStart(ea,0),Er.setEnd(ea,0)),c&&f&&(Pa(Er.START_TO_START,Er,c)===0&&Pa(Er.END_TO_END,Er,c)===0?Er=f:(c=null,f=null)),Er},Ze=function(Vt,Er){var ea;if(j3(Vt)){var Pa=R4(Vt)?Vt:null;if(Pa){f=null;try{Pa.select()}catch{}return}var Ma=we(),wu=i.fire("SetSelectionRange",{range:Vt,forward:Er});if(Vt=wu.range,Ma){f=Vt;try{Ma.removeAllRanges(),Ma.addRange(Vt)}catch{}Er===!1&&Ma.extend&&(Ma.collapse(Vt.endContainer,Vt.endOffset),Ma.extend(Vt.startContainer,Vt.startOffset)),c=Ma.rangeCount>0?Ma.getRangeAt(0):null}!Vt.collapsed&&Vt.startContainer===Vt.endContainer&&Ma.setBaseAndExtent&&!Zt.ie&&Vt.endOffset-Vt.startOffset<2&&Vt.startContainer.hasChildNodes()&&(ea=Vt.startContainer.childNodes[Vt.startOffset],ea&&ea.tagName==="IMG"&&(Ma.setBaseAndExtent(Vt.startContainer,Vt.startOffset,Vt.endContainer,Vt.endOffset),(Ma.anchorNode!==Vt.startContainer||Ma.focusNode!==Vt.endContainer)&&Ma.setBaseAndExtent(ea,0,ea,1))),i.fire("AfterSetSelectionRange",{range:Vt,forward:Er})}},Ve=function(Vt){return R(e.getOuterHTML(Vt)),Vt},Ee=function(){return q2(i.getBody(),he())},nt=function(Vt,Er){return Rb(e,he(),Vt,Er)},Tt=function(){var Vt=we(),Er=Vt==null?void 0:Vt.anchorNode,ea=Vt==null?void 0:Vt.focusNode;if(!Vt||!Er||!ea||Ul(Er)||Ul(ea))return!0;var Pa=e.createRng();Pa.setStart(Er,Vt.anchorOffset),Pa.collapse(!0);var Ma=e.createRng();return Ma.setStart(ea,Vt.focusOffset),Ma.collapse(!0),Pa.compareBoundaryPoints(Pa.START_TO_START,Ma)<=0},Kt=function(){var Vt=he(),Er=we();if(!m0(Er)&&qd(i)){var ea=wb(e,Vt);return ea.each(function(Pa){Ze(Pa,Tt())}),ea.getOr(Vt)}return Vt},nn=function(Vt,Er){return h(Vt,Er),Qt},Cr=function(){for(var Vt,Er=e.getRoot();Er&&Er.nodeName!=="BODY";){if(Er.scrollHeight>Er.clientHeight){Vt=Er;break}Er=Er.parentNode}return Vt},At=function(Vt,Er){Ge(Vt)?o8(i,Vt,Er):Jp(i,he(),Er)},qr=function(Vt,Er){return Ze(S0(Vt,Er,i.getDoc()))},Jt=function(){var Vt=he();return Vt.collapsed?vt.fromRangeStart(Vt).getClientRects()[0]:Vt.getBoundingClientRect()},wr=function(){r=c=f=null,Or.destroy()},Qt={bookmarkManager:null,controlSelection:null,dom:e,win:r,serializer:a,editor:i,collapse:se,setCursorLocation:y,getContent:w,setContent:R,getBookmark:j,moveToBookmark:re,select:ae,isCollapsed:ie,isForward:Tt,setNode:Ve,getNode:Ee,getSel:we,setRng:Ze,getRng:he,getStart:L,getEnd:V,getSelectedBlocks:nt,normalize:Kt,selectorChanged:nn,selectorChangedWithUnbind:h,getScrollContainer:Cr,scrollIntoView:At,placeCaretAt:qr,getBoundingClientRect:Jt,destroy:wr},hr=Gd(Qt),Or=C0(Qt,i);return Qt.bookmarkManager=hr,Qt.controlSelection=Or,Qt},fw=function(e,r){je(r,function(a){e.attr(a,null)})},CT=function(e,r,a){e.addNodeFilter("font",function(i){je(i,function(c){var f=r.parse(c.attr("style")),h=c.attr("color"),y=c.attr("face"),w=c.attr("size");h&&(f.color=h),y&&(f["font-family"]=y),w&&(f["font-size"]=a[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",r.serialize(f)),fw(c,["color","face","size"])})})},$5=function(e,r){e.addNodeFilter("strike",function(a){je(a,function(i){var c=r.parse(i.attr("style"));c["text-decoration"]="line-through",i.name="span",i.attr("style",r.serialize(c))})})},L5=function(e,r){var a=Qc();r.convert_fonts_to_spans&&CT(e,a,ht.explode(r.font_size_legacy_values)),$5(e,a)},i_=function(e,r){r.inline_styles&&L5(e,r)},u_=function(e){return new Yi(function(r,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var c=new XMLHttpRequest;c.open("GET",e,!0),c.responseType="blob",c.onload=function(){c.status===200?r(c.response):i()},c.onerror=i,c.send()}catch{i()}})},Ph=function(e){var r,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(r=i[1]),{type:r,data:a[1]}},W3=function(e,r){var a;try{a=atob(r)}catch{return oe.none()}for(var i=new Uint8Array(a.length),c=0;c<i.length;c++)i[c]=a.charCodeAt(c);return oe.some(new Blob([i],{type:e}))},H5=function(e){return new Yi(function(r){var a=Ph(e),i=a.type,c=a.data;W3(i,c).fold(function(){return r(new Blob([]))},r)})},q3=function(e){return e.indexOf("blob:")===0?u_(e):e.indexOf("data:")===0?H5(e):null},D4=function(e){return new Yi(function(r){var a=new FileReader;a.onloadend=function(){r(a.result)},a.readAsDataURL(e)})},M4=0,xT=function(e){return"blobid"+M4++},V5=function(e,r,a,i){var c,f;if(r.src.indexOf("blob:")===0){f=e.getByUri(r.src),f?a({image:r,blobInfo:f}):q3(r.src).then(function(R){D4(R).then(function(L){c=Ph(L).data,f=e.create(xT(),R,c),e.add(f),a({image:r,blobInfo:f})})},function(R){i(R)});return}var h=Ph(r.src),y=h.data,w=h.type;c=y,f=e.getByData(c,w),f?a({image:r,blobInfo:f}):q3(r.src).then(function(R){f=e.create(xT(),R,c),e.add(f),a({image:r,blobInfo:f})},function(R){i(R)})},B4=function(e){return e?kn(e.getElementsByTagName("img")):[]},U5=function(e,r){var a={},i=function(c,f){f||(f=sr);var h=Xt(B4(c),function(w){var R=w.src;return!Zt.fileApi||w.hasAttribute("data-mce-bogus")||w.hasAttribute("data-mce-placeholder")||!R||R===Zt.transparentSrc?!1:R.indexOf("blob:")===0?!e.isUploaded(R)&&f(w):R.indexOf("data:")===0?f(w):!1}),y=Pe(h,function(w){if(a[w.src]!==void 0)return new Yi(function(L){a[w.src].then(function(V){if(typeof V=="string")return V;L({image:w,blobInfo:V.blobInfo})})});var R=new Yi(function(L,V){V5(r,w,L,V)}).then(function(L){return delete a[L.image.src],L}).catch(function(L){return delete a[w.src],L});return a[w.src]=R,R});return Yi.all(y)};return{findAll:i}},j5=function(e){for(var r=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},c=wk("img"),f,h=0,y=0;f=r.exec(e);){var w=f[0],R=c+"_"+y++;i[R]=w,h<f.index&&a.push(e.substr(h,f.index-h)),a.push(R),h=f.index+w.length}var L=new RegExp(c+"_[0-9]+","g");return h===0?{prefix:c,uris:i,html:e,re:L}:(h<e.length&&a.push(e.substr(h)),{prefix:c,uris:i,html:a.join(""),re:L})},ST=function(e,r){return e.replace(r.re,function(a){return Kn(r.uris,a).getOr(a)})},W5=function(e){var r=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return r?oe.some({type:r[1],data:decodeURIComponent(r[2])}):oe.none()},TT=function(e,r,a,i){var c=e.padd_empty_with_br||r.insert;c&&a[i.name]?i.empty().append(new Nc("br",1)).shortEnded=!0:i.empty().append(new Nc("#text",3)).value=Vs},N4=function(e){return P4(e,"#text")&&e.firstChild.value===Vs},P4=function(e,r){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===r},dw=function(e,r){var a=e.getElementRule(r.name);return a&&a.paddEmpty},s_=function(e,r,a,i){return i.isEmpty(r,a,function(c){return dw(e,c)})},q5=function(e,r){return e&&(Sn(r,e.name)||e.name==="br")},F4=function(e){return Ge(e.attr("data-mce-bogus"))},G5=function(e){return e.attr("src")===Zt.transparentSrc||Ge(e.attr("data-mce-placeholder"))},I4=function(e,r){if(r.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),xn(e.attributes.map,function(i,c){a.setAttribute(c,i)}),r.images_dataimg_filter(a)}else return!0},K5=function(e,r){var a=r.blob_cache,i=function(c){var f=c.attr("src");G5(c)||F4(c)||W5(f).filter(function(){return I4(c,r)}).bind(function(h){var y=h.type,w=h.data;return oe.from(a.getByData(w,y)).orThunk(function(){return W3(y,w).map(function(R){var L=a.create(xT(),R,w);return a.add(L),L})})}).each(function(h){c.attr("src",h.blobUri())})};a&&e.addAttributeFilter("src",function(c){return je(c,i)})},X5=function(e,r){var a=e.schema;r.remove_trailing_brs&&e.addNodeFilter("br",function(i,c,f){var h,y=i.length,w,R=ht.extend({},a.getBlockElements()),L=a.getNonEmptyElements(),V,j,re,ae,ie=a.getWhiteSpaceElements(),se,we;for(R.body=1,h=0;h<y;h++)if(w=i[h],V=w.parent,R[w.parent.name]&&w===V.lastChild){for(re=w.prev;re;){if(ae=re.name,ae!=="span"||re.attr("data-mce-type")!=="bookmark"){ae==="br"&&(w=null);break}re=re.prev}w&&(w.remove(),s_(a,L,ie,V)&&(se=a.getElementRule(V.name),se&&(se.removeEmpty?V.remove():se.paddEmpty&&TT(r,f,R,V))))}else{for(j=w;V&&V.firstChild===j&&V.lastChild===j&&(j=V,!R[V.name]);)V=V.parent;j===V&&r.padd_empty_with_br!==!0&&(we=new Nc("#text",3),we.value=Vs,w.replace(we))}}),e.addAttributeFilter("href",function(i){var c=i.length,f=function(w){var R=w.split(" ").filter(function(L){return L.length>0});return R.concat(["noopener"]).sort().join(" ")},h=function(w){var R=w?ht.trim(w):"";return/\b(noopener)\b/g.test(R)?R:f(R)};if(!r.allow_unsafe_link_target)for(;c--;){var y=i[c];y.name==="a"&&y.attr("target")==="_blank"&&y.attr("rel",h(y.attr("rel")))}}),r.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var c=i.length,f,h,y,w;c--;)if(w=i[c],w.name==="a"&&w.firstChild&&!w.attr("href")){y=w.parent,f=w.lastChild;do h=f.prev,y.insert(f,w),f=h;while(f)}}),r.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var c=i.length,f,h;c--;)if(f=i[c],h=f.parent,h.name==="ul"||h.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var y=new Nc("li",1);y.attr("style","list-style-type: none"),f.wrap(y)}}),r.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var c=a.getValidClasses(),f=i.length;f--;){for(var h=i[f],y=h.attr("class").split(" "),w="",R=0;R<y.length;R++){var L=y[R],V=!1,j=c["*"];j&&j[L]&&(V=!0),j=c[h.name],!V&&j&&j[L]&&(V=!0),V&&(w&&(w+=" "),w+=L)}w.length||(w=null),h.attr("class",w)}}),K5(e,r)},ET=ht.each,$4=ht.trim,L4="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),H4={ftp:21,http:80,https:443,mailto:25},V4=["img","video"],Y5=function(e,r){return Ge(e)?!e:Ge(r)?!qe(V4,r):!0},Z5=function(e,r,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(r)?Y5(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)},Fh=function(){function e(r,a){r=$4(r),this.settings=a||{};var i=this.settings.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){c.source=r;return}var f=r.indexOf("//")===0;if(r.indexOf("/")===0&&!f&&(r=(i&&i.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){var h=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")r="//mce_host"+c.toAbsPath(h,r);else{var y=/([^#?]*)([#?]?.*)/.exec(r);r=(i&&i.protocol||"http")+"://mce_host"+c.toAbsPath(h,y[1])+y[2]}}r=r.replace(/@@/g,"(mce_at)");var w=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);ET(L4,function(R,L){var V=w[L];V&&(V=V.replace(/\(mce_at\)/g,"@@")),c[R]=V}),i&&(c.protocol||(c.protocol=i.protocol),c.userInfo||(c.userInfo=i.userInfo),!c.port&&c.host==="mce_host"&&(c.port=i.port),(!c.host||c.host==="mce_host")&&(c.host=i.host),c.source=""),f&&(c.protocol="")}return e.parseDataUri=function(r){var a,i=decodeURIComponent(r).split(","),c=/data:([^;]+)/.exec(i[0]);return c&&(a=c[1]),{type:a,data:i[1]}},e.isDomSafe=function(r,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var c=cc.decode(r).replace(/[\s\u0000-\u001F]+/g,"");try{c=decodeURIComponent(c)}catch{c=unescape(c)}return/((java|vb)script|mhtml):/i.test(c)?!1:!Z5(i,c,a)},e.getDocumentBaseUrl=function(r){var a;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?a=r.href:a=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(r){var a=/^(.*?)\/?(\w+)?$/.exec(r);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(r){var a;if(r==="./")return r;var i=new e(r,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var c=this.getURI(),f=i.getURI();return c===f||c.charAt(c.length-1)==="/"&&c.substr(0,c.length-1)===f?c:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(r,a){var i=new e(r,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;var a=H4[this.protocol];if(a&&(this.port||a)==(r.port||a))return!0}return!1},e.prototype.toRelPath=function(r,a){var i=0,c="",f,h,y=r.substring(0,r.lastIndexOf("/")).split("/"),w=a.split("/");if(y.length>=w.length){for(f=0,h=y.length;f<h;f++)if(f>=w.length||y[f]!==w[f]){i=f+1;break}}if(y.length<w.length){for(f=0,h=w.length;f<h;f++)if(f>=y.length||y[f]!==w[f]){i=f+1;break}}if(i===1)return a;for(f=0,h=y.length-(i-1);f<h;f++)c+="../";for(f=i-1,h=w.length;f<h;f++)f!==i-1?c+="/"+w[f]:c+=w[f];return c},e.prototype.toAbsPath=function(r,a){var i,c=0,f=[],h,y=/\/$/.test(a)?"/":"",w=r.split("/"),R=a.split("/");for(ET(w,function(L){L&&f.push(L)}),w=f,i=R.length-1,f=[];i>=0;i--)if(!(R[i].length===0||R[i]===".")){if(R[i]===".."){c++;continue}if(c>0){c--;continue}f.push(R[i])}return i=w.length-c,i<=0?h=Yn(f).join("/"):h=w.slice(0,i).join("/")+"/"+Yn(f).join("/"),h.indexOf("/")!==0&&(h="/"+h),y&&h.lastIndexOf("/")!==h.length-1&&(h+=y),h},e.prototype.getURI=function(r){r===void 0&&(r=!1);var a;return(!this.source||r)&&(a="",r||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),J5=ht.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),zT=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},vw=vi(function(){return document.implementation.createHTMLDocument("parser")}),G3=function(e,r,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,c=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getShortEndedElements(),h=1,y=a;h!==0;)for(i.lastIndex=y;;){var w=i.exec(r);if(w===null)return y;if(w[1]==="!"){Gt(w[2],"--")?y=c_(r,!1,w.index+3):y=c_(r,!0,w.index+1);break}else{c.lastIndex=i.lastIndex;var R=c.exec(r);if(ue(R)||R.index!==i.lastIndex)continue;w[1]==="/"?h-=1:Sn(f,w[2])||(h+=1),y=i.lastIndex+R[0].length;break}}return y},U4=function(e,r){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(r))},c_=function(e,r,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&U4(i,a)){var c=i.indexOf("[endif]",a);return i.indexOf(">",c)}else if(r){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var h=/--!?>/g;h.lastIndex=a;var y=h.exec(e);return y?y.index+y[0].length:i.length}},Q5=function(e,r){var a=e.exec(r);if(a){var i=a[1],c=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?c:null}else return null},AT=function(e,r){r===void 0&&(r=lc()),e=e||{};var a=vw(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var c=e.comment?e.comment:U,f=e.cdata?e.cdata:U,h=e.text?e.text:U,y=e.start?e.start:U,w=e.end?e.end:U,R=e.pi?e.pi:U,L=e.doctype?e.doctype:U,V=function(re,ae){ae===void 0&&(ae="html");for(var ie=re.html,se,we=0,he,Ze,Ve=[],Ee,nt,Tt,Kt,nn,Cr,At,qr,Jt,wr,Qt,hr,Or,Vt,Er,ea,Pa,Ma=0,wu=cc.decode,Go=ht.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Ds=ae==="html"?0:1,Hc=function(Fa){var ko,nu;for(ko=Ve.length;ko--&&Ve[ko].name!==Fa;);if(ko>=0){for(nu=Ve.length-1;nu>=ko;nu--)Fa=Ve[nu],Fa.valid&&w(Fa.name);Ve.length=ko}},Ut=function(Fa,ko){return h(ST(Fa,re),ko)},ur=function(Fa){Fa!==""&&(Fa.charAt(0)===">"&&(Fa=" "+Fa),!e.allow_conditional_comments&&Fa.substr(0,3).toLowerCase()==="[if"&&(Fa=" "+Fa),c(ST(Fa,re)))},Gr=function(Fa){return ST(Fa,re)},ot=function(Fa,ko){var nu=Fa||"",ld=!Gt(nu,"--"),fd=c_(ie,ld,ko);return Fa=ie.substr(ko,fd-ko),ur(ld?nu+Fa:Fa),fd+1},Yt=function(Fa,ko,nu,ld,fd){if(ko=ko.toLowerCase(),nu=Gr(ko in ru?ko:wu(nu||ld||fd||"")),ji&&!nn&&zT(ko)===!1){var dd=Qt[ko];if(!dd&&hr){for(var Qh=hr.length;Qh--&&(dd=hr[Qh],!dd.pattern.test(ko)););Qh===-1&&(dd=null)}if(!dd||dd.validValues&&!(nu in dd.validValues))return}var hz=ko==="name"||ko==="id";hz&&Fa in J5&&(nu in a||nu in i)||Go[ko]&&!Fh.isDomSafe(nu,Fa,e)||nn&&(ko in Go||ko.indexOf("on")===0)||(Ee.map[ko]=nu,Ee.push({name:ko,value:nu}))},qt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Yr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,rn=r.getShortEndedElements(),so=e.self_closing_elements||r.getSelfClosingElements(),ru=r.getBoolAttrs(),ji=e.validate,ms=e.remove_internals,hs=e.fix_self_closing,Zs=r.getSpecialElements(),Wi=ie+">";se=qt.exec(Wi);){var fl=se[0];if(we<se.index&&Ut(wu(ie.substr(we,se.index-we))),he=se[7])he=he.toLowerCase(),he.charAt(0)===":"&&(he=he.substr(1)),Hc(he);else if(he=se[8]){if(se.index+fl.length>ie.length){Ut(wu(ie.substr(se.index))),we=se.index+fl.length;continue}he=he.toLowerCase(),he.charAt(0)===":"&&(he=he.substr(1)),Cr=he in rn,hs&&so[he]&&Ve.length>0&&Ve[Ve.length-1].name===he&&Hc(he);var Js=Q5(Yr,se[9]);if(Js!==null){if(Js==="all"){we=G3(r,ie,qt.lastIndex),qt.lastIndex=we;continue}qr=!1}if(!ji||(At=r.getElementRule(he))){if(qr=!0,ji&&(Qt=At.attributes,hr=At.attributePatterns),(wr=se[9])?(nn=wr.indexOf("data-mce-type")!==-1,nn&&ms&&(qr=!1),Ee=[],Ee.map={},wr.replace(Yr,function(Fa,ko,nu,ld,fd){return Yt(he,ko,nu,ld,fd),""})):(Ee=[],Ee.map={}),ji&&!nn){if(Or=At.attributesRequired,Vt=At.attributesDefault,Er=At.attributesForced,ea=At.removeEmptyAttrs,ea&&!Ee.length&&(qr=!1),Er)for(nt=Er.length;nt--;)Jt=Er[nt],Kt=Jt.name,Pa=Jt.value,Pa==="{$uid}"&&(Pa="mce_"+Ma++),Ee.map[Kt]=Pa,Ee.push({name:Kt,value:Pa});if(Vt)for(nt=Vt.length;nt--;)Jt=Vt[nt],Kt=Jt.name,Kt in Ee.map||(Pa=Jt.value,Pa==="{$uid}"&&(Pa="mce_"+Ma++),Ee.map[Kt]=Pa,Ee.push({name:Kt,value:Pa}));if(Or){for(nt=Or.length;nt--&&!(Or[nt]in Ee.map););nt===-1&&(qr=!1)}if(Jt=Ee.map["data-mce-bogus"]){if(Jt==="all"){we=G3(r,ie,qt.lastIndex),qt.lastIndex=we;continue}qr=!1}}qr&&y(he,Ee,Cr)}else qr=!1;if(Ze=Zs[he]){Ze.lastIndex=we=se.index+fl.length,(se=Ze.exec(ie))?(qr&&(Tt=ie.substr(we,se.index-we)),we=se.index+se[0].length):(Tt=ie.substr(we),we=ie.length),qr&&(Tt.length>0&&Ut(Tt,!0),w(he)),qt.lastIndex=we;continue}Cr||(!wr||wr.indexOf("/")!==wr.length-1?Ve.push({name:he,valid:qr}):qr&&w(he))}else if(he=se[1])ur(he);else if(he=se[2]){var iv=Ds===1||e.preserve_cdata||Ve.length>0&&r.isValidChild(Ve[Ve.length-1].name,"#cdata");if(iv)f(he);else{we=ot("",se.index+2),qt.lastIndex=we;continue}}else if(he=se[3])L(he);else if((he=se[4])||fl==="<!"){we=ot(he,se.index+fl.length),qt.lastIndex=we;continue}else if(he=se[5])if(Ds===1)R(he,se[6]);else{we=ot("?",se.index+2),qt.lastIndex=we;continue}we=se.index+fl.length}for(we<ie.length&&Ut(wu(ie.substr(we))),nt=Ve.length-1;nt>=0;nt--)he=Ve[nt],he.valid&&w(he.name)},j=function(re,ae){ae===void 0&&(ae="html"),V(j5(re),ae)};return{parse:j}};AT.findEndTag=G3;var um=ht.makeMap,K3=ht.each,OT=ht.explode,mw=ht.extend,X3=function(e,r){r===void 0&&(r=lc());var a={},i=[],c={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var h=function(ae){for(var ie=um("tr,td,th,tbody,thead,tfoot,table"),se=r.getNonEmptyElements(),we=r.getWhiteSpaceElements(),he=r.getTextBlockElements(),Ze=r.getSpecialElements(),Ve=function(hr,Or){if(Or===void 0&&(Or=hr.parent),Ze[hr.name])hr.empty().remove();else{for(var Vt=hr.children(),Er=0,ea=Vt;Er<ea.length;Er++){var Pa=ea[Er];r.isValidChild(Or.name,Pa.name)||Ve(Pa,Or)}hr.unwrap()}},Ee=0;Ee<ae.length;Ee++){var nt=ae[Ee],Tt=void 0,Kt=void 0,nn=void 0;if(!(!nt.parent||nt.fixed)){if(he[nt.name]&&nt.parent.name==="li"){for(var Cr=nt.next;Cr&&he[Cr.name];){Cr.name="li",Cr.fixed=!0,nt.parent.insert(Cr,nt.parent);Cr=Cr.next}nt.unwrap();continue}var At=[nt];for(Tt=nt.parent;Tt&&!r.isValidChild(Tt.name,nt.name)&&!ie[Tt.name];Tt=Tt.parent)At.push(Tt);if(Tt&&At.length>1)if(r.isValidChild(Tt.name,nt.name)){At.reverse(),Kt=y(At[0].clone());for(var qr=Kt,Jt=0;Jt<At.length-1;Jt++){r.isValidChild(qr.name,At[Jt].name)?(nn=y(At[Jt].clone()),qr.append(nn)):nn=qr;for(var wr=At[Jt].firstChild;wr&&wr!==At[Jt+1];){var Qt=wr.next;nn.append(wr),wr=Qt}qr=nn}s_(r,se,we,Kt)?Tt.insert(nt,At[0],!0):(Tt.insert(Kt,At[0],!0),Tt.insert(nt,Kt)),Tt=At[0],(s_(r,se,we,Tt)||P4(Tt,"br"))&&Tt.empty().remove()}else Ve(nt);else if(nt.parent){if(nt.name==="li"){var Cr=nt.prev;if(Cr&&(Cr.name==="ul"||Cr.name==="ol")){Cr.append(nt);continue}if(Cr=nt.next,Cr&&(Cr.name==="ul"||Cr.name==="ol")){Cr.insert(nt,Cr.firstChild,!0);continue}nt.wrap(y(new Nc("ul",1)));continue}r.isValidChild(nt.parent.name,"div")&&r.isValidChild("div",nt.name)?nt.wrap(y(new Nc("div",1))):Ve(nt)}}}},y=function(ae){var ie=ae.name;if(ie in a){var se=c[ie];se?se.push(ae):c[ie]=[ae]}for(var we=i.length;we--;){var he=i[we].name;if(he in ae.attributes.map){var se=f[he];se?se.push(ae):f[he]=[ae]}}return ae},w=function(ae,ie){K3(OT(ae),function(se){var we=a[se];we||(a[se]=we=[]),we.push(ie)})},R=function(){var ae=[];for(var ie in a)Sn(a,ie)&&ae.push({name:ie,callbacks:a[ie]});return ae},L=function(ae,ie){K3(OT(ae),function(se){var we;for(we=0;we<i.length;we++)if(i[we].name===se){i[we].callbacks.push(ie);return}i.push({name:se,callbacks:[ie]})})},V=function(){return[].concat(i)},j=function(ae,ie){var se,we,he,Ze,Ve,Ee,nt,Tt=[],Kt,nn=function(ot){return ot===!1?"":ot===!0?"p":ot};ie=ie||{},c={},f={};var Cr=mw(um("script,style,head,html,body,title,meta,param"),r.getBlockElements()),At=ay(r),qr=r.getNonEmptyElements(),Jt=r.children,wr=e.validate,Qt="forced_root_block"in ie?ie.forced_root_block:e.forced_root_block,hr=nn(Qt),Or=r.getWhiteSpaceElements(),Vt=/^[ \t\r\n]+/,Er=/[ \t\r\n]+$/,ea=/[ \t\r\n]+/g,Pa=/^[ \t\r\n]+$/,Ma=Sn(Or,ie.context)||Sn(Or,e.root_name),wu=function(){var ot=Gr.firstChild,Yt=null,qt=function(rn){rn&&(ot=rn.firstChild,ot&&ot.type===3&&(ot.value=ot.value.replace(Vt,"")),ot=rn.lastChild,ot&&ot.type===3&&(ot.value=ot.value.replace(Er,"")))};if(r.isValidChild(Gr.name,hr.toLowerCase())){for(;ot;){var Yr=ot.next;ot.type===3||ot.type===1&&ot.name!=="p"&&!Cr[ot.name]&&!ot.attr("data-mce-type")?(Yt||(Yt=Go(hr,1),Yt.attr(e.forced_root_block_attrs),Gr.insert(Yt,ot)),Yt.append(ot)):(qt(Yt),Yt=null),ot=Yr}qt(Yt)}},Go=function(ot,Yt){var qt=new Nc(ot,Yt),Yr;return ot in a&&(Yr=c[ot],Yr?Yr.push(qt):c[ot]=[qt]),qt},Ds=function(ot){for(var Yt=r.getBlockElements(),qt=ot.prev;qt&&qt.type===3;){var Yr=qt.value.replace(Er,"");if(Yr.length>0){qt.value=Yr;return}var rn=qt.next;if(rn){if(rn.type===3&&rn.value.length){qt=qt.prev;continue}if(!Yt[rn.name]&&rn.name!=="script"&&rn.name!=="style"){qt=qt.prev;continue}}var so=qt.prev;qt.remove(),qt=so}},Hc=function(ot){var Yt={};for(var qt in ot)qt!=="li"&&qt!=="p"&&(Yt[qt]=ot[qt]);return Yt},Ut=function(ot){for(var Yt=ot;Ge(Yt);){if(Yt.name in At)return s_(r,qr,Or,Yt);Yt=Yt.parent}return!1},ur=AT({validate:wr,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Hc(r.getSelfClosingElements()),cdata:function(ot){Kt.append(Go("#cdata",4)).value=ot},text:function(ot,Yt){var qt;Ma||(ot=ot.replace(ea," "),q5(Kt.lastChild,Cr)&&(ot=ot.replace(Vt,""))),ot.length!==0&&(qt=Go("#text",3),qt.raw=!!Yt,Kt.append(qt).value=ot)},comment:function(ot){Kt.append(Go("#comment",8)).value=ot},pi:function(ot,Yt){Kt.append(Go(ot,7)).value=Yt,Ds(Kt)},doctype:function(ot){var Yt=Kt.append(Go("#doctype",10));Yt.value=ot,Ds(Kt)},start:function(ot,Yt,qt){var Yr=wr?r.getElementRule(ot):{};if(Yr){var rn=Go(Yr.outputName||ot,1);rn.attributes=Yt,rn.shortEnded=qt,Kt.append(rn);var so=Jt[Kt.name];so&&Jt[rn.name]&&!so[rn.name]&&Tt.push(rn);for(var ru=i.length;ru--;){var ji=i[ru].name;ji in Yt.map&&(Ee=f[ji],Ee?Ee.push(rn):f[ji]=[rn])}Cr[ot]&&Ds(rn),qt||(Kt=rn),!Ma&&Or[ot]&&(Ma=!0)}},end:function(ot){var Yt,qt,Yr,rn=wr?r.getElementRule(ot):{};if(rn){if(Cr[ot]&&!Ma){if(Yt=Kt.firstChild,Yt&&Yt.type===3)if(qt=Yt.value.replace(Vt,""),qt.length>0)Yt.value=qt,Yt=Yt.next;else for(Yr=Yt.next,Yt.remove(),Yt=Yr;Yt&&Yt.type===3;)qt=Yt.value,Yr=Yt.next,(qt.length===0||Pa.test(qt))&&(Yt.remove(),Yt=Yr),Yt=Yr;if(Yt=Kt.lastChild,Yt&&Yt.type===3)if(qt=Yt.value.replace(Er,""),qt.length>0)Yt.value=qt,Yt=Yt.prev;else for(Yr=Yt.prev,Yt.remove(),Yt=Yr;Yt&&Yt.type===3;)qt=Yt.value,Yr=Yt.prev,(qt.length===0||Pa.test(qt))&&(Yt.remove(),Yt=Yr),Yt=Yr}Ma&&Or[ot]&&(Ma=!1);var so=s_(r,qr,Or,Kt),ru=Kt.parent;rn.paddInEmptyBlock&&so&&Ut(Kt)?TT(e,ie,Cr,Kt):rn.removeEmpty&&so?Cr[Kt.name]?Kt.empty().remove():Kt.unwrap():rn.paddEmpty&&(N4(Kt)||so)&&TT(e,ie,Cr,Kt),Kt=ru}}},r),Gr=Kt=new Nc(ie.context||e.root_name,11);if(ur.parse(ae,ie.format),wr&&Tt.length&&(ie.context?ie.invalid=!0:h(Tt)),hr&&(Gr.name==="body"||ie.isRootContent)&&wu(),!ie.invalid){for(nt in c)if(Sn(c,nt)){for(Ee=a[nt],se=c[nt],Ze=se.length;Ze--;)se[Ze].parent||se.splice(Ze,1);for(we=0,he=Ee.length;we<he;we++)Ee[we](se,nt,ie)}for(we=0,he=i.length;we<he;we++)if(Ee=i[we],Ee.name in f){for(se=f[Ee.name],Ze=se.length;Ze--;)se[Ze].parent||se.splice(Ze,1);for(Ze=0,Ve=Ee.callbacks.length;Ze<Ve;Ze++)Ee.callbacks[Ze](se,Ee.name,ie)}}return Gr},re={schema:r,addAttributeFilter:L,getAttributeFilters:V,addNodeFilter:w,getNodeFilters:R,filterNode:y,parse:j};return X5(re,e),i_(re,e),re},j4=function(e,r,a){e.addAttributeFilter("data-mce-tabindex",function(i,c){for(var f=i.length;f--;){var h=i[f];h.attr("tabindex",h.attr("data-mce-tabindex")),h.attr(c,null)}}),e.addAttributeFilter("src,href,style",function(i,c){for(var f="data-mce-"+c,h=r.url_converter,y=r.url_converter_scope,w=i.length;w--;){var R=i[w],L=R.attr(f);L!==void 0?(R.attr(c,L.length>0?L:null),R.attr(f,null)):(L=R.attr(c),c==="style"?L=a.serializeStyle(a.parseStyle(L),R.name):h&&(L=h.call(y,L,c,R.name)),R.attr(c,L.length>0?L:null))}}),e.addAttributeFilter("class",function(i){for(var c=i.length;c--;){var f=i[c],h=f.attr("class");h&&(h=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",h.length>0?h:null))}}),e.addAttributeFilter("data-mce-type",function(i,c,f){for(var h=i.length;h--;){var y=i[h];if(y.attr("data-mce-type")==="bookmark"&&!f.cleanup){var w=oe.from(y.firstChild).exists(function(R){return!rs(R.value)});w?y.unwrap():y.remove()}}}),e.addNodeFilter("noscript",function(i){for(var c=i.length;c--;){var f=i[c].firstChild;f&&(f.value=cc.decode(f.value))}}),e.addNodeFilter("script,style",function(i,c){for(var f=function(L){return L.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},h=i.length;h--;){var y=i[h],w=y.firstChild?y.firstChild.value:"";if(c==="script"){var R=y.attr("type");R&&y.attr("type",R==="mce-no/type"?null:R.replace(/^mce\-/,"")),r.element_format==="xhtml"&&w.length>0&&(y.firstChild.value=`// <![CDATA[
`+f(w)+`
// ]]>`)}else r.element_format==="xhtml"&&w.length>0&&(y.firstChild.value=`<!--
`+f(w)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var c=i.length;c--;){var f=i[c];r.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,c){for(var f=i.length;f--;){var h=i[f];h.type===7?h.remove():h.type===1&&c==="input"&&!h.attr("type")&&h.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){je(i,function(c){c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(e.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,c){for(var f=i.length;f--;)i[f].attr(c,null)})},W4=function(e){var r=function(c){return c&&c.name==="br"},a=e.lastChild;if(r(a)){var i=a.prev;r(i)&&(a.remove(),i.remove())}},q4=function(e,r,a){var i,c=e.dom,f=r.cloneNode(!0),h=document.implementation;if(h.createHTMLDocument){var y=h.createHTMLDocument("");ht.each(f.nodeName==="BODY"?f.childNodes:[f],function(w){y.body.appendChild(y.importNode(w,!0))}),f.nodeName!=="BODY"?f=y.body.firstChild:f=y.body,i=c.doc,c.doc=y}return jS(e,$r($r({},a),{node:f})),i&&(c.doc=i),f},eM=function(e,r){return e&&e.hasEventListeners("PreProcess")&&!r.no_events},tM=function(e,r,a){return eM(e,a)?q4(e,r,a):r},rM=function(e,r,a){ht.inArray(r,a)===-1&&(e.addAttributeFilter(a,function(i,c){for(var f=i.length;f--;)i[f].attr(c,null)}),r.push(a))},RT=function(e,r,a){if(!r.no_events&&e){var i=b0(e,$r($r({},r),{content:a}));return i.content}else return a},nM=function(e,r,a){var i=Cs(a.getInner?r.innerHTML:e.getOuterHTML(r));return a.selection||dv(x.fromDom(r))?i:ht.trim(i)},aM=function(e,r,a){var i=a.selection?$r({forced_root_block:!1},a):a,c=e.parse(r,i);return W4(c),c},hw=function(e,r,a){var i=Qv(e,r);return i.serialize(a)},DT=function(e,r,a,i,c){var f=hw(r,a,i);return RT(e,c,f)},oM=function(e,r){var a=["data-mce-selected"],i=r&&r.dom?r.dom:ho.DOM,c=r&&r.schema?r.schema:lc(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=X3(e,c);j4(f,e,i);var h=function(y,w){w===void 0&&(w={});var R=$r({format:"html"},w),L=tM(r,y,R),V=nM(i,L,R),j=aM(f,V,R);return R.format==="tree"?j:DT(r,e,c,j,R)};return{schema:c,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:h,addRules:c.addValidElements,setRules:c.setValidElements,addTempAttr:St(rM,f,a),getTempAttrs:X(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},MT=function(e,r){var a=oM(e,r);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},iM="html",Y3=function(e,r){r===void 0&&(r={});var a=r.format?r.format:iM;return A5(e,r,a)},Z3=function(e,r,a){return a===void 0&&(a={}),O5(e,r,a)},J3=ho.DOM,tu=function(e){J3.setStyle(e.id,"display",e.orgDisplay)},Q3=function(e){return oe.from(e).each(function(r){return r.destroy()})},G4=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},uM=function(e){var r=e.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),J3.unbind(r,"submit reset",e.formEventDelegate))},sM=function(e){if(!e.removed){var r=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),c=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&c&&J3.remove(c.nextSibling),c2(e),e.editorManager.remove(e),!e.inline&&i&&tu(e),l2(e),J3.remove(e.getContainer()),Q3(r),Q3(a),e.destroy()}},K4=function(e,r){var a=e.selection,i=e.dom;if(!e.destroyed){if(!r&&!e.removed){e.remove();return}r||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Q3(a),Q3(i)),uM(e),G4(e),e.destroyed=!0}},cM=function(e,r){var a=Y(e)&&Y(r);return a?X4(e,r):r},BT=function(e){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(r.length===0)throw new Error("Can't merge zero objects");for(var i={},c=0;c<r.length;c++){var f=r[c];for(var h in f)Sn(f,h)&&(i[h]=e(i[h],f[h]))}return i}},X4=BT(cM),Y4="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),NT="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),lM="imagetools,toc".split(","),fM=function(e){var r=Xt(Y4,function(i){return Sn(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&r.push("forced_root_block (false only)"),Zn(r)},dM=function(e){var r=ht.makeMap(e.plugins," "),a=function(c){return Sn(r,c)},i=ei(ei([],Xt(NT,a),!0),wn(lM,function(c){return a(c)?[c+" (moving to premium)"]:[]}),!0);return Zn(i)},vM=function(e,r){var a=fM(e),i=dM(r),c=i.length>0,f=a.length>0,h=r.theme==="mobile";if(c||f||h){var y=`
- `,w=h?`

Themes:`+y+"mobile":"",R=c?`

Plugins:`+y+i.join(y):"",L=f?`

Settings:`+y+a.join(y):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+w+R+L)}},mM=function(e,r){return{sections:X(e),settings:X(r)}},eC=br().deviceType,Z4=eC.isTouch(),tC=eC.isPhone(),J4=eC.isTablet(),Q4=["lists","autolink","autosave"],PT={table_grid:!1,object_resizing:!1,resize:!1},l_=function(e){var r=De(e)?e.join(" "):e,a=Pe(_e(r)?r.split(" "):[],kr);return Xt(a,function(i){return i.length>0})},eA=function(e){return Xt(e,St(qe,Q4))},tA=function(e,r){var a=dr(r,function(i,c){return qe(e,c)});return mM(a.t,a.f)},hM=function(e,r,a){a===void 0&&(a={});var i=e.sections(),c=Kn(i,r).getOr({});return ht.extend({},a,c)},f_=function(e,r){return Sn(e.sections(),r)},pM=function(e,r,a){var i=e.sections();return f_(e,r)&&i[r].theme===a},rC=function(e,r){return f_(e,r)?e.sections()[r]:{}},rA=function(e,r){return Kn(e,"toolbar_mode").orThunk(function(){return Kn(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(r)},gM=function(e,r,a,i,c){var f={id:r,theme:"silver",toolbar_mode:rA(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c};return $r($r({},f),i?PT:{})},yM=function(e,r){var a={resize:!1,toolbar_mode:rA(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return $r($r($r({},PT),a),r?i:{})},nA=function(e,r){var a=r.external_plugins?r.external_plugins:{};return e&&e.external_plugins?ht.extend({},e.external_plugins,a):a},aA=function(e,r){return[].concat(l_(e)).concat(l_(r))},bM=function(e,r,a,i){return e&&pM(r,"mobile","mobile")?eA(i):e&&f_(r,"mobile")?i:a},_M=function(e,r,a,i){var c=l_(a.forced_plugins),f=l_(i.plugins),h=rC(r,"mobile"),y=h.plugins?l_(h.plugins):f,w=bM(e,r,f,y),R=aA(c,w);if(Zt.browser.isIE()&&qe(R,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return ht.extend(i,{plugins:R.join(" ")})},wM=function(e,r){return e&&f_(r,"mobile")},kM=function(e,r,a,i,c){var f=e?{mobile:yM(c.mobile||{},r)}:{},h=tA(["mobile"],X4(f,c)),y=ht.extend(a,i,h.settings(),wM(e,h)?hM(h,"mobile"):{},{validate:!0,external_plugins:nA(i,h.settings())});return _M(e,h,i,y)},oA=function(e,r,a,i,c){var f=gM(c,r,a,Z4,e),h=kM(tC||J4,tC,f,i,c);return h.deprecation_warnings!==!1&&vM(c,h),h},Sg=function(e,r,a){return oe.from(r.settings[a]).filter(e)},CM=function(e){var r={};return typeof e=="string"?je(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?r[ht.trim(i[0])]=ht.trim(i[1]):r[ht.trim(i[0])]=ht.trim(i[0])}):r=e,r},xM=function(e){return function(r){return De(r)&&Gn(r,e)}},SM=function(e,r,a,i){var c=r in e.settings?e.settings[r]:a;return i==="hash"?CM(c):i==="string"?Sg(_e,e,r).getOr(a):i==="number"?Sg(Ue,e,r).getOr(a):i==="boolean"?Sg(Je,e,r).getOr(a):i==="object"?Sg(Y,e,r).getOr(a):i==="array"?Sg(De,e,r).getOr(a):i==="string[]"?Sg(xM(_e),e,r).getOr(a):i==="function"?Sg(ce,e,r).getOr(a):c},TM=function(){var e={},r=function(c,f){e[c]=f},a=function(c){return e[c]?e[c]:{icons:{}}},i=function(c){return Sn(e,c)};return{add:r,get:a,has:i}},nC=TM(),iA=function(e,r){var a=r.dom;return a[e]},uA=function(e,r){return parseInt(Un(r,e),10)},sA=St(iA,"clientWidth"),EM=St(iA,"clientHeight"),zM=St(uA,"margin-top"),AM=St(uA,"margin-left"),OM=function(e){return e.dom.getBoundingClientRect()},RM=function(e,r,a){var i=sA(e),c=EM(e);return r>=0&&a>=0&&r<=i&&a<=c},pw=function(e,r,a,i){var c=OM(r),f=e?c.left+r.dom.clientLeft+AM(r):0,h=e?c.top+r.dom.clientTop+zM(r):0,y=a-f,w=i-h;return{x:y,y:w}},cA=function(e,r,a){var i=x.fromDom(e.getBody()),c=e.inline?i:Is(i),f=pw(e.inline,c,r,a);return RM(c,f.x,f.y)},DM=function(e){return oe.from(e).map(x.fromDom)},lA=function(e){var r=e.inline?e.getBody():e.getContentAreaContainer();return DM(r).map(Rf).getOr(!1)},fA=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},dA=function(e){var r=[],a=function(){var j=e.theme;return j&&j.getNotificationManagerImpl?j.getNotificationManagerImpl():fA()},i=function(){return oe.from(r[0])},c=function(j,re){return j.type===re.type&&j.text===re.text&&!j.progressBar&&!j.timeout&&!re.progressBar&&!re.timeout},f=function(){r.length>0&&a().reposition(r)},h=function(j){r.push(j)},y=function(j){Rr(r,function(re){return re===j}).each(function(re){r.splice(re,1)})},w=function(j,re){if(re===void 0&&(re=!0),!(e.removed||!lA(e)))return re&&e.fire("BeforeOpenNotification",{notification:j}),nr(r,function(ae){return c(a().getArgs(ae),j)}).getOrThunk(function(){e.editorManager.setActive(e);var ae=a().open(j,function(){y(ae),f(),i().fold(function(){return e.focus()},function(ie){return Cb(x.fromDom(ie.getEl()))})});return h(ae),f(),e.fire("OpenNotification",{notification:$r({},ae)}),ae})},R=function(){i().each(function(j){a().close(j),y(j),f()})},L=X(r),V=function(j){j.on("SkinLoaded",function(){var re=Pk(j);re&&w({text:re,type:"warning",timeout:0},!1),f()}),j.on("show ResizeEditor ResizeWindow NodeChange",function(){Au.requestAnimationFrame(f)}),j.on("remove",function(){je(r.slice(),function(re){a().close(re)})})};return V(e),{open:w,close:R,getNotifications:L}},ad=Ss.PluginManager,Ih=Ss.ThemeManager;function gw(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var FT=function(e){var r=[],a=function(){var ie=e.theme;return ie&&ie.getWindowManagerImpl?ie.getWindowManagerImpl():gw()},i=function(ie,se){return function(){for(var we=[],he=0;he<arguments.length;he++)we[he]=arguments[he];return se?se.apply(ie,we):void 0}},c=function(ie){e.fire("OpenWindow",{dialog:ie})},f=function(ie){e.fire("CloseWindow",{dialog:ie})},h=function(ie){r.push(ie),c(ie)},y=function(ie){f(ie),r=Xt(r,function(se){return se!==ie}),r.length===0&&e.focus()},w=function(){return oe.from(r[r.length-1])},R=function(ie){e.editorManager.setActive(e),Sb(e);var se=ie();return h(se),se},L=function(ie,se){return R(function(){return a().open(ie,se,y)})},V=function(ie){return R(function(){return a().openUrl(ie,y)})},j=function(ie,se,we){var he=a();he.alert(ie,i(we||he,se))},re=function(ie,se,we){var he=a();he.confirm(ie,i(we||he,se))},ae=function(){w().each(function(ie){a().close(ie),y(ie)})};return e.on("remove",function(){je(r,function(ie){a().close(ie)})}),{open:L,openUrl:V,alert:j,confirm:re,close:ae}},IT=function(e,r){e.notificationManager.open({type:"error",text:r})},aC=function(e,r){e._skinLoaded?IT(e,r):e.on("SkinLoaded",function(){IT(e,r)})},vA=function(e,r){aC(e,is.translate(["Failed to upload image: {0}",r]))},$T=function(e,r,a){yb(e,r,{message:a}),console.error(a)},LT=function(e,r,a){return a?"Failed to load "+e+": "+a+" from url "+r:"Failed to load "+e+" url: "+r},HT=function(e,r,a){$T(e,"PluginLoadError",LT("plugin",r,a))},mA=function(e,r,a){$T(e,"IconsLoadError",LT("icons",r,a))},MM=function(e,r,a){$T(e,"LanguageLoadError",LT("language",r,a))},BM=function(e,r,a){var i=is.translate(["Failed to initialize plugin: {0}",r]);yb(e,"PluginLoadError",{message:i}),oC(i,a),aC(e,i)},oC=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,ei([e],r,!1)):i.log.apply(i,ei([e],r,!1)))},hA=function(e){return/^[a-z0-9\-]+$/i.test(e)},NM=function(e){return d_(e,Dk(e))},PM=function(e){return d_(e,Mk(e))},d_=function(e,r){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,c="content"+i+".css",f=e.inline===!0;return Pe(r,function(h){return hA(h)&&!f?a+"/"+h+"/"+c:e.documentBaseURI.toAbsolute(h)})},pA=function(e){e.contentCSS=e.contentCSS.concat(NM(e),PM(e))},VT=function(){var e=1,r=2,a={},i=function(j,re){return{status:j,resultUri:re}},c=function(j){return j in a},f=function(j){var re=a[j];return re?re.resultUri:null},h=function(j){return c(j)?a[j].status===e:!1},y=function(j){return c(j)?a[j].status===r:!1},w=function(j){a[j]=i(e,null)},R=function(j,re){a[j]=i(r,re)},L=function(j){delete a[j]},V=function(){a={}};return{hasBlobUri:c,getResultUri:f,isPending:h,isUploaded:y,markPending:w,markUploaded:R,removeFailed:L,destroy:V}},FM=0,IM=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},r=new Date().getTime();return"s"+r.toString(36)+e()+e()+e()},gA=function(e){return e+FM+++IM()},yA=function(){var e=[],r=function(V){var j={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return j[V.toLowerCase()]||"dat"},a=function(V,j,re,ae,ie){if(_e(V)){var se=V;return i({id:se,name:ae,filename:ie,blob:j,base64:re})}else{if(Y(V))return i(V);throw new Error("Unknown input type")}},i=function(V){if(!V.blob||!V.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var j=V.id||gA("blobid"),re=V.name||j,ae=V.blob;return{id:X(j),name:X(re),filename:X(V.filename||re+"."+r(ae.type)),blob:X(ae),base64:X(V.base64),blobUri:X(V.blobUri||URL.createObjectURL(ae)),uri:X(V.uri)}},c=function(V){h(V.id())||e.push(V)},f=function(V){return nr(e,V).getOrUndefined()},h=function(V){return f(function(j){return j.id()===V})},y=function(V){return f(function(j){return j.blobUri()===V})},w=function(V,j){return f(function(re){return re.base64()===V&&re.blob().type===j})},R=function(V){e=Xt(e,function(j){return j.blobUri()===V?(URL.revokeObjectURL(j.blobUri()),!1):!0})},L=function(){je(e,function(V){URL.revokeObjectURL(V.blobUri())}),e=[]};return{create:a,add:c,get:h,getByUri:y,getByData:w,findFirst:f,removeByUri:R,destroy:L}},$M=function(e,r){var a={},i=function(ae,ie){return ae?ae.replace(/\/$/,"")+"/"+ie.replace(/^\//,""):ie},c=function(ae,ie,se,we){var he=new XMLHttpRequest;he.open("POST",r.url),he.withCredentials=r.credentials,he.upload.onprogress=function(Ve){we(Ve.loaded/Ve.total*100)},he.onerror=function(){se("Image upload failed due to a XHR Transport error. Code: "+he.status)},he.onload=function(){if(he.status<200||he.status>=300){se("HTTP Error: "+he.status);return}var Ve=JSON.parse(he.responseText);if(!Ve||typeof Ve.location!="string"){se("Invalid JSON: "+he.responseText);return}ie(i(r.basePath,Ve.location))};var Ze=new FormData;Ze.append("file",ae.blob(),ae.filename()),he.send(Ze)},f=function(){return new Yi(function(ae){ae([])})},h=function(ae,ie){return{url:ie,blobInfo:ae,status:!0}},y=function(ae,ie,se){return{url:"",blobInfo:ae,status:!1,error:{message:ie,options:se}}},w=function(ae,ie){ht.each(a[ae],function(se){se(ie)}),delete a[ae]},R=function(ae,ie,se){return e.markPending(ae.blobUri()),new Yi(function(we){var he,Ze;try{var Ve=function(){he&&(he.close(),Ze=U)},Ee=function(Tt){Ve(),e.markUploaded(ae.blobUri(),Tt),w(ae.blobUri(),h(ae,Tt)),we(h(ae,Tt))},nt=function(Tt,Kt){var nn=Kt||{};Ve(),e.removeFailed(ae.blobUri()),w(ae.blobUri(),y(ae,Tt,nn)),we(y(ae,Tt,nn))};Ze=function(Tt){Tt<0||Tt>100||oe.from(he).orThunk(function(){return oe.from(se).map(O)}).each(function(Kt){he=Kt,Kt.progressBar.value(Tt)})},ie(ae,Ee,nt,Ze)}catch(Tt){we(y(ae,Tt.message,{}))}})},L=function(ae){return ae===c},V=function(ae){var ie=ae.blobUri();return new Yi(function(se){a[ie]=a[ie]||[],a[ie].push(se)})},j=function(ae,ie){return ae=ht.grep(ae,function(se){return!e.isUploaded(se.blobUri())}),Yi.all(ht.map(ae,function(se){return e.isPending(se.blobUri())?V(se):R(se,r.handler,ie)}))},re=function(ae,ie){return!r.url&&L(r.handler)?f():j(ae,ie)};return ce(r.handler)===!1&&(r.handler=c),{upload:re}},bA=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},_A=function(e,r){return $M(r,{url:sS(e),basePath:Id(e),credentials:$d(e),handler:cS(e)})},LM=function(e){var r=VT(),a=_A(e,r);return{upload:function(i,c){return c===void 0&&(c=!0),a.upload(i,c?bA(e):void 0)}}},HM=function(e){var r=os(null);e.on("change AddUndo",function(i){r.set($r({},i.level))});var a=function(){var i=e.undoManager.data;Rn(i).filter(function(c){return!I3(r.get(),c)}).each(function(c){e.setDirty(!0),e.fire("change",{level:c,lastLevel:In(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},ds=function(e){var r=yA(),a,i,c=VT(),f=[],h=HM(e),y=function(Ve){return function(Ee){return e.selection?Ve(Ee):[]}},w=function(Ve){return Ve+(Ve.indexOf("?")===-1?"?":"&")+new Date().getTime()},R=function(Ve,Ee,nt){var Tt=0;do Tt=Ve.indexOf(Ee,Tt),Tt!==-1&&(Ve=Ve.substring(0,Tt)+nt+Ve.substr(Tt+Ee.length),Tt+=nt.length-Ee.length+1);while(Tt!==-1);return Ve},L=function(Ve,Ee,nt){var Tt='src="'+nt+'"'+(nt===Zt.transparentSrc?' data-mce-placeholder="1"':"");return Ve=R(Ve,'src="'+Ee+'"',Tt),Ve=R(Ve,'data-mce-src="'+Ee+'"','data-mce-src="'+nt+'"'),Ve},V=function(Ve,Ee){je(e.undoManager.data,function(nt){nt.type==="fragmented"?nt.fragments=Pe(nt.fragments,function(Tt){return L(Tt,Ve,Ee)}):nt.content=L(nt.content,Ve,Ee)})},j=function(Ve,Ee){var nt=e.convertURL(Ee,"src");V(Ve.src,Ee),e.$(Ve).attr({src:F1(e)?w(Ee):Ee,"data-mce-src":nt})},re=function(Ve){return a||(a=_A(e,c)),we().then(y(function(Ee){var nt=Pe(Ee,function(Tt){return Tt.blobInfo});return a.upload(nt,bA(e)).then(y(function(Tt){var Kt=[],nn=Pe(Tt,function(Cr,At){var qr=Ee[At].blobInfo,Jt=Ee[At].image;return Cr.status&&uS(e)?(r.removeByUri(Jt.src),im(e)||j(Jt,Cr.url)):Cr.error&&(Cr.error.options.remove&&(V(Jt.getAttribute("src"),Zt.transparentSrc),Kt.push(Jt)),vA(e,Cr.error.message)),{element:Jt,status:Cr.status,uploadUri:Cr.url,blobInfo:qr}});return nn.length>0&&h.fireIfChanged(),Kt.length>0&&(im(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){je(Kt,function(Cr){e.dom.remove(Cr),r.removeByUri(Cr.src)})})),Ve&&Ve(nn),nn}))}))},ae=function(Ve){if(Ip(e))return re(Ve)},ie=function(Ve){if(Gn(f,function(nt){return nt(Ve)})===!1)return!1;if(Ve.getAttribute("src").indexOf("data:")===0){var Ee=jy(e);return Ee(Ve)}return!0},se=function(Ve){f.push(Ve)},we=function(){return i||(i=U5(c,r)),i.findAll(e.getBody(),ie).then(y(function(Ve){return Ve=Xt(Ve,function(Ee){return typeof Ee=="string"?(aC(e,Ee),!1):!0}),im(e)||je(Ve,function(Ee){V(Ee.image.src,Ee.blobInfo.blobUri()),Ee.image.src=Ee.blobInfo.blobUri(),Ee.image.removeAttribute("data-mce-src")}),Ve}))},he=function(){r.destroy(),c.destroy(),i=a=null},Ze=function(Ve){return Ve.replace(/src="(blob:[^"]+)"/g,function(Ee,nt){var Tt=c.getResultUri(nt);if(Tt)return'src="'+Tt+'"';var Kt=r.getByUri(nt);if(Kt||(Kt=ut(e.editorManager.get(),function(Cr,At){return Cr||At.editorUpload&&At.editorUpload.blobCache.getByUri(nt)},null)),Kt){var nn=Kt.blob();return'src="data:'+nn.type+";base64,"+Kt.base64()+'"'}return Ee})};return e.on("SetContent",function(){Ip(e)?ae():we()}),e.on("RawSaveContent",function(Ve){Ve.content=Ze(Ve.content)}),e.on("GetContent",function(Ve){Ve.source_view||Ve.format==="raw"||Ve.format==="tree"||(Ve.content=Ze(Ve.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(Ve){je(Ve,function(Ee){var nt=Ee.attr("src");if(!r.getByUri(nt)){var Tt=c.getResultUri(nt);Tt&&Ee.attr("src",Tt)}})})}),{blobCache:r,addFilter:se,uploadImages:re,uploadImagesAuto:ae,scanForImages:we,destroy:he}},wA=function(e){var r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,c){return pn(a)&&a.hasAttribute("href")},onformat:function(a,i,c){ht.each(c,function(f,h){e.setAttrib(a,h,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return ht.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){r[a]={block:a,remove:"all"}}),r},VM=function(e){var r={},a=function(h){return Ge(h)?r[h]:r},i=function(h){return Sn(r,h)},c=function(h,y){h&&(_e(h)?(De(y)||(y=[y]),je(y,function(w){ze(w.deep)&&(w.deep=!Gs(w)),ze(w.split)&&(w.split=!Gs(w)||gu(w)),ze(w.remove)&&Gs(w)&&!gu(w)&&(w.remove="none"),Gs(w)&&gu(w)&&(w.mixed=!0,w.block_expand=!0),_e(w.classes)&&(w.classes=w.classes.split(/\s+/))}),r[h]=y):xn(h,function(w,R){c(R,w)}))},f=function(h){return h&&r[h]&&delete r[h],r};return c(wA(e.dom)),c(fS(e)),{get:a,has:i,register:c,unregister:f}},iC=ht.each,Ys=ho.DOM,kA=function(e,r){var a,i,c,f=r&&r.schema||lc({}),h=function(L,V){V.classes.length&&Ys.addClass(L,V.classes.join(" ")),Ys.setAttribs(L,V.attrs)},y=function(L){i=typeof L=="string"?{name:L,classes:[],attrs:{}}:L;var V=Ys.create(i.name);return h(V,i),V},w=function(L,V){var j=typeof L!="string"?L.nodeName.toLowerCase():L,re=f.getElementRule(j),ae=re&&re.parentsRequired;return ae&&ae.length?V&&ht.inArray(ae,V)!==-1?V:ae[0]:!1},R=function(L,V,j){var re,ae,ie=V.length>0&&V[0],se=ie&&ie.name,we=w(L,se);if(we)se===we?(ae=V[0],V=V.slice(1)):ae=we;else if(ie)ae=V[0],V=V.slice(1);else if(!j)return L;return ae&&(re=y(ae),re.appendChild(L)),j&&(re||(re=Ys.create("div"),re.appendChild(L)),ht.each(j,function(he){var Ze=y(he);re.insertBefore(Ze,L)})),R(re,V,ae&&ae.siblings)};return e&&e.length?(i=e[0],a=y(i),c=Ys.create("div"),c.appendChild(R(a,e.slice(1),i.siblings)),c):""},Da=function(e){var r,a={classes:[],attrs:{}};return e=a.selector=ht.trim(e),e!=="*"&&(r=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,c,f,h,y){switch(c){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":ht.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(h==="["){var w=y.match(/([\w\-]+)(?:\=\"([^\"]+))?/);w&&(a.attrs[w[1]]=w[2])}return""})),a.name=r||"div",a},UM=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),ht.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(r){var a=ht.map(r.split(/(?:~\+|~|\+)/),Da),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},jM=function(e,r){var a,i,c="",f,h=Qm(e);if(h==="")return"";var y=function(V){return V.replace(/%(\w+)/g,"")};if(typeof r=="string"){if(r=e.formatter.get(r),!r)return;r=r[0]}if("preview"in r){var w=Kn(r,"preview");if(lv(w,!1))return"";h=w.getOr(h)}a=r.block||r.inline||"span";var R=UM(r.selector);R.length?(R[0].name||(R[0].name=a),a=r.selector,i=kA(R,e)):i=kA([a],e);var L=Ys.select(a,i)[0]||i.firstChild;return iC(r.styles,function(V,j){var re=y(V);re&&Ys.setStyle(L,j,re)}),iC(r.attributes,function(V,j){var re=y(V);re&&Ys.setAttrib(L,j,re)}),iC(r.classes,function(V){var j=y(V);Ys.hasClass(L,j)||Ys.addClass(L,j)}),e.fire("PreviewFormats"),Ys.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=Ys.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,iC(h.split(" "),function(V){var j=Ys.getStyle(L,V,!0);if(!(V==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(j)&&(j=Ys.getStyle(e.getBody(),V,!0),Ys.toHex(j).toLowerCase()==="#ffffff"))&&!(V==="color"&&Ys.toHex(j).toLowerCase()==="#000000")){if(V==="font-size"&&/em|%$/.test(j)){if(f===0)return;var re=parseFloat(j)/(/%$/.test(j)?100:1);j=re*f+"px"}V==="border"&&j&&(c+="padding:0 2px;"),c+=V+":"+j+";"}}),e.fire("AfterPreviewFormats"),Ys.remove(i),c},WM=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var r=1;r<=6;r++)e.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ai=function(e){var r=VM(e),a=os(null);return WM(e),z3(e),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:function(i,c,f){U3(e,i,c,f)},remove:function(i,c,f,h){T5(e,i,c,f,h)},toggle:function(i,c,f){E5(e,i,c,f)},match:function(i,c,f,h){return S5(e,i,c,f,h)},closest:function(i){return T4(e,i)},matchAll:function(i,c){return x4(e,i,c)},matchNode:function(i,c,f,h){return V3(e,i,c,f,h)},canApply:function(i){return S4(e,i)},formatChanged:function(i,c,f,h){return z5(e,a,i,c,f,h)},getCssText:St(jM,e)}},CA=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},yw=function(e,r,a){var i=os(!1),c=function(w){$3(r,!1,a),r.add({},w)};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(w){var R=w.command;CA(R)||(m4(r,a),r.beforeChange())}),e.on("ExecCommand",function(w){var R=w.command;CA(R)||c(w)}),e.on("ObjectResizeStart cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",c),e.on("dragend",c),e.on("keyup",function(w){var R=w.keyCode;w.isDefaultPrevented()||((R>=33&&R<=36||R>=37&&R<=40||R===45||w.ctrlKey)&&(c(),e.nodeChanged()),(R===46||R===8)&&e.nodeChanged(),i.get()&&r.typing&&I3(r_(e),r.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:r.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(w){var R=w.keyCode;if(!w.isDefaultPrevented()){if(R>=33&&R<=36||R>=37&&R<=40||R===45){r.typing&&c(w);return}var L=w.ctrlKey&&!w.altKey||w.metaKey;(R<16||R>20)&&R!==224&&R!==91&&!r.typing&&!L&&(r.beforeChange(),$3(r,!0,a),r.add({},w),i.set(!0))}}),e.on("mousedown",function(w){r.typing&&c(w)});var f=function(w){return w.inputType==="insertReplacementText"},h=function(w){return w.inputType==="insertText"&&w.data===null},y=function(w){return w.inputType==="insertFromPaste"||w.inputType==="insertFromDrop"};e.on("input",function(w){w.inputType&&(f(w)||h(w)||y(w))&&c(w)}),e.on("AddUndo Undo Redo ClearUndos",function(w){w.isDefaultPrevented()||e.nodeChanged()})},qM=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},xA=function(e){var r=Nd(),a=os(0),i=os(0),c={data:[],typing:!1,beforeChange:function(){wT(e,a,r)},add:function(f,h){return w4(e,c,i,a,r,f,h)},undo:function(){return H3(e,c,a,i)},redo:function(){return ul(e,i,c.data)},clear:function(){lw(e,c,i)},reset:function(){xg(e,c)},hasUndo:function(){return k5(e,c,i)},hasRedo:function(){return k4(e,c,i)},transact:function(f){return C4(e,c,a,f)},ignore:function(f){C5(e,a,f)},extra:function(f,h){x5(e,c,i,f,h)}};return im(e)||yw(e,c,a),qM(e),c},GM=[9,27,on.HOME,on.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,on.DOWN,on.UP,on.LEFT,on.RIGHT].concat(Zt.browser.isFirefox()?[224]:[]),UT="data-mce-placeholder",sm=function(e){return e.type==="keydown"||e.type==="keyup"},$c=function(e){var r=e.keyCode;return r===on.BACKSPACE||r===on.DELETE},bw=function(e){if(sm(e)){var r=e.keyCode;return!$c(e)&&(on.metaKeyPressed(e)||e.altKey||r>=112&&r<=123||qe(GM,r))}else return!1},Tg=function(e){return sm(e)&&!($c(e)||e.type==="keyup"&&e.keyCode===229)},nv=function(e,r,a){if(lu(x.fromDom(r),!1)){var i=a==="",c=r.firstElementChild;return c?e.getStyle(r.firstElementChild,"padding-left")||e.getStyle(r.firstElementChild,"padding-right")?!1:i?!e.isBlock(c):a===c.nodeName.toLowerCase():!0}else return!1},_w=function(e){var r=e.dom,a=hu(e),i=$1(e),c=function(f,h){if(!bw(f)){var y=e.getBody(),w=Tg(f)?!1:nv(r,y,a),R=r.getAttrib(y,UT)!=="";(R!==w||h)&&(r.setAttrib(y,UT,w?i:null),r.setAttrib(y,"aria-placeholder",w?i:null),v2(e,w),e.on(w?"keydown":"keyup",c),e.off(w?"keyup":"keydown",c))}};i&&e.on("init",function(f){c(f,!0),e.on("change SetContent ExecCommand",c),e.on("paste",function(h){return Au.setEditorTimeout(e,function(){return c(h)})})})},jT=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,WT=function(e){return jT.test(e)},$h=function(e,r){return ir(x.fromDom(r),Kf(e))},SA=function(e){return ho.DOM.getStyle(e,"direction",!0)==="rtl"||WT(e.textContent)},KM=function(e,r,a){return Xt(ho.DOM.getParents(a.container(),"*",r),e)},cm=function(e,r,a){var i=KM(e,r,a);return oe.from(i[i.length-1])},TA=function(e,r,a){var i=Al(r,e),c=Al(a,e);return i&&i===c},XM=function(e){return Qr(e)||Jg(e)},sl=function(e,r){if(!r)return r;var a=r.container(),i=r.offset();return e?lo(a)?zr(a.nextSibling)?vt(a.nextSibling,0):vt.after(a):Qr(r)?vt(a,i+1):r:lo(a)?zr(a.previousSibling)?vt(a.previousSibling,a.previousSibling.data.length):vt.before(a):Jg(r)?vt(a,i-1):r},EA=St(sl,!0),v_=St(sl,!1),zA=function(e){return function(r){return an(e,x.fromDom(r.dom.parentNode))}},AA=function(e){return ql(e)||Ou(e)},bf=function(e,r){return Ia(e,r)?Cm(r,AA,zA(e)):oe.none()},qT=function(e){var r=e.getBody(),a=r.firstChild&&e.dom.isBlock(r.firstChild)?r.firstChild:r;e.selection.setCursorLocation(a,0)},OA=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),qT(e))},YM=function(e,r,a){return $u(ju(a),Rc(a),function(i,c){var f=sl(!0,i),h=sl(!1,c),y=sl(!1,r);return e?rl(a,y).exists(function(w){return w.isEqual(h)&&r.isEqual(f)}):Dl(a,y).exists(function(w){return w.isEqual(f)&&r.isEqual(h)})}).getOr(!0)},ZM=function(e,r){return{block:e,position:r}},m_=function(e,r){return{from:e,to:r}},GT=function(e,r){var a=x.fromDom(e),i=x.fromDom(r.container());return bf(a,i).map(function(c){return ZM(c,r)})},JM=function(e){return an(e.from.block,e.to.block)===!1},qu=function(e){return Vo(e.from.block).bind(function(r){return Vo(e.to.block).filter(function(a){return an(r,a)})}).isSome()},QM=function(e){return _o(e.from.block.dom)===!1&&_o(e.to.block.dom)===!1},RA=function(e,r,a){return eo(a.position.getNode())&&lu(a.block)===!1?Xf(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?zs(r,e,i).bind(function(c){return GT(e,c)}):oe.some(a)}).getOr(a):a},DA=function(e,r,a){var i=GT(e,vt.fromRangeStart(a)),c=i.bind(function(f){return zs(r,e,f.position).bind(function(h){return GT(e,h).map(function(y){return RA(e,r,y)})})});return $u(i,c,m_).filter(function(f){return JM(f)&&qu(f)&&QM(f)})},MA=function(e,r,a){return a.collapsed?DA(e,r,a):oe.none()},BA=function(e){var r=Iu(e);return Rr(r,oc).fold(X(r),function(a){return r.slice(0,a)})},uC=function(e){var r=BA(e);return je(r,Uo),r},NA=function(e,r){var a=jr(r,e);return nr(a.reverse(),function(i){return lu(i)}).each(Uo)},eB=function(e){return Xt(Aa(e),function(r){return!lu(r)}).length===0},tB=function(e,r,a,i){if(lu(a))return em(a),ju(a.dom);eB(i)&&lu(r)&&uu(i,x.fromTag("br"));var c=Dl(a.dom,vt.before(i.dom));return je(uC(r),function(f){uu(i,f)}),NA(e,r),c},rB=function(e,r,a){if(lu(a))return Uo(a),lu(r)&&em(r),ju(r.dom);var i=Rc(a.dom);return je(uC(r),function(c){Ti(a,c)}),NA(e,r),i},nB=function(e,r){var a=jr(r,e);return oe.from(a[a.length-1])},av=function(e,r){return Ia(r,e)?nB(r,e):oe.none()},PA=function(e,r){Xf(e,r.dom).map(function(a){return a.getNode()}).map(x.fromDom).filter(Tm).each(Uo)},FA=function(e,r,a){return PA(!0,r),PA(!1,a),av(r,a).fold(St(rB,e,r,a),St(tB,e,r,a))},IA=function(e,r,a,i){return r?FA(e,i,a):FA(e,a,i)},sC=function(e,r){var a=x.fromDom(e.getBody()),i=MA(a.dom,r,e.selection.getRng()).bind(function(c){return IA(a,r,c.from.block,c.to.block)});return i.each(function(c){e.selection.setRng(c.toRange())}),i.isSome()},aB=function(e,r){var a=r.getRng();return $u(bf(e,x.fromDom(a.startContainer)),bf(e,x.fromDom(a.endContainer)),function(i,c){return an(i,c)===!1?(a.deleteContents(),IA(e,!0,i,c).each(function(f){r.setRng(f.toRange())}),!0):!1}).getOr(!1)},li=function(e,r){var a=x.fromDom(r),i=St(an,e);return gd(a,wl,i).isSome()},$A=function(e,r){return li(e,r.startContainer)||li(e,r.endContainer)},LA=function(e,r){var a=Dl(e.dom,vt.fromRangeStart(r)).isNone(),i=rl(e.dom,vt.fromRangeEnd(r)).isNone();return!$A(e,r)&&a&&i},od=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},HA=function(e){var r=x.fromDom(e.getBody()),a=e.selection.getRng();return LA(r,a)?od(e):aB(r,e.selection)},cC=function(e,r){return e.selection.isCollapsed()?!1:HA(e)},oB=qc,KT=_o,lm=function(e,r,a,i,c){return oe.from(r._selectionOverrides.showCaret(e,a,i,c))},h_=function(e){var r=e.ownerDocument.createRange();return r.selectNode(e),r},p_=function(e,r){var a=e.fire("BeforeObjectSelected",{target:r});return a.isDefaultPrevented()?oe.none():oe.some(h_(r))},XT=function(e,r,a){var i=Bu(1,e.getBody(),r),c=vt.fromRangeStart(i),f=c.getNode();if(ah(f))return lm(1,e,f,!c.isAtEnd(),!1);var h=c.getNode(!0);if(ah(h))return lm(1,e,h,!1,!1);var y=e.dom.getParent(c.getNode(),function(w){return KT(w)||oB(w)});return ah(y)?lm(1,e,y,!1,a):oe.none()},lC=function(e,r,a){return r.collapsed?XT(e,r,a).getOr(r):r},YT=function(e){return Jd(e)||Oh(e)},VA=function(e){return Qd(e)||Rh(e)},ZT=function(e,r){zr(r)&&r.data.length===0&&e.remove(r)},UA=function(e,r,a,i,c,f){return lm(i,e,f.getNode(!c),c,!0).each(function(h){if(r.collapsed){var y=r.cloneRange();c?y.setEnd(h.startContainer,h.startOffset):y.setStart(h.endContainer,h.endOffset),y.deleteContents()}else r.deleteContents();e.selection.setRng(h)}),ZT(e.dom,a),!0},iB=function(e,r){var a=e.selection.getRng();if(!zr(a.commonAncestorContainer))return!1;var i=r?pu.Forwards:pu.Backwards,c=Zo(e.getBody()),f=St(Z1,r?c.next:c.prev),h=r?YT:VA,y=lh(i,e.getBody(),a),w=sl(r,f(y));if(!w||!rb(y,w))return!1;if(h(w))return UA(e,a,y.getNode(),i,r,w);var R=f(w);return R&&h(R)&&rb(w,R)?UA(e,a,y.getNode(),i,r,R):!1},fC=function(e,r){return iB(e,r)},_f=function(e){return wl(x.fromDom(e))||Ou(x.fromDom(e))},cl=Kr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),uB=function(e,r){var a=r.getNode(e===!1),i=e?"after":"before";return pn(a)&&a.getAttribute("data-mce-caret")===i},sB=function(e,r,a,i){var c=function(f){return Lu(x.fromDom(f))&&!Ol(a,i,e)};return ch(!r,a).fold(function(){return ch(r,i).fold(Wt,c)},c)},g_=function(e,r,a,i){var c=i.getNode(r===!1);return bf(x.fromDom(e),x.fromDom(a.getNode())).map(function(f){return lu(f)?cl.remove(f.dom):cl.moveToElement(c)}).orThunk(function(){return oe.some(cl.moveToElement(c))})},jA=function(e,r,a){return zs(r,e,a).bind(function(i){return _f(i.getNode())||sB(e,r,a,i)?oe.none():r&&_o(i.getNode())||r===!1&&_o(i.getNode(!0))?g_(e,r,a,i):r&&Qd(a)||r===!1&&Jd(a)?oe.some(cl.moveToPosition(i)):oe.none()})},WA=function(e,r){return e&&_o(r.nextSibling)?oe.some(cl.moveToElement(r.nextSibling)):e===!1&&_o(r.previousSibling)?oe.some(cl.moveToElement(r.previousSibling)):oe.none()},qA=function(e,r,a){return a.fold(function(i){return oe.some(cl.remove(i))},function(i){return oe.some(cl.moveToElement(i))},function(i){return Ol(r,i,e)?oe.none():oe.some(cl.moveToPosition(i))})},GA=function(e,r,a){return uB(r,a)?WA(r,a.getNode(r===!1)).fold(function(){return jA(e,r,a)},oe.some):jA(e,r,a).bind(function(i){return qA(e,a,i)})},cB=function(e,r,a){var i=Bu(r?1:-1,e,a),c=vt.fromRangeStart(i),f=x.fromDom(e);return r===!1&&Qd(c)?oe.some(cl.remove(c.getNode(!0))):r&&Jd(c)?oe.some(cl.remove(c.getNode())):r===!1&&Jd(c)&&Nn(f,c)?l3(f,c).map(function(h){return cl.remove(h.getNode())}):r&&Qd(c)&&$b(f,c)?f3(f,c).map(function(h){return cl.remove(h.getNode())}):GA(e,r,c)},lB=function(e,r){return function(a){return e._selectionOverrides.hideFakeCaret(),Ht(e,r,x.fromDom(a)),!0}},Lh=function(e,r){return function(a){var i=r?vt.before(a):vt.after(a);return e.selection.setRng(i.toRange()),!0}},fB=function(e){return function(r){return e.selection.setRng(r.toRange()),!0}},KA=function(e,r){return oe.from(jv(e.getBody(),r))},dB=function(e,r){var a=e.selection.getNode();return KA(e,a).filter(_o).fold(function(){return cB(e.getBody(),r,e.selection.getRng()).exists(function(i){return i.fold(lB(e,r),Lh(e,r),fB(e))})},sr)},vB=function(e){je(mu(e,".mce-offscreen-selection"),Uo)},mB=function(e,r){var a=e.selection.getNode();if(_o(a)&&!bm(a)){var i=KA(e,a.parentNode).filter(_o);return i.fold(function(){return vB(x.fromDom(e.getBody())),Ht(e,r,x.fromDom(e.selection.getNode())),OA(e),!0},sr)}return!1},XA=function(e){var r=e.dom,a=e.selection,i=jv(e.getBody(),a.getNode());if(qc(i)&&r.isBlock(i)&&r.isEmpty(i)){var c=r.create("br",{"data-mce-bogus":"1"});r.setHTML(i,""),i.appendChild(c),a.setRng(vt.before(c).toRange())}return!0},dC=function(e,r){return e.selection.isCollapsed()?dB(e,r):mB(e,r)},hB=function(e,r){var a=vt.fromRangeStart(e.selection.getRng());return zs(r,e.getBody(),a).filter(function(i){return r?k8(i):n3(i)}).bind(function(i){return oe.from(Qy(r?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},vC=function(e,r){return e.selection.isCollapsed()?hB(e,r):!1},y_=zr,YA=function(e){return y_(e)&&e.data[0]===Fe},ZA=function(e){return y_(e)&&e.data[e.data.length-1]===Fe},b_=function(e){return e.ownerDocument.createTextNode(Fe)},pB=function(e){if(y_(e.previousSibling))return ZA(e.previousSibling)||e.previousSibling.appendData(Fe),e.previousSibling;if(y_(e))return YA(e)||e.insertData(0,Fe),e;var r=b_(e);return e.parentNode.insertBefore(r,e),r},JT=function(e){if(y_(e.nextSibling))return YA(e.nextSibling)||e.nextSibling.insertData(0,Fe),e.nextSibling;if(y_(e))return ZA(e)||e.appendData(Fe),e;var r=b_(e);return e.nextSibling?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.appendChild(r),r},mC=function(e,r){return e?pB(r):JT(r)},gB=St(mC,!0),yB=St(mC,!1),JA=function(e,r){return zr(e.container())?mC(r,e.container()):mC(r,e.getNode())},Hh=function(e,r){var a=r.get();return a&&e.container()===a&&lo(a)},fm=function(e,r){return r.fold(function(a){Ld(e.get());var i=gB(a);return e.set(i),oe.some(vt(i,i.length-1))},function(a){return ju(a).map(function(i){if(Hh(i,e))return vt(e.get(),1);Ld(e.get());var c=JA(i,!0);return e.set(c),vt(c,1)})},function(a){return Rc(a).map(function(i){if(Hh(i,e))return vt(e.get(),e.get().length-1);Ld(e.get());var c=JA(i,!1);return e.set(c),vt(c,c.length-1)})},function(a){Ld(e.get());var i=yB(a);return e.set(i),oe.some(vt(i,1))})},ww=function(e,r){for(var a=0;a<e.length;a++){var i=e[a].apply(null,r);if(i.isSome())return i}return oe.none()},Gu=Kr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Vh=function(e,r){var a=Al(r,e);return a||e},Eg=function(e,r,a){var i=EA(a),c=Vh(r,i.container());return cm(e,c,i).fold(function(){return rl(c,i).bind(St(cm,e,c)).map(function(f){return Gu.before(f)})},oe.none)},hC=function(e,r){return $v(e,r)===null},kw=function(e,r,a){return cm(e,r,a).filter(St(hC,r))},QA=function(e,r,a){var i=v_(a);return kw(e,r,i).bind(function(c){var f=Dl(c,i);return f.isNone()?oe.some(Gu.start(c)):oe.none()})},QT=function(e,r,a){var i=EA(a);return kw(e,r,i).bind(function(c){var f=rl(c,i);return f.isNone()?oe.some(Gu.end(c)):oe.none()})},eE=function(e,r,a){var i=v_(a),c=Vh(r,i.container());return cm(e,c,i).fold(function(){return Dl(c,i).bind(St(cm,e,c)).map(function(f){return Gu.after(f)})},oe.none)},tE=function(e){return SA(Uh(e))===!1},id=function(e,r,a){var i=ww([Eg,QA,QT,eE],[e,r,a]);return i.filter(tE)},Uh=function(e){return e.fold(It,It,It,It)},rE=function(e){return e.fold(X("before"),X("start"),X("end"),X("after"))},Cw=function(e){return e.fold(Gu.before,Gu.before,Gu.after,Gu.after)},pC=function(e){return e.fold(Gu.start,Gu.start,Gu.end,Gu.end)},gC=function(e,r){return rE(e)===rE(r)&&Uh(e)===Uh(r)},eO=function(e,r,a,i,c,f){return $u(cm(r,a,i),cm(r,a,c),function(h,y){return h!==y&&TA(a,h,y)?Gu.after(e?h:y):f}).getOr(f)},tO=function(e,r){return e.fold(sr,function(a){return!gC(a,r)})},rO=function(e,r,a,i,c){var f=sl(e,c),h=zs(e,a,f).map(St(sl,e)),y=h.fold(function(){return i.map(Cw)},function(w){return id(r,a,w).map(St(eO,e,r,a,f,w)).filter(St(tO,i))});return y.filter(tE)},nO=function(e,r){return e?r.fold(Ce(oe.some,Gu.start),oe.none,Ce(oe.some,Gu.after),oe.none):r.fold(oe.none,Ce(oe.some,Gu.before),oe.none,Ce(oe.some,Gu.end))},ud=function(e,r,a,i){var c=sl(e,i),f=id(r,a,c);return id(r,a,c).bind(St(nO,e)).orThunk(function(){return rO(e,r,a,f,i)})};St(ud,!1),St(ud,!0);var aO=function(e){return ce(e.selection.getSel().modify)},nE=function(e,r,a){var i=e?1:-1;return r.setRng(vt(a.container(),a.offset()+i).toRange()),r.getSel().modify("move",e?"forward":"backward","word"),!0},jh=function(e,r){var a=r.selection.getRng(),i=e?vt.fromRangeEnd(a):vt.fromRangeStart(a);return aO(r)?e&&Qr(i)?nE(!0,r.selection,i):!e&&Jg(i)?nE(!1,r.selection,i):!1:!1},Nu;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Nu||(Nu={}));var yC=function(e,r){return e===pu.Backwards?Yn(r):r},bB=function(e,r,a){return e===pu.Forwards?r.next(a):r.prev(a)},_B=function(e,r,a,i){return eo(i.getNode(r===pu.Forwards))?Nu.Br:Ol(a,i)===!1?Nu.Block:Nu.Wrap},oO=function(e,r,a,i){for(var c=Zo(a),f=i,h=[];f;){var y=bB(r,c,f);if(!y)break;if(eo(y.getNode(!1)))return r===pu.Forwards?{positions:yC(r,h).concat([y]),breakType:Nu.Br,breakAt:oe.some(y)}:{positions:yC(r,h),breakType:Nu.Br,breakAt:oe.some(y)};if(!y.isVisible()){f=y;continue}if(e(f,y)){var w=_B(a,r,f,y);return{positions:yC(r,h),breakType:w,breakAt:oe.some(y)}}h.push(y),f=y}return{positions:yC(r,h),breakType:Nu.Eol,breakAt:oe.none()}},iO=function(e,r,a,i){return r(a,i).breakAt.map(function(c){var f=r(a,c).positions;return e===pu.Backwards?f.concat(c):[c].concat(f)}).getOr([])},aE=function(e,r){return ut(e,function(a,i){return a.fold(function(){return oe.some(i)},function(c){return $u(ga(c.getClientRects()),ga(i.getClientRects()),function(f,h){var y=Math.abs(r-f.left),w=Math.abs(r-h.left);return w<=y?i:c}).or(a)})},oe.none())},uO=function(e,r){return ga(r.getClientRects()).bind(function(a){return aE(e,a.left)})},xw=St(oO,vt.isAbove,-1),Sw=St(oO,vt.isBelow,1),wB=St(iO,-1,xw),kB=St(iO,1,Sw),CB=function(e,r){return xw(e,r).breakAt.isNone()},oE=function(e,r){return Sw(e,r).breakAt.isNone()},iE=function(e){return ju(e).map(function(r){return[r].concat(Sw(e,r).positions)}).getOr([])},sO=function(e){return Rc(e).map(function(r){return xw(e,r).positions.concat(r)}).getOr([])},xB=function(e){var r=function(i){return Pe(i,function(c){var f=Pd(c);return f.node=e,f})};if(pn(e))return r(e.getClientRects());if(zr(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),r(a.getClientRects())}},uE=function(e){return wn(e,xB)},Wh;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(Wh||(Wh={}));var cO=function(e,r,a,i){for(;i=Vd(i,e,gi,r);)if(a(i))return},bC=function(e,r,a,i,c,f){var h=0,y=[],w=function(V){var j=uE([V]);e===-1&&(j=j.reverse());for(var re=0;re<j.length;re++){var ae=j[re];if(!a(ae,R)){if(y.length>0&&r(ae,oi(y))&&h++,ae.line=h,c(ae))return!0;y.push(ae)}}},R=oi(f.getClientRects());if(!R)return y;var L=f.getNode();return w(L),cO(e,i,w,L),y},lO=function(e,r){return r.line>e},fO=function(e,r){return r.line===e},sE=St(bC,Wh.Up,jm,Wm),SB=St(bC,Wh.Down,Wm,jm),TB=function(e,r,a,i){var c=Zo(r),f,h,y,w,R=[],L=0,V=function(ie){return oi(ie.getClientRects())};e===1?(f=c.next,h=Wm,y=jm,w=vt.after(i)):(f=c.prev,h=jm,y=Wm,w=vt.before(i));var j=V(w);do if(w.isVisible()){var re=V(w);if(!y(re,j)){R.length>0&&h(re,oi(R))&&L++;var ae=Pd(re);if(ae.position=w,ae.line=L,a(ae))return R;R.push(ae)}}while(w=f(w));return R},sd=function(e){return function(r){return lO(e,r)}},ll=function(e){return function(r){return fO(e,r)}},_C=_o,cE=Vd,__=function(e,r){return Math.abs(e.left-r)},wC=function(e,r){return Math.abs(e.right-r)},lE=function(e,r){return e>=r.left&&e<=r.right},dO=function(e,r){return e>=r.top&&e<=r.bottom},vO=function(e){return xo(e,"node")},Tw=function(e,r,a){return a===void 0&&(a=sr),Gi(e,function(i,c){if(lE(r,c))return a(c)?c:i;if(lE(r,i))return a(i)?i:c;var f=Math.min(__(i,r),wC(i,r)),h=Math.min(__(c,r),wC(c,r));return h===f&&vO(c)&&_C(c.node)||h<f?c:i})},fE=function(e,r,a,i,c){var f=cE(i,e,gi,r,!c);do if(!f||a(f))return;while(f=cE(f,e,gi,r))},kC=function(e,r,a){a===void 0&&(a=!0);var i=[],c=function(f,h){var y=Xt(uE([h]),function(w){return!f(w,r)});return i=i.concat(y),y.length===0};return i.push(r),fE(Wh.Up,e,St(c,jm),r.node,a),fE(Wh.Down,e,St(c,Wm),r.node,a),i},CC=function(e){return Xt(kn(e.getElementsByTagName("*")),Pv)},dE=function(e,r){return{node:e.node,before:__(e,r)<wC(e,r)}},EB=function(e,r,a){var i=uE(CC(e)),c=Xt(i,St(dO,a)),f=function(w){return!si(w.node)&&!_s(w.node)},h=Tw(c,r,f);if(h){var y=f(h);if(h=Tw(kC(e,h,y),r,f),h&&Pv(h.node))return dE(h,r)}return null},dm=function(e,r){e.selection.setRng(r),Jp(e,e.selection.getRng())},vE=function(e,r,a){return oe.some(lC(e,r,a))},mO=function(e,r,a,i,c,f){var h=r===pu.Forwards,y=Zo(e.getBody()),w=St(Z1,h?y.next:y.prev),R=h?i:c;if(!a.collapsed){var L=Ov(a);if(f(L))return lm(r,e,L,r===pu.Backwards,!1)}var V=lh(r,e.getBody(),a);if(R(V))return p_(e,V.getNode(!h));var j=sl(h,w(V)),re=Gl(a);if(!j)return re?oe.some(a):oe.none();if(R(j))return lm(r,e,j.getNode(!h),h,!1);var ae=w(j);return ae&&R(ae)&&rb(j,ae)?lm(r,e,ae.getNode(!h),h,!1):re?vE(e,j.toRange(),!1):oe.none()},mE=function(e,r,a,i,c,f){var h=lh(r,e.getBody(),a),y=oi(h.getClientRects()),w=r===Wh.Down;if(!y)return oe.none();var R=w?SB:sE,L=R(e.getBody(),sd(1),h),V=Xt(L,ll(1)),j=y.left,re=Tw(V,j);if(re&&f(re.node)){var ae=Math.abs(j-re.left),ie=Math.abs(j-re.right);return lm(r,e,re.node,ae<ie,!1)}var se;if(i(h)?se=h.getNode():c(h)?se=h.getNode(!0):se=Ov(a),se){var we=TB(r,e.getBody(),sd(1),se),he=Tw(Xt(we,ll(1)),j);if(he||(he=oi(Xt(we,ll(0))),he))return vE(e,he.position.toRange(),!1)}return V.length===0?hE(e,w).filter(w?c:i).map(function(Ze){return lC(e,Ze.toRange(),!1)}):oe.none()},hE=function(e,r){var a=e.selection.getRng(),i=e.getBody();if(r){var c=vt.fromRangeEnd(a),f=Sw(i,c);return Rn(f.positions)}else{var c=vt.fromRangeStart(a),f=xw(i,c);return ga(f.positions)}},hO=function(e,r,a){return hE(e,r).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},w_=function(e,r){var a=e.dom.createRng();a.setStart(r.container(),r.offset()),a.setEnd(r.container(),r.offset()),e.selection.setRng(a)},pO=function(e,r){e?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},gO=function(e,r,a){return fm(r,a).map(function(i){return w_(e,i),a})},zB=function(e,r,a){var i=e.getBody(),c=vt.fromRangeStart(e.selection.getRng()),f=St($h,e),h=ud(a,f,i,c);return h.bind(function(y){return gO(e,r,y)})},AB=function(e,r,a){var i=Pe(mu(x.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(h){return h.dom}),c=Xt(i,e),f=Xt(a,e);je(Ta(c,f),St(pO,!1)),je(Ta(f,c),St(pO,!0))},OB=function(e,r){if(e.selection.isCollapsed()&&e.composing!==!0&&r.get()){var a=vt.fromRangeStart(e.selection.getRng());vt.isTextPosition(a)&&XM(a)===!1&&(w_(e,jk(r.get(),a)),r.set(null))}},RB=function(e,r,a,i){if(r.selection.isCollapsed()){var c=Xt(i,e);je(c,function(f){var h=vt.fromRangeStart(r.selection.getRng());id(e,r.getBody(),h).bind(function(y){return gO(r,a,y)})})}},yO=function(e,r,a){return $p(e)?zB(e,r,a).isSome():!1},Ew=function(e,r,a){return $p(r)?jh(e,r):!1},xC=function(e){var r=os(null),a=St($h,e);return e.on("NodeChange",function(i){$p(e)&&!(Zt.browser.isIE()&&i.initial)&&(AB(a,e.dom,i.parents),OB(e,r),RB(a,e,r,i.parents))}),r},pE=St(Ew,!0),DB=St(Ew,!1),SC=function(e,r,a){if($p(e)){var i=hE(e,r).getOrThunk(function(){var c=e.selection.getRng();return r?vt.fromRangeEnd(c):vt.fromRangeStart(c)});return id(St($h,e),e.getBody(),i).exists(function(c){var f=Cw(c);return fm(a,f).exists(function(h){return w_(e,h),!0})})}else return!1},MB=function(e,r){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(r.container(),r.offset()),a},BB=function(e){return $u(ju(e),Rc(e),function(r,a){var i=sl(!0,r),c=sl(!1,a);return rl(e,i).forall(function(f){return f.isEqual(c)})}).getOr(!0)},gE=function(e,r){return function(a){return fm(r,a).exists(function(i){return w_(e,i),!0})}},bO=function(e,r,a,i){var c=e.getBody(),f=St($h,e);e.undoManager.ignore(function(){e.selection.setRng(MB(a,i)),e.execCommand("Delete"),id(f,c,vt.fromRangeStart(e.selection.getRng())).map(pC).map(gE(e,r))}),e.nodeChanged()},NB=function(e,r){var a=Al(r,e);return a||e},yE=function(e,r,a,i){var c=NB(e.getBody(),i.container()),f=St($h,e),h=id(f,c,i);return h.bind(function(y){return a?y.fold(X(oe.some(pC(y))),oe.none,X(oe.some(Cw(y))),oe.none):y.fold(oe.none,X(oe.some(Cw(y))),oe.none,X(oe.some(pC(y))))}).map(gE(e,r)).getOrThunk(function(){var y=Rl(a,c,i),w=y.bind(function(R){return id(f,c,R)});return $u(h,w,function(){return cm(f,c,i).exists(function(R){return BB(R)?(Ht(e,a,x.fromDom(R)),!0):!1})}).orThunk(function(){return w.bind(function(R){return y.map(function(L){return a?bO(e,r,i,L):bO(e,r,L,i),!0})})}).getOr(!1)})},TC=function(e,r,a){if(e.selection.isCollapsed()&&$p(e)){var i=vt.fromRangeStart(e.selection.getRng());return yE(e,r,a,i)}return!1},PB=function(e,r){var a=jr(r,e);return Rr(a,oc).fold(X(a),function(i){return a.slice(0,i)})},FB=function(e){return qg(e)===1},IB=function(e,r,a,i){var c=St($z,r),f=Pe(Xt(i,c),function(y){return y.dom});if(f.length===0)Ht(r,e,a);else{var h=x6(a.dom,f);r.selection.setRng(h.toRange())}},$B=function(e,r){var a=x.fromDom(e.getBody()),i=x.fromDom(e.selection.getStart()),c=Xt(PB(a,i),FB);return Rn(c).exists(function(f){var h=vt.fromRangeStart(e.selection.getRng());return YM(r,h,f.dom)&&!Lz(f)?(IB(r,e,f,c),!0):!1})},EC=function(e,r){return e.selection.isCollapsed()?$B(e,r):!1},bE=function(e,r,a){return e._selectionOverrides.hideFakeCaret(),Ht(e,r,x.fromDom(a)),!0},zC=function(e,r){var a=r?Oh:Rh,i=r?pu.Forwards:pu.Backwards,c=lh(i,e.getBody(),e.selection.getRng());return a(c)?bE(e,r,c.getNode(!r)):oe.from(sl(r,c)).filter(function(f){return a(f)&&rb(c,f)}).exists(function(f){return bE(e,r,f.getNode(!r))})},AC=function(e,r){var a=e.selection.getNode();return _s(a)?bE(e,r,a):!1},OC=function(e,r){return e.selection.isCollapsed()?zC(e,r):AC(e,r)},LB=function(e){return Cm(e,function(r){return qc(r.dom)||_o(r.dom)}).exists(function(r){return qc(r.dom)})},k_=function(e){var r=parseInt(e,10);return isNaN(r)?0:r},_O=function(e,r){var a=e||xx(r)?"margin":"padding",i=Un(r,"direction")==="rtl"?"-right":"-left";return a+i},HB=function(e,r,a,i,c,f){var h=_O(a,x.fromDom(f));if(r==="outdent"){var y=Math.max(0,k_(f.style[h])-i);e.setStyle(f,h,y?y+c:"")}else{var y=k_(f.style[h])+i+c;e.setStyle(f,h,y)}},VB=function(e,r){return Gn(r,function(a){var i=_O(Rk(e),a),c=cu(a,i).map(k_).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&c>0})},wO=function(e){var r=CO(e);return!e.mode.isReadOnly()&&(r.length>1||VB(e,r))},kO=function(e){return Xc(e)||Ou(e)},UB=function(e){return Vo(e).exists(kO)},CO=function(e){return Xt(Hi(e.selection.getSelectedBlocks()),function(r){return!kO(r)&&!UB(r)&&LB(r)})},xO=function(e,r){var a=e.dom,i=e.selection,c=e.formatter,f=I1(e),h=/[a-z%]+$/i.exec(f)[0],y=parseInt(f,10),w=Rk(e),R=hu(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&R===""&&!a.getParent(i.getNode(),a.isBlock)&&c.apply("div"),je(CO(e),function(L){HB(a,r,w,y,h,L.dom)})},SO=function(e,r){if(e.selection.isCollapsed()&&wO(e)){var a=e.dom,i=e.selection.getRng(),c=vt.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&Ib(x.fromDom(f),c))return xO(e,"outdent"),!0}return!1},TO=function(e,r){e.getDoc().execCommand(r,!1,null)},jB=function(e,r){if(!SO(e)){if(dC(e,!1))return;if(fC(e,!1))return;if(TC(e,r,!1))return;if(sC(e,!1))return;if(yg(e))return;if(vC(e,!1))return;if(OC(e,!1))return;if(cC(e))return;if(EC(e,!1))return;TO(e,"Delete"),OA(e)}},WB=function(e,r){if(!dC(e,!0)){if(fC(e,!0))return;if(TC(e,r,!0))return;if(sC(e,!0))return;if(yg(e))return;if(vC(e,!0))return;if(OC(e,!0))return;if(cC(e))return;if(EC(e,!0))return;TO(e,"ForwardDelete")}},wf=function(e,r){e.addCommand("delete",function(){jB(e,r)}),e.addCommand("forwardDelete",function(){WB(e,r)})},RC=5,EO=400,_E=function(e){return e.touches===void 0||e.touches.length!==1?oe.none():oe.some(e.touches[0])},qB=function(e,r){var a=Math.abs(e.clientX-r.x),i=Math.abs(e.clientY-r.y);return a>RC||i>RC},zO=function(e){var r=Nd(),a=os(!1),i=Li(function(c){e.fire("longpress",$r($r({},c),{type:"longpress"})),a.set(!0)},EO);e.on("touchstart",function(c){_E(c).each(function(f){i.cancel();var h={x:f.clientX,y:f.clientY,target:c.target};i.throttle(c),a.set(!1),r.set(h)})},!0),e.on("touchmove",function(c){i.cancel(),_E(c).each(function(f){r.on(function(h){qB(f,h)&&(r.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(c){i.cancel(),c.type!=="touchcancel"&&r.get().filter(function(f){return f.target.isEqualNode(c.target)}).each(function(){a.get()?c.preventDefault():e.fire("tap",$r($r({},c),{type:"tap"}))})},!0)},wE=function(e,r){return Sn(e,r.nodeName)},AO=function(e,r){return zr(r)?!0:pn(r)?!wE(e,r)&&!As(r):!1},GB=function(e,r,a){return be(u3(x.fromDom(a),x.fromDom(r)),function(i){return wE(e,i.dom)})},KB=function(e,r){if(zr(r)){if(r.nodeValue.length===0)return!0;if(/^\s+$/.test(r.nodeValue)&&(!r.nextSibling||wE(e,r.nextSibling)))return!0}return!1},XB=function(e){var r=e.dom,a=e.selection,i=e.schema,c=i.getBlockElements(),f=a.getStart(),h=e.getBody(),y,w,R,L=hu(e);if(!(!f||!pn(f)||!L)){var V=h.nodeName.toLowerCase();if(!(!i.isValidChild(V,L.toLowerCase())||GB(c,h,f))){var j=a.getRng(),re=j.startContainer,ae=j.startOffset,ie=j.endContainer,se=j.endOffset,we=Bc(e);for(f=h.firstChild;f;)if(AO(c,f)){if(KB(c,f)){w=f,f=f.nextSibling,r.remove(w);continue}y||(y=r.create(L,Ym(e)),f.parentNode.insertBefore(y,f),R=!0),w=f,f=f.nextSibling,y.appendChild(w)}else y=null,f=f.nextSibling;R&&we&&(j.setStart(re,ae),j.setEnd(ie,se),a.setRng(j),e.nodeChanged())}}},C_=function(e){hu(e)&&e.on("NodeChange",St(XB,e))},OO=function(e){return xm(x.fromDom(e.getBody()),"*[data-mce-caret]").map(function(r){return r.dom}).getOrNull()},RO=function(e){e.selection.setRng(e.selection.getRng())},kE=function(e,r){r.hasAttribute("data-mce-caret")&&(U_(r),RO(e),e.selection.scrollIntoView(r))},CE=function(e,r){var a=OO(e);if(a){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),kE(e,a);return}If(a)&&(kE(e,a),e.undoManager.add())}},YB=function(e){e.on("keyup compositionstart",St(CE,e))},DO=_o,ZB=function(e,r,a){return mO(r,e,a,Jd,Qd,DO)},JB=function(e,r,a){var i=function(f){return Jd(f)||a3(f)},c=function(f){return Qd(f)||o3(f)};return mE(r,e,a,i,c,DO)},QB=function(e){var r=e.dom.create(hu(e));return(!Zt.ie||Zt.ie>=11)&&(r.innerHTML='<br data-mce-bogus="1">'),r},MO=function(e,r,a){var i=Zo(e.getBody()),c=St(Z1,r===1?i.next:i.prev);if(a.collapsed&&mS(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var h=c(vt.fromRangeStart(a));if(!h){var y=QB(e);r===1?e.$(f).after(y):e.$(f).before(y),e.selection.select(y,!0),e.selection.collapse()}}},cd=function(e,r){var a=r?pu.Forwards:pu.Backwards,i=e.selection.getRng();return ZB(a,e,i).orThunk(function(){return MO(e,a,i),oe.none()})},eN=function(e,r){var a=r?1:-1,i=e.selection.getRng();return JB(a,e,i).orThunk(function(){return MO(e,a,i),oe.none()})},BO=function(e,r){return cd(e,r).exists(function(a){return dm(e,a),!0})},NO=function(e,r){return eN(e,r).exists(function(a){return dm(e,a),!0})},PO=function(e,r){var a=r?Qd:Jd;return hO(e,r,a)},tN=function(e){return qe(["figcaption"],za(e))},FO=function(e){var r=document.createRange();return r.setStartBefore(e.dom),r.setEndBefore(e.dom),r},IO=function(e,r,a){a?Ti(e,r):Sc(e,r)},qh=function(e,r){var a=x.fromTag("br");return IO(e,a,r),FO(a)},rN=function(e,r,a,i){var c=x.fromTag(a),f=x.fromTag("br");return H(c,i),Ti(c,f),IO(e,c,r),FO(f)},nN=function(e,r,a,i){return r===""?qh(e,i):rN(e,i,r,a)},$O=function(e,r){var a=St(an,r);return Cm(x.fromDom(e.container()),oc,a).filter(tN)},xE=function(e,r,a){return r?oE(e.dom,a):CB(e.dom,a)},aN=function(e,r){var a=x.fromDom(e.getBody()),i=vt.fromRangeStart(e.selection.getRng()),c=hu(e),f=Ym(e);return $O(i,a).exists(function(){if(xE(a,r,i)){var h=nN(a,c,f,r);return e.selection.setRng(h),!0}else return!1})},LO=function(e,r){return e.selection.isCollapsed()?aN(e,r):!1},oN=function(e){return Pe(e,function(r){return $r({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:U},r)})},zg=function(e,r){return r.keyCode===e.keyCode&&r.shiftKey===e.shiftKey&&r.altKey===e.altKey&&r.ctrlKey===e.ctrlKey&&r.metaKey===e.metaKey},iN=function(e,r){return wn(oN(e),function(a){return zg(a,r)?[a]:[]})},wa=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return function(){return e.apply(null,r)}},x_=function(e,r){return nr(iN(e,r),function(a){return a.action()})},HO=function(e,r){var a=r?pu.Forwards:pu.Backwards,i=e.selection.getRng();return mO(e,a,i,Oh,Rh,_s).exists(function(c){return dm(e,c),!0})},DC=function(e,r){var a=r?1:-1,i=e.selection.getRng();return mE(e,a,i,Oh,Rh,_s).exists(function(c){return dm(e,c),!0})},MC=function(e,r){var a=r?Rh:Oh;return hO(e,r,a)},VO=function(e,r){return{left:e.left-r,top:e.top-r,right:e.right+r*2,bottom:e.bottom+r*2,width:e.width+r,height:e.height+r}},UO=function(e,r){return wn(r,function(a){var i=VO(Pd(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},jO=function(e,r,a){return ut(e,function(i,c){return i.fold(function(){return oe.some(c)},function(f){var h=Math.sqrt(Math.abs(f.x-r)+Math.abs(f.y-a)),y=Math.sqrt(Math.abs(c.x-r)+Math.abs(c.y-a));return oe.some(y<h?c:f)})},oe.none())},WO=function(e,r,a,i,c){var f=mu(x.fromDom(a),"td,th,caption").map(function(y){return y.dom}),h=Xt(UO(e,f),function(y){return r(y,c)});return jO(h,i,c).map(function(y){return y.cell})},zw=function(e){return e.bottom},uN=function(e){return e.top},sN=function(e,r){return e.y<r},cN=function(e,r){return e.y>r},S_=St(WO,zw,sN),lN=St(WO,uN,cN),vm=function(e,r){return ga(r.getClientRects()).bind(function(a){return S_(e,a.left,a.top)}).bind(function(a){return uO(sO(a),r)})},fN=function(e,r){return Rn(r.getClientRects()).bind(function(a){return lN(e,a.left,a.top)}).bind(function(a){return uO(iE(a),r)})},SE=function(e,r,a){return a.breakAt.exists(function(i){return e(r,i).breakAt.isSome()})},TE=function(e){return e.breakType===Nu.Wrap&&e.positions.length===0},dN=function(e){return e.breakType===Nu.Br&&e.positions.length===1},qO=function(e,r,a){var i=e(r,a);return TE(i)||!eo(a.getNode())&&dN(i)?!SE(e,r,i):i.breakAt.isNone()},vN=St(qO,xw),GO=St(qO,Sw),mN=function(e,r,a){var i=vt.fromRangeStart(r);return Xf(!e,a).exists(function(c){return c.isEqual(i)})},hN=function(e,r,a,i){var c=e.selection.getRng(),f=r?1:-1;return K1()&&mN(r,c,a)?(lm(f,e,a,!r,!1).each(function(h){dm(e,h)}),!0):!1},pN=function(e,r,a){return vm(r,a).orThunk(function(){return ga(a.getClientRects()).bind(function(i){return aE(wB(e,vt.before(r)),i.left)})}).getOr(vt.before(r))},gN=function(e,r,a){return fN(r,a).orThunk(function(){return ga(a.getClientRects()).bind(function(i){return aE(kB(e,vt.after(r)),i.left)})}).getOr(vt.after(r))},EE=function(e,r){var a=r.getNode(e);return pn(a)&&a.nodeName==="TABLE"?oe.some(a):oe.none()},yN=function(e,r,a,i){var c=hu(r);c?r.undoManager.transact(function(){var f=x.fromTag(c);H(f,Ym(r)),Ti(f,x.fromTag("br")),e?pd(x.fromDom(a),f):uu(x.fromDom(a),f);var h=r.dom.createRng();h.setStart(f.dom,0),h.setEnd(f.dom,0),dm(r,h)}):dm(r,i.toRange())},Gh=function(e,r,a){var i=EE(!!r,a),c=r===!1;i.fold(function(){return dm(e,a.toRange())},function(f){return Xf(c,e.getBody()).filter(function(h){return h.isEqual(a)}).fold(function(){return dm(e,a.toRange())},function(h){return yN(r,e,f,a)})})},bN=function(e,r,a,i){var c=e.selection.getRng(),f=vt.fromRangeStart(c),h=e.getBody();if(!r&&vN(i,f)){var y=pN(h,a,f);return Gh(e,r,y),!0}else if(r&&GO(i,f)){var y=gN(h,a,f);return Gh(e,r,y),!0}else return!1},T_=function(e,r,a){return oe.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return oe.from(e.dom.getParent(i,"table")).map(function(c){return a(e,r,c,i)})}).getOr(!1)},zE=function(e,r){return T_(e,r,hN)},BC=function(e,r){return T_(e,r,bN)},AE=function(e,r,a){var i=br().os;x_([{keyCode:on.RIGHT,action:wa(BO,e,!0)},{keyCode:on.LEFT,action:wa(BO,e,!1)},{keyCode:on.UP,action:wa(NO,e,!1)},{keyCode:on.DOWN,action:wa(NO,e,!0)},{keyCode:on.RIGHT,action:wa(zE,e,!0)},{keyCode:on.LEFT,action:wa(zE,e,!1)},{keyCode:on.UP,action:wa(BC,e,!1)},{keyCode:on.DOWN,action:wa(BC,e,!0)},{keyCode:on.RIGHT,action:wa(HO,e,!0)},{keyCode:on.LEFT,action:wa(HO,e,!1)},{keyCode:on.UP,action:wa(DC,e,!1)},{keyCode:on.DOWN,action:wa(DC,e,!0)},{keyCode:on.RIGHT,action:wa(yO,e,r,!0)},{keyCode:on.LEFT,action:wa(yO,e,r,!1)},{keyCode:on.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:wa(pE,e,r)},{keyCode:on.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:wa(DB,e,r)},{keyCode:on.UP,action:wa(LO,e,!1)},{keyCode:on.DOWN,action:wa(LO,e,!0)}],a).each(function(c){a.preventDefault()})},_N=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&AE(e,r,a)})},wN=function(e,r,a){x_([{keyCode:on.BACKSPACE,action:wa(SO,e,!1)},{keyCode:on.BACKSPACE,action:wa(dC,e,!1)},{keyCode:on.DELETE,action:wa(dC,e,!0)},{keyCode:on.BACKSPACE,action:wa(fC,e,!1)},{keyCode:on.DELETE,action:wa(fC,e,!0)},{keyCode:on.BACKSPACE,action:wa(TC,e,r,!1)},{keyCode:on.DELETE,action:wa(TC,e,r,!0)},{keyCode:on.BACKSPACE,action:wa(yg,e,!1)},{keyCode:on.DELETE,action:wa(yg,e,!0)},{keyCode:on.BACKSPACE,action:wa(vC,e,!1)},{keyCode:on.DELETE,action:wa(vC,e,!0)},{keyCode:on.BACKSPACE,action:wa(OC,e,!1)},{keyCode:on.DELETE,action:wa(OC,e,!0)},{keyCode:on.BACKSPACE,action:wa(cC,e,!1)},{keyCode:on.DELETE,action:wa(cC,e,!0)},{keyCode:on.BACKSPACE,action:wa(sC,e,!1)},{keyCode:on.DELETE,action:wa(sC,e,!0)},{keyCode:on.BACKSPACE,action:wa(EC,e,!1)},{keyCode:on.DELETE,action:wa(EC,e,!0)}],a).each(function(i){a.preventDefault()})},kN=function(e,r){x_([{keyCode:on.BACKSPACE,action:wa(XA,e)},{keyCode:on.DELETE,action:wa(XA,e)}],r)},OE=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&wN(e,r,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&kN(e,a)})},CN=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Aw=function(e,r){var a,i=r,c=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(r){if(/^(LI|DT|DD)$/.test(r.nodeName)){var h=CN(r.firstChild);h&&/^(UL|OL|DL)$/.test(h.nodeName)&&r.insertBefore(c.doc.createTextNode(Vs),r.firstChild)}var y=c.createRng();if(r.normalize(),r.hasChildNodes()){for(var w=new Ua(r,r);a=w.current();){if(zr(a)){y.setStart(a,0),y.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){y.setStartBefore(a),y.setEndBefore(a);break}i=a,a=w.next()}a||(y.setStart(i,0),y.setEnd(i,0))}else eo(r)?r.nextSibling&&c.isBlock(r.nextSibling)?(y.setStartBefore(r),y.setEndBefore(r)):(y.setStartAfter(r),y.setEndAfter(r)):(y.setStart(r,0),y.setEnd(r,0));e.selection.setRng(y),Jp(e,y)}},xN=function(e,r){var a=e.getRoot(),i,c;for(i=r;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(c=i),i=i.parentNode;return i!==a?c:a},RE=function(e){return oe.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},KO=function(e){return RE(e).fold(X(""),function(r){return r.nodeName.toUpperCase()})},SN=function(e){return RE(e).filter(function(r){return Ou(x.fromDom(r))}).isSome()},TN=function(e,r){return e.firstChild&&e.firstChild.nodeName===r},EN=function(e){var r;return((r=e.parentNode)===null||r===void 0?void 0:r.firstChild)===e},XO=function(e,r){return e&&e.parentNode&&e.parentNode.nodeName===r},YO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},zN=function(e){return YO(e)&&YO(e.parentNode)},NC=function(e){var r=e.parentNode;return/^(LI|DT|DD)$/.test(r.nodeName)?r:e},PC=function(e,r,a){for(var i=e[a?"firstChild":"lastChild"];i&&!pn(i);)i=i[a?"nextSibling":"previousSibling"];return i===r},ZO=function(e,r,a,i,c){var f=e.dom,h=e.selection.getRng();if(a!==e.getBody()){zN(a)&&(c="LI");var y=c?r(c):f.create("BR");if(PC(a,i,!0)&&PC(a,i,!1))if(XO(a,"LI")){var w=NC(a);f.insertAfter(y,w),EN(a)?f.remove(w):f.remove(a)}else f.replace(y,a);else if(PC(a,i,!0))XO(a,"LI")?(f.insertAfter(y,NC(a)),y.appendChild(f.doc.createTextNode(" ")),y.appendChild(a)):a.parentNode.insertBefore(y,a),f.remove(i);else if(PC(a,i,!1))f.insertAfter(y,NC(a)),f.remove(i);else{a=NC(a);var R=h.cloneRange();R.setStartAfter(i),R.setEndAfter(a);var L=R.extractContents();c==="LI"&&TN(L,"LI")?(y=L.firstChild,f.insertAfter(L,a)):(f.insertAfter(L,a),f.insertAfter(y,a)),f.remove(i)}Aw(e,y)}},AN=function(e){je(Um(x.fromDom(e),No),function(r){var a=r.dom;a.nodeValue=Cs(a.nodeValue)})},JO=function(e,r){return r&&r.nodeName==="A"&&e.isEmpty(r)},ON=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},DE=function(e){e.innerHTML='<br data-mce-bogus="1">'},ME=function(e,r){return e.nodeName===r||e.previousSibling&&e.previousSibling.nodeName===r},QO=function(e,r){return r&&e.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&e.getContentEditable(r)!=="true"},RN=function(e,r,a){var i=a,c=[],f;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;pn(i)&&!r[i.nodeName.toLowerCase()]&&c.push(i)}for(f=c.length;f--;)i=c[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||JO(e,i))&&e.remove(i)}},BE=function(e,r,a){return zr(r)===!1?a:e?a===1&&r.data.charAt(a-1)===Fe?0:a:a===r.data.length-1&&r.data.charAt(a)===Fe?r.data.length:a},DN=function(e){var r=e.cloneRange();return r.setStart(e.startContainer,BE(!0,e.startContainer,e.startOffset)),r.setEnd(e.endContainer,BE(!1,e.endContainer,e.endOffset)),r},MN=function(e){do zr(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},eR=function(e,r){var a=e.getRoot(),i,c;for(i=r;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(c=i),i=i.parentNode;return i!==a?c:a},BN=function(e,r,a){var i=e.dom;oe.from(a.style).map(i.parseStyle).each(function(w){var R=jo(x.fromDom(r)),L=$r($r({},R),w);i.setStyles(r,L)});var c=oe.from(a.class).map(function(w){return w.split(/\s+/)}),f=oe.from(r.className).map(function(w){return Xt(w.split(/\s+/),function(R){return R!==""})});$u(c,f,function(w,R){var L=Xt(R,function(j){return!qe(w,j)}),V=ei(ei([],w,!0),L,!0);i.setAttrib(r,"class",V.join(" "))});var h=["style","class"],y=un(a,function(w,R){return!qe(h,R)});i.setAttribs(r,y)},Ow=function(e,r){var a=hu(e);if(a&&a.toLowerCase()===r.tagName.toLowerCase()){var i=Ym(e);BN(e,r,i)}},NN=function(e,r,a,i,c){var f,h,y,w,R,L,V=r||"P",j=e.dom,re=eR(j,i);if(h=j.getParent(i,j.isBlock),!h||!QO(j,h)){if(h=h||re,h===e.getBody()||ON(h)?L=h.nodeName.toLowerCase():L=h.parentNode.nodeName.toLowerCase(),!h.hasChildNodes())return f=j.create(V),Ow(e,f),h.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(w=i;w.parentNode!==h;)w=w.parentNode;for(;w&&!j.isBlock(w);)y=w,w=w.previousSibling;if(y&&e.schema.isValidChild(L,V.toLowerCase())){for(f=j.create(V),Ow(e,f),y.parentNode.insertBefore(f,y),w=y;w&&!j.isBlock(w);)R=w.nextSibling,f.appendChild(w),w=R;a.setStart(i,c),a.setEnd(i,c)}}return i},PN=function(e,r){r.normalize();var a=r.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(r,"br")},tR=function(e,r){var a,i,c,f,h,y,w,R,L,V,j=e.dom,re=e.schema,ae=re.getNonEmptyElements(),ie=e.selection.getRng(),se=function(Tt){var Kt=i,nn,Cr,At,qr=re.getTextInlineElements();if(Tt||R==="TABLE"||R==="HR"?nn=j.create(Tt||L):nn=f.cloneNode(!1),At=nn,iS(e)===!1)j.setAttrib(nn,"style",null),j.setAttrib(nn,"class",null);else do if(qr[Kt.nodeName]){if(uf(Kt)||As(Kt))continue;Cr=Kt.cloneNode(!1),j.setAttrib(Cr,"id",""),nn.hasChildNodes()?(Cr.appendChild(nn.firstChild),nn.appendChild(Cr)):(At=Cr,nn.appendChild(Cr))}while((Kt=Kt.parentNode)&&Kt!==Ee);return Ow(e,nn),DE(At),nn},we=function(Tt){var Kt,nn,Cr=BE(Tt,i,c);if(zr(i)&&(Tt?Cr>0:Cr<i.nodeValue.length))return!1;if(i.parentNode===f&&V&&!Tt||Tt&&pn(i)&&i===f.firstChild)return!0;if(ME(i,"TABLE")||ME(i,"HR"))return V&&!Tt||!V&&Tt;var At=new Ua(i,f);for(zr(i)&&(Tt&&Cr===0?At.prev():!Tt&&Cr===i.nodeValue.length&&At.next());Kt=At.current();){if(pn(Kt)){if(!Kt.getAttribute("data-mce-bogus")&&(nn=Kt.nodeName.toLowerCase(),ae[nn]&&nn!=="br"))return!1}else if(zr(Kt)&&!Yc(Kt.nodeValue))return!1;Tt?At.prev():At.next()}return!0},he=function(){/^(H[1-6]|PRE|FIGURE)$/.test(R)&&nt!=="HGROUP"?h=se(L):h=se(),Pp(e)&&QO(j,w)&&j.isEmpty(f)?h=j.split(w,f):j.insertAfter(h,f),Aw(e,h)};wb(j,ie).each(function(Tt){ie.setStart(Tt.startContainer,Tt.startOffset),ie.setEnd(Tt.endContainer,Tt.endOffset)}),i=ie.startContainer,c=ie.startOffset,L=hu(e);var Ze=!!(r&&r.shiftKey),Ve=!!(r&&r.ctrlKey);pn(i)&&i.hasChildNodes()&&(V=c>i.childNodes.length-1,i=i.childNodes[Math.min(c,i.childNodes.length-1)]||i,V&&zr(i)?c=i.nodeValue.length:c=0);var Ee=eR(j,i);if(Ee){(L&&!Ze||!L&&Ze)&&(i=NN(e,L,ie,i,c)),f=j.getParent(i,j.isBlock),w=f?j.getParent(f.parentNode,j.isBlock):null,R=f?f.nodeName.toUpperCase():"";var nt=w?w.nodeName.toUpperCase():"";if(nt==="LI"&&!Ve&&(f=w,w=w.parentNode,R=nt),/^(LI|DT|DD)$/.test(R)&&j.isEmpty(f)){ZO(e,se,w,f,L);return}L&&f===e.getBody()||(L=L||"P",to(f)?(h=U_(f),j.isEmpty(f)&&DE(f),Ow(e,h),Aw(e,h)):we()?he():we(!0)?(h=f.parentNode.insertBefore(se(),f),Aw(e,ME(f,"HR")?h:f)):(a=DN(ie).cloneRange(),a.setEndAfter(f),y=a.extractContents(),AN(y),MN(y),h=y.firstChild,j.insertAfter(y,f),RN(j,ae,h),PN(j,f),j.isEmpty(f)&&DE(f),h.normalize(),j.isEmpty(h)?(j.remove(h),he()):(Ow(e,h),Aw(e,h))),j.setAttrib(h,"id",""),e.fire("NewBlock",{newBlock:h}))}},FN=function(e,r,a){for(var i=new Ua(r,a),c,f=e.getNonEmptyElements();c=i.next();)if(f[c.nodeName.toLowerCase()]||c.length>0)return!0},rR=function(e,r,a){var i=e.dom.createRng();a?(i.setStartBefore(r),i.setEndBefore(r)):(i.setStartAfter(r),i.setEndAfter(r)),e.selection.setRng(i),Jp(e,i)},nR=function(e,r){var a=e.selection,i=e.dom,c=a.getRng(),f,h;wb(i,c).each(function(ae){c.setStart(ae.startContainer,ae.startOffset),c.setEnd(ae.endContainer,ae.endOffset)});var y=c.startOffset,w=c.startContainer;if(w.nodeType===1&&w.hasChildNodes()){var R=y>w.childNodes.length-1;w=w.childNodes[Math.min(y,w.childNodes.length-1)]||w,R&&w.nodeType===3?y=w.nodeValue.length:y=0}var L=i.getParent(w,i.isBlock),V=L?i.getParent(L.parentNode,i.isBlock):null,j=V?V.nodeName.toUpperCase():"",re=!!(r&&r.ctrlKey);j==="LI"&&!re&&(L=V),w&&w.nodeType===3&&y>=w.nodeValue.length&&(FN(e.schema,w,L)||(f=i.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),h=!0)),f=i.create("br"),Fy(i,c,f),rR(e,f,h),e.undoManager.add()},aR=function(e,r){var a=x.fromTag("br");uu(x.fromDom(r),a),e.undoManager.add()},FC=function(e,r){NE(e.getBody(),r)||pd(x.fromDom(r),x.fromTag("br"));var a=x.fromTag("br");pd(x.fromDom(r),a),rR(e,a.dom,!1),e.undoManager.add()},oR=function(e){return eo(e.getNode())},NE=function(e,r){return oR(vt.after(r))?!0:rl(e,vt.after(r)).map(function(a){return eo(a.getNode())}).getOr(!1)},IC=function(e){return e&&e.nodeName==="A"&&"href"in e},iR=function(e){return e.fold(Wt,IC,IC,Wt)},IN=function(e){var r=St($h,e),a=vt.fromRangeStart(e.selection.getRng());return id(r,e.getBody(),a).filter(iR)},uR=function(e,r){r.fold(U,St(aR,e),St(FC,e),U)},Ag=function(e,r){var a=IN(e);a.isSome()?a.each(St(uR,e)):nR(e,r)},PE=function(e,r){return RE(e).filter(function(a){return r.length>0&&ir(x.fromDom(a),r)}).isSome()},FE=function(e){return PE(e,Zm(e))},$N=function(e){return PE(e,Ok(e))},yc=Kr.generate([{br:[]},{block:[]},{none:[]}]),LN=function(e,r){return $N(e)},IE=function(e){return function(r,a){var i=hu(r)==="";return i===e}},sR=function(e){return function(r,a){return SN(r)===e}},cR=function(e,r){return function(a,i){var c=KO(a)===e.toUpperCase();return c===r}},$C=function(e){return cR("pre",e)},HN=function(){return cR("summary",!0)},Rw=function(e){return function(r,a){return P1(r)===e}},E_=function(e,r){return FE(e)},Dw=function(e,r){return r},LC=function(e){var r=hu(e),a=xN(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,r||"P")},Fl=function(e,r){return function(a,i){var c=ut(e,function(f,h){return f&&h(a,i)},!0);return c?oe.some(r):oe.none()}},lR=function(e,r){return ww([Fl([LN],yc.none()),Fl([HN()],yc.br()),Fl([$C(!0),Rw(!1),Dw],yc.br()),Fl([$C(!0),Rw(!1)],yc.block()),Fl([$C(!0),Rw(!0),Dw],yc.block()),Fl([$C(!0),Rw(!0)],yc.br()),Fl([sR(!0),Dw],yc.br()),Fl([sR(!0)],yc.block()),Fl([IE(!0),Dw,LC],yc.block()),Fl([IE(!0)],yc.br()),Fl([E_],yc.br()),Fl([IE(!1),Dw],yc.br()),Fl([LC],yc.block())],[e,!!(r&&r.shiftKey)]).getOr(yc.none())},$E=function(e,r){lR(e,r).fold(function(){Ag(e,r)},function(){tR(e,r)},U)},fR=function(e,r){r.isDefaultPrevented()||(r.preventDefault(),d5(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),$E(e,r)}))},dR=function(e){e.on("keydown",function(r){r.keyCode===on.ENTER&&fR(e,r)})},LE=function(e,r,a){x_([{keyCode:on.END,action:wa(PO,e,!0)},{keyCode:on.HOME,action:wa(PO,e,!1)},{keyCode:on.END,action:wa(MC,e,!0)},{keyCode:on.HOME,action:wa(MC,e,!1)},{keyCode:on.END,action:wa(SC,e,!0,r)},{keyCode:on.HOME,action:wa(SC,e,!1,r)}],a).each(function(i){a.preventDefault()})},vR=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&LE(e,r,a)})},VN=br().browser,UN=function(e){var r=Sy(function(){e.composing||p3(e)},0);VN.isIE()&&(e.on("keypress",function(a){r.throttle()}),e.on("remove",function(a){r.cancel()}))},HC=function(e){UN(e),e.on("input",function(r){r.isComposing===!1&&p3(e)})},jN=br(),WN=function(e,r,a){x_([{keyCode:on.PAGE_UP,action:wa(SC,e,!1,r)},{keyCode:on.PAGE_DOWN,action:wa(SC,e,!0,r)}],a)},mR=function(e){return e.stopImmediatePropagation()},HE=function(e){return e.keyCode===on.PAGE_UP||e.keyCode===on.PAGE_DOWN},hR=function(e,r,a){a&&!e.get()?r.on("NodeChange",mR,!0):!a&&e.get()&&r.off("NodeChange",mR),e.set(a)},qN=function(e,r){if(!jN.os.isOSX()){var a=os(!1);e.on("keydown",function(i){HE(i)&&hR(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&WN(e,r,i),HE(i)&&a.get()&&(hR(a,e,!1),e.nodeChanged())})}},Lc=function(e,r){var a=r.container(),i=r.offset();return zr(a)?(a.insertData(i,e),oe.some(vt(a,i+e.length))):tb(r).map(function(c){var f=x.fromText(e);return r.isAtEnd()?pd(c,f):uu(c,f),vt(f.dom,e.length)})},GN=St(Lc,Vs),VE=St(Lc," "),pR=function(e){return function(r){return r.fold(function(a){return Dl(e.dom,vt.before(a))},function(a){return ju(a)},function(a){return Rc(a)},function(a){return rl(e.dom,vt.after(a))})}},UE=function(e,r){return function(a){return Vb(e,a)?GN(r):VE(r)}},KN=function(e){return function(r){return e.selection.setRng(r.toRange()),e.nodeChanged(),!0}},XN=function(e){var r=vt.fromRangeStart(e.selection.getRng()),a=x.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=St($h,e),c=vt.fromRangeStart(e.selection.getRng());return id(i,e.getBody(),c).bind(pR(a)).bind(UE(a,r)).exists(KN(e))}else return!1},gR=function(e,r){x_([{keyCode:on.SPACEBAR,action:wa(XN,e)}],r).each(function(a){r.preventDefault()})},YN=function(e){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&gR(e,r)})},ZN=function(e){var r=xC(e);return YB(e),_N(e,r),OE(e,r),dR(e),YN(e),HC(e),vR(e,r),qN(e,r),r},JN=function(e){return im(e)?os(null):ZN(e)},QN=function(){function e(r){this.lastPath=[],this.editor=r;var a,i=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",function(c){var f=r.selection.getRng(),h={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!T0(h,a))&&r.fire("SelectionChange"),a=h}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var c=r.selection.getStart(!0);!c||!Zt.range&&r.selection.isCollapsed()||qd(r)&&!i.isSameElementPath(c)&&r.dom.isChildOf(c,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",function(c){!c.isDefaultPrevented()&&qd(r)&&(r.selection.getNode().nodeName==="IMG"?Au.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())})}return e.prototype.nodeChanged=function(r){var a=this.editor.selection,i,c,f;this.editor.initialized&&a&&!hS(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),c=[],this.editor.dom.getParent(i,function(h){if(h===f)return!0;c.push(h)}),r=r||{},r.element=i,r.parents=c,this.editor.fire("NodeChange",r))},e.prototype.isSameElementPath=function(r){var a,i=this.editor.$(r).parentsUntil(this.editor.getBody()).add(r);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),e7=function(e){e.on("click",function(r){e.dom.getParent(r.target,"details")&&r.preventDefault()})},t7=function(e){e.parser.addNodeFilter("details",function(r){je(r,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(r){je(r,function(a){var i=a.attr("data-mce-open");a.attr("open",_e(i)?i:null),a.attr("data-mce-open",null)})})},r7=function(e){e7(e),t7(e)},yR=function(e){return pn(e)&&ql(x.fromDom(e))},n7=function(e){var r=e.selection.getRng(),a=vt.fromRangeStart(r),i=vt.fromRangeEnd(r);if(vt.isElementPosition(a)){var c=a.container();yR(c)&&ju(c).each(function(f){return r.setStart(f.container(),f.offset())})}if(vt.isElementPosition(i)){var c=a.container();yR(c)&&Rc(c).each(function(h){return r.setEnd(h.container(),h.offset())})}e.selection.setRng(P8(r))},vs=function(e){e.on("click",function(r){r.detail>=3&&n7(e)})},bR=function(e){var r=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,c=a.defaultView;return{top:r.top+c.pageYOffset-i.clientTop,left:r.left+c.pageXOffset-i.clientLeft}},a7=function(e){return e.inline?bR(e.getBody()):{left:0,top:0}},o7=function(e){var r=e.getBody();return e.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},bc=function(e){var r=e.getBody(),a=e.getDoc().documentElement,i={left:r.scrollLeft,top:r.scrollTop},c={left:r.scrollLeft||a.scrollLeft,top:r.scrollTop||a.scrollTop};return e.inline?i:c},i7=function(e,r){if(r.target.ownerDocument!==e.getDoc()){var a=bR(e.getContentAreaContainer()),i=bc(e);return{left:r.pageX-a.left+i.left,top:r.pageY-a.top+i.top}}return{left:r.pageX,top:r.pageY}},_R=function(e,r,a){return{pageX:a.left-e.left+r.left,pageY:a.top-e.top+r.top}},u7=function(e,r){return _R(a7(e),o7(e),i7(e,r))},mm=_o,s7=qc,c7=function(e,r){return mm(r)&&r!==e},jE=function(e,r,a){return r===a||e.dom.isChildOf(r,a)?!1:!mm(r)},l7=function(e){var r=e.cloneNode(!0);return r.removeAttribute("data-mce-selected"),r},f7=function(e,r,a,i){var c=e.dom,f=r.cloneNode(!0);c.setStyles(f,{width:a,height:i}),c.setAttrib(f,"data-mce-selected",null);var h=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(h,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),h.appendChild(f),h},d7=function(e,r){e.parentNode!==r&&r.appendChild(e)},v7=function(e,r,a,i,c,f){var h=0,y=0;e.style.left=r.pageX+"px",e.style.top=r.pageY+"px",r.pageX+a>c&&(h=r.pageX+a-c),r.pageY+i>f&&(y=r.pageY+i-f),e.style.width=a-h+"px",e.style.height=i-y+"px"},wR=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},m7=function(e){return e.button===0},VC=function(e,r){return{pageX:r.pageX-e.relX,pageY:r.pageY+5}},kR=function(e,r){return function(a){if(m7(a)){var i=nr(r.dom.getParents(a.target),Yx(mm,s7)).getOr(null);if(c7(r.getBody(),i)){var c=r.dom.getPos(i),f=r.getBody(),h=r.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(r.inline?f.scrollWidth:h.offsetWidth)-2,maxY:(r.inline?f.scrollHeight:h.offsetHeight)-2,relX:a.pageX-c.x,relY:a.pageY-c.y,width:i.offsetWidth,height:i.offsetHeight,ghost:f7(r,i,i.offsetWidth,i.offsetHeight)})}}}},h7=function(e,r){var a=Au.throttle(function(i,c){r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(i,c)},0);return r.on("remove",a.stop),function(i){return e.on(function(c){var f=Math.max(Math.abs(i.screenX-c.screenX),Math.abs(i.screenY-c.screenY));if(!c.dragging&&f>10){var h=r.fire("dragstart",{target:c.element});if(h.isDefaultPrevented())return;c.dragging=!0,r.focus()}if(c.dragging){var y=VC(c,u7(r,i));d7(c.ghost,r.getBody()),v7(c.ghost,y,c.width,c.height,c.maxX,c.maxY),a(i.clientX,i.clientY)}})}},p7=function(e){var r=e.getSel().getRangeAt(0),a=r.startContainer;return a.nodeType===3?a.parentNode:a},g7=function(e,r){return function(a){e.on(function(i){if(i.dragging){if(jE(r,p7(r.selection),i.element)){var c=l7(i.element),f=r.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||r.undoManager.transact(function(){wR(i.element),r.insertContent(r.dom.getOuterHTML(c)),r._selectionOverrides.hideFakeCaret()})}r.fire("dragend")}}),CR(e)}},y7=function(e,r){return function(){e.on(function(a){a.dragging&&r.fire("dragend")}),CR(e)}},CR=function(e){e.on(function(r){wR(r.ghost)}),e.clear()},WE=function(e){var r=Nd(),a=ho.DOM,i=document,c=kR(r,e),f=h7(r,e),h=g7(r,e),y=y7(r,e);e.on("mousedown",c),e.on("mousemove",f),e.on("mouseup",h),a.bind(i,"mousemove",f),a.bind(i,"mouseup",y),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",y)}),e.on("keydown",function(w){w.keyCode===on.ESC&&y()})},xR=function(e){e.on("drop",function(r){var a=typeof r.clientX<"u"?e.getDoc().elementFromPoint(r.clientX,r.clientY):null;(mm(a)||e.dom.getContentEditableParent(a)==="false")&&r.preventDefault()})},SR=function(e){var r=function(c){if(!c.isDefaultPrevented()){var f=c.dataTransfer;f&&(qe(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&aC(e,"Dropped file type is not supported"))}},a=function(c){zb(e,c.target)&&r(c)},i=function(){var c=ho.DOM,f=e.dom,h=document,y=e.inline?e.getBody():e.getDoc(),w=["drop","dragover"];je(w,function(R){c.bind(h,R,a),f.bind(y,R,r)}),e.on("remove",function(){je(w,function(R){c.unbind(h,R,a),f.unbind(y,R,r)})})};e.on("init",function(){Au.setEditorTimeout(e,i,0)})},TR=function(e){WE(e),xR(e),eh(e)&&SR(e)},b7=function(e){var r=Sy(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=lC(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){r.throttle()}),e.on("blur",function(){r.cancel()})},_7=function(e){e.on("init",function(){e.on("focusin",function(r){var a=r.target;if(_s(a)){var i=jv(e.getBody(),a),c=_o(i)?i:a;e.selection.getNode()!==c&&p_(e,c).each(function(f){return e.selection.setRng(f)})}})})},ER=qc,Og=_o,UC=function(e,r){return jv(e.getBody(),r)},w7=function(e){var r=e.selection,a=e.dom,i=a.isBlock,c=e.getBody(),f=Uu(e,c,i,function(){return Bc(e)}),h="sel-"+a.uniqueId(),y="data-mce-selected",w,R=function(At){return a.hasClass(At,"mce-offscreen-selection")},L=function(At){return At!==c&&(Og(At)||_s(At))&&a.isChildOf(At,c)},V=function(At){return Jd(At)||Qd(At)||Oh(At)||Rh(At)},j=function(){var At=a.get(h);return At&&At.getElementsByTagName("*")[0]},re=function(At){At&&r.setRng(At)},ae=r.getRng,ie=function(At,qr,Jt,wr){wr===void 0&&(wr=!0);var Qt=e.fire("ShowCaret",{target:qr,direction:At,before:Jt});return Qt.isDefaultPrevented()?null:(wr&&r.scrollIntoView(qr,At===-1),f.show(Jt,qr))},se=function(At){At.hasAttribute("data-mce-caret")&&(U_(At),re(ae()),r.scrollIntoView(At))},we=function(){e.on("mouseup",function(Qt){var hr=ae();hr.collapsed&&cA(e,Qt.clientX,Qt.clientY)&&XT(e,hr,!1).each(re)}),e.on("click",function(Qt){var hr=UC(e,Qt.target);hr&&(Og(hr)&&(Qt.preventDefault(),e.focus()),ER(hr)&&a.isChildOf(hr,r.getNode())&&Kt())}),e.on("blur NewBlock",Kt),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var At=function(Qt){var hr=Qt.firstChild;if(Le(hr))return!1;var Or=vt.before(hr);if(eo(Or.getNode())&&Qt.childNodes.length===1)return!V(Or);var Vt=Zo(Qt),Er=Vt.next(Or);return Er&&!V(Er)},qr=function(Qt,hr){var Or=a.getParent(Qt,i),Vt=a.getParent(hr,i);return Or===Vt},Jt=function(Qt,hr){var Or=a.getParent(Qt,i),Vt=a.getParent(hr,i);return Le(Or)?!1:Qt!==Vt&&a.isChildOf(Or,Vt)&&Og(UC(e,Or))===!1?!0:!a.isChildOf(Vt,Or)&&!qr(Or,Vt)&&At(Or)};e.on("tap",function(Qt){var hr=Qt.target,Or=UC(e,hr);Og(Or)?(Qt.preventDefault(),p_(e,Or).each(Tt)):L(hr)&&p_(e,hr).each(Tt)},!0),e.on("mousedown",function(Qt){var hr=Qt.target;if(!(hr!==c&&hr.nodeName!=="HTML"&&!a.isChildOf(hr,c))&&cA(e,Qt.clientX,Qt.clientY)!==!1){var Or=UC(e,hr);if(Or)Og(Or)?(Qt.preventDefault(),p_(e,Or).each(Tt)):(Kt(),!(ER(Or)&&Qt.shiftKey)&&!Wv(Qt.clientX,Qt.clientY,r.getRng())&&(Cr(),r.placeCaretAt(Qt.clientX,Qt.clientY)));else if(L(hr))p_(e,hr).each(Tt);else if(Pv(hr)===!1){Kt(),Cr();var Vt=EB(c,Qt.clientX,Qt.clientY);if(Vt&&!Jt(hr,Vt.node)){Qt.preventDefault();var Er=ie(1,Vt.node,Vt.before,!1);re(Er),e.getBody().focus()}}}}),e.on("keypress",function(Qt){on.modifierPressed(Qt)||Og(r.getNode())&&Qt.preventDefault()}),e.on("GetSelectionRange",function(Qt){var hr=Qt.range;if(w){if(!w.parentNode){w=null;return}hr=hr.cloneRange(),hr.selectNode(w),Qt.range=hr}}),e.on("SetSelectionRange",function(Qt){Qt.range=Ve(Qt.range);var hr=Tt(Qt.range,Qt.forward);hr&&(Qt.range=hr)});var wr=function(Qt){return Qt.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(Qt){var hr=Qt.range,Or=hr.startContainer.parentNode;!Ze(hr)&&!wr(Or)&&Cr(),R(Or)||Kt()}),e.on("copy",function(Qt){var hr=Qt.clipboardData;if(!Qt.isDefaultPrevented()&&Qt.clipboardData&&!Zt.ie){var Or=j();Or&&(Qt.preventDefault(),hr.clearData(),hr.setData("text/html",Or.outerHTML),hr.setData("text/plain",Or.outerText||Or.innerText))}}),TR(e),b7(e),_7(e)},he=function(At){return xs(At)||mp(At)||hp(At)},Ze=function(At){return he(At.startContainer)||he(At.endContainer)},Ve=function(At){var qr=e.schema.getShortEndedElements(),Jt=a.createRng(),wr=At.startContainer,Qt=At.startOffset,hr=At.endContainer,Or=At.endOffset;return Sn(qr,wr.nodeName.toLowerCase())?Qt===0?Jt.setStartBefore(wr):Jt.setStartAfter(wr):Jt.setStart(wr,Qt),Sn(qr,hr.nodeName.toLowerCase())?Or===0?Jt.setEndBefore(hr):Jt.setEndAfter(hr):Jt.setEnd(hr,Or),Jt},Ee=function(At,qr,Jt){var wr=e.$,Qt=xm(x.fromDom(e.getBody()),"#"+h).fold(function(){return wr([])},function(Vt){return wr([Vt.dom])});Qt.length===0&&(Qt=wr('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",h),Qt.appendTo(e.getBody()));var hr=a.createRng();qr===Jt&&Zt.ie?(Qt.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(qr),hr.setStartAfter(Qt[0].firstChild.firstChild),hr.setEndAfter(qr)):(Qt.empty().append(Vs).append(qr).append(Vs),hr.setStart(Qt[0].firstChild,1),hr.setEnd(Qt[0].lastChild,0)),Qt.css({top:a.getPos(At,e.getBody()).y}),Qt[0].focus();var Or=r.getSel();return Or.removeAllRanges(),Or.addRange(hr),hr},nt=function(At){var qr=At.cloneNode(!0),Jt=e.fire("ObjectSelected",{target:At,targetClone:qr});if(Jt.isDefaultPrevented())return null;var wr=Ee(At,Jt.targetClone,qr),Qt=x.fromDom(At);return je(mu(x.fromDom(e.getBody()),"*[data-mce-selected]"),function(hr){an(Qt,hr)||_t(hr,y)}),a.getAttrib(At,y)||At.setAttribute(y,"1"),w=At,Cr(),wr},Tt=function(At,qr){if(!At)return null;if(At.collapsed){if(!Ze(At)){var Jt=qr?1:-1,wr=lh(Jt,c,At),Qt=wr.getNode(!qr);if(Pv(Qt))return ie(Jt,Qt,qr?!wr.isAtEnd():!1,!1);var hr=wr.getNode(qr);if(Pv(hr))return ie(Jt,hr,qr?!1:!wr.isAtEnd(),!1)}return null}var Or=At.startContainer,Vt=At.startOffset,Er=At.endOffset;if(Or.nodeType===3&&Vt===0&&Og(Or.parentNode)&&(Or=Or.parentNode,Vt=a.nodeIndex(Or),Or=Or.parentNode),Or.nodeType!==1)return null;if(Er===Vt+1&&Or===At.endContainer){var ea=Or.childNodes[Vt];if(L(ea))return nt(ea)}return null},Kt=function(){w&&w.removeAttribute(y),xm(x.fromDom(e.getBody()),"#"+h).each(Uo),w=null},nn=function(){f.destroy(),w=null},Cr=function(){f.hide()};return Zt.ceFalse&&!im(e)&&we(),{showCaret:ie,showBlockCaretContainer:se,hideFakeCaret:Cr,destroy:nn}},zR=function(e){var r=ht.each,a=on.BACKSPACE,i=on.DELETE,c=e.dom,f=e.selection,h=e.parser,y=Zt.gecko,w=Zt.ie,R=Zt.webkit,L="data:text/mce-internal,",V=w?"Text":"URL",j=function(Ut,ur){try{e.getDoc().execCommand(Ut,!1,ur)}catch{}},re=function(Ut){return Ut.isDefaultPrevented()},ae=function(Ut){var ur,Gr;Ut.dataTransfer&&(e.selection.isCollapsed()&&Ut.target.tagName==="IMG"&&f.select(Ut.target),ur=e.selection.getContent(),ur.length>0&&(Gr=L+escape(e.id)+","+escape(ur),Ut.dataTransfer.setData(V,Gr)))},ie=function(Ut){var ur;return Ut.dataTransfer&&(ur=Ut.dataTransfer.getData(V),ur&&ur.indexOf(L)>=0)?(ur=ur.substr(L.length).split(","),{id:unescape(ur[0]),html:unescape(ur[1])}):null},se=function(Ut,ur){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Ut,internal:ur}):e.execCommand("mceInsertContent",!1,Ut)},we=function(){var Ut=function(Gr){var ot=c.create("body"),Yt=Gr.cloneContents();return ot.appendChild(Yt),f.serializer.serialize(ot,{format:"html"})},ur=function(Gr){var ot=Ut(Gr),Yt=c.createRng();Yt.selectNode(e.getBody());var qt=Ut(Yt);return ot===qt};e.on("keydown",function(Gr){var ot=Gr.keyCode,Yt,qt;if(!re(Gr)&&(ot===i||ot===a)){if(Yt=e.selection.isCollapsed(),qt=e.getBody(),Yt&&!c.isEmpty(qt)||!Yt&&!ur(e.selection.getRng()))return;Gr.preventDefault(),e.setContent(""),qt.firstChild&&c.isBlock(qt.firstChild)?e.selection.setCursorLocation(qt.firstChild,0):e.selection.setCursorLocation(qt,0),e.nodeChanged()}})},he=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Ze=function(){e.inline||c.bind(e.getDoc(),"mousedown mouseup",function(Ut){var ur;if(Ut.target===e.getDoc().documentElement)if(ur=f.getRng(),e.getBody().focus(),Ut.type==="mousedown"){if(xs(ur.startContainer))return;f.placeCaretAt(Ut.clientX,Ut.clientY)}else f.setRng(ur)})},Ve=function(){e.on("keydown",function(Ut){if(!re(Ut)&&Ut.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var ur=f.getNode(),Gr=ur.previousSibling;if(ur.nodeName==="HR"){c.remove(ur),Ut.preventDefault();return}Gr&&Gr.nodeName&&Gr.nodeName.toLowerCase()==="hr"&&(c.remove(Gr),Ut.preventDefault())}}})},Ee=function(){Range.prototype.getClientRects||e.on("mousedown",function(Ut){if(!re(Ut)&&Ut.target.nodeName==="HTML"){var ur=e.getBody();ur.blur(),Au.setEditorTimeout(e,function(){ur.focus()})}})},nt=function(){e.on("click",function(Ut){var ur=Ut.target;/^(IMG|HR)$/.test(ur.nodeName)&&c.getContentEditableParent(ur)!=="false"&&(Ut.preventDefault(),e.selection.select(ur),e.nodeChanged()),ur.nodeName==="A"&&c.hasClass(ur,"mce-item-anchor")&&(Ut.preventDefault(),f.select(ur))})},Tt=function(){var Ut=function(){var Gr=c.getAttribs(f.getStart().cloneNode(!1));return function(){var ot=f.getStart();ot!==e.getBody()&&(c.setAttrib(ot,"style",null),r(Gr,function(Yt){ot.setAttributeNode(Yt.cloneNode(!0))}))}},ur=function(){return!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock)};e.on("keypress",function(Gr){var ot;if(!re(Gr)&&(Gr.keyCode===8||Gr.keyCode===46)&&ur())return ot=Ut(),e.getDoc().execCommand("delete",!1,null),ot(),Gr.preventDefault(),!1}),c.bind(e.getDoc(),"cut",function(Gr){var ot;!re(Gr)&&ur()&&(ot=Ut(),Au.setEditorTimeout(e,function(){ot()}))})},Kt=function(){e.on("keydown",function(Ut){if(!re(Ut)&&Ut.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var ur=f.getNode().previousSibling;if(ur&&ur.nodeName&&ur.nodeName.toLowerCase()==="table")return Ut.preventDefault(),!1}})},nn=function(){e.on("keydown",function(Ut){var ur,Gr;if(!(re(Ut)||Ut.keyCode!==on.BACKSPACE)){ur=f.getRng();var ot=ur.startContainer,Yt=ur.startOffset,qt=c.getRoot();if(Gr=ot,!(!ur.collapsed||Yt!==0)){for(;Gr&&Gr.parentNode&&Gr.parentNode.firstChild===Gr&&Gr.parentNode!==qt;)Gr=Gr.parentNode;Gr.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Gr),ur=c.createRng(),ur.setStart(ot,0),ur.setEnd(ot,0),f.setRng(ur))}}})},Cr=function(){var Ut=function(){j("StyleWithCSS",!1),j("enableInlineTableEditing",!1),Bk(e)||j("enableObjectResizing",!1)};pS(e)||e.on("BeforeExecCommand mousedown",Ut)},At=function(){var Ut=function(){r(c.select("a"),function(ur){var Gr=ur.parentNode,ot=c.getRoot();if(Gr.lastChild===ur){for(;Gr&&!c.isBlock(Gr);){if(Gr.parentNode.lastChild!==Gr||Gr===ot)return;Gr=Gr.parentNode}c.add(Gr,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(ur){(ur.type==="setcontent"||ur.command==="mceInsertLink")&&Ut()})},qr=function(){hu(e)&&e.on("init",function(){j("DefaultParagraphSeparator",hu(e))})},Jt=function(){e.on("keyup focusin mouseup",function(Ut){on.modifierPressed(Ut)||f.normalize()},!0)},wr=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},Qt=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},hr=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Ut){var ur;if(Ut.target.nodeName==="HTML"){if(Zt.ie>11){e.getBody().focus();return}ur=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(ur),e.selection.normalize(),e.nodeChanged()}}))},Or=function(){Zt.mac&&e.on("keydown",function(Ut){if(on.metaKeyPressed(Ut)&&!Ut.shiftKey&&(Ut.keyCode===37||Ut.keyCode===39)){Ut.preventDefault();var ur=e.selection.getSel();ur.modify("move",Ut.keyCode===37?"backward":"forward","lineboundary")}})},Vt=function(){j("AutoUrlDetect",!1)},Er=function(){e.on("click",function(Ut){var ur=Ut.target;do if(ur.tagName==="A"){Ut.preventDefault();return}while(ur=ur.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},ea=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Ut){Ut.preventDefault()})})},Pa=function(){h.addNodeFilter("br",function(Ut){for(var ur=Ut.length;ur--;)Ut[ur].attr("class")==="Apple-interchange-newline"&&Ut[ur].remove()})},Ma=function(){e.on("dragstart",function(Ut){ae(Ut)}),e.on("drop",function(Ut){if(!re(Ut)){var ur=ie(Ut);if(ur&&ur.id!==e.id){Ut.preventDefault();var Gr=S0(Ut.x,Ut.y,e.getDoc());f.setRng(Gr),se(ur.html,!0)}}})},wu=U,Go=function(){if(!y||e.removed)return!1;var Ut=e.selection.getSel();return!Ut||!Ut.rangeCount||Ut.rangeCount===0},Ds=function(){R&&(Ze(),nt(),ea(),he(),Zt.iOS&&(Qt(),hr(),Er())),y&&(Ee(),Cr(),wr(),Or())},Hc=function(){nn(),we(),Zt.windowsPhone||Jt(),R&&(Ze(),nt(),qr(),ea(),Kt(),Pa(),Zt.iOS?(Qt(),hr(),Er()):he()),Zt.ie>=11&&(hr(),Kt()),Zt.ie&&(he(),Vt(),Ma()),y&&(Ve(),Ee(),Tt(),Cr(),At(),wr(),Or(),Kt())};return im(e)?Ds():Hc(),{refreshContentEditable:wu,isHidden:Go}},qE=ho.DOM,k7=function(e,r){var a=x.fromDom(e.getBody()),i=Xo(Ju(a)),c=x.fromTag("style");z(c,"type","text/css"),Ti(c,x.fromText(r)),Ti(i,c),e.on("remove",function(){Uo(c)})},C7=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},GE=function(e){return un(e,function(r){return ze(r)===!1})},KE=function(e){var r=e.settings;return GE({block_elements:r.block_elements,boolean_attributes:r.boolean_attributes,custom_elements:r.custom_elements,extended_valid_elements:r.extended_valid_elements,invalid_elements:r.invalid_elements,invalid_styles:r.invalid_styles,move_caret_before_on_enter_elements:r.move_caret_before_on_enter_elements,non_empty_elements:r.non_empty_elements,schema:r.schema,self_closing_elements:r.self_closing_elements,short_ended_elements:r.short_ended_elements,special:r.special,text_block_elements:r.text_block_elements,text_inline_elements:r.text_inline_elements,valid_children:r.valid_children,valid_classes:r.valid_classes,valid_elements:r.valid_elements,valid_styles:r.valid_styles,verify_html:r.verify_html,whitespace_elements:r.whitespace_elements,padd_empty_block_inline_children:r.format_empty_lines})},AR=function(e){var r=e.settings,a=e.editorUpload.blobCache;return GE({allow_conditional_comments:r.allow_conditional_comments,allow_html_data_urls:r.allow_html_data_urls,allow_svg_data_urls:r.allow_svg_data_urls,allow_html_in_named_anchor:r.allow_html_in_named_anchor,allow_script_urls:r.allow_script_urls,allow_unsafe_link_target:r.allow_unsafe_link_target,convert_fonts_to_spans:r.convert_fonts_to_spans,fix_list_elements:r.fix_list_elements,font_size_legacy_values:r.font_size_legacy_values,forced_root_block:r.forced_root_block,forced_root_block_attrs:r.forced_root_block_attrs,padd_empty_with_br:r.padd_empty_with_br,preserve_cdata:r.preserve_cdata,remove_trailing_brs:r.remove_trailing_brs,inline_styles:r.inline_styles,root_name:C7(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:r.images_dataimg_filter})},x7=function(e){var r=e.settings;return $r($r($r({},AR(e)),KE(e)),GE({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope,element_format:r.element_format,entities:r.entities,entity_encoding:r.entity_encoding,indent:r.indent,indent_after:r.indent_after,indent_before:r.indent_before}))},S7=function(e){var r=X3(AR(e),e.schema);return r.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var c=a.length,f,h,y=e.dom,w="data-mce-"+i;c--;)if(f=a[c],h=f.attr(i),h&&!f.attr(w)){if(h.indexOf("data:")===0||h.indexOf("blob:")===0)continue;i==="style"?(h=y.serializeStyle(y.parseStyle(h),f.name),h.length||(h=null),f.attr(w,h),f.attr(i,h)):i==="tabindex"?(f.attr(w,h),f.attr(i,null)):f.attr(w,e.convertURL(h,i,f.name))}}),r.addNodeFilter("script",function(a){for(var i=a.length;i--;){var c=a[i],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&r.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var c=a[i];c.type=8,c.name="#comment",c.value="[CDATA["+e.dom.encode(c.value)+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,c=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(c)&&f.getAll("br").length===0&&(f.append(new Nc("br",1)).shortEnded=!0)}}),r},T7=function(e){e.settings.auto_focus&&Au.setEditorTimeout(e,function(){var r;e.settings.auto_focus===!0?r=e:r=e.editorManager.get(e.settings.auto_focus),r.destroyed||r.focus()},100)},OR=function(e){var r=e.dom.getRoot();!e.inline&&(!qd(e)||e.selection.getStart(!0)===r)&&ju(r).each(function(a){var i=a.getNode(),c=si(i)?ju(i).getOr(a):a;Zt.browser.isIE()?c8(e,c.toRange()):e.selection.setRng(c.toRange())})},jC=function(e){e.bindPendingEventDelegates(),e.initialized=!0,d2(e),e.focus(!0),OR(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),T7(e)},XE=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},RR=function(e,r,a){var i=[new Yi(function(c,f){return XE(e).loadAll(r,c,f)})];return e.inline?i:i.concat([new Yi(function(c,f){return e.ui.styleSheetLoader.loadAll(a,c,f)})])},DR=function(e){var r=XE(e),a=Mk(e),i=e.contentCSS,c=function(){r.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},f=function(){e.removed?c():e.on("remove",c)};if(e.contentStyles.length>0){var h="";ht.each(e.contentStyles,function(w){h+=w+`\r
`}),e.dom.addStyle(h)}var y=Yi.all(RR(e,i,a)).then(f).catch(f);return e.settings.content_style&&k7(e,e.settings.content_style),y},E7=function(e){var r=e.settings,a=e.getDoc(),i=e.getBody();vf(e),!r.browser_spellcheck&&!r.gecko_spellcheck&&(a.body.spellcheck=!1,qE.setAttrib(i,"spellcheck","false")),e.quirks=zR(e),f2(e);var c=zl(e);c!==void 0&&(i.dir=c),r.protect&&e.on("BeforeSetContent",function(f){ht.each(r.protect,function(h){f.content=f.content.replace(h,function(y){return"<!--mce:protected "+escape(y)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(f){e.composing=f.type==="compositionstart"})},YE=function(e){im(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},ZE=function(e){e.removed!==!0&&(YE(e),jC(e))},JE=function(e,r){var a=e.settings,i=e.getElement(),c=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),e.inline||(c.open(),c.write(e.iframeHTML),c.close()),e.inline&&(qE.addClass(i,"mce-content-body"),e.contentDocument=c=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&qE.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=ds(e),e.schema=lc(KE(e)),e.dom=ho(c,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:qy(e),referrerPolicy:Gy(e),onSetAttrib:function(w){e.fire("SetAttrib",w)}}),e.parser=S7(e),e.serializer=MT(x7(e),e),e.selection=o_(e.dom,e.getWin(),e.serializer,e),e.annotator=gb(e),e.formatter=ai(e),e.undoManager=xA(e),e._nodeChangeDispatcher=new QN(e),e._selectionOverrides=w7(e),zO(e),r7(e),im(e)||vs(e);var h=JN(e);wf(e,h),C_(e),_w(e);var y=w5(e);E7(e),y.fold(function(){DR(e).then(function(){return ZE(e)})},function(w){e.setProgressState(!0),DR(e).then(function(){w().then(function(R){e.setProgressState(!1),ZE(e)},function(R){e.notificationManager.open({type:"error",text:String(R)}),ZE(e)})})})},Mw=ho.DOM,z7=function(e,r){if(document.domain!==window.location.hostname&&Zt.browser.isIE()){var a=gA("mce");e[a]=function(){JE(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return Mw.setAttrib(r,"src",i),!0}return!1},kf=function(e,r,a,i){var c=x.fromTag("iframe");return H(c,i),H(c,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),zv(c,"tox-edit-area__iframe"),c},MR=function(e){var r=Ak(e)+"<html><head>";N1(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=aS(e),i=oS(e),c=e.translate(Hk(e));return Uy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Uy(e)+'" />'),r+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+c+'">')+"<br></body></html>",r},BR=function(e,r){var a=e.translate("Rich Text Area"),i=kf(e.id,a,r.height,nS(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var c=z7(e,i);return e.contentAreaContainer=r.iframeContainer,e.iframeElement=i,e.iframeHTML=MR(e),Mw.add(r.iframeContainer,i),c},A7=function(e,r){var a=BR(e,r);r.editorContainer&&(Mw.get(r.editorContainer).style.display=e.orgDisplay,e.hidden=Mw.isHidden(r.editorContainer)),e.getElement().style.display="none",Mw.setAttrib(e.id,"aria-hidden","true"),a||JE(e)},NR=ho.DOM,PR=function(e,r,a){var i=ad.get(a),c=ad.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=ht.trim(a),i&&ht.inArray(r,a)===-1){if(ht.each(ad.dependencies(a),function(h){PR(e,r,h)}),e.plugins[a])return;try{var f=new i(e,c,e.$);e.plugins[a]=f,f.init&&(f.init(e,c),r.push(a))}catch(h){BM(e,a,h)}}},FR=function(e){return e.replace(/^\-/,"")},O7=function(e){var r=[];ht.each(Zy(e).split(/[ ,]/),function(a){PR(e,r,FR(a))})},R7=function(e){var r=ht.trim(af(e)),a=e.ui.registry.getAll().icons,i=$r($r({},nC.get("default").icons),nC.get(r).icons);xn(i,function(c,f){Sn(a,f)||e.ui.registry.addIcon(f,c)})},D7=function(e){var r=Jm(e);if(_e(r)){e.settings.theme=FR(r);var a=Ih.get(r);e.theme=new a(e,Ih.urls[r]),e.theme.init&&e.theme.init(e,Ih.urls[r]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},QE=function(e){return e.theme.renderUI()},M7=function(e){var r=e.getElement(),a=Jm(e),i=a(e,r);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:r.offsetHeight,i},IR=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},$R=function(e){var r=NR.create("div");return NR.insertAfter(r,e),IR(r)},B7=function(e){var r=e.getElement();return e.inline?IR(null):$R(r)},N7=function(e){var r=e.getElement();return e.orgDisplay=r.style.display,_e(Jm(e))?QE(e):ce(Jm(e))?M7(e):B7(e)},P7=function(e,r){var a={show:oe.from(r.show).getOr(U),hide:oe.from(r.hide).getOr(U),disable:oe.from(r.disable).getOr(U),isDisabled:oe.from(r.isDisabled).getOr(Wt),enable:function(){e.mode.isReadOnly()||oe.from(r.enable).map(On)}};e.ui=$r($r({},e.ui),a)},LR=function(e){e.fire("ScriptsLoaded"),R7(e),D7(e),O7(e);var r=N7(e);P7(e,oe.from(r.api).getOr({}));var a={editorContainer:r.editorContainer,iframeContainer:r.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,pA(e),e.inline?JE(e):A7(e,a)},Rg=ho.DOM,HR=function(e){return e.charAt(0)==="-"},ez=function(e,r){var a=Ky(r),i=Ji(r);if(is.hasCode(a)===!1&&a!=="en"){var c=i!==""?i:r.editorManager.baseURL+"/langs/"+a+".js";e.add(c,U,void 0,function(){MM(r,c,a)})}},F7=function(e,r,a,i){var c=Jm(r);if(_e(c)){if(!HR(c)&&!Sn(Ih.urls,c)){var f=Fk(r);f?Ih.load(c,r.documentBaseURI.toAbsolute(f)):Ih.load(c,"themes/"+c+"/theme"+a+".js")}e.loadQueue(function(){Ih.waitFor(c,i)})}else i()},VR=function(e){return oe.from(Wy(e)).filter(function(r){return r.length>0}).map(function(r){return{url:r,name:oe.none()}})},UR=function(e,r,a){return oe.from(r).filter(function(i){return i.length>0&&!nC.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:oe.some(i)}})},I7=function(e,r,a){var i=UR(r,"default",a),c=VR(r).orThunk(function(){return UR(r,af(r),"")});je(Vn([i,c]),function(f){e.add(f.url,U,void 0,function(){mA(r,f.url,f.name.getOrUndefined())})})},$7=function(e,r){ht.each(yS(e),function(a,i){ad.load(i,a,U,void 0,function(){HT(e,a,i)}),e.settings.plugins+=" "+i}),ht.each(Zy(e).split(/[ ,]/),function(a){if(a=ht.trim(a),a&&!ad.urls[a])if(HR(a)){a=a.substr(1,a.length);var i=ad.dependencies(a);ht.each(i,function(f){var h={prefix:"plugins/",resource:f,suffix:"/plugin"+r+".js"},y=ad.createUrl(h,f);ad.load(y.resource,y,U,void 0,function(){HT(e,y.prefix+y.resource+y.suffix,y.resource)})})}else{var c={prefix:"plugins/",resource:a,suffix:"/plugin"+r+".js"};ad.load(a,c,U,void 0,function(){HT(e,c.prefix+c.resource+c.suffix,a)})}})},L7=function(e,r){var a=jf.ScriptLoader;F7(a,e,r,function(){ez(a,e),I7(a,e,r),$7(e,r),a.loadQueue(function(){e.removed||LR(e)},e,function(){e.removed||LR(e)})})},_u=function(e,r){return Kc.forElement(e,{contentCssCors:gS(r),referrerPolicy:Gy(r)})},H7=function(e){var r=e.id;is.setCode(Ky(e));var a=function(){Rg.unbind(window,"ready",a),e.render()};if(!Bm.Event.domLoaded){Rg.bind(window,"ready",a);return}if(e.getElement()&&Zt.contentEditable){var i=x.fromDom(e.getElement()),c=Vr(i);e.on("remove",function(){Nt(i.dom.attributes,function(h){return _t(i,h.name)}),H(i,c)}),e.ui.styleSheetLoader=_u(i,e),dS(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||Rg.getParent(r,"form");f&&(e.formElement=f,Ik(e)&&!su(e.getElement())&&(Rg.insertAfter(Rg.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(h){e.fire(h.type,h)},Rg.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),$k(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=FT(e),e.notificationManager=dA(e),H1(e)&&e.on("GetContent",function(h){h.save&&(h.content=Rg.encode(h.content))}),vS(e)&&e.on("submit",function(){e.initialized&&e.save()}),Yy(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),L7(e,e.suffix)}},V7=function(e,r){return M5(e,r)},U7={"font-size":"size","font-family":"face"},jR=function(e,r,a){var i=function(f){return cu(f,e).orThunk(function(){return za(f)==="font"?Kn(U7,e).bind(function(h){return ve(f,h)}):oe.none()})},c=function(f){return an(x.fromDom(r),f)};return q8(x.fromDom(a),function(f){return i(f)},c)},tz=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},j7=function(e,r){return oe.from(ho.DOM.getStyle(r,e,!0))},rz=function(e){return function(r,a){return oe.from(a).map(x.fromDom).filter(bo).bind(function(i){return jR(e,r,i.dom).or(j7(e,i.dom))}).getOr("")}},W7=rz("font-size"),q7=Ce(tz,rz("font-family")),G7=function(e){return ju(e.getBody()).map(function(r){var a=r.container();return zr(a)?a.parentNode:a})},K7=function(e){return oe.from(e.selection.getRng()).bind(function(r){var a=e.getBody(),i=r.startContainer===a&&r.startOffset===0;return i?oe.none():oe.from(e.selection.getStart(!0))})},X7=function(e,r){return K7(e).orThunk(St(G7,e)).map(x.fromDom).filter(bo).bind(r)},nz=function(e,r){return X7(e,J(oe.some,r))},WR=function(e,r){if(/^[0-9.]+$/.test(r)){var a=parseInt(r,10);if(a>=1&&a<=7){var i=Fp(e),c=Bv(e);return c?c[a-1]||r:i[a-1]||r}else return r}else return r},Y7=function(e){var r=e.split(/\s*,\s*/);return Pe(r,function(a){return a.indexOf(" ")!==-1&&!(Gt(a,'"')||Gt(a,"'"))?"'"+a+"'":a}).join(",")},Z7=function(e,r){var a=WR(e,r);e.formatter.toggle("fontname",{value:Y7(a)}),e.nodeChanged()},J7=function(e){return nz(e,function(r){return q7(e.getBody(),r.dom)}).getOr("")},Q7=function(e,r){e.formatter.toggle("fontsize",{value:WR(e,r)}),e.nodeChanged()},eP=function(e){return nz(e,function(r){return W7(e.getBody(),r.dom)}).getOr("")},tP=function(e){return nz(e,function(r){var a=x.fromDom(e.getBody()),i=q8(r,function(f){return cu(f,"line-height")},St(an,a)),c=function(){var f=parseFloat(Un(r,"line-height")),h=parseFloat(Un(r,"font-size"));return String(f/h)};return i.getOrThunk(c)}).getOr("")},qR=function(e,r){e.formatter.toggle("lineheight",{value:String(r)}),e.nodeChanged()},rP=function(e){if(typeof e!="string"){var r=ht.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:r}}return{content:e,details:{}}},nP=function(e,r){var a=rP(r);R5(e,a.content,a.details)},WC=ht.each,aP=ht.map,GR=ht.inArray,KR=function(){function e(r){this.commands={state:{},exec:{},value:{}},this.editor=r,this.setupCommands(r)}return e.prototype.execCommand=function(r,a,i,c){var f,h=!1,y=this;if(!y.editor.removed){if(r.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(r)&&(!c||!c.skip_focus)?y.editor.focus():F0(y.editor)),c=y.editor.fire("BeforeExecCommand",{command:r,ui:a,value:i}),c.isDefaultPrevented())return!1;var w=r.toLowerCase();if(f=y.commands.exec[w])return f(w,a,i),y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0;if(WC(this.editor.plugins,function(R){if(R.execCommand&&R.execCommand(r,a,i))return y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),h=!0,!1}),h)return h;if(y.editor.theme&&y.editor.theme.execCommand&&y.editor.theme.execCommand(r,a,i))return y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0;try{h=y.editor.getDoc().execCommand(r,a,i)}catch{}return h?(y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(r){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),a=this.commands.state[r])return a(r);try{return this.editor.getDoc().queryCommandState(r)}catch{}return!1}},e.prototype.queryCommandValue=function(r){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),a=this.commands.value[r])return a(r);try{return this.editor.getDoc().queryCommandValue(r)}catch{}}},e.prototype.addCommands=function(r,a){a===void 0&&(a="exec");var i=this;WC(r,function(c,f){WC(f.toLowerCase().split(","),function(h){i.commands[a][h]=c})})},e.prototype.addCommand=function(r,a,i){var c=this;r=r.toLowerCase(),this.commands.exec[r]=function(f,h,y,w){return a.call(i||c.editor,h,y,w)}},e.prototype.queryCommandSupported=function(r){if(r=r.toLowerCase(),this.commands.exec[r])return!0;try{return this.editor.getDoc().queryCommandSupported(r)}catch{}return!1},e.prototype.addQueryStateHandler=function(r,a,i){var c=this;r=r.toLowerCase(),this.commands.state[r]=function(){return a.call(i||c.editor)}},e.prototype.addQueryValueHandler=function(r,a,i){var c=this;r=r.toLowerCase(),this.commands.value[r]=function(){return a.call(i||c.editor)}},e.prototype.hasCustomCommand=function(r){return r=r.toLowerCase(),!!this.commands.exec[r]},e.prototype.execNativeCommand=function(r,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(r,a,i)},e.prototype.isFormatMatch=function(r){return this.editor.formatter.match(r)},e.prototype.toggleFormat=function(r,a){this.editor.formatter.toggle(r,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(r){this.selectionBookmark=this.editor.selection.getBookmark(r)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(r){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":U,"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},mceFocus:function(c,f,h){Ob(r,h)},"Cut,Copy,Paste":function(c){var f=r.getDoc(),h;try{a.execNativeCommand(c)}catch{h=!0}if(c==="paste"&&!f.queryCommandEnabled(c)&&(h=!0),h||!f.queryCommandSupported(c)){var y=r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Zt.mac&&(y=y.replace(/Ctrl\+/g,"+")),r.notificationManager.open({text:y,type:"error"})}},unlink:function(){if(r.selection.isCollapsed()){var c=r.dom.getParent(r.selection.getStart(),"a");c&&r.dom.remove(c,!0);return}r.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(c){var f=c.substring(7);f==="full"&&(f="justify"),WC("left,center,right,justify".split(","),function(h){f!==h&&r.formatter.remove("align"+h)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(c){var f;a.execNativeCommand(c);var h=r.dom.getParent(r.selection.getNode(),"ol,ul");h&&(f=h.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),r.dom.split(f,h),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){a.toggleFormat(c)},"ForeColor,HiliteColor":function(c,f,h){a.toggleFormat(c,{value:h})},FontName:function(c,f,h){Z7(r,h)},FontSize:function(c,f,h){Q7(r,h)},LineHeight:function(c,f,h){qR(r,h)},Lang:function(c,f,h){a.toggleFormat(c,{value:h.code,customValue:h.customCode})},RemoveFormat:function(c){r.formatter.remove(c)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(c,f,h){return a.toggleFormat(h||"p")},mceCleanup:function(){var c=r.selection.getBookmark();r.setContent(r.getContent()),r.selection.moveToBookmark(c)},mceRemoveNode:function(c,f,h){var y=h||r.selection.getNode();y!==r.getBody()&&(a.storeSelection(),r.dom.remove(y,!0),a.restoreSelection())},mceSelectNodeDepth:function(c,f,h){var y=0;r.dom.getParent(r.selection.getNode(),function(w){if(w.nodeType===1&&y++===h)return r.selection.select(w),!1},r.getBody())},mceSelectNode:function(c,f,h){r.selection.select(h)},mceInsertContent:function(c,f,h){nP(r,h)},mceInsertRawHTML:function(c,f,h){r.selection.setContent("tiny_mce_marker");var y=r.getContent();r.setContent(y.replace(/tiny_mce_marker/g,function(){return h}))},mceInsertNewLine:function(c,f,h){$E(r,h)},mceToggleFormat:function(c,f,h){a.toggleFormat(h)},mceSetContent:function(c,f,h){r.setContent(h)},"Indent,Outdent":function(c){xO(r,c)},mceRepaint:U,InsertHorizontalRule:function(){r.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(c,f,h){r.execCommand("mceInsertContent",!1,h.replace(/\{\$selection\}/g,r.selection.getContent({format:"text"})))},mceInsertLink:function(c,f,h){typeof h=="string"&&(h={href:h});var y=r.dom.getParent(r.selection.getNode(),"a");h.href=h.href.replace(/ /g,"%20"),(!y||!h.href)&&r.formatter.remove("link"),h.href&&r.formatter.apply("link",h,y)},selectAll:function(){var c=r.dom.getParent(r.selection.getStart(),qc);if(c){var f=r.dom.createRng();f.selectNodeContents(c),r.selection.setRng(f)}},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(c,f,h){return Ag(r,h),!0}});var i=function(c){return function(){var f=r.selection,h=f.isCollapsed()?[r.dom.getParent(f.getNode(),r.dom.isBlock)]:f.getSelectedBlocks(),y=aP(h,function(w){return!!r.formatter.matchNode(w,c)});return GR(y,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){return a.isFormatMatch(c)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return wO(r)},"InsertUnorderedList,InsertOrderedList":function(c){var f=r.dom.getParent(r.selection.getNode(),"ul,ol");return f&&(c==="insertunorderedlist"&&f.tagName==="UL"||c==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return J7(r)},this),a.addQueryValueHandler("FontSize",function(){return eP(r)},this),a.addQueryValueHandler("LineHeight",function(){return tP(r)},this)},e}(),Kh="data-mce-contenteditable",XR=function(e,r,a){b1(e,r)&&a===!1?y1(e,r):a&&zv(e,r)},qC=function(e,r,a){try{e.getDoc().execCommand(r,!1,String(a))}catch{}},GC=function(e,r){e.dom.contentEditable=r?"true":"false"},oP=function(e){je(mu(e,'*[contenteditable="true"]'),function(r){z(r,Kh,"true"),GC(r,!1)})},iP=function(e){je(mu(e,"*["+Kh+'="true"]'),function(r){_t(r,Kh),GC(r,!0)})},YR=function(e){oe.from(e.selection.getNode()).each(function(r){r.removeAttribute("data-mce-selected")})},uP=function(e){e.selection.setRng(e.selection.getRng())},sP=function(e,r){var a=x.fromDom(e.getBody());XR(a,"mce-content-readonly",r),r?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),YR(e),e.readonly=!0,GC(a,!1),oP(a)):(e.readonly=!1,GC(a,!0),iP(a),qC(e,"StyleWithCSS",!1),qC(e,"enableInlineTableEditing",!1),qC(e,"enableObjectResizing",!1),U2(e)&&e.focus(),uP(e),e.nodeChanged())},Xh=function(e){return e.readonly},ZR=function(e){e.parser.addAttributeFilter("contenteditable",function(r){Xh(e)&&je(r,function(a){a.attr(Kh,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Kh,function(r){Xh(e)&&je(r,function(a){a.attr("contenteditable",a.attr(Kh))})}),e.serializer.addTempAttr(Kh)},cP=function(e){e.serializer?ZR(e):e.on("PreInit",function(){ZR(e)})},JR=function(e){return e.type==="click"},lP=function(e,r){var a=function(i){return an(i,x.fromDom(e.getBody()))};return ri(r,"a",a).bind(function(i){return ve(i,"href")})},fP=function(e,r){if(JR(r)&&!on.metaKeyPressed(r)){var a=x.fromDom(r.target);lP(e,a).each(function(i){if(r.preventDefault(),/^#/.test(i)){var c=e.dom.select(i+',[name="'+wt(i,"#")+'"]');c.length&&e.selection.scrollIntoView(c[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},dP=function(e){e.on("ShowCaret",function(r){Xh(e)&&r.preventDefault()}),e.on("ObjectSelected",function(r){Xh(e)&&r.preventDefault()})},QR=ht.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),KC=function(){function e(r){this.bindings={},this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Wt}return e.isNative=function(r){return!!QR[r.toLowerCase()]},e.prototype.fire=function(r,a){var i=r.toLowerCase(),c=Bt(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(c);var f=this.bindings[i];if(f)for(var h=0,y=f.length;h<y;h++){var w=f[h];if(!w.removed){if(w.once&&this.off(i,w.func),c.isImmediatePropagationStopped())return c;if(w.func.call(this.scope,c)===!1)return c.preventDefault(),c}}return c},e.prototype.on=function(r,a,i,c){if(a===!1&&(a=Wt),a){var f={func:a,removed:!1};c&&ht.extend(f,c);for(var h=r.toLowerCase().split(" "),y=h.length;y--;){var w=h[y],R=this.bindings[w];R||(R=[],this.toggleEvent(w,!0)),i?R=ei([f],R,!0):R=ei(ei([],R,!0),[f],!1),this.bindings[w]=R}}return this},e.prototype.off=function(r,a){var i=this;if(r)for(var c=r.toLowerCase().split(" "),f=c.length;f--;){var h=c[f],y=this.bindings[h];if(!h)return xn(this.bindings,function(R,L){i.toggleEvent(L,!1),delete i.bindings[L]}),this;if(y){if(!a)y.length=0;else{var w=fr(y,function(R){return R.func===a});y=w.fail,this.bindings[h]=y,je(w.pass,function(R){R.removed=!0})}y.length||(this.toggleEvent(r,!1),delete this.bindings[h])}}else xn(this.bindings,function(R,L){i.toggleEvent(L,!1)}),this.bindings={};return this},e.prototype.once=function(r,a,i){return this.on(r,a,i,{once:!0})},e.prototype.has=function(r){return r=r.toLowerCase(),!(!this.bindings[r]||this.bindings[r].length===0)},e}(),Bw=function(e){return e._eventDispatcher||(e._eventDispatcher=new KC({scope:e,toggleEvent:function(r,a){KC.isNative(r)&&e.toggleNativeEvent&&e.toggleNativeEvent(r,a)}})),e._eventDispatcher},XC={fire:function(e,r,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return r;var c=Bw(i).fire(e,r);if(a!==!1&&i.parent)for(var f=i.parent();f&&!c.isPropagationStopped();)f.fire(e,c,!1),f=f.parent();return c},on:function(e,r,a){return Bw(this).on(e,r,a)},off:function(e,r){return Bw(this).off(e,r)},once:function(e,r){return Bw(this).once(e,r)},hasEventListeners:function(e){return Bw(this).has(e)}},YC=ho.DOM,Dg,ZC=function(e,r){if(r==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(r))return e.getDoc().documentElement;var a=Xy(e);return a?(e.eventRoot||(e.eventRoot=YC.select(a)[0]),e.eventRoot):e.getBody()},vP=function(e){return!e.hidden&&!Xh(e)},eD=function(e,r,a){vP(e)?e.fire(r,a):Xh(e)&&fP(e,a)},tD=function(e,r){var a;if(e.delegates||(e.delegates={}),!(e.delegates[r]||e.removed)){var i=ZC(e,r);if(Xy(e)){if(Dg||(Dg={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Dg&&(xn(Dg,function(c,f){e.dom.unbind(ZC(e,f))}),Dg=null)})),Dg[r])return;a=function(c){for(var f=c.target,h=e.editorManager.get(),y=h.length;y--;){var w=h[y].getBody();(w===f||YC.isChildOf(f,w))&&eD(h[y],r,c)}},Dg[r]=a,YC.bind(i,r,a)}else a=function(c){eD(e,r,c)},YC.bind(i,r,a),e.delegates[r]=a}},rD=$r($r({},XC),{bindPendingEventDelegates:function(){var e=this;ht.each(e._pendingNativeEvents,function(r){tD(e,r)})},toggleNativeEvent:function(e,r){var a=this;e==="focus"||e==="blur"||a.removed||(r?a.initialized?tD(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(ZC(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,r=e.getBody(),a=e.dom;e.delegates&&(xn(e.delegates,function(i,c){e.dom.unbind(ZC(e,c),c,i)}),delete e.delegates),!e.inline&&r&&a&&(r.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(r),a.unbind(e.getContainer()))}}),mP=["design","readonly"],Nw=function(e,r,a,i){var c=a[r.get()],f=a[i];try{f.activate()}catch(h){console.error("problem while activating editor mode "+i+":",h);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&sP(e,f.editorReadOnly),r.set(i),_0(e,i)},nD=function(e,r,a,i){if(i!==a.get()){if(!Sn(r,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?Nw(e,a,r,i):e.on("init",function(){return Nw(e,a,r,i)})}},aD=function(e,r,a){var i;if(qe(mP,r))throw new Error("Cannot override default mode "+r);return $r($r({},e),(i={},i[r]=$r($r({},a),{deactivate:function(){try{a.deactivate()}catch(c){console.error("problem while deactivating editor mode "+r+":",c)}}}),i))},hP=function(e){var r=os("design"),a=os({design:{activate:U,deactivate:U,editorReadOnly:!1},readonly:{activate:U,deactivate:U,editorReadOnly:!0}});return cP(e),dP(e),{isReadOnly:function(){return Xh(e)},set:function(i){return nD(e,a.get(),r,i)},get:function(){return r.get()},register:function(i,c){a.set(aD(a.get(),i,c))}}},JC=ht.each,QC=ht.explode,pP={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},oD=ht.makeMap("alt,ctrl,shift,meta,access"),gP=function(e){var r,a={};JC(QC(e.toLowerCase(),"+"),function(c){c in oD?a[c]=!0:/^[0-9]{2,}$/.test(c)?a.keyCode=parseInt(c,10):(a.charCode=c.charCodeAt(0),a.keyCode=pP[c]||c.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(r in oD)a[r]?i.push(r):a[r]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,Zt.mac?a.ctrl=!0:a.shift=!0),a.meta&&(Zt.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},ex=function(){function e(r){this.shortcuts={},this.pendingPatterns=[],this.editor=r;var a=this;r.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(JC(a.shortcuts,function(c){if(a.matchShortcut(i,c))return a.pendingPatterns=c.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(c),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(r,a,i,c){var f=this,h=f.normalizeCommandFunc(i);return JC(QC(ht.trim(r)),function(y){var w=f.createShortcut(y,a,h,c);f.shortcuts[w.id]=w}),!0},e.prototype.remove=function(r){var a=this.createShortcut(r);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(r){var a=this,i=r;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:ht.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(r,a,i,c){var f=ht.map(QC(r,">"),gP);return f[f.length-1]=ht.extend(f[f.length-1],{func:i,scope:c||this.editor}),ht.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(r){return r.altKey||r.ctrlKey||r.metaKey},e.prototype.isFunctionKey=function(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123},e.prototype.matchShortcut=function(r,a){return!a||a.ctrl!==r.ctrlKey||a.meta!==r.metaKey||a.alt!==r.altKey||a.shift!==r.shiftKey?!1:r.keyCode===a.keyCode||r.charCode&&r.charCode===a.charCode?(r.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(r){return r.func?r.func.call(r.scope):null},e}(),yP=function(){var e={},r={},a={},i={},c={},f={},h={},y=function(R,L){return function(V,j){return R[V.toLowerCase()]=$r($r({},j),{type:L})}},w=function(R,L){return i[R.toLowerCase()]=L};return{addButton:y(e,"button"),addGroupToolbarButton:y(e,"grouptoolbarbutton"),addToggleButton:y(e,"togglebutton"),addMenuButton:y(e,"menubutton"),addSplitButton:y(e,"splitbutton"),addMenuItem:y(r,"menuitem"),addNestedMenuItem:y(r,"nestedmenuitem"),addToggleMenuItem:y(r,"togglemenuitem"),addAutocompleter:y(a,"autocompleter"),addContextMenu:y(c,"contextmenu"),addContextToolbar:y(f,"contexttoolbar"),addContextForm:y(f,"contextform"),addSidebar:y(h,"sidebar"),addIcon:w,getAll:function(){return{buttons:e,menuItems:r,icons:i,popups:a,contextMenus:c,contextToolbars:f,sidebars:h}}}},az=function(){var e=yP();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Mg=ho.DOM,iD=ht.extend,bP=ht.each,oz=ht.resolve,_P=Zt.ie,tx=function(){function e(r,a,i){var c=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,iD(this,rD),this.settings=oA(this,r,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(jf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),ho.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Ss.languageLoad=this.settings.language_load,Ss.baseURL=i.baseURL,this.id=r,this.setDirty(!1),this.documentBaseURI=new Fh(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new ex(this),this.editorCommands=new KR(this),this.settings.cache_suffix&&(Zt.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:az(),styleSheetLoader:void 0,show:U,hide:U,enable:U,disable:U,isDisabled:Wt};var f=this,h=hP(f);this.mode=h,this.setMode=h.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Ln.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}})}return e.prototype.render=function(){H7(this)},e.prototype.focus=function(r){this.execCommand("mceFocus",!1,r)},e.prototype.hasFocus=function(){return Bc(this)},e.prototype.execCallback=function(r){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var c=this,f=c.settings[r],h;if(f)return c.callbackLookup&&(h=c.callbackLookup[r])&&(f=h.func,h=h.scope),typeof f=="string"&&(h=f.replace(/\.\w+$/,""),h=h?oz(h):0,f=oz(f),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[r]={func:f,scope:h}),f.apply(h||c,a)},e.prototype.translate=function(r){return is.translate(r)},e.prototype.getParam=function(r,a,i){return SM(this,r,a,i)},e.prototype.hasPlugin=function(r,a){var i=qe(Zy(this).split(/[ ,]/),r);return i?a?ad.get(r)!==void 0:!0:!1},e.prototype.nodeChanged=function(r){this._nodeChangeDispatcher.nodeChanged(r)},e.prototype.addCommand=function(r,a,i){this.editorCommands.addCommand(r,a,i)},e.prototype.addQueryStateHandler=function(r,a,i){this.editorCommands.addQueryStateHandler(r,a,i)},e.prototype.addQueryValueHandler=function(r,a,i){this.editorCommands.addQueryValueHandler(r,a,i)},e.prototype.addShortcut=function(r,a,i,c){this.shortcuts.add(r,a,i,c)},e.prototype.execCommand=function(r,a,i,c){return this.editorCommands.execCommand(r,a,i,c)},e.prototype.queryCommandState=function(r){return this.editorCommands.queryCommandState(r)},e.prototype.queryCommandValue=function(r){return this.editorCommands.queryCommandValue(r)},e.prototype.queryCommandSupported=function(r){return this.editorCommands.queryCommandSupported(r)},e.prototype.show=function(){var r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(Mg.show(r.getContainer()),Mg.hide(r.id)),r.load(),r.fire("show"))},e.prototype.hide=function(){var r=this,a=r.getDoc();r.hidden||(_P&&a&&!r.inline&&a.execCommand("SelectAll"),r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(Mg.hide(r.getContainer()),Mg.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(r,a){this.fire("ProgressState",{state:r,time:a})},e.prototype.load=function(r){var a=this,i=a.getElement(),c;if(a.removed)return"";if(i){r=r||{},r.load=!0;var f=su(i)?i.value:i.innerHTML;return c=a.setContent(f,r),r.element=i,r.no_events||a.fire("LoadContent",r),r.element=i=null,c}},e.prototype.save=function(r){var a=this,i=a.getElement(),c,f;if(!(!i||!a.initialized||a.removed))return r=r||{},r.save=!0,r.element=i,c=r.content=a.getContent(r),r.no_events||a.fire("SaveContent",r),r.format==="raw"&&a.fire("RawSaveContent",r),c=r.content,su(i)?i.value=c:((r.is_removing||!a.inline)&&(i.innerHTML=c),(f=Mg.getParent(a.id,"form"))&&bP(f.elements,function(h){if(h.name===a.id)return h.value=c,!1})),r.element=i=null,r.set_dirty!==!1&&a.setDirty(!1),c},e.prototype.setContent=function(r,a){return Z3(this,r,a)},e.prototype.getContent=function(r){return Y3(this,r)},e.prototype.insertContent=function(r,a){a&&(r=iD({content:r},a)),this.execCommand("mceInsertContent",!1,r)},e.prototype.resetContent=function(r){r===void 0?Z3(this,this.startContent,{format:"raw"}):Z3(this,r),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(r){var a=!this.isNotDirty;this.isNotDirty=!r,r&&r!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var r=this;return r.container||(r.container=Mg.get(r.editorContainer||r.id+"_parent")),r.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Mg.get(this.id)),this.targetElm},e.prototype.getWin=function(){var r=this,a;return r.contentWindow||(a=r.iframeElement,a&&(r.contentWindow=a.contentWindow)),r.contentWindow},e.prototype.getDoc=function(){var r=this,a;return r.contentDocument||(a=r.getWin(),a&&(r.contentDocument=a.document)),r.contentDocument},e.prototype.getBody=function(){var r=this.getDoc();return this.bodyElement||(r?r.body:null)},e.prototype.convertURL=function(r,a,i){var c=this,f=c.settings;return f.urlconverter_callback?c.execCallback("urlconverter_callback",r,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0?r:f.relative_urls?c.documentBaseURI.toRelative(r):(r=c.documentBaseURI.toAbsolute(r,f.remove_script_host),r)},e.prototype.addVisual=function(r){V7(this,r)},e.prototype.remove=function(){sM(this)},e.prototype.destroy=function(r){K4(this,r)},e.prototype.uploadImages=function(r){return this.editorUpload.uploadImages(r)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),Cf=ho.DOM,wP=ht.explode,ov=ht.each,_c=ht.extend,Bg=0,uD=!1,rx,Yh=[],wc=[],kP=function(e){return e!=="length"},sD=function(e){var r=e.type;ov(Zh.get(),function(a){switch(r){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},iz=function(e){e!==uD&&(e?Ln(window).on("resize scroll",sD):Ln(window).off("resize scroll",sD),uD=e)},Ng=function(e){var r=wc;delete Yh[e.id];for(var a=0;a<Yh.length;a++)if(Yh[a]===e){Yh.splice(a,1);break}return wc=Xt(wc,function(i){return e!==i}),Zh.activeEditor===e&&(Zh.activeEditor=wc.length>0?wc[0]:null),Zh.focusedEditor===e&&(Zh.focusedEditor=null),r.length!==wc.length},CP=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Ng(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},xP=document.compatMode!=="CSS1Compat",Zh=$r($r({},XC),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Ln,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:Yh,i18n:is,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,r,a,i="";a=Fh.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var c=window.tinymce||window.tinyMCEPreInit;if(c)r=c.base||c.baseURL,i=c.suffix;else{for(var f=document.getElementsByTagName("script"),h=0;h<f.length;h++){var y=f[h].src||"";if(y!==""){var w=y.substring(y.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(y)){w.indexOf(".min")!==-1&&(i=".min"),r=y.substring(0,y.lastIndexOf("/"));break}}}if(!r&&document.currentScript){var y=document.currentScript.src;y.indexOf(".min")!==-1&&(i=".min"),r=y.substring(0,y.lastIndexOf("/"))}}e.baseURL=new Fh(a).toAbsolute(r),e.documentBaseURL=a,e.baseURI=new Fh(e.baseURL),e.suffix=i,F2(e)},overrideDefaults:function(e){var r=e.base_url;r&&this._setBaseUrl(r);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&xn(i,function(c,f){Ss.PluginManager.urls[f]=c})},init:function(e){var r=this,a,i=ht.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=function(V,j){return V.inline&&j.tagName.toLowerCase()in i},f=function(V){var j=V.id;return j||(j=Kn(V,"name").filter(function(re){return!Cf.get(re)}).getOrThunk(Cf.uniqueId),V.setAttribute("id",j)),j},h=function(V){var j=e[V];if(j)return j.apply(r,[])},y=function(V,j){return j.constructor===RegExp?j.test(V.className):Cf.hasClass(V,j)},w=function(V){var j=[];if(Zt.browser.isIE()&&Zt.browser.version.major<11)return oC("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(xP)return oC("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(V.types)return ov(V.types,function(ae){j=j.concat(Cf.select(ae.selector))}),j;if(V.selector)return Cf.select(V.selector);if(V.target)return[V.target];switch(V.mode){case"exact":var re=V.elements||"";re.length>0&&ov(wP(re),function(ae){var ie=Cf.get(ae);ie?j.push(ie):ov(document.forms,function(se){ov(se.elements,function(we){we.name===ae&&(ae="mce_editor_"+Bg++,Cf.setAttrib(we,"id",ae),j.push(we))})})});break;case"textareas":case"specific_textareas":ov(Cf.select("textarea"),function(ae){V.editor_deselector&&y(ae,V.editor_deselector)||(!V.editor_selector||y(ae,V.editor_selector))&&j.push(ae)});break}return j},R=function(V){a=V},L=function(){var V=0,j=[],re,ae=function(ie,se,we){var he=new tx(ie,se,r);j.push(he),he.on("init",function(){++V===re.length&&R(j)}),he.targetElm=he.targetElm||we,he.render()};if(Cf.unbind(window,"ready",L),h("onpageload"),re=Ln.unique(w(e)),e.types){ov(e.types,function(ie){ht.each(re,function(se){return Cf.is(se,ie.selector)?(ae(f(se),_c({},e,ie),se),!1):!0})});return}ht.each(re,function(ie){CP(r.get(ie.id))}),re=ht.grep(re,function(ie){return!r.get(ie.id)}),re.length===0?R([]):ov(re,function(ie){c(e,ie)?oC("Could not initialize inline editor on invalid inline target element",ie):ae(f(ie),e,ie)})};return r.settings=e,Cf.bind(window,"ready",L),new Yi(function(V){a?V(a):R=function(j){V(j)}})},get:function(e){return arguments.length===0?wc.slice(0):_e(e)?nr(wc,function(r){return r.id===e}).getOr(null):Ue(e)&&wc[e]?wc[e]:null},add:function(e){var r=this,a=Yh[e.id];return a===e||(r.get(e.id)===null&&(kP(e.id)&&(Yh[e.id]=e),Yh.push(e),wc.push(e)),iz(!0),r.activeEditor=e,r.fire("AddEditor",{editor:e}),rx||(rx=function(i){var c=r.fire("BeforeUnload");if(c.returnValue)return i.preventDefault(),i.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",rx))),e},createEditor:function(e,r){return this.add(new tx(e,r,this))},remove:function(e){var r=this,a,i;if(!e){for(a=wc.length-1;a>=0;a--)r.remove(wc[a]);return}if(_e(e)){ov(Cf.select(e),function(c){i=r.get(c.id),i&&r.remove(i)});return}return i=e,ue(r.get(i.id))?null:(Ng(i)&&r.fire("RemoveEditor",{editor:i}),wc.length===0&&window.removeEventListener("beforeunload",rx),i.remove(),iz(wc.length>0),i)},execCommand:function(e,r,a){var i=this,c=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new tx(a,i.settings,i).render(),!0;case"mceRemoveEditor":return c&&c.remove(),!0;case"mceToggleEditor":return c?(c.isHidden()?c.show():c.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,r,a):!1},triggerSave:function(){ov(wc,function(e){e.save()})},addI18n:function(e,r){is.add(e,r)},translate:function(e){return is.translate(e)},setActive:function(e){var r=this.activeEditor;this.activeEditor!==e&&(r&&r.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:r})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Fh(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Fh(this.baseURL)}});Zh.setup();var xf=Math.min,z_=Math.max,nx=Math.round,uz=function(e,r,a){var i=r.x,c=r.y,f=e.w,h=e.h,y=r.w,w=r.h,R=(a||"").split("");return R[0]==="b"&&(c+=w),R[1]==="r"&&(i+=y),R[0]==="c"&&(c+=nx(w/2)),R[1]==="c"&&(i+=nx(y/2)),R[3]==="b"&&(c-=h),R[4]==="r"&&(i-=f),R[3]==="c"&&(c-=nx(h/2)),R[4]==="c"&&(i-=nx(f/2)),A_(i,c,f,h)},SP=function(e,r,a,i){var c,f;for(f=0;f<i.length;f++)if(c=uz(e,r,i[f]),c.x>=a.x&&c.x+c.w<=a.w+a.x&&c.y>=a.y&&c.y+c.h<=a.h+a.y)return i[f];return null},cD=function(e,r,a){return A_(e.x-r,e.y-a,e.w+r*2,e.h+a*2)},lD=function(e,r){var a=z_(e.x,r.x),i=z_(e.y,r.y),c=xf(e.x+e.w,r.x+r.w),f=xf(e.y+e.h,r.y+r.h);return c-a<0||f-i<0?null:A_(a,i,c-a,f-i)},sz=function(e,r,a){var i=e.x,c=e.y,f=e.x+e.w,h=e.y+e.h,y=r.x+r.w,w=r.y+r.h,R=z_(0,r.x-i),L=z_(0,r.y-c),V=z_(0,f-y),j=z_(0,h-w);return i+=R,c+=L,a&&(f+=R,h+=L,i-=V,c-=j),f-=V,h-=j,A_(i,c,f-i,h-c)},A_=function(e,r,a,i){return{x:e,y:r,w:a,h:i}},TP=function(e){return A_(e.left,e.top,e.width,e.height)},EP={inflate:cD,relativePosition:uz,findBestRelativePosition:SP,intersect:lD,clamp:sz,create:A_,fromClientRect:TP},zP=function(e,r,a){a===void 0&&(a=1e3);var i=!1,c=null,f=function(R){return function(){for(var L=[],V=0;V<arguments.length;V++)L[V]=arguments[V];i||(i=!0,c!==null&&(clearTimeout(c),c=null),R.apply(null,L))}},h=f(e),y=f(r),w=function(){for(var R=[],L=0;L<arguments.length;L++)R[L]=arguments[L];!i&&c===null&&(c=setTimeout(function(){return y.apply(null,R)},a))};return{start:w,resolve:h,reject:y}},AP=function(){var e={},r={},a=function(c,f){var h='Script at URL "'+f+'" failed to load',y='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+c+"', data)` within 1 second";if(e[c]!==void 0)return e[c];var w=new Yi(function(R,L){var V=zP(R,L);r[c]=V.resolve,jf.ScriptLoader.loadScript(f,function(){return V.start(y)},function(){return V.reject(h)})});return e[c]=w,w},i=function(c,f){r[c]!==void 0&&(r[c](f),delete r[c]),e[c]=Yi.resolve(f)};return{load:a,add:i}},fD=AP(),Pw=ht.each,OP=ht.extend,cz,lz,dD=function(){};dD.extend=cz=function(e){var r=this,a=r.prototype,i=function(){var y,w,R,L=this;if(!lz&&(L.init&&L.init.apply(L,arguments),w=L.Mixins,w))for(y=w.length;y--;)R=w[y],R.init&&R.init.apply(L,arguments)},c=function(){return this},f=function(y,w){return function(){var R=this,L=R._super;R._super=a[y];var V=w.apply(R,arguments);return R._super=L,V}};lz=!0;var h=new r;return lz=!1,e.Mixins&&(Pw(e.Mixins,function(y){for(var w in y)w!=="init"&&(e[w]=y[w])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&Pw(e.Methods.split(","),function(y){e[y]=c}),e.Properties&&Pw(e.Properties.split(","),function(y){var w="_"+y;e[y]=function(R){var L=this;return R!==void 0?(L[w]=R,L):L[w]}}),e.Statics&&Pw(e.Statics,function(y,w){i[w]=y}),e.Defaults&&a.Defaults&&(e.Defaults=OP({},a.Defaults,e.Defaults)),xn(e,function(y,w){typeof y=="function"&&a[w]?h[w]=f(w,y):h[w]=y}),i.prototype=h,i.constructor=i,i.extend=cz,i};var ax=Math.min,ox=Math.max,Jh=Math.round,fz=function(e){var r={},a=0,i=0,c=0,f=function(V,j,re){var ae,ie,se;ae=0,ie=0,se=0,V=V/255,j=j/255,re=re/255;var we=ax(V,ax(j,re)),he=ox(V,ox(j,re));if(we===he)return se=we,{h:0,s:0,v:se*100};var Ze=V===we?j-re:re===we?V-j:re-V;return ae=V===we?3:re===we?1:5,ae=60*(ae-Ze/(he-we)),ie=(he-we)/he,se=he,{h:Jh(ae),s:Jh(ie*100),v:Jh(se*100)}},h=function(V,j,re){if(V=(parseInt(V,10)||0)%360,j=parseInt(j,10)/100,re=parseInt(re,10)/100,j=ox(0,ax(j,1)),re=ox(0,ax(re,1)),j===0){a=i=c=Jh(255*re);return}var ae=V/60,ie=re*j,se=ie*(1-Math.abs(ae%2-1)),we=re-ie;switch(Math.floor(ae)){case 0:a=ie,i=se,c=0;break;case 1:a=se,i=ie,c=0;break;case 2:a=0,i=ie,c=se;break;case 3:a=0,i=se,c=ie;break;case 4:a=se,i=0,c=ie;break;case 5:a=ie,i=0,c=se;break;default:a=i=c=0}a=Jh(255*(a+we)),i=Jh(255*(i+we)),c=Jh(255*(c+we))},y=function(){var V=function(j){return j=parseInt(j,10).toString(16),j.length>1?j:"0"+j};return"#"+V(a)+V(i)+V(c)},w=function(){return{r:a,g:i,b:c}},R=function(){return f(a,i,c)},L=function(V){var j;return typeof V=="object"?"r"in V?(a=V.r,i=V.g,c=V.b):"v"in V&&h(V.h,V.s,V.v):(j=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(V))?(a=parseInt(j[1],10),i=parseInt(j[2],10),c=parseInt(j[3],10)):(j=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(V))?(a=parseInt(j[1],16),i=parseInt(j[2],16),c=parseInt(j[3],16)):(j=/#([0-F])([0-F])([0-F])/gi.exec(V))&&(a=parseInt(j[1]+j[1],16),i=parseInt(j[2]+j[2],16),c=parseInt(j[3]+j[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,c=c<0?0:c>255?255:c,r};return e&&L(e),r.toRgb=w,r.toHsv=R,r.toHex=y,r.parse=L,r},vD=function(e){var r=JSON.stringify(e);return _e(r)?r.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):r},dz={serialize:vD,parse:function(e){try{return JSON.parse(e)}catch{}}},RP={callbacks:{},count:0,send:function(e){var r=this,a=ho.DOM,i=e.count!==void 0?e.count:r.count,c="tinymce_jsonp_"+i;r.callbacks[i]=function(f){a.remove(c),delete r.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:c,src:e.url,type:"text/javascript"}),r.count++}},O_=$r($r({},XC),{send:function(e){var r,a=0,i=function(){!e.async||r.readyState===4||a++>1e4?(e.success&&a<1e4&&r.status===200?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):Au.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",O_.fire("beforeInitialize",{settings:e}),r=new XMLHttpRequest,r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&ht.each(e.requestheaders,function(c){r.setRequestHeader(c.key,c.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=O_.fire("beforeSend",{xhr:r,settings:e}).xhr,r.send(e.data),!e.async)return i();Au.setTimeout(i,10)}}),vz=ht.extend,DP=function(){function e(r){this.settings=vz({},r),this.count=0}return e.sendRPC=function(r){return new e().send(r)},e.prototype.send=function(r){var a=r.error,i=r.success,c=vz(this.settings,r);c.success=function(f,h){f=dz.parse(f),typeof f>"u"&&(f={error:"JSON Parse error."}),f.error?a.call(c.error_scope||c.scope,f.error,h):i.call(c.success_scope||c.scope,f.result)},c.error=function(f,h){a&&a.call(c.error_scope||c.scope,f,h)},c.data=dz.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params}),c.content_type="application/json",O_.send(c)},e}(),MP=function(){return function(){var e={},r=[],a={getItem:function(i){var c=e[i];return c||null},setItem:function(i,c){r.push(i),e[i]=String(c)},key:function(i){return r[i]},removeItem:function(i){r=r.filter(function(c){return c===i}),delete e[i]},clear:function(){r=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return r.length},configurable:!1,enumerable:!1}),a}()},Fw;try{var mz="__storage_test__";Fw=window.localStorage,Fw.setItem(mz,mz),Fw.removeItem(mz)}catch{Fw=MP()}var BP=Fw,NP={geom:{Rect:EP},util:{Promise:Yi,Delay:Au,Tools:ht,VK:on,URI:Fh,Class:dD,EventDispatcher:KC,Observable:XC,I18n:is,XHR:O_,JSON:dz,JSONRequest:DP,JSONP:RP,LocalStorage:BP,Color:fz,ImageUploader:LM},dom:{EventUtils:Bm,Sizzle:Ya,DomQuery:Ln,TreeWalker:Ua,TextSeeker:C1,DOMUtils:ho,ScriptLoader:jf,RangeUtils:Xp,Serializer:MT,StyleSheetLoader:Zw,ControlSelection:C0,BookmarkManager:Gd,Selection:o_,Event:Bm.Event},html:{Styles:Qc,Entities:cc,Node:Nc,Schema:lc,SaxParser:AT,DomParser:X3,Writer:Y0,Serializer:Qv},Env:Zt,AddOnManager:Ss,Annotator:gb,Formatter:ai,UndoManager:xA,EditorCommands:KR,WindowManager:FT,NotificationManager:dA,EditorObservable:rD,Shortcuts:ex,Editor:tx,FocusManager:R2,EditorManager:Zh,DOM:ho.DOM,ScriptLoader:jf.ScriptLoader,PluginManager:ad,ThemeManager:Ih,IconManager:nC,Resource:fD,trim:ht.trim,isArray:ht.isArray,is:ht.is,toArray:ht.toArray,makeMap:ht.makeMap,each:ht.each,map:ht.map,grep:ht.grep,inArray:ht.inArray,extend:ht.extend,create:ht.create,walk:ht.walk,createNS:ht.createNS,resolve:ht.resolve,explode:ht.explode,_addCacheSuffix:ht._addCacheSuffix,isOpera:Zt.opera,isWebKit:Zt.webkit,isIE:Zt.ie,isGecko:Zt.gecko,isMac:Zt.mac},mD=ht.extend(Zh,NP),PP=function(e){try{I.exports=e}catch{}},FP=function(e){window.tinymce=e,window.tinyMCE=e};FP(mD),PP(mD)})()})(YG);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),N=tinymce.util.Tools.resolve("tinymce.util.Tools"),F=function(Ce){return Ce.getParam("allow_html_in_named_anchor",!1,"boolean")},ee="a:not([href])",pe=function(Ce){return!Ce},He=function(Ce){var J=Ce.getAttribute("id")||Ce.getAttribute("name");return J||""},xe=function(Ce){return Ce&&Ce.nodeName.toLowerCase()==="a"},ye=function(Ce){return xe(Ce)&&!Ce.getAttribute("href")&&He(Ce)!==""},jt=function(Ce){return ye(Ce)&&!Ce.firstChild},Ye=function(Ce){var J=Ce.dom;T(J).walk(Ce.selection.getRng(),function(X){N.each(X,function(It){jt(It)&&J.remove(It,!1)})})},Ae=function(Ce){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Ce)},tt=function(Ce){return Ce.dom.getParent(Ce.selection.getStart(),ee)},er=function(Ce){var J=tt(Ce);return J?He(J):""},Xe=function(Ce,J){Ce.undoManager.transact(function(){F(Ce)||Ce.selection.collapse(!0),Ce.selection.isCollapsed()?Ce.insertContent(Ce.dom.createHTML("a",{id:J})):(Ye(Ce),Ce.formatter.remove("namedAnchor",null,null,!0),Ce.formatter.apply("namedAnchor",{value:J}),Ce.addVisual())})},at=function(Ce,J,X){X.removeAttribute("name"),X.id=J,Ce.addVisual(),Ce.undoManager.add()},_e=function(Ce,J){var X=tt(Ce);X?at(Ce,J,X):Xe(Ce,J),Ce.focus()},Y=function(Ce,J){return Ae(J)?(_e(Ce,J),!0):(Ce.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},De=function(Ce){var J=er(Ce);Ce.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:J},onSubmit:function(X){Y(Ce,X.getData().id)&&X.close()}})},ue=function(Ce){Ce.addCommand("mceAnchor",function(){De(Ce)})},Je=function(Ce){return Ce&&pe(Ce.attr("href"))&&!pe(Ce.attr("id")||Ce.attr("name"))},ze=function(Ce){return Je(Ce)&&!Ce.firstChild},Le=function(Ce){return function(J){for(var X=0;X<J.length;X++){var It=J[X];ze(It)&&It.attr("contenteditable",Ce)}}},Ge=function(Ce){Ce.on("PreInit",function(){Ce.parser.addNodeFilter("a",Le("false")),Ce.serializer.addNodeFilter("a",Le(null))})},ce=function(Ce){Ce.formatter.register("namedAnchor",{inline:"a",selector:ee,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(J,X,It){return ye(J)}})},Ue=function(Ce){Ce.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return Ce.execCommand("mceAnchor")},onSetup:function(J){return Ce.selection.selectorChangedWithUnbind("a:not([href])",J.setActive).unbind}}),Ce.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return Ce.execCommand("mceAnchor")}})};function U(){I.add("anchor",function(Ce){Ge(Ce),ue(Ce),Ue(Ce),Ce.on("PreInit",function(){ce(Ce)})})}U()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=function(ce,Ue,U){return ce.length>=Ue.length&&ce.substr(U,U+Ue.length)===Ue},N=function(ce,Ue){return ce.indexOf(Ue)!==-1},F=function(ce,Ue){return T(ce,Ue,0)},ee=tinymce.util.Tools.resolve("tinymce.Env"),pe=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},He=new RegExp("^"+pe().source+"$","i"),xe=function(ce){return ce.getParam("autolink_pattern",He)},ye=function(ce){return ce.getParam("default_link_target",!1)},jt=function(ce){return ce.getParam("link_default_protocol","http","string")},Ye=function(ce){return/^[(\[{ \u00a0]$/.test(ce)},Ae=function(ce){return ce.nodeType===3},tt=function(ce){return ce.nodeType===1},er=function(ce){return ze(ce,-1)},Xe=function(ce){return ze(ce,0)},at=function(ce){return ze(ce,-1)},_e=function(ce,Ue){if(Ue<0&&(Ue=0),Ae(ce)){var U=ce.data.length;Ue>U&&(Ue=U)}return Ue},Y=function(ce,Ue,U){!tt(Ue)||Ue.hasChildNodes()?ce.setStart(Ue,_e(Ue,U)):ce.setStartBefore(Ue)},De=function(ce,Ue,U){!tt(Ue)||Ue.hasChildNodes()?ce.setEnd(Ue,_e(Ue,U)):ce.setEndAfter(Ue)},ue=function(ce){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(ce)},Je=function(ce){return/[?!,.;:]/.test(ce)},ze=function(ce,Ue){var U,Ce,J,X,It,fn,St,Xn=xe(ce),mn=ye(ce);if(ce.dom.getParent(ce.selection.getNode(),"a[href]")===null){var O=ce.selection.getRng().cloneRange();if(O.startOffset<5){if(It=O.endContainer.previousSibling,!It){if(!O.endContainer.firstChild||!O.endContainer.firstChild.nextSibling)return;It=O.endContainer.firstChild.nextSibling}if(fn=It.length,Y(O,It,fn),De(O,It,fn),O.endOffset<5)return;U=O.endOffset,Ce=It}else{if(Ce=O.endContainer,!Ae(Ce)&&Ce.firstChild){for(;!Ae(Ce)&&Ce.firstChild;)Ce=Ce.firstChild;Ae(Ce)&&(Y(O,Ce,0),De(O,Ce,Ce.nodeValue.length))}O.endOffset===1?U=2:U=O.endOffset-1-Ue}var On=U;do Y(O,Ce,U>=2?U-2:0),De(O,Ce,U>=1?U-1:0),U-=1,St=O.toString();while(!Ye(St)&&U-2>=0);Ye(O.toString())?(Y(O,Ce,U),De(O,Ce,On),U+=1):O.startOffset===0?(Y(O,Ce,0),De(O,Ce,On)):(Y(O,Ce,U),De(O,Ce,On)),X=O.toString(),Je(X.charAt(X.length-1))&&De(O,Ce,On-1),X=O.toString().trim();var Wt=X.match(Xn),sr=jt(ce);if(Wt){var ya=Wt[0];F(ya,"www.")?ya=sr+"://"+ya:N(ya,"@")&&!ue(ya)&&(ya="mailto:"+ya),J=ce.selection.getBookmark(),ce.selection.setRng(O),ce.execCommand("createlink",!1,ya),mn!==!1&&ce.dom.setAttrib(ce.selection.getNode(),"target",mn),ce.selection.moveToBookmark(J),ce.nodeChanged()}}},Le=function(ce){var Ue;if(ce.on("keydown",function(U){if(U.keyCode===13)return at(ce)}),ee.browser.isIE()){ce.on("focus",function(){if(!Ue){Ue=!0;try{ce.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}ce.on("keypress",function(U){if(U.keyCode===41||U.keyCode===93||U.keyCode===125)return er(ce)}),ce.on("keyup",function(U){if(U.keyCode===32)return Xe(ce)})};function Ge(){I.add("autolink",function(ce){Le(ce)})}Ge()})();(function(){var I=function(ze){var Le=ze,Ge=function(){return Le},ce=function(Ue){Le=Ue};return{get:Ge,set:ce}},T=Object.hasOwnProperty,N=function(ze,Le){return T.call(ze,Le)},F=tinymce.util.Tools.resolve("tinymce.PluginManager"),ee=tinymce.util.Tools.resolve("tinymce.Env"),pe=tinymce.util.Tools.resolve("tinymce.util.Delay"),He=function(ze){return ze.fire("ResizeEditor")},xe=function(ze){return ze.getParam("min_height",ze.getElement().offsetHeight,"number")},ye=function(ze){return ze.getParam("max_height",0,"number")},jt=function(ze){return ze.getParam("autoresize_overflow_padding",1,"number")},Ye=function(ze){return ze.getParam("autoresize_bottom_margin",50,"number")},Ae=function(ze){return ze.getParam("autoresize_on_init",!0,"boolean")},tt=function(ze){return ze.plugins.fullscreen&&ze.plugins.fullscreen.isFullscreen()},er=function(ze,Le,Ge,ce,Ue){pe.setEditorTimeout(ze,function(){Y(ze,Le),Ge--?er(ze,Le,Ge,ce,Ue):Ue&&Ue()},ce)},Xe=function(ze,Le){var Ge=ze.getBody();Ge&&(Ge.style.overflowY=Le?"":"hidden",Le||(Ge.scrollTop=0))},at=function(ze,Le,Ge,ce){var Ue=parseInt(ze.getStyle(Le,Ge,ce),10);return isNaN(Ue)?0:Ue},_e=function(ze){if((ze==null?void 0:ze.type.toLowerCase())==="setcontent"){var Le=ze;return Le.selection===!0||Le.paste===!0}else return!1},Y=function(ze,Le,Ge){var ce=ze.dom,Ue=ze.getDoc();if(Ue){if(tt(ze)){Xe(ze,!0);return}var U=Ue.documentElement,Ce=Ye(ze),J=xe(ze),X=at(ce,U,"margin-top",!0),It=at(ce,U,"margin-bottom",!0),fn=U.offsetHeight+X+It+Ce;fn<0&&(fn=0);var St=ze.getContainer().offsetHeight,Xn=ze.getContentAreaContainer().offsetHeight,mn=St-Xn;fn+mn>xe(ze)&&(J=fn+mn);var O=ye(ze);if(O&&J>O?(J=O,Xe(ze,!0)):Xe(ze,!1),J!==Le.get()){var On=J-Le.get();if(ce.setStyle(ze.getContainer(),"height",J+"px"),Le.set(J),He(ze),ee.browser.isSafari()&&ee.mac){var Wt=ze.getWin();Wt.scrollTo(Wt.pageXOffset,Wt.pageYOffset)}ze.hasFocus()&&_e(Ge)&&ze.selection.scrollIntoView(),ee.webkit&&On<0&&Y(ze,Le,Ge)}}},De=function(ze,Le){ze.on("init",function(){var Ge=jt(ze),ce=ze.dom;ce.setStyles(ze.getDoc().documentElement,{height:"auto"}),ce.setStyles(ze.getBody(),{paddingLeft:Ge,paddingRight:Ge,"min-height":0})}),ze.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(Ge){Y(ze,Le,Ge)}),Ae(ze)&&ze.on("init",function(){er(ze,Le,20,100,function(){er(ze,Le,5,1e3)})})},ue=function(ze,Le){ze.addCommand("mceAutoResize",function(){Y(ze,Le)})};function Je(){F.add("autoresize",function(ze){if(N(ze.settings,"resize")||(ze.settings.resize=!1),!ze.inline){var Le=I(0);ue(ze,Le),De(ze,Le)}})}Je()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=function(be,Pe){return be.fire("insertCustomChar",{chr:Pe})},N=function(be,Pe){var je=T(be,Pe).chr;be.execCommand("mceInsertContent",!1,je)},F=function(be){var Pe=typeof be;return be===null?"null":Pe==="object"&&(Array.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="Array")?"array":Pe==="object"&&(String.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="String")?"string":Pe},ee=function(be){return function(Pe){return F(Pe)===be}},pe=function(be){return function(Pe){return be===Pe}},He=ee("array"),xe=pe(null),ye=function(){},jt=function(be){return function(){return be}},Ye=function(be){return be},Ae=jt(!1),tt=jt(!0),er=function(){return Xe},Xe=function(){var be=function(Nt){return Nt()},Pe=Ye,je={fold:function(Nt,fr){return Nt()},isSome:Ae,isNone:tt,getOr:Pe,getOrThunk:be,getOrDie:function(Nt){throw new Error(Nt||"error: getOrDie called on none.")},getOrNull:jt(null),getOrUndefined:jt(void 0),or:Pe,orThunk:be,map:er,each:ye,bind:er,exists:Ae,forall:tt,filter:function(){return er()},toArray:function(){return[]},toString:jt("none()")};return je}(),at=function(be){var Pe=jt(be),je=function(){return fr},Nt=function(Xt){return Xt(be)},fr={fold:function(Xt,Pr){return Pr(be)},isSome:tt,isNone:Ae,getOr:Pe,getOrThunk:Pe,getOrDie:Pe,getOrNull:Pe,getOrUndefined:Pe,or:je,orThunk:je,map:function(Xt){return at(Xt(be))},each:function(Xt){Xt(be)},bind:Nt,exists:Nt,forall:Nt,filter:function(Xt){return Xt(be)?fr:Xe},toArray:function(){return[be]},toString:function(){return"some("+be+")"}};return fr},_e=function(be){return be==null?Xe:at(be)},Y={some:at,none:er,from:_e},De=Array.prototype.push,ue=function(be,Pe){for(var je=be.length,Nt=new Array(je),fr=0;fr<je;fr++){var Xt=be[fr];Nt[fr]=Pe(Xt,fr)}return Nt},Je=function(be,Pe){for(var je=0,Nt=be.length;je<Nt;je++){var fr=be[je];Pe(fr,je)}},ze=function(be,Pe,je){for(var Nt=0,fr=be.length;Nt<fr;Nt++){var Xt=be[Nt];if(Pe(Xt,Nt))return Y.some(Xt);if(je(Xt,Nt))break}return Y.none()},Le=function(be,Pe){return ze(be,Pe,Ae)},Ge=function(be){for(var Pe=[],je=0,Nt=be.length;je<Nt;++je){if(!He(be[je]))throw new Error("Arr.flatten item "+je+" was not an array, input: "+be);De.apply(Pe,be[je])}return Pe},ce=function(be,Pe){return Ge(ue(be,Pe))},Ue=tinymce.util.Tools.resolve("tinymce.util.Tools"),U=function(be){return be.getParam("charmap")},Ce=function(be){return be.getParam("charmap_append")},J=Ue.isArray,X="User Defined",It=function(){return[{name:"Currency",characters:[[36,"dollar sign"],[162,"cent sign"],[8364,"euro sign"],[163,"pound sign"],[165,"yen sign"],[164,"currency sign"],[8352,"euro-currency sign"],[8353,"colon sign"],[8354,"cruzeiro sign"],[8355,"french franc sign"],[8356,"lira sign"],[8357,"mill sign"],[8358,"naira sign"],[8359,"peseta sign"],[8360,"rupee sign"],[8361,"won sign"],[8362,"new sheqel sign"],[8363,"dong sign"],[8365,"kip sign"],[8366,"tugrik sign"],[8367,"drachma sign"],[8368,"german penny symbol"],[8369,"peso sign"],[8370,"guarani sign"],[8371,"austral sign"],[8372,"hryvnia sign"],[8373,"cedi sign"],[8374,"livre tournois sign"],[8375,"spesmilo sign"],[8376,"tenge sign"],[8377,"indian rupee sign"],[8378,"turkish lira sign"],[8379,"nordic mark sign"],[8380,"manat sign"],[8381,"ruble sign"],[20870,"yen character"],[20803,"yuan character"],[22291,"yuan character, in hong kong and taiwan"],[22278,"yen/yuan character variant one"]]},{name:"Text",characters:[[169,"copyright sign"],[174,"registered sign"],[8482,"trade mark sign"],[8240,"per mille sign"],[181,"micro sign"],[183,"middle dot"],[8226,"bullet"],[8230,"three dot leader"],[8242,"minutes / feet"],[8243,"seconds / inches"],[167,"section sign"],[182,"paragraph sign"],[223,"sharp s / ess-zed"]]},{name:"Quotations",characters:[[8249,"single left-pointing angle quotation mark"],[8250,"single right-pointing angle quotation mark"],[171,"left pointing guillemet"],[187,"right pointing guillemet"],[8216,"left single quotation mark"],[8217,"right single quotation mark"],[8220,"left double quotation mark"],[8221,"right double quotation mark"],[8218,"single low-9 quotation mark"],[8222,"double low-9 quotation mark"],[60,"less-than sign"],[62,"greater-than sign"],[8804,"less-than or equal to"],[8805,"greater-than or equal to"],[8211,"en dash"],[8212,"em dash"],[175,"macron"],[8254,"overline"],[164,"currency sign"],[166,"broken bar"],[168,"diaeresis"],[161,"inverted exclamation mark"],[191,"turned question mark"],[710,"circumflex accent"],[732,"small tilde"],[176,"degree sign"],[8722,"minus sign"],[177,"plus-minus sign"],[247,"division sign"],[8260,"fraction slash"],[215,"multiplication sign"],[185,"superscript one"],[178,"superscript two"],[179,"superscript three"],[188,"fraction one quarter"],[189,"fraction one half"],[190,"fraction three quarters"]]},{name:"Mathematical",characters:[[402,"function / florin"],[8747,"integral"],[8721,"n-ary sumation"],[8734,"infinity"],[8730,"square root"],[8764,"similar to"],[8773,"approximately equal to"],[8776,"almost equal to"],[8800,"not equal to"],[8801,"identical to"],[8712,"element of"],[8713,"not an element of"],[8715,"contains as member"],[8719,"n-ary product"],[8743,"logical and"],[8744,"logical or"],[172,"not sign"],[8745,"intersection"],[8746,"union"],[8706,"partial differential"],[8704,"for all"],[8707,"there exists"],[8709,"diameter"],[8711,"backward difference"],[8727,"asterisk operator"],[8733,"proportional to"],[8736,"angle"]]},{name:"Extended Latin",characters:[[192,"A - grave"],[193,"A - acute"],[194,"A - circumflex"],[195,"A - tilde"],[196,"A - diaeresis"],[197,"A - ring above"],[256,"A - macron"],[198,"ligature AE"],[199,"C - cedilla"],[200,"E - grave"],[201,"E - acute"],[202,"E - circumflex"],[203,"E - diaeresis"],[274,"E - macron"],[204,"I - grave"],[205,"I - acute"],[206,"I - circumflex"],[207,"I - diaeresis"],[298,"I - macron"],[208,"ETH"],[209,"N - tilde"],[210,"O - grave"],[211,"O - acute"],[212,"O - circumflex"],[213,"O - tilde"],[214,"O - diaeresis"],[216,"O - slash"],[332,"O - macron"],[338,"ligature OE"],[352,"S - caron"],[217,"U - grave"],[218,"U - acute"],[219,"U - circumflex"],[220,"U - diaeresis"],[362,"U - macron"],[221,"Y - acute"],[376,"Y - diaeresis"],[562,"Y - macron"],[222,"THORN"],[224,"a - grave"],[225,"a - acute"],[226,"a - circumflex"],[227,"a - tilde"],[228,"a - diaeresis"],[229,"a - ring above"],[257,"a - macron"],[230,"ligature ae"],[231,"c - cedilla"],[232,"e - grave"],[233,"e - acute"],[234,"e - circumflex"],[235,"e - diaeresis"],[275,"e - macron"],[236,"i - grave"],[237,"i - acute"],[238,"i - circumflex"],[239,"i - diaeresis"],[299,"i - macron"],[240,"eth"],[241,"n - tilde"],[242,"o - grave"],[243,"o - acute"],[244,"o - circumflex"],[245,"o - tilde"],[246,"o - diaeresis"],[248,"o slash"],[333,"o macron"],[339,"ligature oe"],[353,"s - caron"],[249,"u - grave"],[250,"u - acute"],[251,"u - circumflex"],[252,"u - diaeresis"],[363,"u - macron"],[253,"y - acute"],[254,"thorn"],[255,"y - diaeresis"],[563,"y - macron"],[913,"Alpha"],[914,"Beta"],[915,"Gamma"],[916,"Delta"],[917,"Epsilon"],[918,"Zeta"],[919,"Eta"],[920,"Theta"],[921,"Iota"],[922,"Kappa"],[923,"Lambda"],[924,"Mu"],[925,"Nu"],[926,"Xi"],[927,"Omicron"],[928,"Pi"],[929,"Rho"],[931,"Sigma"],[932,"Tau"],[933,"Upsilon"],[934,"Phi"],[935,"Chi"],[936,"Psi"],[937,"Omega"],[945,"alpha"],[946,"beta"],[947,"gamma"],[948,"delta"],[949,"epsilon"],[950,"zeta"],[951,"eta"],[952,"theta"],[953,"iota"],[954,"kappa"],[955,"lambda"],[956,"mu"],[957,"nu"],[958,"xi"],[959,"omicron"],[960,"pi"],[961,"rho"],[962,"final sigma"],[963,"sigma"],[964,"tau"],[965,"upsilon"],[966,"phi"],[967,"chi"],[968,"psi"],[969,"omega"]]},{name:"Symbols",characters:[[8501,"alef symbol"],[982,"pi symbol"],[8476,"real part symbol"],[978,"upsilon - hook symbol"],[8472,"Weierstrass p"],[8465,"imaginary part"]]},{name:"Arrows",characters:[[8592,"leftwards arrow"],[8593,"upwards arrow"],[8594,"rightwards arrow"],[8595,"downwards arrow"],[8596,"left right arrow"],[8629,"carriage return"],[8656,"leftwards double arrow"],[8657,"upwards double arrow"],[8658,"rightwards double arrow"],[8659,"downwards double arrow"],[8660,"left right double arrow"],[8756,"therefore"],[8834,"subset of"],[8835,"superset of"],[8836,"not a subset of"],[8838,"subset of or equal to"],[8839,"superset of or equal to"],[8853,"circled plus"],[8855,"circled times"],[8869,"perpendicular"],[8901,"dot operator"],[8968,"left ceiling"],[8969,"right ceiling"],[8970,"left floor"],[8971,"right floor"],[9001,"left-pointing angle bracket"],[9002,"right-pointing angle bracket"],[9674,"lozenge"],[9824,"black spade suit"],[9827,"black club suit"],[9829,"black heart suit"],[9830,"black diamond suit"],[8194,"en space"],[8195,"em space"],[8201,"thin space"],[8204,"zero width non-joiner"],[8205,"zero width joiner"],[8206,"left-to-right mark"],[8207,"right-to-left mark"]]}]},fn=function(be){return Ue.grep(be,function(Pe){return J(Pe)&&Pe.length===2})},St=function(be){return J(be)?fn(be):typeof be=="function"?be():[]},Xn=function(be,Pe){var je=U(be);je&&(Pe=[{name:X,characters:St(je)}]);var Nt=Ce(be);if(Nt){var fr=Ue.grep(Pe,function(Xt){return Xt.name===X});return fr.length?(fr[0].characters=[].concat(fr[0].characters).concat(St(Nt)),Pe):Pe.concat({name:X,characters:St(Nt)})}return Pe},mn=function(be){var Pe=Xn(be,It());return Pe.length>1?[{name:"All",characters:ce(Pe,function(je){return je.characters})}].concat(Pe):Pe},O=function(be){var Pe=function(){return mn(be)},je=function(Nt){N(be,Nt)};return{getCharMap:Pe,insertChar:je}},On=function(be){var Pe=be,je=function(){return Pe},Nt=function(fr){Pe=fr};return{get:je,set:Nt}},Wt=function(be,Pe){var je=null,Nt=function(){xe(je)||(clearTimeout(je),je=null)},fr=function(){for(var Xt=[],Pr=0;Pr<arguments.length;Pr++)Xt[Pr]=arguments[Pr];Nt(),je=setTimeout(function(){je=null,be.apply(null,Xt)},Pe)};return{cancel:Nt,throttle:fr}},sr=String.fromCodePoint,ya=function(be,Pe){return be.indexOf(Pe)!==-1},vo=function(){for(var be=[],Pe=0;Pe<arguments.length;Pe++)be[Pe]=arguments[Pe];if(sr)return sr.apply(void 0,be);for(var je=[],Nt=0,fr="",Xt=0,Pr=be.length;Xt!==Pr;++Xt){var ut=+be[Xt];if(!(ut<1114111&&ut>>>0===ut))throw RangeError("Invalid code point: "+ut);ut<=65535?Nt=je.push(ut):(ut-=65536,Nt=je.push((ut>>10)+55296,ut%1024+56320)),Nt>=16383&&(fr+=String.fromCharCode.apply(null,je),je.length=0)}return fr+String.fromCharCode.apply(null,je)},dn=function(be,Pe,je){return ya(vo(be).toLowerCase(),je)?!0:ya(Pe.toLowerCase(),je)||ya(Pe.toLowerCase().replace(/\s+/g,""),je)},fa=function(be,Pe){var je=[],Nt=Pe.toLowerCase();return Je(be.characters,function(fr){dn(fr[0],fr[1],Nt)&&je.push(fr)}),ue(je,function(fr){return{text:fr[1],value:vo(fr[0]),icon:vo(fr[0])}})},oe="pattern",Xa=function(be,Pe){var je=function(){return[{label:"Search",type:"input",name:oe},{type:"collection",name:"results"}]},Nt=function(){return ue(Pe,function(Yn){return{title:Yn.name,name:Yn.name,items:je()}})},fr=function(){return{type:"panel",items:je()}},Xt=function(){return{type:"tabpanel",tabs:Nt()}},Pr=Pe.length===1?On(X):On("All"),ut=function(Yn,Ta){Le(Pe,function(ba){return ba.name===Pr.get()}).each(function(ba){var Zn=fa(ba,Ta);Yn.setData({results:Zn})})},st=40,nr=Wt(function(Yn){var Ta=Yn.getData().pattern;ut(Yn,Ta)},st),Rr=Pe.length===1?fr():Xt(),sn={pattern:"",results:fa(Pe[0],"")},wn={title:"Special Character",size:"normal",body:Rr,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:sn,onAction:function(Yn,Ta){Ta.name==="results"&&(N(be,Ta.value),Yn.close())},onTabChange:function(Yn,Ta){Pr.set(Ta.newTabName),nr.throttle(Yn)},onChange:function(Yn,Ta){Ta.name===oe&&nr.throttle(Yn)}},Gn=be.windowManager.open(wn);Gn.focus(oe)},$t=function(be,Pe){be.addCommand("mceShowCharmap",function(){Xa(be,Pe)})},Qe=tinymce.util.Tools.resolve("tinymce.util.Promise"),Sr=function(be,Pe){be.ui.registry.addAutocompleter("charmap",{ch:":",columns:"auto",minChars:2,fetch:function(je,Nt){return new Qe(function(fr,Xt){fr(fa(Pe,je))})},onAction:function(je,Nt,fr){be.selection.setRng(Nt),be.insertContent(fr),je.hide()}})},rt=function(be){be.ui.registry.addButton("charmap",{icon:"insert-character",tooltip:"Special character",onAction:function(){return be.execCommand("mceShowCharmap")}}),be.ui.registry.addMenuItem("charmap",{icon:"insert-character",text:"Special character...",onAction:function(){return be.execCommand("mceShowCharmap")}})};function qe(){I.add("charmap",function(be){var Pe=mn(be);return $t(be,Pe),rt(be),Sr(be,Pe[0]),O(be)})}qe()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager");function T(){I.add("colorpicker",function(){})}T()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager");function T(){I.add("contextmenu",function(){})}T()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=function(ut){return function(st){return ut===st}},N=T(null),F=function(){},ee=function(ut){return function(){return ut}},pe=function(ut){return ut},He=ee(!1),xe=ee(!0),ye=function(){return jt},jt=function(){var ut=function(Rr){return Rr()},st=pe,nr={fold:function(Rr,sn){return Rr()},isSome:He,isNone:xe,getOr:st,getOrThunk:ut,getOrDie:function(Rr){throw new Error(Rr||"error: getOrDie called on none.")},getOrNull:ee(null),getOrUndefined:ee(void 0),or:st,orThunk:ut,map:ye,each:F,bind:ye,exists:He,forall:xe,filter:function(){return ye()},toArray:function(){return[]},toString:ee("none()")};return nr}(),Ye=function(ut){var st=ee(ut),nr=function(){return sn},Rr=function(wn){return wn(ut)},sn={fold:function(wn,Gn){return Gn(ut)},isSome:xe,isNone:He,getOr:st,getOrThunk:st,getOrDie:st,getOrNull:st,getOrUndefined:st,or:nr,orThunk:nr,map:function(wn){return Ye(wn(ut))},each:function(wn){wn(ut)},bind:Rr,exists:Rr,forall:Rr,filter:function(wn){return wn(ut)?sn:jt},toArray:function(){return[ut]},toString:function(){return"some("+ut+")"}};return sn},Ae=function(ut){return ut==null?jt:Ye(ut)},tt={some:Ye,none:ye,from:Ae},er=function(ut,st){for(var nr=0,Rr=ut.length;nr<Rr;nr++){var sn=ut[nr];if(st(sn,nr))return!0}return!1},Xe=function(ut,st){for(var nr=ut.length,Rr=new Array(nr),sn=0;sn<nr;sn++){var wn=ut[sn];Rr[sn]=st(wn,sn)}return Rr},at=function(ut,st){for(var nr=0,Rr=ut.length;nr<Rr;nr++){var sn=ut[nr];st(sn,nr)}},_e=function(ut){var st=ut,nr=function(){return st},Rr=function(sn){st=sn};return{get:nr,set:Rr}},Y=function(ut,st){var nr=null,Rr=function(){N(nr)||(clearTimeout(nr),nr=null)},sn=function(){for(var wn=[],Gn=0;Gn<arguments.length;Gn++)wn[Gn]=arguments[Gn];Rr(),nr=setTimeout(function(){nr=null,ut.apply(null,wn)},st)};return{cancel:Rr,throttle:sn}},De=function(ut,st){ut.insertContent(st)},ue=function(){return ue=Object.assign||function(st){for(var nr,Rr=1,sn=arguments.length;Rr<sn;Rr++){nr=arguments[Rr];for(var wn in nr)Object.prototype.hasOwnProperty.call(nr,wn)&&(st[wn]=nr[wn])}return st},ue.apply(this,arguments)},Je=Object.keys,ze=Object.hasOwnProperty,Le=function(ut,st){for(var nr=Je(ut),Rr=0,sn=nr.length;Rr<sn;Rr++){var wn=nr[Rr],Gn=ut[wn];st(Gn,wn)}},Ge=function(ut,st){return ce(ut,function(nr,Rr){return{k:Rr,v:st(nr,Rr)}})},ce=function(ut,st){var nr={};return Le(ut,function(Rr,sn){var wn=st(Rr,sn);nr[wn.k]=wn.v}),nr},Ue=function(ut,st){return ze.call(ut,st)},U=function(ut,st){return st},Ce=function(ut){return function(){for(var st=[],nr=0;nr<arguments.length;nr++)st[nr]=arguments[nr];if(st.length===0)throw new Error("Can't merge zero objects");for(var Rr={},sn=0;sn<st.length;sn++){var wn=st[sn];for(var Gn in wn)Ue(wn,Gn)&&(Rr[Gn]=ut(Rr[Gn],wn[Gn]))}return Rr}},J=Ce(U),X=function(ut){var st=_e(tt.none()),nr=function(){return st.get().each(ut)},Rr=function(){nr(),st.set(tt.none())},sn=function(){return st.get().isSome()},wn=function(){return st.get()},Gn=function(Yn){nr(),st.set(tt.some(Yn))};return{clear:Rr,isSet:sn,get:wn,set:Gn}},It=function(){var ut=X(F),st=function(nr){return ut.get().each(nr)};return ue(ue({},ut),{on:st})},fn=function(ut,st,nr){return st===""||ut.length>=st.length&&ut.substr(nr,nr+st.length)===st},St=function(ut,st){return ut.indexOf(st)!==-1},Xn=function(ut,st){return fn(ut,st,0)},mn=tinymce.util.Tools.resolve("tinymce.Resource"),O=tinymce.util.Tools.resolve("tinymce.util.Delay"),On=tinymce.util.Tools.resolve("tinymce.util.Promise"),Wt="tinymce.plugins.emoticons",sr=function(ut){return ut.getParam("emoticons_database","emojis","string")},ya=function(ut,st){var nr=sr(ut);return ut.getParam("emoticons_database_url",st+"/js/"+nr+ut.suffix+".js","string")},vo=function(ut){return ut.getParam("emoticons_database_id",Wt,"string")},dn=function(ut){return ut.getParam("emoticons_append",{},"object")},fa=function(ut){return ut.getParam("emoticons_images_url","https://twemoji.maxcdn.com/v/13.0.1/72x72/","string")},oe="All",Xa={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},$t=function(ut,st){return Ue(ut,st)?ut[st]:st},Qe=function(ut){var st=dn(ut);return Ge(st,function(nr){return ue({keywords:[],category:"user"},nr)})},Sr=function(ut,st,nr){var Rr=It(),sn=It(),wn=fa(ut),Gn=function(Rn){return Xn(Rn.char,"<img")?Rn.char.replace(/src="([^"]+)"/,function(kn,Ka){return'src="'+wn+Ka+'"'}):Rn.char},Yn=function(Rn){var kn={},Ka=[];Le(Rn,function(ao,Ca){var xn={title:Ca,keywords:ao.keywords,char:Gn(ao),category:$t(Xa,ao.category)},Co=kn[xn.category]!==void 0?kn[xn.category]:[];kn[xn.category]=Co.concat([xn]),Ka.push(xn)}),Rr.set(kn),sn.set(Ka)};ut.on("init",function(){mn.load(nr,st).then(function(Rn){var kn=Qe(ut);Yn(J(Rn,kn))},function(Rn){console.log("Failed to load emoticons: "+Rn),Rr.set({}),sn.set([])})});var Ta=function(Rn){return Rn===oe?ba():Rr.get().bind(function(kn){return tt.from(kn[Rn])}).getOr([])},ba=function(){return sn.get().getOr([])},Zn=function(){return[oe].concat(Je(Rr.get().getOr({})))},In=function(){return ga()?On.resolve(!0):new On(function(Rn,kn){var Ka=15,ao=O.setInterval(function(){ga()?(O.clearInterval(ao),Rn(!0)):(Ka--,Ka<0&&(console.log("Could not load emojis from url: "+st),O.clearInterval(ao),kn(!1)))},100)})},ga=function(){return Rr.isSet()&&sn.isSet()};return{listCategories:Zn,hasLoaded:ga,waitForLoad:In,listAll:ba,listCategory:Ta}},rt=function(ut,st){return St(ut.title.toLowerCase(),st)||er(ut.keywords,function(nr){return St(nr.toLowerCase(),st)})},qe=function(ut,st,nr){for(var Rr=[],sn=st.toLowerCase(),wn=nr.fold(function(){return He},function(Yn){return function(Ta){return Ta>=Yn}}),Gn=0;Gn<ut.length&&!((st.length===0||rt(ut[Gn],sn))&&(Rr.push({value:ut[Gn].char,text:ut[Gn].title,icon:ut[Gn].char}),wn(Rr.length)));Gn++);return Rr},be="pattern",Pe=function(ut,st){var nr={pattern:"",results:qe(st.listAll(),"",tt.some(300))},Rr=_e(oe),sn=function(Zn){var In=Zn.getData(),ga=Rr.get(),Rn=st.listCategory(ga),kn=qe(Rn,In[be],ga===oe?tt.some(300):tt.none());Zn.setData({results:kn})},wn=Y(function(Zn){sn(Zn)},200),Gn={label:"Search",type:"input",name:be},Yn={type:"collection",name:"results"},Ta=function(){var Zn={type:"tabpanel",tabs:Xe(st.listCategories(),function(In){return{title:In,name:In,items:[Gn,Yn]}})};return{title:"Emoticons",size:"normal",body:Zn,initialData:nr,onTabChange:function(In,ga){Rr.set(ga.newTabName),wn.throttle(In)},onChange:wn.throttle,onAction:function(In,ga){ga.name==="results"&&(De(ut,ga.value),In.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},ba=ut.windowManager.open(Ta());ba.focus(be),st.hasLoaded()||(ba.block("Loading emoticons..."),st.waitForLoad().then(function(){ba.redial(Ta()),wn.throttle(ba),ba.focus(be),ba.unblock()}).catch(function(Zn){ba.redial({title:"Emoticons",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"<p>Could not load emoticons</p>"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),ba.focus(be),ba.unblock()}))},je=function(ut,st){ut.addCommand("mceEmoticons",function(){return Pe(ut,st)})},Nt=function(ut){ut.on("PreInit",function(){ut.parser.addAttributeFilter("data-emoticon",function(st){at(st,function(nr){nr.attr("data-mce-resize","false"),nr.attr("data-mce-placeholder","1")})})})},fr=function(ut,st){ut.ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:function(nr,Rr){return st.waitForLoad().then(function(){var sn=st.listAll();return qe(sn,nr,tt.some(Rr))})},onAction:function(nr,Rr,sn){ut.selection.setRng(Rr),ut.insertContent(sn),nr.hide()}})},Xt=function(ut){var st=function(){return ut.execCommand("mceEmoticons")};ut.ui.registry.addButton("emoticons",{tooltip:"Emoticons",icon:"emoji",onAction:st}),ut.ui.registry.addMenuItem("emoticons",{text:"Emoticons...",icon:"emoji",onAction:st})};function Pr(){I.add("emoticons",function(ut,st){var nr=ya(ut,st),Rr=vo(ut),sn=Sr(ut,nr,Rr);je(ut,sn),Xt(ut),fr(ut,sn),Nt(ut)})}Pr()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["land","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["runion","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthlemy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"",fitzpatrick_scale:!1,category:"flags"}});(function(){var I=function(x){var _=x,A=function(){return _},W=function(le){_=le};return{get:A,set:W}},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),N=function(x){return{isFullscreen:function(){return x.get()!==null}}},F=function(x){var _=typeof x;return x===null?"null":_==="object"&&(Array.prototype.isPrototypeOf(x)||x.constructor&&x.constructor.name==="Array")?"array":_==="object"&&(String.prototype.isPrototypeOf(x)||x.constructor&&x.constructor.name==="String")?"string":_},ee=function(x){return function(_){return F(_)===x}},pe=function(x){return function(_){return typeof _===x}},He=ee("string"),xe=ee("array"),ye=pe("boolean"),jt=function(x){return x==null},Ye=function(x){return!jt(x)},Ae=pe("function"),tt=pe("number"),er=function(){},Xe=function(x,_){return function(){for(var A=[],W=0;W<arguments.length;W++)A[W]=arguments[W];return x(_.apply(null,A))}},at=function(x,_){return function(A){return x(_(A))}},_e=function(x){return function(){return x}},Y=function(x){return x};function De(x){for(var _=[],A=1;A<arguments.length;A++)_[A-1]=arguments[A];return function(){for(var W=[],le=0;le<arguments.length;le++)W[le]=arguments[le];var $e=_.concat(W);return x.apply(null,$e)}}var ue=_e(!1),Je=_e(!0),ze=function(){return Le},Le=function(){var x=function(W){return W()},_=Y,A={fold:function(W,le){return W()},isSome:ue,isNone:Je,getOr:_,getOrThunk:x,getOrDie:function(W){throw new Error(W||"error: getOrDie called on none.")},getOrNull:_e(null),getOrUndefined:_e(void 0),or:_,orThunk:x,map:ze,each:er,bind:ze,exists:ue,forall:Je,filter:function(){return ze()},toArray:function(){return[]},toString:_e("none()")};return A}(),Ge=function(x){var _=_e(x),A=function(){return le},W=function($e){return $e(x)},le={fold:function($e,Et){return Et(x)},isSome:Je,isNone:ue,getOr:_,getOrThunk:_,getOrDie:_,getOrNull:_,getOrUndefined:_,or:A,orThunk:A,map:function($e){return Ge($e(x))},each:function($e){$e(x)},bind:W,exists:W,forall:W,filter:function($e){return $e(x)?le:Le},toArray:function(){return[x]},toString:function(){return"some("+x+")"}};return le},ce=function(x){return x==null?Le:Ge(x)},Ue={some:Ge,none:ze,from:ce},U=function(){return U=Object.assign||function(_){for(var A,W=1,le=arguments.length;W<le;W++){A=arguments[W];for(var $e in A)Object.prototype.hasOwnProperty.call(A,$e)&&(_[$e]=A[$e])}return _},U.apply(this,arguments)},Ce=function(x){var _=I(Ue.none()),A=function(){return _.get().each(x)},W=function(){A(),_.set(Ue.none())},le=function(){return _.get().isSome()},$e=function(){return _.get()},Et=function(Mr){A(),_.set(Ue.some(Mr))};return{clear:W,isSet:le,get:$e,set:Et}},J=function(){return Ce(function(x){return x.unbind()})},X=function(){var x=Ce(er),_=function(A){return x.get().each(A)};return U(U({},x),{on:_})},It=Array.prototype.push,fn=function(x,_){for(var A=x.length,W=new Array(A),le=0;le<A;le++){var $e=x[le];W[le]=_($e,le)}return W},St=function(x,_){for(var A=0,W=x.length;A<W;A++){var le=x[A];_(le,A)}},Xn=function(x,_){for(var A=[],W=0,le=x.length;W<le;W++){var $e=x[W];_($e,W)&&A.push($e)}return A},mn=function(x,_,A){for(var W=0,le=x.length;W<le;W++){var $e=x[W];if(_($e,W))return Ue.some($e);if(A($e,W))break}return Ue.none()},O=function(x,_){return mn(x,_,ue)},On=function(x){for(var _=[],A=0,W=x.length;A<W;++A){if(!xe(x[A]))throw new Error("Arr.flatten item "+A+" was not an array, input: "+x);It.apply(_,x[A])}return _},Wt=function(x,_){return On(fn(x,_))},sr=function(x,_){return _>=0&&_<x.length?Ue.some(x[_]):Ue.none()},ya=function(x){return sr(x,0)},vo=function(x,_){for(var A=0;A<x.length;A++){var W=_(x[A],A);if(W.isSome())return W}return Ue.none()},dn=Object.keys,fa=function(x,_){for(var A=dn(x),W=0,le=A.length;W<le;W++){var $e=A[W],Et=x[$e];_(Et,$e)}},oe=function(x,_){return x.indexOf(_)!==-1},Xa=function(x){return x.style!==void 0&&Ae(x.style.getPropertyValue)},$t=function(x,_){var A=_||document,W=A.createElement("div");if(W.innerHTML=x,!W.hasChildNodes()||W.childNodes.length>1)throw console.error("HTML does not have a single root node",x),new Error("HTML must have a single root node");return rt(W.childNodes[0])},Qe=function(x,_){var A=_||document,W=A.createElement(x);return rt(W)},Sr=function(x,_){var A=_||document,W=A.createTextNode(x);return rt(W)},rt=function(x){if(x==null)throw new Error("Node cannot be null or undefined");return{dom:x}},qe=function(x,_,A){return Ue.from(x.dom.elementFromPoint(_,A)).map(rt)},be={fromHtml:$t,fromTag:Qe,fromText:Sr,fromDom:rt,fromPoint:qe};typeof window<"u"||Function("return this;")();var Pe=9,je=11,Nt=1,fr=3,Xt=function(x){return x.dom.nodeType},Pr=function(x){return function(_){return Xt(_)===x}},ut=Pr(Nt),st=Pr(fr),nr=Pr(Pe),Rr=Pr(je),sn=function(x){var _=!1,A;return function(){for(var W=[],le=0;le<arguments.length;le++)W[le]=arguments[le];return _||(_=!0,A=x.apply(null,W)),A}},wn=function(x,_,A,W){var le=x.isiOS()&&/ipad/i.test(A)===!0,$e=x.isiOS()&&!le,Et=x.isiOS()||x.isAndroid(),Mr=Et||W("(pointer:coarse)"),Zr=le||!$e&&Et&&W("(min-device-width:768px)"),ir=$e||Et&&!Zr,Dr=_.isSafari()&&x.isiOS()&&/safari/i.test(A)===!1,En=!ir&&!Zr&&!Dr;return{isiPad:_e(le),isiPhone:_e($e),isTablet:_e(Zr),isPhone:_e(ir),isTouch:_e(Mr),isAndroid:x.isAndroid,isiOS:x.isiOS,isWebView:_e(Dr),isDesktop:_e(En)}},Gn=function(x,_){for(var A=0;A<x.length;A++){var W=x[A];if(W.test(_))return W}},Yn=function(x,_){var A=Gn(x,_);if(!A)return{major:0,minor:0};var W=function(le){return Number(_.replace(A,"$"+le))};return Zn(W(1),W(2))},Ta=function(x,_){var A=String(_).toLowerCase();return x.length===0?ba():Yn(x,A)},ba=function(){return Zn(0,0)},Zn=function(x,_){return{major:x,minor:_}},In={nu:Zn,detect:Ta,unknown:ba},ga=function(x,_){return vo(_.brands,function(A){var W=A.brand.toLowerCase();return O(x,function(le){var $e;return W===(($e=le.brand)===null||$e===void 0?void 0:$e.toLowerCase())}).map(function(le){return{current:le.name,version:In.nu(parseInt(A.version,10),0)}})})},Rn=function(x,_){var A=String(_).toLowerCase();return O(x,function(W){return W.search(A)})},kn=function(x,_){return Rn(x,_).map(function(A){var W=In.detect(A.versionRegexes,_);return{current:A.name,version:W}})},Ka=function(x,_){return Rn(x,_).map(function(A){var W=In.detect(A.versionRegexes,_);return{current:A.name,version:W}})},ao=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ca=function(x){return function(_){return oe(_,x)}},xn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(x){return oe(x,"edge/")&&oe(x,"chrome")&&oe(x,"safari")&&oe(x,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ao],search:function(x){return oe(x,"chrome")&&!oe(x,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(x){return oe(x,"msie")||oe(x,"trident")}},{name:"Opera",versionRegexes:[ao,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ca("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ca("firefox")},{name:"Safari",versionRegexes:[ao,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(x){return(oe(x,"safari")||oe(x,"mobile/"))&&oe(x,"applewebkit")}}],Co=[{name:"Windows",search:Ca("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(x){return oe(x,"iphone")||oe(x,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ca("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ca("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ca("linux"),versionRegexes:[]},{name:"Solaris",search:Ca("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ca("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Ca("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ke={browsers:_e(xn),oses:_e(Co)},Mt="Edge",gt="Chrome",dr="IE",un="Opera",ua="Firefox",fi="Safari",Kn=function(){return Sn({current:void 0,version:In.unknown()})},Sn=function(x){var _=x.current,A=x.version,W=function(le){return function(){return _===le}};return{current:_,version:A,isEdge:W(Mt),isChrome:W(gt),isIE:W(dr),isOpera:W(un),isFirefox:W(ua),isSafari:W(fi)}},xo={unknown:Kn,nu:Sn,edge:_e(Mt),chrome:_e(gt),ie:_e(dr),opera:_e(un),firefox:_e(ua),safari:_e(fi)},di="Windows",Ni="iOS",mo="Android",Jo="Linux",qi="OSX",Qo="Solaris",Lo="FreeBSD",Gi="ChromeOS",ra=function(){return oi({current:void 0,version:In.unknown()})},oi=function(x){var _=x.current,A=x.version,W=function(le){return function(){return _===le}};return{current:_,version:A,isWindows:W(di),isiOS:W(Ni),isAndroid:W(mo),isOSX:W(qi),isLinux:W(Jo),isSolaris:W(Qo),isFreeBSD:W(Lo),isChromeOS:W(Gi)}},$r={unknown:ra,nu:oi,windows:_e(di),ios:_e(Ni),android:_e(mo),linux:_e(Jo),osx:_e(qi),solaris:_e(Qo),freebsd:_e(Lo),chromeos:_e(Gi)},Pu=function(x,_,A){var W=Ke.browsers(),le=Ke.oses(),$e=_.bind(function(Zr){return ga(W,Zr)}).orThunk(function(){return kn(W,x)}).fold(xo.unknown,xo.nu),Et=Ka(le,x).fold($r.unknown,$r.nu),Mr=wn(Et,$e,x,A);return{browser:$e,os:Et,deviceType:Mr}},ei={detect:Pu},vi=function(x){return window.matchMedia(x).matches},Ro=sn(function(){return ei.detect(navigator.userAgent,Ue.from(navigator.userAgentData),vi)}),Pi=function(){return Ro()},Fu=function(x,_){var A=x.dom;if(A.nodeType!==Nt)return!1;var W=A;if(W.matches!==void 0)return W.matches(_);if(W.msMatchesSelector!==void 0)return W.msMatchesSelector(_);if(W.webkitMatchesSelector!==void 0)return W.webkitMatchesSelector(_);if(W.mozMatchesSelector!==void 0)return W.mozMatchesSelector(_);throw new Error("Browser lacks native selectors")},mi=function(x){return x.nodeType!==Nt&&x.nodeType!==Pe&&x.nodeType!==je||x.childElementCount===0},Ku=function(x,_){var A=document;return mi(A)?[]:fn(A.querySelectorAll(x),be.fromDom)},Do=function(x,_){return x.dom===_.dom},So=function(x){return be.fromDom(x.dom.ownerDocument)},rr=function(x){return nr(x)?x:So(x)},iu=function(x){return Ue.from(x.dom.parentNode).map(be.fromDom)},Cu=function(x,_){for(var A=Ae(_)?_:ue,W=x.dom,le=[];W.parentNode!==null&&W.parentNode!==void 0;){var $e=W.parentNode,Et=be.fromDom($e);if(le.push(Et),A(Et)===!0)break;W=$e}return le},Fi=function(x){var _=function(A){return Xn(A,function(W){return!Do(x,W)})};return iu(x).map(ge).map(_).getOr([])},ge=function(x){return fn(x.dom.childNodes,be.fromDom)},Te=function(x){return Rr(x)&&Ye(x.dom.host)},wt=Ae(Element.prototype.attachShadow)&&Ae(Node.prototype.getRootNode),Ft=_e(wt),Gt=wt?function(x){return be.fromDom(x.dom.getRootNode())}:rr,mr=function(x){var _=Gt(x);return Te(_)?Ue.some(_):Ue.none()},kr=function(x){return be.fromDom(x.dom.host)},ln=function(x){if(Ft()&&Ye(x.target)){var _=be.fromDom(x.target);if(ut(_)&&hn(_)&&x.composed&&x.composedPath){var A=x.composedPath();if(A)return ya(A)}}return Ue.from(x.target)},hn=function(x){return Ye(x.dom.shadowRoot)},Dn=function(x){var _=st(x)?x.dom.parentNode:x.dom;if(_==null||_.ownerDocument===null)return!1;var A=_.ownerDocument;return mr(be.fromDom(_)).fold(function(){return A.body.contains(_)},at(Dn,kr))},ka=function(x){var _=x.dom.body;if(_==null)throw new Error("Body is not available yet");return be.fromDom(_)},Va=function(x,_,A){if(He(A)||ye(A)||tt(A))x.setAttribute(_,A+"");else throw console.error("Invalid call to Attribute.set. Key ",_,":: Value ",A,":: Element ",x),new Error("Attribute value was not simple")},To=function(x,_,A){Va(x.dom,_,A)},Lt=function(x,_){var A=x.dom.getAttribute(_);return A===null?void 0:A},cn=function(x,_){x.dom.removeAttribute(_)},da=function(x,_,A){if(!He(A))throw console.error("Invalid call to CSS.set. Property ",_,":: Value ",A,":: Element ",x),new Error("CSS value must be a string: "+A);Xa(x)&&x.style.setProperty(_,A)},Eo=function(x,_){var A=x.dom;fa(_,function(W,le){da(A,le,W)})},Ii=function(x,_){var A=x.dom,W=window.getComputedStyle(A),le=W.getPropertyValue(_);return le===""&&!Dn(x)?Wn(A,_):le},Wn=function(x,_){return Xa(x)?x.style.getPropertyValue(_):""},gs=function(x,_,A,W,le,$e,Et){return{target:x,x:_,y:A,stop:W,prevent:le,kill:$e,raw:Et}},Ki=function(x){var _=be.fromDom(ln(x).getOr(x.target)),A=function(){return x.stopPropagation()},W=function(){return x.preventDefault()},le=Xe(W,A);return gs(_,x.clientX,x.clientY,A,W,le,x)},oo=function(x,_){return function(A){x(A)&&_(Ki(A))}},Xu=function(x,_,A,W,le){var $e=oo(A,W);return x.dom.addEventListener(_,$e,le),{unbind:De(hi,x,_,$e,le)}},ii=function(x,_,A,W){return Xu(x,_,A,W,!1)},hi=function(x,_,A,W){x.dom.removeEventListener(_,A,W)},Ba=Je,Yu=function(x,_,A){return ii(x,_,Ba,A)},te=function(x,_){var A=function(W,le){return te(x+W,_+le)};return{left:x,top:_,translate:A}},Se=te,et=function(x){var _=x!==void 0?x.dom:document,A=_.body.scrollLeft||_.documentElement.scrollLeft,W=_.body.scrollTop||_.documentElement.scrollTop;return Se(A,W)},bt=function(x){var _=x===void 0?window:x;return Pi().browser.isFirefox()?Ue.none():Ue.from(_.visualViewport)},vr=function(x,_,A,W){return{x,y:_,width:A,height:W,right:x+A,bottom:_+W}},Tr=function(x){var _=x===void 0?window:x,A=_.document,W=et(be.fromDom(A));return bt(_).fold(function(){var le=_.document.documentElement,$e=le.clientWidth,Et=le.clientHeight;return vr(W.left,W.top,$e,Et)},function(le){return vr(Math.max(le.pageLeft,W.left),Math.max(le.pageTop,W.top),le.width,le.height)})},Br=function(x,_,A){return bt(A).map(function(W){var le=function($e){return _(Ki($e))};return W.addEventListener(x,le),{unbind:function(){return W.removeEventListener(x,le)}}}).getOrThunk(function(){return{unbind:er}})},Mn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),G=tinymce.util.Tools.resolve("tinymce.Env"),ke=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ie=function(x,_){x.fire("FullscreenStateChanged",{state:_}),x.fire("ResizeEditor")},ct=function(x){return x.getParam("fullscreen_native",!1,"boolean")},kt=function(x){var _=be.fromDom(x.getElement());return mr(_).map(kr).getOrThunk(function(){return ka(So(_))})},br=function(x){return x.fullscreenElement!==void 0?x.fullscreenElement:x.msFullscreenElement!==void 0?x.msFullscreenElement:x.webkitFullscreenElement!==void 0?x.webkitFullscreenElement:null},Ir=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},na=function(x){var _=x.dom;_.requestFullscreen?_.requestFullscreen():_.msRequestFullscreen?_.msRequestFullscreen():_.webkitRequestFullScreen&&_.webkitRequestFullScreen()},Tn=function(x){var _=x.dom;_.exitFullscreen?_.exitFullscreen():_.msExitFullscreen?_.msExitFullscreen():_.webkitCancelFullScreen&&_.webkitCancelFullScreen()},xa=function(x){return x.dom===br(So(x).dom)},qa=function(x,_,A){return Xn(Cu(x,A),_)},xu=function(x,_){return Xn(Fi(x),_)},Mo=function(x){return Ku(x)},Hr=function(x,_,A){return qa(x,function(W){return Fu(W,_)},A)},Zt=function(x,_){return xu(x,function(A){return Fu(A,_)})},Ea="data-ephox-mobile-fullscreen-style",Bo="display:none!important;",qn="position:absolute!important;",Ns="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Zu="background-color:rgb(255,255,255)!important;",kc=G.os.isAndroid(),va=function(x){var _=Ii(x,"background-color");return _!==void 0&&_!==""?"background-color:"+_+"!important":Zu},Ci=function(x,_,A){var W=function(ir){return Zt(ir,"*:not(.tox-silver-sink)")},le=function(ir){return function(Dr){var En=Lt(Dr,"style"),Cn=En===void 0?"no-styles":En.trim();Cn!==ir&&(To(Dr,Ea,Cn),Eo(Dr,x.parseStyle(ir)))}},$e=Hr(_,"*"),Et=Wt($e,W),Mr=va(A);St(Et,le(Bo)),St($e,le(qn+Ns+Mr));var Zr=kc===!0?"":qn;le(Zr+Ns+Mr)(_)},Cc=function(x){var _=Mo("["+Ea+"]");St(_,function(A){var W=Lt(A,Ea);W!=="no-styles"?Eo(A,x.parseStyle(W)):cn(A,"style"),cn(A,Ea)})},Su=Mn.DOM,go=function(){return Tr(window)},Ps=function(x){return window.scrollTo(x.x,x.y)},ht=bt().fold(function(){return{bind:er,unbind:er}},function(x){var _=X(),A=J(),W=J(),le=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},$e=function(){window.requestAnimationFrame(function(){_.on(function(ir){return Eo(ir,{top:x.offsetTop+"px",left:x.offsetLeft+"px",height:x.height+"px",width:x.width+"px"})})})},Et=ke.throttle(function(){le(),$e()},50),Mr=function(ir){_.set(ir),Et(),A.set(Br("resize",Et)),W.set(Br("scroll",Et))},Zr=function(){_.on(function(){A.clear(),W.clear()}),_.clear()};return{bind:Mr,unbind:Zr}}),tc=function(x,_){var A=document.body,W=document.documentElement,le=x.getContainer(),$e=be.fromDom(le),Et=kt(x),Mr=_.get(),Zr=be.fromDom(x.getBody()),ir=G.deviceType.isTouch(),Dr=le.style,En=x.iframeElement,Cn=En.style,an=function(za){za(A,"tox-fullscreen"),za(W,"tox-fullscreen"),za(le,"tox-fullscreen"),mr($e).map(function(xi){return kr(xi).dom}).each(function(xi){za(xi,"tox-fullscreen"),za(xi,"tox-shadowhost")})},Ja=function(){ir&&Cc(x.dom),an(Su.removeClass),ht.unbind(),Ue.from(_.get()).each(function(za){return za.fullscreenChangeHandler.unbind()})};if(Mr)Mr.fullscreenChangeHandler.unbind(),ct(x)&&xa(Et)&&Tn(So(Et)),Cn.width=Mr.iframeWidth,Cn.height=Mr.iframeHeight,Dr.width=Mr.containerWidth,Dr.height=Mr.containerHeight,Dr.top=Mr.containerTop,Dr.left=Mr.containerLeft,Ja(),Ps(Mr.scrollPos),_.set(null),Ie(x,!1),x.off("remove",Ja);else{var tn=Yu(So(Et),Ir(),function(za){ct(x)&&!xa(Et)&&_.get()!==null&&tc(x,_)}),Ia={scrollPos:go(),containerWidth:Dr.width,containerHeight:Dr.height,containerTop:Dr.top,containerLeft:Dr.left,iframeWidth:Cn.width,iframeHeight:Cn.height,fullscreenChangeHandler:tn};ir&&Ci(x.dom,$e,Zr),Cn.width=Cn.height="100%",Dr.width=Dr.height="",an(Su.addClass),ht.bind($e),x.on("remove",Ja),_.set(Ia),ct(x)&&na(Et),Ie(x,!0)}},yo=function(x,_){x.addCommand("mceFullScreen",function(){tc(x,_)})},ml=function(x,_){return function(A){A.setActive(_.get()!==null);var W=function(le){return A.setActive(le.state)};return x.on("FullscreenStateChanged",W),function(){return x.off("FullscreenStateChanged",W)}}},ys=function(x,_){var A=function(){return x.execCommand("mceFullScreen")};x.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:A,onSetup:ml(x,_)}),x.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:A,onSetup:ml(x,_)})};function B(){T.add("fullscreen",function(x){var _=I(null);return x.inline||(yo(x,_),ys(x,_),x.addShortcut("Meta+Shift+F","","mceFullScreen")),N(_)})}B()})();(function(){var I=function(Qe){var Sr=Qe,rt=function(){return Sr},qe=function(be){Sr=be};return{get:rt,set:qe}},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),N=function(Qe){var Sr=function(rt){var qe=Qe.get();qe[rt.name]=rt,Qe.set(qe)};return{addTab:Sr}},F=function(Qe,Sr){Qe.addCommand("mceHelp",Sr)},ee=function(Qe,Sr){Qe.ui.registry.addButton("help",{icon:"help",tooltip:"Help",onAction:Sr}),Qe.ui.registry.addMenuItem("help",{text:"Help",icon:"help",shortcut:"Alt+0",onAction:Sr})},pe=function(){return pe=Object.assign||function(Sr){for(var rt,qe=1,be=arguments.length;qe<be;qe++){rt=arguments[qe];for(var Pe in rt)Object.prototype.hasOwnProperty.call(rt,Pe)&&(Sr[Pe]=rt[Pe])}return Sr},pe.apply(this,arguments)},He=function(){},xe=function(Qe){return function(){return Qe}},ye=function(Qe){return Qe},jt=xe(!1),Ye=xe(!0),Ae=function(){return tt},tt=function(){var Qe=function(qe){return qe()},Sr=ye,rt={fold:function(qe,be){return qe()},isSome:jt,isNone:Ye,getOr:Sr,getOrThunk:Qe,getOrDie:function(qe){throw new Error(qe||"error: getOrDie called on none.")},getOrNull:xe(null),getOrUndefined:xe(void 0),or:Sr,orThunk:Qe,map:Ae,each:He,bind:Ae,exists:jt,forall:Ye,filter:function(){return Ae()},toArray:function(){return[]},toString:xe("none()")};return rt}(),er=function(Qe){var Sr=xe(Qe),rt=function(){return be},qe=function(Pe){return Pe(Qe)},be={fold:function(Pe,je){return je(Qe)},isSome:Ye,isNone:jt,getOr:Sr,getOrThunk:Sr,getOrDie:Sr,getOrNull:Sr,getOrUndefined:Sr,or:rt,orThunk:rt,map:function(Pe){return er(Pe(Qe))},each:function(Pe){Pe(Qe)},bind:qe,exists:qe,forall:qe,filter:function(Pe){return Pe(Qe)?be:tt},toArray:function(){return[Qe]},toString:function(){return"some("+Qe+")"}};return be},Xe=function(Qe){return Qe==null?tt:er(Qe)},at={some:er,none:Ae,from:Xe},_e=Array.prototype.indexOf,Y=function(Qe,Sr){return _e.call(Qe,Sr)},De=function(Qe,Sr){return Y(Qe,Sr)>-1},ue=function(Qe,Sr){for(var rt=Qe.length,qe=new Array(rt),be=0;be<rt;be++){var Pe=Qe[be];qe[be]=Sr(Pe,be)}return qe},Je=function(Qe,Sr){for(var rt=[],qe=0,be=Qe.length;qe<be;qe++){var Pe=Qe[qe];Sr(Pe,qe)&&rt.push(Pe)}return rt},ze=function(Qe,Sr,rt){for(var qe=0,be=Qe.length;qe<be;qe++){var Pe=Qe[qe];if(Sr(Pe,qe))return at.some(Pe);if(rt(Pe,qe))break}return at.none()},Le=function(Qe,Sr){return ze(Qe,Sr,jt)},Ge=Object.keys,ce=Object.hasOwnProperty,Ue=function(Qe,Sr){return U(Qe,Sr)?at.from(Qe[Sr]):at.none()},U=function(Qe,Sr){return ce.call(Qe,Sr)},Ce=function(Qe){for(var Sr=[],rt=function(be){Sr.push(be)},qe=0;qe<Qe.length;qe++)Qe[qe].each(rt);return Sr},J=function(Qe){return at.from(Qe.getParam("help_tabs"))},X=function(Qe){return Qe.getParam("forced_plugins")},It=`<h1>Editor UI keyboard navigation</h1>

<h2>Activating keyboard navigation</h2>

<p>The sections of the outer UI of the editor - the menubar, toolbar, sidebar and footer - are all keyboard navigable. As such, there are multiple ways to activate keyboard navigation:</p>
<ul>
  <li>Focus the menubar: Alt + F9 (Windows) or &#x2325;F9 (MacOS)</li>
  <li>Focus the toolbar: Alt + F10 (Windows) or &#x2325;F10 (MacOS)</li>
  <li>Focus the footer: Alt + F11 (Windows) or &#x2325;F11 (MacOS)</li>
</ul>

<p>Focusing the menubar or toolbar will start keyboard navigation at the first item in the menubar or toolbar, which will be highlighted with a gray background. Focusing the footer will start keyboard navigation at the first item in the element path, which will be highlighted with an underline. </p>

<h2>Moving between UI sections</h2>

<p>When keyboard navigation is active, pressing tab will move the focus to the next major section of the UI, where applicable. These sections are:</p>
<ul>
  <li>the menubar</li>
  <li>each group of the toolbar </li>
  <li>the sidebar</li>
  <li>the element path in the footer </li>
  <li>the wordcount toggle button in the footer </li>
  <li>the branding link in the footer </li>
  <li>the editor resize handle in the footer</li>
</ul>

<p>Pressing shift + tab will move backwards through the same sections, except when moving from the footer to the toolbar. Focusing the element path then pressing shift + tab will move focus to the first toolbar group, not the last.</p>

<h2>Moving within UI sections</h2>

<p>Keyboard navigation within UI sections can usually be achieved using the left and right arrow keys. This includes:</p>
<ul>
  <li>moving between menus in the menubar</li>
  <li>moving between buttons in a toolbar group</li>
  <li>moving between items in the element path</li>
</ul>

<p>In all these UI sections, keyboard navigation will cycle within the section. For example, focusing the last button in a toolbar group then pressing right arrow will move focus to the first item in the same toolbar group. </p>

<h1>Executing buttons</h1>

<p>To execute a button, navigate the selection to the desired button and hit space or enter.</p>

<h1>Opening, navigating and closing menus</h1>

<p>When focusing a menubar button or a toolbar button with a menu, pressing space, enter or down arrow will open the menu. When the menu opens the first item will be selected. To move up or down the menu, press the up or down arrow key respectively. This is the same for submenus, which can also be opened and closed using the left and right arrow keys.</p>

<p>To close any active menu, hit the escape key. When a menu is closed the selection will be restored to its previous selection. This also works for closing submenus.</p>

<h1>Context toolbars and menus</h1>

<p>To focus an open context toolbar such as the table context toolbar, press Ctrl + F9 (Windows) or &#x2303;F9 (MacOS).</p>

<p>Context toolbar navigation is the same as toolbar navigation, and context menu navigation is the same as standard menu navigation.</p>

<h1>Dialog navigation</h1>

<p>There are two types of dialog UIs in TinyMCE: tabbed dialogs and non-tabbed dialogs.</p>

<p>When a non-tabbed dialog is opened, the first interactive component in the dialog will be focused. Users can navigate between interactive components by pressing tab. This includes any footer buttons. Navigation will cycle back to the first dialog component if tab is pressed while focusing the last component in the dialog. Pressing shift + tab will navigate backwards.</p>

<p>When a tabbed dialog is opened, the first button in the tab menu is focused. Pressing tab will navigate to the first interactive component in that tab, and will cycle through the tabs components, the footer buttons, then back to the tab button. To switch to another tab, focus the tab button for the current tab, then use the arrow keys to cycle through the tab buttons.</p>`,fn=function(){var Qe={type:"htmlpanel",presets:"document",html:It};return{name:"keyboardnav",title:"Keyboard Navigation",items:[Qe]}},St=tinymce.util.Tools.resolve("tinymce.Env"),Xn=function(Qe){var Sr={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},rt={meta:"Ctrl ",access:"Shift + Alt "},qe=St.mac?Sr:rt,be=Qe.split("+"),Pe=ue(be,function(je){var Nt=je.toLowerCase().trim();return U(qe,Nt)?qe[Nt]:je});return St.mac?Pe.join("").replace(/\s/,""):Pe.join("+")},mn=[{shortcuts:["Meta + B"],action:"Bold"},{shortcuts:["Meta + I"],action:"Italic"},{shortcuts:["Meta + U"],action:"Underline"},{shortcuts:["Meta + A"],action:"Select all"},{shortcuts:["Meta + Y","Meta + Shift + Z"],action:"Redo"},{shortcuts:["Meta + Z"],action:"Undo"},{shortcuts:["Access + 1"],action:"Heading 1"},{shortcuts:["Access + 2"],action:"Heading 2"},{shortcuts:["Access + 3"],action:"Heading 3"},{shortcuts:["Access + 4"],action:"Heading 4"},{shortcuts:["Access + 5"],action:"Heading 5"},{shortcuts:["Access + 6"],action:"Heading 6"},{shortcuts:["Access + 7"],action:"Paragraph"},{shortcuts:["Access + 8"],action:"Div"},{shortcuts:["Access + 9"],action:"Address"},{shortcuts:["Alt + 0"],action:"Open help dialog"},{shortcuts:["Alt + F9"],action:"Focus to menubar"},{shortcuts:["Alt + F10"],action:"Focus to toolbar"},{shortcuts:["Alt + F11"],action:"Focus to element path"},{shortcuts:["Ctrl + F9"],action:"Focus to contextual toolbar"},{shortcuts:["Shift + Enter"],action:"Open popup menu for split buttons"},{shortcuts:["Meta + K"],action:"Insert link (if link plugin activated)"},{shortcuts:["Meta + S"],action:"Save (if save plugin activated)"},{shortcuts:["Meta + F"],action:"Find (if searchreplace plugin activated)"},{shortcuts:["Meta + Shift + F"],action:"Switch to or from fullscreen mode"}],O=function(){var Qe=ue(mn,function(rt){var qe=ue(rt.shortcuts,Xn).join(" or ");return[rt.action,qe]}),Sr={type:"table",header:["Action","Shortcut"],cells:Qe};return{name:"shortcuts",title:"Handy Shortcuts",items:[Sr]}},On=tinymce.util.Tools.resolve("tinymce.util.I18n"),Wt=ue([{key:"advlist",name:"Advanced List"},{key:"anchor",name:"Anchor"},{key:"autolink",name:"Autolink"},{key:"autoresize",name:"Autoresize"},{key:"autosave",name:"Autosave"},{key:"bbcode",name:"BBCode"},{key:"charmap",name:"Character Map"},{key:"code",name:"Code"},{key:"codesample",name:"Code Sample"},{key:"colorpicker",name:"Color Picker"},{key:"directionality",name:"Directionality"},{key:"emoticons",name:"Emoticons"},{key:"fullpage",name:"Full Page"},{key:"fullscreen",name:"Full Screen"},{key:"help",name:"Help"},{key:"hr",name:"Horizontal Rule"},{key:"image",name:"Image"},{key:"imagetools",name:"Image Tools"},{key:"importcss",name:"Import CSS"},{key:"insertdatetime",name:"Insert Date/Time"},{key:"legacyoutput",name:"Legacy Output"},{key:"link",name:"Link"},{key:"lists",name:"Lists"},{key:"media",name:"Media"},{key:"nonbreaking",name:"Nonbreaking"},{key:"noneditable",name:"Noneditable"},{key:"pagebreak",name:"Page Break"},{key:"paste",name:"Paste"},{key:"preview",name:"Preview"},{key:"print",name:"Print"},{key:"quickbars",name:"Quick Toolbars"},{key:"save",name:"Save"},{key:"searchreplace",name:"Search and Replace"},{key:"spellchecker",name:"Spell Checker"},{key:"tabfocus",name:"Tab Focus"},{key:"table",name:"Table"},{key:"template",name:"Template"},{key:"textcolor",name:"Text Color"},{key:"textpattern",name:"Text Pattern"},{key:"toc",name:"Table of Contents"},{key:"visualblocks",name:"Visual Blocks"},{key:"visualchars",name:"Visual Characters"},{key:"wordcount",name:"Word Count"},{key:"a11ychecker",name:"Accessibility Checker",type:"premium"},{key:"advcode",name:"Advanced Code Editor",type:"premium"},{key:"advtable",name:"Advanced Tables",type:"premium"},{key:"autocorrect",name:"Autocorrect",type:"premium"},{key:"casechange",name:"Case Change",type:"premium"},{key:"checklist",name:"Checklist",type:"premium"},{key:"export",name:"Export",type:"premium"},{key:"mediaembed",name:"Enhanced Media Embed",type:"premium"},{key:"formatpainter",name:"Format Painter",type:"premium"},{key:"linkchecker",name:"Link Checker",type:"premium"},{key:"mentions",name:"Mentions",type:"premium"},{key:"pageembed",name:"Page Embed",type:"premium"},{key:"permanentpen",name:"Permanent Pen",type:"premium"},{key:"powerpaste",name:"PowerPaste",type:"premium"},{key:"rtc",name:"Real-Time Collaboration",type:"premium"},{key:"tinymcespellchecker",name:"Spell Checker Pro",type:"premium"},{key:"tinycomments",name:"Tiny Comments",type:"premium",slug:"comments"},{key:"tinydrive",name:"Tiny Drive",type:"premium"}],function(Qe){return pe(pe({},Qe),{type:Qe.type||"opensource",slug:Qe.slug||Qe.key})}),sr=function(Qe){var Sr=function(){var fr=Je(Wt,function(Pr){var ut=Pr.key,st=Pr.type;return ut!=="autocorrect"&&st==="premium"}),Xt=ue(fr,function(Pr){return"<li>"+On.translate(Pr.name)+"</li>"}).join("");return'<div data-mce-tabstop="1" tabindex="-1"><p><b>'+On.translate("Premium plugins:")+"</b></p><ul>"+Xt+'<li class="tox-help__more-link" "><a href="https://www.tiny.cloud/pricing/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">'+On.translate("Learn more...")+"</a></li></ul></div>"},rt=function(fr){return'<a href="'+fr.url+'" target="_blank" rel="noopener">'+fr.name+"</a>"},qe=function(fr,Xt){return Le(Wt,function(Pr){return Pr.key===Xt}).fold(function(){var Pr=fr.plugins[Xt].getMetadata;return typeof Pr=="function"?rt(Pr()):Xt},function(Pr){var ut=Pr.type==="premium"?Pr.name+"*":Pr.name;return rt({name:ut,url:"https://www.tiny.cloud/docs/plugins/"+Pr.type+"/"+Pr.slug})})},be=function(fr){var Xt=Ge(fr.plugins),Pr=X(fr);return Pr===void 0?Xt:Je(Xt,function(ut){return!De(Pr,ut)})},Pe=function(fr){var Xt=be(fr),Pr=ue(Xt,function(Rr){return"<li>"+qe(fr,Rr)+"</li>"}),ut=Pr.length,st=Pr.join(""),nr="<p><b>"+On.translate(["Plugins installed ({0}):",ut])+"</b></p><ul>"+st+"</ul>";return nr},je=function(fr){return fr==null?"":'<div data-mce-tabstop="1" tabindex="-1">'+Pe(fr)+"</div>"},Nt={type:"htmlpanel",presets:"document",html:[je(Qe),Sr()].join("")};return{name:"plugins",title:"Plugins",items:[Nt]}},ya=tinymce.util.Tools.resolve("tinymce.EditorManager"),vo=function(){var Qe=function(be,Pe){return be.indexOf("@")===0?"X.X.X":be+"."+Pe},Sr=Qe(ya.majorVersion,ya.minorVersion),rt='<a href="https://www.tiny.cloud/docs/changelog/?utm_campaign=editor_referral&utm_medium=help_dialog&utm_source=tinymce" target="_blank">TinyMCE '+Sr+"</a>",qe={type:"htmlpanel",html:"<p>"+On.translate(["You are using {0}",rt])+"</p>",presets:"document"};return{name:"versions",title:"Version",items:[qe]}},dn=function(Qe,Sr){var rt={},qe=ue(Qe,function(be){return typeof be=="string"?(U(Sr,be)&&(rt[be]=Sr[be]),be):(rt[be.name]=be,be.name)});return{tabs:rt,names:qe}},fa=function(Qe){var Sr=Ge(Qe),rt=Sr.indexOf("versions");return rt!==-1&&(Sr.splice(rt,1),Sr.push("versions")),{tabs:Qe,names:Sr}},oe=function(Qe,Sr){var rt,qe=O(),be=fn(),Pe=sr(Qe),je=vo(),Nt=pe((rt={},rt[qe.name]=qe,rt[be.name]=be,rt[Pe.name]=Pe,rt[je.name]=je,rt),Sr.get());return J(Qe).fold(function(){return fa(Nt)},function(fr){return dn(fr,Nt)})},Xa=function(Qe,Sr){return function(){var rt=oe(Qe,Sr),qe=rt.tabs,be=rt.names,Pe=ue(be,function(fr){return Ue(qe,fr)}),je=Ce(Pe),Nt={type:"tabpanel",tabs:je};Qe.windowManager.open({title:"Help",size:"medium",body:Nt,buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{}})}};function $t(){T.add("help",function(Qe){var Sr=I({}),rt=N(Sr),qe=Xa(Qe,Sr);return ee(Qe,qe),F(Qe,qe),Qe.shortcuts.add("Alt+0","Open help dialog","mceHelp"),rt})}$t()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=function(ee){ee.addCommand("InsertHorizontalRule",function(){ee.execCommand("mceInsertContent",!1,"<hr />")})},N=function(ee){var pe=function(){return ee.execCommand("InsertHorizontalRule")};ee.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:pe}),ee.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:pe})};function F(){I.add("hr",function(ee){T(ee),N(ee)})}F()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=function(){return T=Object.assign||function(x){for(var _,A=1,W=arguments.length;A<W;A++){_=arguments[A];for(var le in _)Object.prototype.hasOwnProperty.call(_,le)&&(x[le]=_[le])}return x},T.apply(this,arguments)},N=function(B){var x=typeof B;return B===null?"null":x==="object"&&(Array.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="Array")?"array":x==="object"&&(String.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="String")?"string":x},F=function(B){return function(x){return N(x)===B}},ee=function(B){return function(x){return typeof x===B}},pe=function(B){return function(x){return B===x}},He=F("string"),xe=F("object"),ye=F("array"),jt=pe(null),Ye=ee("boolean"),Ae=function(B){return B==null},tt=function(B){return!Ae(B)},er=ee("function"),Xe=ee("number"),at=function(){},_e=function(B){return function(){return B}},Y=function(B){return B},De=_e(!1),ue=_e(!0),Je=function(){return ze},ze=function(){var B=function(A){return A()},x=Y,_={fold:function(A,W){return A()},isSome:De,isNone:ue,getOr:x,getOrThunk:B,getOrDie:function(A){throw new Error(A||"error: getOrDie called on none.")},getOrNull:_e(null),getOrUndefined:_e(void 0),or:x,orThunk:B,map:Je,each:at,bind:Je,exists:De,forall:ue,filter:function(){return Je()},toArray:function(){return[]},toString:_e("none()")};return _}(),Le=function(B){var x=_e(B),_=function(){return W},A=function(le){return le(B)},W={fold:function(le,$e){return $e(B)},isSome:ue,isNone:De,getOr:x,getOrThunk:x,getOrDie:x,getOrNull:x,getOrUndefined:x,or:_,orThunk:_,map:function(le){return Le(le(B))},each:function(le){le(B)},bind:A,exists:A,forall:A,filter:function(le){return le(B)?W:ze},toArray:function(){return[B]},toString:function(){return"some("+B+")"}};return W},Ge=function(B){return B==null?ze:Le(B)},ce={some:Le,none:Je,from:Ge},Ue=Object.keys,U=Object.hasOwnProperty,Ce=function(B,x){for(var _=Ue(B),A=0,W=_.length;A<W;A++){var le=_[A],$e=B[le];x($e,le)}},J=function(B){return function(x,_){B[_]=x}},X=function(B,x,_,A){var W={};return Ce(B,function(le,$e){(x(le,$e)?_:A)(le,$e)}),W},It=function(B,x){var _={};return X(B,x,J(_),at),_},fn=function(B,x){return U.call(B,x)},St=function(B,x){return fn(B,x)&&B[x]!==void 0&&B[x]!==null},Xn=Array.prototype.push,mn=function(B){for(var x=[],_=0,A=B.length;_<A;++_){if(!ye(B[_]))throw new Error("Arr.flatten item "+_+" was not an array, input: "+B);Xn.apply(x,B[_])}return x},O=function(B,x){return x>=0&&x<B.length?ce.some(B[x]):ce.none()},On=function(B){return O(B,0)},Wt=function(B,x){for(var _=0;_<B.length;_++){var A=x(B[_],_);if(A.isSome())return A}return ce.none()};typeof window<"u"||Function("return this;")();var sr=function(B,x,_){if(He(_)||Ye(_)||Xe(_))B.setAttribute(x,_+"");else throw console.error("Invalid call to Attribute.set. Key ",x,":: Value ",_,":: Element ",B),new Error("Attribute value was not simple")},ya=function(B,x,_){sr(B.dom,x,_)},vo=function(B,x){B.dom.removeAttribute(x)},dn=function(B,x){var _=x||document,A=_.createElement("div");if(A.innerHTML=B,!A.hasChildNodes()||A.childNodes.length>1)throw console.error("HTML does not have a single root node",B),new Error("HTML must have a single root node");return Xa(A.childNodes[0])},fa=function(B,x){var _=x||document,A=_.createElement(B);return Xa(A)},oe=function(B,x){var _=x||document,A=_.createTextNode(B);return Xa(A)},Xa=function(B){if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},$t=function(B,x,_){return ce.from(B.dom.elementFromPoint(x,_)).map(Xa)},Qe={fromHtml:dn,fromTag:fa,fromText:oe,fromDom:Xa,fromPoint:$t},Sr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),rt=tinymce.util.Tools.resolve("tinymce.util.Promise"),qe=tinymce.util.Tools.resolve("tinymce.util.URI"),be=tinymce.util.Tools.resolve("tinymce.util.XHR"),Pe=function(B){return B.getParam("image_dimensions",!0,"boolean")},je=function(B){return B.getParam("image_advtab",!1,"boolean")},Nt=function(B){return B.getParam("image_uploadtab",!0,"boolean")},fr=function(B){return B.getParam("image_prepend_url","","string")},Xt=function(B){return B.getParam("image_class_list")},Pr=function(B){return B.getParam("image_description",!0,"boolean")},ut=function(B){return B.getParam("image_title",!1,"boolean")},st=function(B){return B.getParam("image_caption",!1,"boolean")},nr=function(B){return B.getParam("image_list",!1)},Rr=function(B){return tt(B.getParam("images_upload_url"))},sn=function(B){return tt(B.getParam("images_upload_handler"))},wn=function(B){return B.getParam("a11y_advanced_options",!1,"boolean")},Gn=function(B){return B.getParam("automatic_uploads",!0,"boolean")},Yn=function(B,x){return Math.max(parseInt(B,10),parseInt(x,10))},Ta=function(B){return new rt(function(x){var _=document.createElement("img"),A=function(le){_.onload=_.onerror=null,_.parentNode&&_.parentNode.removeChild(_),x(le)};_.onload=function(){var le=Yn(_.width,_.clientWidth),$e=Yn(_.height,_.clientHeight),Et={width:le,height:$e};A(rt.resolve(Et))},_.onerror=function(){A(rt.reject("Failed to get image dimensions for: "+B))};var W=_.style;W.visibility="hidden",W.position="fixed",W.bottom=W.left="0px",W.width=W.height="auto",document.body.appendChild(_),_.src=B})},ba=function(B){return B&&(B=B.replace(/px$/,"")),B},Zn=function(B){return B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B},In=function(B){if(B.margin){var x=String(B.margin).split(" ");switch(x.length){case 1:B["margin-top"]=B["margin-top"]||x[0],B["margin-right"]=B["margin-right"]||x[0],B["margin-bottom"]=B["margin-bottom"]||x[0],B["margin-left"]=B["margin-left"]||x[0];break;case 2:B["margin-top"]=B["margin-top"]||x[0],B["margin-right"]=B["margin-right"]||x[1],B["margin-bottom"]=B["margin-bottom"]||x[0],B["margin-left"]=B["margin-left"]||x[1];break;case 3:B["margin-top"]=B["margin-top"]||x[0],B["margin-right"]=B["margin-right"]||x[1],B["margin-bottom"]=B["margin-bottom"]||x[2],B["margin-left"]=B["margin-left"]||x[1];break;case 4:B["margin-top"]=B["margin-top"]||x[0],B["margin-right"]=B["margin-right"]||x[1],B["margin-bottom"]=B["margin-bottom"]||x[2],B["margin-left"]=B["margin-left"]||x[3]}delete B.margin}return B},ga=function(B,x){var _=nr(B);He(_)?be.send({url:_,success:function(A){x(JSON.parse(A))}}):er(_)?_(x):x(_)},Rn=function(B,x,_){var A=function(){_.onload=_.onerror=null,B.selection&&(B.selection.select(_),B.nodeChanged())};_.onload=function(){!x.width&&!x.height&&Pe(B)&&B.dom.setAttribs(_,{width:String(_.clientWidth),height:String(_.clientHeight)}),A()},_.onerror=A},kn=function(B){return new rt(function(x,_){var A=new FileReader;A.onload=function(){x(A.result)},A.onerror=function(){_(A.error.message)},A.readAsDataURL(B)})},Ka=function(B){return B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder"))},ao=function(B,x){return qe.isDomSafe(x,"img",B.settings)},Ca=Sr.DOM,xn=function(B){return B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?ba(B.style.marginLeft):""},Co=function(B){return B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?ba(B.style.marginTop):""},Ke=function(B){return B.style.borderWidth?ba(B.style.borderWidth):""},Mt=function(B,x){return B.hasAttribute(x)?B.getAttribute(x):""},gt=function(B,x){return B.style[x]?B.style[x]:""},dr=function(B){return B.parentNode!==null&&B.parentNode.nodeName==="FIGURE"},un=function(B,x,_){_===""?B.removeAttribute(x):B.setAttribute(x,_)},ua=function(B){var x=Ca.create("figure",{class:"image"});Ca.insertAfter(x,B),x.appendChild(B),x.appendChild(Ca.create("figcaption",{contentEditable:"true"},"Caption")),x.contentEditable="false"},fi=function(B){var x=B.parentNode;Ca.insertAfter(B,x),Ca.remove(x)},Kn=function(B){dr(B)?fi(B):ua(B)},Sn=function(B,x){var _=B.getAttribute("style"),A=x(_!==null?_:"");A.length>0?(B.setAttribute("style",A),B.setAttribute("data-mce-style",A)):B.removeAttribute("style")},xo=function(B,x){return function(_,A,W){_.style[A]?(_.style[A]=Zn(W),Sn(_,x)):un(_,A,W)}},di=function(B,x){return B.style[x]?ba(B.style[x]):Mt(B,x)},Ni=function(B,x){var _=Zn(x);B.style.marginLeft=_,B.style.marginRight=_},mo=function(B,x){var _=Zn(x);B.style.marginTop=_,B.style.marginBottom=_},Jo=function(B,x){var _=Zn(x);B.style.borderWidth=_},qi=function(B,x){B.style.borderStyle=x},Qo=function(B){return gt(B,"borderStyle")},Lo=function(B){return B.nodeName==="FIGURE"},Gi=function(B){return B.nodeName==="IMG"},ra=function(B){return Ca.getAttrib(B,"alt").length===0&&Ca.getAttrib(B,"role")==="presentation"},oi=function(B){return ra(B)?"":Mt(B,"alt")},$r=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Pu=function(B,x){var _=document.createElement("img");return un(_,"style",x.style),(xn(_)||x.hspace!=="")&&Ni(_,x.hspace),(Co(_)||x.vspace!=="")&&mo(_,x.vspace),(Ke(_)||x.border!=="")&&Jo(_,x.border),(Qo(_)||x.borderStyle!=="")&&qi(_,x.borderStyle),B(_.getAttribute("style"))},ei=function(B,x){var _=document.createElement("img");if(Ku(B,T(T({},x),{caption:!1}),_),Pi(_,x.alt,x.isDecorative),x.caption){var A=Ca.create("figure",{class:"image"});return A.appendChild(_),A.appendChild(Ca.create("figcaption",{contentEditable:"true"},"Caption")),A.contentEditable="false",A}else return _},vi=function(B,x){return{src:Mt(x,"src"),alt:oi(x),title:Mt(x,"title"),width:di(x,"width"),height:di(x,"height"),class:Mt(x,"class"),style:B(Mt(x,"style")),caption:dr(x),hspace:xn(x),vspace:Co(x),border:Ke(x),borderStyle:gt(x,"borderStyle"),isDecorative:ra(x)}},Ro=function(B,x,_,A,W){_[A]!==x[A]&&W(B,A,_[A])},Pi=function(B,x,_){if(_){Ca.setAttrib(B,"role","presentation");var A=Qe.fromDom(B);ya(A,"alt","")}else{if(jt(x)){var A=Qe.fromDom(B);vo(A,"alt")}else{var A=Qe.fromDom(B);ya(A,"alt",x)}Ca.getAttrib(B,"role")==="presentation"&&Ca.setAttrib(B,"role","")}},Fu=function(B,x,_){(_.alt!==x.alt||_.isDecorative!==x.isDecorative)&&Pi(B,_.alt,_.isDecorative)},mi=function(B,x){return function(_,A,W){B(_,W),Sn(_,x)}},Ku=function(B,x,_){var A=vi(B,_);Ro(_,A,x,"caption",function(W,le,$e){return Kn(W)}),Ro(_,A,x,"src",un),Ro(_,A,x,"title",un),Ro(_,A,x,"width",xo("width",B)),Ro(_,A,x,"height",xo("height",B)),Ro(_,A,x,"class",un),Ro(_,A,x,"style",mi(function(W,le){return un(W,"style",le)},B)),Ro(_,A,x,"hspace",mi(Ni,B)),Ro(_,A,x,"vspace",mi(mo,B)),Ro(_,A,x,"border",mi(Jo,B)),Ro(_,A,x,"borderStyle",mi(qi,B)),Fu(_,A,x)},Do=function(B,x){var _=B.dom.styles.parse(x),A=In(_),W=B.dom.styles.parse(B.dom.styles.serialize(A));return B.dom.styles.serialize(W)},So=function(B){var x=B.selection.getNode(),_=B.dom.getParent(x,"figure.image");return _?B.dom.select("img",_)[0]:x&&(x.nodeName!=="IMG"||Ka(x))?null:x},rr=function(B,x){var _=B.dom,A=It(B.schema.getTextBlockElements(),function(le,$e){return!B.schema.isValidChild($e,"figure")}),W=_.getParent(x.parentNode,function(le){return St(A,le.nodeName)},B.getBody());return W?_.split(W,x):x},iu=function(B){var x=So(B);return x?vi(function(_){return Do(B,_)},x):$r()},Cu=function(B,x){var _=ei(function(le){return Do(B,le)},x);B.dom.setAttrib(_,"data-mce-id","__mcenew"),B.focus(),B.selection.setContent(_.outerHTML);var A=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(A,"data-mce-id",null),Lo(A)){var W=rr(B,A);B.selection.select(W)}else B.selection.select(A)},Fi=function(B,x){B.dom.setAttrib(x,"src",x.getAttribute("src"))},ge=function(B,x){if(x){var _=B.dom.is(x.parentNode,"figure.image")?x.parentNode:x;B.dom.remove(_),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},Te=function(B,x){var _=So(B);if(Ku(function(W){return Do(B,W)},x,_),Fi(B,_),Lo(_.parentNode)){var A=_.parentNode;rr(B,A),B.selection.select(_.parentNode)}else B.selection.select(_),Rn(B,x,_)},wt=function(B,x){var _=x.src;return T(T({},x),{src:ao(B,_)?_:""})},Ft=function(B,x){var _=So(B);if(_){var A=vi(function($e){return Do(B,$e)},_),W=T(T({},A),x),le=wt(B,W);W.src?Te(B,le):ge(B,_)}else x.src&&Cu(B,T(T({},$r()),x))},Gt=function(B,x){var _=xe(B)&&xe(x);return _?kr(B,x):x},mr=function(B){return function(){for(var x=[],_=0;_<arguments.length;_++)x[_]=arguments[_];if(x.length===0)throw new Error("Can't merge zero objects");for(var A={},W=0;W<x.length;W++){var le=x[W];for(var $e in le)fn(le,$e)&&(A[$e]=B(A[$e],le[$e]))}return A}},kr=mr(Gt),ln=function(B){return B.length>0},hn=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Dn=tinymce.util.Tools.resolve("tinymce.util.Tools"),ka=function(B){return He(B.value)?B.value:""},Va=function(B){return He(B.text)?B.text:He(B.title)?B.title:""},To=function(B,x){var _=[];return Dn.each(B,function(A){var W=Va(A);if(A.menu!==void 0){var le=To(A.menu,x);_.push({text:W,items:le})}else{var $e=x(A);_.push({text:W,value:$e})}}),_},Lt=function(B){return B===void 0&&(B=ka),function(x){return x?ce.from(x).map(function(_){return To(_,B)}):ce.none()}},cn=function(B){return Lt(ka)(B)},da=function(B){return fn(B,"items")},Eo=function(B,x){return Wt(B,function(_){return da(_)?Eo(_.items,x):_.value===x?ce.some(_):ce.none()})},Ii=function(B,x){return B.bind(function(_){return Eo(_,x)})},Wn={sanitizer:Lt,sanitize:cn,findEntry:Ii},gs=function(B){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ki={makeTab:gs},oo=function(B){var x=Wn.sanitizer(function(tn){return B.convertURL(tn.value||tn.url,"src")}),_=new rt(function(tn){ga(B,function(Ia){tn(x(Ia).map(function(za){return mn([[{text:"None",value:""}],za])}))})}),A=Wn.sanitize(Xt(B)),W=je(B),le=Nt(B),$e=Rr(B),Et=sn(B),Mr=iu(B),Zr=Pr(B),ir=ut(B),Dr=Pe(B),En=st(B),Cn=wn(B),an=Gn(B),Ja=ce.some(fr(B)).filter(function(tn){return He(tn)&&tn.length>0});return _.then(function(tn){return{image:Mr,imageList:tn,classList:A,hasAdvTab:W,hasUploadTab:le,hasUploadUrl:$e,hasUploadHandler:Et,hasDescription:Zr,hasImageTitle:ir,hasDimensions:Dr,hasImageCaption:En,prependURL:Ja,hasAccessibilityOptions:Cn,automaticUploads:an}})},Xu=function(B){var x={name:"src",type:"urlinput",filetype:"image",label:"Source"},_=B.imageList.map(function(ir){return{name:"images",type:"listbox",label:"Image list",items:ir}}),A={name:"alt",type:"input",label:"Alternative description",disabled:B.hasAccessibilityOptions&&B.image.isDecorative},W={name:"title",type:"input",label:"Image title"},le={name:"dimensions",type:"sizeinput"},$e={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Et=B.classList.map(function(ir){return{name:"classes",type:"listbox",label:"Class",items:ir}}),Mr={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Zr=function(ir){return ir?{type:"grid",columns:2}:{type:"panel"}};return mn([[x],_.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[$e]:[],B.hasDescription?[A]:[],B.hasImageTitle?[W]:[],B.hasDimensions?[le]:[],[T(T({},Zr(B.classList.isSome()&&B.hasImageCaption)),{items:mn([Et.toArray(),B.hasImageCaption?[Mr]:[]])})]])},ii=function(B){return{title:"General",name:"general",items:Xu(B)}},hi={makeTab:ii,makeItems:Xu},Ba=function(B){var x=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:x}},Yu={makeTab:Ba},te=function(B){return{prevImage:Wn.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}},Se=function(B){return{src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}},et=function(B,x){return{src:B.src.value,alt:B.alt.length===0&&x?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}},bt=function(B,x){return/^(?:[a-zA-Z]+:)?\/\//.test(x)?ce.none():B.prependURL.bind(function(_){return x.substring(0,_.length)!==_?ce.some(_+x):ce.none()})},vr=function(B,x){var _=x.getData();bt(B,_.src.value).each(function(A){x.setData({src:{value:A,meta:_.src.meta}})})},Tr=function(B,x,_){B.hasDescription&&He(_.alt)&&(x.alt=_.alt),B.hasAccessibilityOptions&&(x.isDecorative=_.isDecorative||x.isDecorative||!1),B.hasImageTitle&&He(_.title)&&(x.title=_.title),B.hasDimensions&&(He(_.width)&&(x.dimensions.width=_.width),He(_.height)&&(x.dimensions.height=_.height)),He(_.class)&&Wn.findEntry(B.classList,_.class).each(function(A){x.classes=A.value}),B.hasImageCaption&&Ye(_.caption)&&(x.caption=_.caption),B.hasAdvTab&&(He(_.style)&&(x.style=_.style),He(_.vspace)&&(x.vspace=_.vspace),He(_.border)&&(x.border=_.border),He(_.hspace)&&(x.hspace=_.hspace),He(_.borderstyle)&&(x.borderstyle=_.borderstyle))},Br=function(B,x){var _=x.getData(),A=_.src.meta;if(A!==void 0){var W=kr({},_);Tr(B,W,A),x.setData(W)}},Mn=function(B,x,_,A){var W=A.getData(),le=W.src.value,$e=W.src.meta||{};!$e.width&&!$e.height&&x.hasDimensions&&(ln(le)?B.imageSize(le).then(function(Et){_.open&&A.setData({dimensions:Et})}).catch(function(Et){return console.error(Et)}):A.setData({dimensions:{width:"",height:""}}))},G=function(B,x,_){var A=_.getData(),W=Wn.findEntry(B.imageList,A.src.value);x.prevImage=W,_.setData({images:W.map(function(le){return le.value}).getOr("")})},ke=function(B,x,_,A){vr(x,A),Br(x,A),Mn(B,x,_,A),G(x,_,A)},Ie=function(B,x,_,A){var W=A.getData(),le=Wn.findEntry(x.imageList,W.images);le.each(function($e){var Et=W.alt===""||_.prevImage.map(function(Mr){return Mr.text===W.alt}).getOr(!1);Et?$e.value===""?A.setData({src:$e,alt:_.prevAlt}):A.setData({src:$e,alt:$e.text}):A.setData({src:$e})}),_.prevImage=le,ke(B,x,_,A)},ct=function(B){var x=B["margin-top"]&&B["margin-bottom"]&&B["margin-top"]===B["margin-bottom"];return x?ba(String(B["margin-top"])):""},kt=function(B){var x=B["margin-right"]&&B["margin-left"]&&B["margin-right"]===B["margin-left"];return x?ba(String(B["margin-right"])):""},br=function(B){return B["border-width"]?ba(String(B["border-width"])):""},Ir=function(B){return B["border-style"]?String(B["border-style"]):""},na=function(B,x,_){return x(B(x(_)))},Tn=function(B,x,_){var A=In(B(_.style)),W=kr({},_);return W.vspace=ct(A),W.hspace=kt(A),W.border=br(A),W.borderstyle=Ir(A),W.style=na(B,x,A),W},xa=function(B,x){var _=x.getData(),A=Tn(B.parseStyle,B.serializeStyle,_);x.setData(A)},qa=function(B,x,_){var A=kr(Se(x.image),_.getData()),W=Pu(B.normalizeCss,et(A,!1));_.setData({style:W})},xu=function(B,x,_,A){var W=A.getData();A.block("Uploading image"),On(W.fileinput).fold(function(){A.unblock()},function(le){var $e=URL.createObjectURL(le),Et=function(){A.unblock(),URL.revokeObjectURL($e)},Mr=function(Zr){A.setData({src:{value:Zr,meta:{}}}),A.showTab("general"),ke(B,x,_,A)};kn(le).then(function(Zr){var ir=B.createBlobCache(le,$e,Zr);x.automaticUploads?B.uploadImage(ir).then(function(Dr){Mr(Dr.url),Et()}).catch(function(Dr){Et(),B.alertErr(Dr)}):(B.addToBlobCache(ir),Mr(ir.blobUri()),A.unblock())})})},Mo=function(B,x,_){return function(A,W){W.name==="src"?ke(B,x,_,A):W.name==="images"?Ie(B,x,_,A):W.name==="alt"?_.prevAlt=A.getData().alt:W.name==="style"?xa(B,A):W.name==="vspace"||W.name==="hspace"||W.name==="border"||W.name==="borderstyle"?qa(B,x,A):W.name==="fileinput"?xu(B,x,_,A):W.name==="isDecorative"&&(A.getData().isDecorative?A.disable("alt"):A.enable("alt"))}},Hr=function(B){return function(){B.open=!1}},Zt=function(B){if(B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler){var x={type:"tabpanel",tabs:mn([[hi.makeTab(B)],B.hasAdvTab?[Ki.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[Yu.makeTab(B)]:[]])};return x}else{var _={type:"panel",items:hi.makeItems(B)};return _}},Ea=function(B){return function(x){var _=te(x);return{title:"Insert/Edit Image",size:"normal",body:Zt(x),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Se(x.image),onSubmit:B.onSubmit(x),onChange:Mo(B,x,_),onClose:Hr(_)}}},Bo=function(B){return function(x){return function(_){var A=kr(Se(x.image),_.getData());B.execCommand("mceUpdateImage",!1,et(A,x.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),_.close()}}},qn=function(B){return function(x){return ao(B,x)?Ta(B.documentBaseURI.toAbsolute(x)).then(function(_){return{width:String(_.width),height:String(_.height)}}):rt.resolve({width:"",height:""})}},Ns=function(B){return function(x,_,A){return B.editorUpload.blobCache.create({blob:x,blobUri:_,name:x.name?x.name.replace(/\.[^\.]+$/,""):null,filename:x.name,base64:A.split(",")[1]})}},Zu=function(B){return function(x){B.editorUpload.blobCache.add(x)}},kc=function(B){return function(x){B.windowManager.alert(x)}},va=function(B){return function(x){return Do(B,x)}},Ci=function(B){return function(x){return B.dom.parseStyle(x)}},Cc=function(B){return function(x,_){return B.dom.serializeStyle(x,_)}},Su=function(B){return function(x){return hn(B).upload([x],!1).then(function(_){return _.length===0?rt.reject("Failed to upload image"):_[0].status===!1?rt.reject(_[0].error.message):_[0]})}},go=function(B){var x={onSubmit:Bo(B),imageSize:qn(B),addToBlobCache:Zu(B),createBlobCache:Ns(B),alertErr:kc(B),normalizeCss:va(B),parseStyle:Ci(B),serializeStyle:Cc(B),uploadImage:Su(B)},_=function(){oo(B).then(Ea(x)).then(B.windowManager.open)};return{open:_}},Ps=function(B){B.addCommand("mceImage",go(B).open),B.addCommand("mceUpdateImage",function(x,_){B.undoManager.transact(function(){return Ft(B,_)})})},ht=function(B){var x=B.attr("class");return x&&/\bimage\b/.test(x)},tc=function(B){return function(x){for(var _=x.length,A=function(le){le.attr("contenteditable",B?"true":null)};_--;){var W=x[_];ht(W)&&(W.attr("contenteditable",B?"false":null),Dn.each(W.getAll("figcaption"),A))}}},yo=function(B){B.on("PreInit",function(){B.parser.addNodeFilter("figure",tc(!0)),B.serializer.addNodeFilter("figure",tc(!1))})},ml=function(B){B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:go(B).open,onSetup:function(x){return x.setActive(tt(So(B))),B.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",x.setActive).unbind}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:go(B).open}),B.ui.registry.addContextMenu("image",{update:function(x){return Lo(x)||Gi(x)&&!Ka(x)?["image"]:[]}})};function ys(){I.add("image",function(B){yo(B),ml(B),Ps(B)})}ys()})();(function(){var I=function(te){var Se=te,et=function(){return Se},bt=function(vr){Se=vr};return{get:et,set:bt}},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),N=tinymce.util.Tools.resolve("tinymce.util.Tools"),F=function(te){var Se=typeof te;return te===null?"null":Se==="object"&&(Array.prototype.isPrototypeOf(te)||te.constructor&&te.constructor.name==="Array")?"array":Se==="object"&&(String.prototype.isPrototypeOf(te)||te.constructor&&te.constructor.name==="String")?"string":Se},ee=function(te){return function(Se){return F(Se)===te}},pe=function(te){return function(Se){return typeof Se===te}},He=ee("array"),xe=function(te){return te==null},ye=function(te){return!xe(te)},jt=pe("function"),Ye=function(){},Ae=function(te){return function(){return te}},tt=function(te){return te},er=Ae(!1),Xe=Ae(!0),at=function(){return _e},_e=function(){var te=function(bt){return bt()},Se=tt,et={fold:function(bt,vr){return bt()},isSome:er,isNone:Xe,getOr:Se,getOrThunk:te,getOrDie:function(bt){throw new Error(bt||"error: getOrDie called on none.")},getOrNull:Ae(null),getOrUndefined:Ae(void 0),or:Se,orThunk:te,map:at,each:Ye,bind:at,exists:er,forall:Xe,filter:function(){return at()},toArray:function(){return[]},toString:Ae("none()")};return et}(),Y=function(te){var Se=Ae(te),et=function(){return vr},bt=function(Tr){return Tr(te)},vr={fold:function(Tr,Br){return Br(te)},isSome:Xe,isNone:er,getOr:Se,getOrThunk:Se,getOrDie:Se,getOrNull:Se,getOrUndefined:Se,or:et,orThunk:et,map:function(Tr){return Y(Tr(te))},each:function(Tr){Tr(te)},bind:bt,exists:bt,forall:bt,filter:function(Tr){return Tr(te)?vr:_e},toArray:function(){return[te]},toString:function(){return"some("+te+")"}};return vr},De=function(te){return te==null?_e:Y(te)},ue={some:Y,none:at,from:De},Je={},ze={exports:Je};(function(te,Se,et,bt){(function(vr,Tr){typeof Se=="object"&&typeof et<"u"?et.exports=Tr():(vr=typeof globalThis<"u"?globalThis:vr||self,vr.EphoxContactWrapper=Tr())})(this,function(){var vr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof hx<"u"?hx:typeof self<"u"?self:{},Tr={exports:{}};(function(ke){(function(Ie){var ct=setTimeout;function kt(){}function br(Hr,Zt){return function(){Hr.apply(Zt,arguments)}}function Ir(Hr){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Hr!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Mo(Hr,this)}function na(Hr,Zt){for(;Hr._state===3;)Hr=Hr._value;if(Hr._state===0){Hr._deferreds.push(Zt);return}Hr._handled=!0,Ir._immediateFn(function(){var Ea=Hr._state===1?Zt.onFulfilled:Zt.onRejected;if(Ea===null){(Hr._state===1?Tn:xa)(Zt.promise,Hr._value);return}var Bo;try{Bo=Ea(Hr._value)}catch(qn){xa(Zt.promise,qn);return}Tn(Zt.promise,Bo)})}function Tn(Hr,Zt){try{if(Zt===Hr)throw new TypeError("A promise cannot be resolved with itself.");if(Zt&&(typeof Zt=="object"||typeof Zt=="function")){var Ea=Zt.then;if(Zt instanceof Ir){Hr._state=3,Hr._value=Zt,qa(Hr);return}else if(typeof Ea=="function"){Mo(br(Ea,Zt),Hr);return}}Hr._state=1,Hr._value=Zt,qa(Hr)}catch(Bo){xa(Hr,Bo)}}function xa(Hr,Zt){Hr._state=2,Hr._value=Zt,qa(Hr)}function qa(Hr){Hr._state===2&&Hr._deferreds.length===0&&Ir._immediateFn(function(){Hr._handled||Ir._unhandledRejectionFn(Hr._value)});for(var Zt=0,Ea=Hr._deferreds.length;Zt<Ea;Zt++)na(Hr,Hr._deferreds[Zt]);Hr._deferreds=null}function xu(Hr,Zt,Ea){this.onFulfilled=typeof Hr=="function"?Hr:null,this.onRejected=typeof Zt=="function"?Zt:null,this.promise=Ea}function Mo(Hr,Zt){var Ea=!1;try{Hr(function(Bo){Ea||(Ea=!0,Tn(Zt,Bo))},function(Bo){Ea||(Ea=!0,xa(Zt,Bo))})}catch(Bo){if(Ea)return;Ea=!0,xa(Zt,Bo)}}Ir.prototype.catch=function(Hr){return this.then(null,Hr)},Ir.prototype.then=function(Hr,Zt){var Ea=new this.constructor(kt);return na(this,new xu(Hr,Zt,Ea)),Ea},Ir.all=function(Hr){var Zt=Array.prototype.slice.call(Hr);return new Ir(function(Ea,Bo){if(Zt.length===0)return Ea([]);var qn=Zt.length;function Ns(kc,va){try{if(va&&(typeof va=="object"||typeof va=="function")){var Ci=va.then;if(typeof Ci=="function"){Ci.call(va,function(Cc){Ns(kc,Cc)},Bo);return}}Zt[kc]=va,--qn===0&&Ea(Zt)}catch(Cc){Bo(Cc)}}for(var Zu=0;Zu<Zt.length;Zu++)Ns(Zu,Zt[Zu])})},Ir.resolve=function(Hr){return Hr&&typeof Hr=="object"&&Hr.constructor===Ir?Hr:new Ir(function(Zt){Zt(Hr)})},Ir.reject=function(Hr){return new Ir(function(Zt,Ea){Ea(Hr)})},Ir.race=function(Hr){return new Ir(function(Zt,Ea){for(var Bo=0,qn=Hr.length;Bo<qn;Bo++)Hr[Bo].then(Zt,Ea)})},Ir._immediateFn=typeof setImmediate=="function"?function(Hr){setImmediate(Hr)}:function(Hr){ct(Hr,0)},Ir._unhandledRejectionFn=function(Zt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Zt)},Ir._setImmediateFn=function(Zt){Ir._immediateFn=Zt},Ir._setUnhandledRejectionFn=function(Zt){Ir._unhandledRejectionFn=Zt},ke.exports?ke.exports=Ir:Ie.Promise||(Ie.Promise=Ir)})(vr)})(Tr);var Br=Tr.exports,Mn=function(){return typeof window<"u"?window:Function("return this;")()}(),G={boltExport:Mn.Promise||Br};return G})})(void 0,Je,ze);var Le=ze.exports.boltExport,Ge=function(te,Se){return U(document.createElement("canvas"),te,Se)},ce=function(te){var Se=Ge(te.width,te.height),et=Ue(Se);return et.drawImage(te,0,0),Se},Ue=function(te){return te.getContext("2d")},U=function(te,Se,et){return te.width=Se,te.height=et,te},Ce=function(te){return te.naturalWidth||te.width},J=function(te){return te.naturalHeight||te.height},X=function(te){var Se=te.src;return Se.indexOf("data:")===0?Xn(Se):fn(Se)},It=function(te){return new Le(function(Se,et){var bt=URL.createObjectURL(te),vr=new Image,Tr=function(){vr.removeEventListener("load",Br),vr.removeEventListener("error",Mn)},Br=function(){Tr(),Se(vr)},Mn=function(){Tr(),et("Unable to load data of type "+te.type+": "+bt)};vr.addEventListener("load",Br),vr.addEventListener("error",Mn),vr.src=bt,vr.complete&&setTimeout(Br,0)})},fn=function(te){return new Le(function(Se,et){var bt=new XMLHttpRequest;bt.open("GET",te,!0),bt.responseType="blob",bt.onload=function(){this.status===200&&Se(this.response)},bt.onerror=function(){var vr=this,Tr=function(){var Mn=new Error("No access to download image");return Mn.code=18,Mn.name="SecurityError",Mn},Br=function(){return new Error("Error "+vr.status+" downloading image")};et(this.status===0?Tr():Br())},bt.send()})},St=function(te){var Se=te.split(","),et=/data:([^;]+)/.exec(Se[0]);if(!et)return ue.none();for(var bt=et[1],vr=Se[1],Tr=1024,Br=atob(vr),Mn=Br.length,G=Math.ceil(Mn/Tr),ke=new Array(G),Ie=0;Ie<G;++Ie){for(var ct=Ie*Tr,kt=Math.min(ct+Tr,Mn),br=new Array(kt-ct),Ir=ct,na=0;Ir<kt;++na,++Ir)br[na]=Br[Ir].charCodeAt(0);ke[Ie]=new Uint8Array(br)}return ue.some(new Blob(ke,{type:bt}))},Xn=function(te){return new Le(function(Se,et){St(te).fold(function(){et("uri is not base64: "+te)},Se)})},mn=function(te,Se,et){return Se=Se||"image/png",jt(HTMLCanvasElement.prototype.toBlob)?new Le(function(bt,vr){te.toBlob(function(Tr){Tr?bt(Tr):vr()},Se,et)}):Xn(te.toDataURL(Se,et))},O=function(te,Se,et){return Se=Se||"image/png",te.toDataURL(Se,et)},On=function(te){return It(te).then(function(Se){sr(Se);var et=Ge(Ce(Se),J(Se)),bt=Ue(et);return bt.drawImage(Se,0,0),et})},Wt=function(te){return new Le(function(Se){var et=new FileReader;et.onloadend=function(){Se(et.result)},et.readAsDataURL(te)})},sr=function(te){URL.revokeObjectURL(te.src)},ya=function(te){return It(te)},vo=function(te){return X(te)},dn=Array.prototype.indexOf,fa=function(te,Se){return dn.call(te,Se)},oe=function(te,Se){return fa(te,Se)>-1},Xa=function(te,Se){for(var et=0,bt=te.length;et<bt;et++){var vr=te[et];Se(vr,et)}},$t=function(te,Se){for(var et=[],bt=0,vr=te.length;bt<vr;bt++){var Tr=te[bt];Se(Tr,bt)&&et.push(Tr)}return et},Qe=function(te,Se,et){return Xa(te,function(bt,vr){et=Se(et,bt,vr)}),et},Sr=function(te,Se,et){for(var bt=0,vr=te.length;bt<vr;bt++){var Tr=te[bt];if(Se(Tr,bt))return ue.some(Tr);if(et(Tr,bt))break}return ue.none()},rt=function(te,Se){return Sr(te,Se,er)},qe=function(te,Se){for(var et=0,bt=te.length;et<bt;++et){var vr=te[et];if(Se(vr,et)!==!0)return!1}return!0},be=Object.keys,Pe=function(te,Se){for(var et=be(te),bt=0,vr=et.length;bt<vr;bt++){var Tr=et[bt],Br=te[Tr];Se(Br,Tr)}},je=function(te){if(!He(te))throw new Error("cases must be an array");if(te.length===0)throw new Error("there must be at least one case");var Se=[],et={};return Xa(te,function(bt,vr){var Tr=be(bt);if(Tr.length!==1)throw new Error("one and only one name per case");var Br=Tr[0],Mn=bt[Br];if(et[Br]!==void 0)throw new Error("duplicate key detected:"+Br);if(Br==="cata")throw new Error("cannot have a case named cata (sorry)");if(!He(Mn))throw new Error("case arguments must be an array");Se.push(Br),et[Br]=function(){for(var G=[],ke=0;ke<arguments.length;ke++)G[ke]=arguments[ke];var Ie=G.length;if(Ie!==Mn.length)throw new Error("Wrong number of arguments to case "+Br+". Expected "+Mn.length+" ("+Mn+"), got "+Ie);var ct=function(kt){var br=be(kt);if(Se.length!==br.length)throw new Error("Wrong number of arguments to match. Expected: "+Se.join(",")+`
Actual: `+br.join(","));var Ir=qe(Se,function(na){return oe(br,na)});if(!Ir)throw new Error("Not all branches were specified when using match. Specified: "+br.join(", ")+`
Required: `+Se.join(", "));return kt[Br].apply(null,G)};return{fold:function(){for(var kt=[],br=0;br<arguments.length;br++)kt[br]=arguments[br];if(kt.length!==te.length)throw new Error("Wrong number of arguments to fold. Expected "+te.length+", got "+kt.length);var Ir=kt[vr];return Ir.apply(null,G)},match:ct,log:function(kt){console.log(kt,{constructors:Se,constructor:Br,params:G})}}}}),et},Nt={generate:je};Nt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var fr=function(te,Se,et){var bt=Se.type,vr=Ae(bt),Tr=function(){return Le.resolve(Se)},Br=Ae(et),Mn=function(){return et.split(",")[1]},G=function(kt,br){return te.then(function(Ir){return mn(Ir,kt,br)})},ke=function(kt,br){return te.then(function(Ir){return O(Ir,kt,br)})},Ie=function(kt,br){return ke(kt,br).then(function(Ir){return Ir.split(",")[1]})},ct=function(){return te.then(ce)};return{getType:vr,toBlob:Tr,toDataURL:Br,toBase64:Mn,toAdjustedBlob:G,toAdjustedDataURL:ke,toAdjustedBase64:Ie,toCanvas:ct}},Xt=function(te){return Wt(te).then(function(Se){return fr(On(te),te,Se)})},Pr=function(te,Se){return mn(te,Se).then(function(et){return fr(Le.resolve(te),et,te.toDataURL())})},ut=function(te,Se){Se===void 0&&(Se=2);var et=Math.pow(10,Se),bt=Math.round(te*et);return Math.ceil(bt/et)},st=function(te,Se){return te.toCanvas().then(function(et){return nr(et,te.getType(),Se)})},nr=function(te,Se,et){var bt=et<0?360+et:et,vr=bt*Math.PI/180,Tr=te.width,Br=te.height,Mn=Math.sin(vr),G=Math.cos(vr),ke=ut(Math.abs(Tr*G)+Math.abs(Br*Mn)),Ie=ut(Math.abs(Tr*Mn)+Math.abs(Br*G)),ct=Ge(ke,Ie),kt=Ue(ct);return kt.translate(ke/2,Ie/2),kt.rotate(vr),kt.drawImage(te,-Tr/2,-Br/2),Pr(ct,Se)},Rr=function(te,Se){return te.toCanvas().then(function(et){return sn(et,te.getType(),Se)})},sn=function(te,Se,et){var bt=Ge(te.width,te.height),vr=Ue(bt);return et==="v"?(vr.scale(1,-1),vr.drawImage(te,0,-bt.height)):(vr.scale(-1,1),vr.drawImage(te,-bt.width,0)),Pr(bt,Se)},wn=function(te,Se){return Rr(te,Se)},Gn=function(te,Se){return st(te,Se)},Yn=function(te,Se,et){return et===void 0&&(et=!1),new Le(function(bt){var vr=new XMLHttpRequest;vr.onreadystatechange=function(){vr.readyState===4&&bt({status:vr.status,blob:vr.response})},vr.open("GET",te,!0),vr.withCredentials=et,Pe(Se,function(Tr,Br){vr.setRequestHeader(Br,Tr)}),vr.responseType="blob",vr.send()})},Ta=function(te){return new Le(function(Se,et){var bt=new FileReader;bt.onload=function(){Se(bt.result)},bt.onerror=function(vr){et(vr)},bt.readAsText(te)})},ba=function(te){try{return ue.some(JSON.parse(te))}catch{return ue.none()}},Zn=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],In=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],ga=function(te,Se){var et=Qe(Se,function(bt,vr){return ye(bt)?bt[vr]:void 0},te);return ue.from(et)},Rn=function(te,Se){return(Se==null?void 0:Se.type)==="application/json"&&(te===400||te===403||te===404||te===500)},kn=function(te){var Se=rt(Zn,function(et){return te===et.code}).fold(Ae("Unknown ImageProxy error"),function(et){return et.message});return"ImageProxy HTTP error: "+Se},Ka=function(te){var Se=kn(te);return Le.reject(Se)},ao=function(te){return rt(In,function(Se){return Se.type===te}).fold(Ae("Unknown service error"),function(Se){return Se.message})},Ca=function(te){var Se=ba(te),et=Se.bind(function(bt){return ga(bt,["error","type"]).map(ao)}).getOr("Invalid JSON in service error message");return"ImageProxy Service error: "+et},xn=function(te){return Ta(te).then(function(Se){var et=Ca(Se);return Le.reject(et)})},Co=function(te,Se){return Rn(te,Se)?xn(Se):Ka(te)},Ke=function(te,Se){var et=te.indexOf("?")===-1?"?":"&";return/[?&]apiKey=/.test(te)?te:te+et+"apiKey="+encodeURIComponent(Se)},Mt=function(te){return te<200||te>=300},gt=function(te,Se){var et={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":Se};return Yn(Ke(te,Se),et).then(function(bt){return Mt(bt.status)?Co(bt.status,bt.blob):Le.resolve(bt.blob)})},dr=function(te,Se){return Yn(te,{},Se).then(function(et){return Mt(et.status)?Ka(et.status):Le.resolve(et.blob)})},un=function(te,Se,et){return et===void 0&&(et=!1),Se?gt(te,Se):dr(te,et)},ua=function(te){return Xt(te)},fi=1,Kn=function(te,Se){var et=Se||document,bt=et.createElement("div");if(bt.innerHTML=te,!bt.hasChildNodes()||bt.childNodes.length>1)throw console.error("HTML does not have a single root node",te),new Error("HTML must have a single root node");return di(bt.childNodes[0])},Sn=function(te,Se){var et=Se||document,bt=et.createElement(te);return di(bt)},xo=function(te,Se){var et=Se||document,bt=et.createTextNode(te);return di(bt)},di=function(te){if(te==null)throw new Error("Node cannot be null or undefined");return{dom:te}},Ni=function(te,Se,et){return ue.from(te.dom.elementFromPoint(Se,et)).map(di)},mo={fromHtml:Kn,fromTag:Sn,fromText:xo,fromDom:di,fromPoint:Ni},Jo=function(te,Se){var et=te.dom;if(et.nodeType!==fi)return!1;var bt=et;if(bt.matches!==void 0)return bt.matches(Se);if(bt.msMatchesSelector!==void 0)return bt.msMatchesSelector(Se);if(bt.webkitMatchesSelector!==void 0)return bt.webkitMatchesSelector(Se);if(bt.mozMatchesSelector!==void 0)return bt.mozMatchesSelector(Se);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var qi=function(te,Se){var et=function(vr){return Se(mo.fromDom(vr))},bt=rt(te.dom.childNodes,et);return bt.map(mo.fromDom)},Qo=function(te,Se){return qi(te,function(et){return Jo(et,Se)})},Lo=tinymce.util.Tools.resolve("tinymce.util.Delay"),Gi=tinymce.util.Tools.resolve("tinymce.util.Promise"),ra=tinymce.util.Tools.resolve("tinymce.util.URI"),oi=function(te){return te.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},$r=function(te){return te.getParam("imagetools_proxy")},Pu=function(te){return te.getParam("imagetools_cors_hosts",[],"string[]")},ei=function(te){return te.getParam("imagetools_credentials_hosts",[],"string[]")},vi=function(te){return ue.from(te.getParam("imagetools_fetch_image",null,"function"))},Ro=function(te){return te.getParam("api_key",te.getParam("imagetools_api_key","","string"),"string")},Pi=function(te){return te.getParam("images_upload_timeout",3e4,"number")},Fu=function(te){return te.getParam("images_reuse_filename",!1,"boolean")},mi=function(te){var Se,et,bt=function(vr){return/^[0-9\.]+px$/.test(vr)};return Se=te.style.width,et=te.style.height,Se||et?bt(Se)&&bt(et)?{w:parseInt(Se,10),h:parseInt(et,10)}:null:(Se=te.width,et=te.height,Se&&et?{w:parseInt(Se,10),h:parseInt(et,10)}:null)},Ku=function(te,Se){var et,bt;et=te.style.width,bt=te.style.height,(et||bt)&&(te.style.width=Se.w+"px",te.style.height=Se.h+"px",te.removeAttribute("data-mce-style")),et=te.width,bt=te.height,(et||bt)&&(te.setAttribute("width",String(Se.w)),te.setAttribute("height",String(Se.h)))},Do=function(te){return{w:te.naturalWidth,h:te.naturalHeight}},So=0,rr=function(te){return Qo(mo.fromDom(te),"img")},iu=function(te,Se){return te.dom.is(Se,"figure")},Cu=function(te,Se){return te.dom.is(Se,"img:not([data-mce-object],[data-mce-placeholder])")},Fi=function(te,Se){var et=function(bt){return Cu(te,bt)&&(Gt(te,bt)||mr(te,bt)||ye($r(te)))};return iu(te,Se)?rr(Se).bind(function(bt){return et(bt.dom)?ue.some(bt.dom):ue.none()}):et(Se)?ue.some(Se):ue.none()},ge=function(te,Se){te.notificationManager.open({text:Se,type:"error"})},Te=function(te){var Se=te.selection.getNode(),et=te.dom.getParent(Se,"figure.image");return et!==null&&iu(te,et)?rr(et):Cu(te,Se)?ue.some(mo.fromDom(Se)):ue.none()},wt=function(te,Se,et){var bt=Se.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return ye(bt)?te.dom.encode(bt[et]):null},Ft=function(){return"imagetools"+So++},Gt=function(te,Se){var et=Se.src;return et.indexOf("data:")===0||et.indexOf("blob:")===0||new ra(et).host===te.documentBaseURI.host},mr=function(te,Se){return N.inArray(Pu(te),new ra(Se.src).host)!==-1},kr=function(te,Se){return N.inArray(ei(te),new ra(Se.src).host)!==-1},ln=function(te,Se){if(mr(te,Se))return un(Se.src,null,kr(te,Se));if(!Gt(te,Se)){var et=$r(te),bt=et+(et.indexOf("?")===-1?"?":"&")+"url="+encodeURIComponent(Se.src),vr=Ro(te);return un(bt,vr,!1)}return vo(Se)},hn=function(te,Se){return vi(te).fold(function(){return ln(te,Se)},function(et){return et(Se)})},Dn=function(te,Se){var et=te.editorUpload.blobCache.getByUri(Se.src);return et?Gi.resolve(et.blob()):hn(te,Se)},ka=function(te,Se){var et=Lo.setEditorTimeout(te,function(){te.editorUpload.uploadImagesAuto()},Pi(te));Se.set(et)},Va=function(te){Lo.clearTimeout(te.get())},To=function(te,Se,et,bt,vr,Tr,Br){return et.toBlob().then(function(Mn){var G,ke,Ie,ct,kt=te.editorUpload.blobCache;G=Tr.src;var br=Se.type===Mn.type;return Fu(te)&&(ct=kt.getByUri(G),ye(ct)?(G=ct.uri(),ke=ct.name(),Ie=ct.filename()):(ke=wt(te,G,2),Ie=wt(te,G,1))),ct=kt.create({id:Ft(),blob:Mn,base64:et.toBase64(),uri:G,name:ke,filename:br?Ie:void 0}),kt.add(ct),te.undoManager.transact(function(){var Ir=function(){te.$(Tr).off("load",Ir),te.nodeChanged(),bt?te.editorUpload.uploadImagesAuto():(Va(vr),ka(te,vr))};te.$(Tr).on("load",Ir),Br&&te.$(Tr).attr({width:Br.w,height:Br.h}),te.$(Tr).attr({src:ct.blobUri()}).removeAttr("data-mce-src")}),ct})},Lt=function(te,Se,et,bt){return function(){var vr=Te(te);return vr.fold(function(){ge(te,"Could not find selected image")},function(Tr){return te._scanForImages().then(function(){return Dn(te,Tr.dom)}).then(function(Br){return ua(Br).then(et).then(function(Mn){return To(te,Br,Mn,!1,Se,Tr.dom,bt)})}).catch(function(Br){ge(te,Br)})})}},cn=function(te,Se,et){return function(){var bt=Te(te),vr=bt.map(function(Tr){var Br=mi(Tr.dom);return Br?{w:Br.h,h:Br.w}:null}).getOrNull();return Lt(te,Se,function(Tr){return Gn(Tr,et)},vr)()}},da=function(te,Se,et){return function(){return Lt(te,Se,function(bt){return wn(bt,et)})()}},Eo=function(te,Se,et,bt,vr){return ya(vr).then(function(Tr){var Br=Do(Tr);return(bt.w!==Br.w||bt.h!==Br.h)&&mi(et)&&Ku(et,Br),URL.revokeObjectURL(Tr.src),vr}).then(ua).then(function(Tr){return To(te,vr,Tr,!0,Se,et)})},Ii="save-state",Wn="disable",gs="enable",Ki=function(te){return{blob:te,url:URL.createObjectURL(te)}},oo=function(te,Se){return function(){var et=function(Tr){return{title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:Tr}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(Br){var Mn=Br.getData().imagetools.blob;bt.each(function(G){vr.each(function(ke){Eo(te,Se,G.dom,ke,Mn)})}),Br.close()},onCancel:Ye,onAction:function(Br,Mn){switch(Mn.name){case Ii:Mn.value?Br.enable("save"):Br.disable("save");break;case Wn:Br.disable("save"),Br.disable("cancel");break;case gs:Br.enable("cancel");break}}}},bt=Te(te),vr=bt.map(function(Tr){return Do(Tr.dom)});bt.each(function(Tr){Fi(te,Tr.dom).each(function(Br){Dn(te,Tr.dom).then(function(Mn){var G=Ki(Mn);te.windowManager.open(et(G))})})})}},Xu=function(te,Se){N.each({mceImageRotateLeft:cn(te,Se,-90),mceImageRotateRight:cn(te,Se,90),mceImageFlipVertical:da(te,Se,"v"),mceImageFlipHorizontal:da(te,Se,"h"),mceEditImage:oo(te,Se)},function(et,bt){te.addCommand(bt,et)})},ii=function(te,Se,et){te.on("NodeChange",function(bt){var vr=et.get(),Tr=Fi(te,bt.element);vr&&!Tr.exists(function(Br){return vr.src===Br.src})&&(Va(Se),te.editorUpload.uploadImagesAuto(),et.set(null)),Tr.each(et.set)})},hi=function(te){var Se=[],et=function(Tr){return function(){return te.execCommand(Tr)}},bt=function(){return Te(te).exists(function(Tr){return Fi(te,Tr.dom).isSome()})},vr=function(Tr){var Br=function(Mn){return Tr.setDisabled(!Mn)};return Br(bt()),Se=Se.concat([Br]),function(){Se=$t(Se,function(Mn){return Mn!==Br})}};te.on("NodeChange",function(){var Tr=bt();Xa(Se,function(Br){return Br(Tr)})}),te.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:et("mceImageRotateLeft"),onSetup:vr}),te.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:et("mceImageRotateRight"),onSetup:vr}),te.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:et("mceImageFlipVertical"),onSetup:vr}),te.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:et("mceImageFlipHorizontal"),onSetup:vr}),te.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:et("mceEditImage"),onSetup:vr}),te.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:et("mceImage")}),te.ui.registry.addContextMenu("imagetools",{update:function(Tr){return Fi(te,Tr).map(function(Br){return{text:"Edit image",icon:"edit-image",onAction:et("mceEditImage")}}).toArray()}})},Ba=function(te){te.ui.registry.addContextToolbar("imagetools",{items:oi(te),predicate:function(Se){return Fi(te,Se).isSome()},position:"node",scope:"node"})};function Yu(){T.add("imagetools",function(te){var Se=I(0),et=I(null);Xu(te,Se),hi(te),Ba(te),ii(te,Se,et)})}Yu()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=tinymce.util.Tools.resolve("tinymce.util.VK"),N=function(G){var ke=typeof G;return G===null?"null":ke==="object"&&(Array.prototype.isPrototypeOf(G)||G.constructor&&G.constructor.name==="Array")?"array":ke==="object"&&(String.prototype.isPrototypeOf(G)||G.constructor&&G.constructor.name==="String")?"string":ke},F=function(G){return function(ke){return N(ke)===G}},ee=function(G){return function(ke){return typeof ke===G}},pe=function(G){return function(ke){return G===ke}},He=F("string"),xe=F("array"),ye=pe(null),jt=ee("boolean"),Ye=ee("function"),Ae=function(){},tt=function(G){return function(){return G}},er=function(G){return G},Xe=function(G,ke){return G===ke},at=tt(!1),_e=tt(!0),Y=function(){return De},De=function(){var G=function(ct){return ct()},ke=er,Ie={fold:function(ct,kt){return ct()},isSome:at,isNone:_e,getOr:ke,getOrThunk:G,getOrDie:function(ct){throw new Error(ct||"error: getOrDie called on none.")},getOrNull:tt(null),getOrUndefined:tt(void 0),or:ke,orThunk:G,map:Y,each:Ae,bind:Y,exists:at,forall:_e,filter:function(){return Y()},toArray:function(){return[]},toString:tt("none()")};return Ie}(),ue=function(G){var ke=tt(G),Ie=function(){return kt},ct=function(br){return br(G)},kt={fold:function(br,Ir){return Ir(G)},isSome:_e,isNone:at,getOr:ke,getOrThunk:ke,getOrDie:ke,getOrNull:ke,getOrUndefined:ke,or:Ie,orThunk:Ie,map:function(br){return ue(br(G))},each:function(br){br(G)},bind:ct,exists:ct,forall:ct,filter:function(br){return br(G)?kt:De},toArray:function(){return[G]},toString:function(){return"some("+G+")"}};return kt},Je=function(G){return G==null?De:ue(G)},ze={some:ue,none:Y,from:Je},Le=Array.prototype.indexOf,Ge=Array.prototype.push,ce=function(G,ke){return Le.call(G,ke)},Ue=function(G,ke){return ce(G,ke)>-1},U=function(G,ke){for(var Ie=G.length,ct=new Array(Ie),kt=0;kt<Ie;kt++){var br=G[kt];ct[kt]=ke(br,kt)}return ct},Ce=function(G,ke){for(var Ie=0,ct=G.length;Ie<ct;Ie++){var kt=G[Ie];ke(kt,Ie)}},J=function(G,ke,Ie){return Ce(G,function(ct,kt){Ie=ke(Ie,ct,kt)}),Ie},X=function(G){for(var ke=[],Ie=0,ct=G.length;Ie<ct;++Ie){if(!xe(G[Ie]))throw new Error("Arr.flatten item "+Ie+" was not an array, input: "+G);Ge.apply(ke,G[Ie])}return ke},It=function(G,ke){return X(U(G,ke))},fn=function(G,ke){for(var Ie=0;Ie<G.length;Ie++){var ct=ke(G[Ie],Ie);if(ct.isSome())return ct}return ze.none()},St=function(G,ke,Ie){return Ie===void 0&&(Ie=Xe),G.exists(function(ct){return Ie(ct,ke)})},Xn=function(G){for(var ke=[],Ie=function(kt){ke.push(kt)},ct=0;ct<G.length;ct++)G[ct].each(Ie);return ke},mn=function(G,ke){return G?ze.some(ke):ze.none()},O=function(G){var ke=G.getParam("link_assume_external_targets",!1);return jt(ke)&&ke?1:He(ke)&&(ke==="http"||ke==="https")?ke:0},On=function(G){return G.getParam("link_context_toolbar",!1,"boolean")},Wt=function(G){return G.getParam("link_list")},sr=function(G){return G.getParam("default_link_target")},ya=function(G){return G.getParam("target_list",!0)},vo=function(G){return G.getParam("rel_list",[],"array")},dn=function(G){return G.getParam("link_class_list",[],"array")},fa=function(G){return G.getParam("link_title",!0,"boolean")},oe=function(G){return G.getParam("allow_unsafe_link_target",!1,"boolean")},Xa=function(G){return G.getParam("link_quicklink",!1,"boolean")},$t=function(G){return G.getParam("link_default_protocol","http","string")},Qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Sr=function(G){return He(G.value)?G.value:""},rt=function(G){return He(G.text)?G.text:He(G.title)?G.title:""},qe=function(G,ke){var Ie=[];return Qe.each(G,function(ct){var kt=rt(ct);if(ct.menu!==void 0){var br=qe(ct.menu,ke);Ie.push({text:kt,items:br})}else{var Ir=ke(ct);Ie.push({text:kt,value:Ir})}}),Ie},be=function(G){return G===void 0&&(G=Sr),function(ke){return ze.from(ke).map(function(Ie){return qe(Ie,G)})}},Pe=function(G){return be(Sr)(G)},je=function(G,ke){return function(Ie){return{name:G,type:"listbox",label:ke,items:Ie}}},Nt={sanitize:Pe,sanitizeWith:be,createUi:je,getValue:Sr},fr=function(){return fr=Object.assign||function(ke){for(var Ie,ct=1,kt=arguments.length;ct<kt;ct++){Ie=arguments[ct];for(var br in Ie)Object.prototype.hasOwnProperty.call(Ie,br)&&(ke[br]=Ie[br])}return ke},fr.apply(this,arguments)},Xt=Object.keys,Pr=Object.hasOwnProperty,ut=function(G,ke){for(var Ie=Xt(G),ct=0,kt=Ie.length;ct<kt;ct++){var br=Ie[ct],Ir=G[br];ke(Ir,br)}},st=function(G){return function(ke,Ie){G[Ie]=ke}},nr=function(G,ke,Ie,ct){var kt={};return ut(G,function(br,Ir){(ke(br,Ir)?Ie:ct)(br,Ir)}),kt},Rr=function(G,ke){var Ie={};return nr(G,ke,st(Ie),Ae),Ie},sn=function(G,ke){return Pr.call(G,ke)},wn=function(G,ke){return sn(G,ke)&&G[ke]!==void 0&&G[ke]!==null},Gn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Yn=tinymce.util.Tools.resolve("tinymce.util.URI"),Ta=function(G){return G&&G.nodeName.toLowerCase()==="a"},ba=function(G){return Ta(G)&&!!ga(G)},Zn=function(G,ke){if(G.collapsed)return[];var Ie=G.cloneContents(),ct=new Gn(Ie.firstChild,Ie),kt=[],br=Ie.firstChild;do ke(br)&&kt.push(br);while(br=ct.next());return kt},In=function(G){return/^\w+:/i.test(G)},ga=function(G){var ke=G.getAttribute("data-mce-href");return ke||G.getAttribute("href")},Rn=function(G,ke){var Ie=["noopener"],ct=G?G.split(/\s+/):[],kt=function(Tn){return Qe.trim(Tn.sort().join(" "))},br=function(Tn){return Tn=Ir(Tn),Tn.length>0?Tn.concat(Ie):Ie},Ir=function(Tn){return Tn.filter(function(xa){return Qe.inArray(Ie,xa)===-1})},na=ke?br(ct):Ir(ct);return na.length>0?kt(na):""},kn=function(G){return G.replace(/\uFEFF/g,"")},Ka=function(G,ke){return ke=ke||G.selection.getNode(),Ke(ke)?G.dom.select("a[href]",ke)[0]:G.dom.getParent(ke,"a[href]")},ao=function(G,ke){var Ie=ke?ke.innerText||ke.textContent:G.getContent({format:"text"});return kn(Ie)},Ca=function(G){return Qe.grep(G,ba).length>0},xn=function(G){return Zn(G,ba).length>0},Co=function(G){var ke=G.schema.getTextInlineElements(),Ie=function(kt){return kt.nodeType===1&&!Ta(kt)&&!sn(ke,kt.nodeName.toLowerCase())},ct=Zn(G.selection.getRng(),Ie);return ct.length===0},Ke=function(G){return G&&G.nodeName==="FIGURE"&&/\bimage\b/i.test(G.className)},Mt=function(G){var ke=["title","rel","class","target"];return J(ke,function(Ie,ct){return G[ct].each(function(kt){Ie[ct]=kt.length>0?kt:null}),Ie},{href:G.href})},gt=function(G,ke){return(ke==="http"||ke==="https")&&!In(G)?ke+"://"+G:G},dr=function(G,ke){var Ie=fr({},ke);if(!(vo(G).length>0)&&oe(G)===!1){var ct=Rn(Ie.rel,Ie.target==="_blank");Ie.rel=ct||null}return ze.from(Ie.target).isNone()&&ya(G)===!1&&(Ie.target=sr(G)),Ie.href=gt(Ie.href,O(G)),Ie},un=function(G,ke,Ie,ct){Ie.each(function(kt){sn(ke,"innerText")?ke.innerText=kt:ke.textContent=kt}),G.dom.setAttribs(ke,ct),G.selection.select(ke)},ua=function(G,ke,Ie,ct){Ke(ke)?qi(G,ke,ct):Ie.fold(function(){G.execCommand("mceInsertLink",!1,ct)},function(kt){G.insertContent(G.dom.createHTML("a",ct,G.dom.encode(kt)))})},fi=function(G,ke,Ie){var ct=G.selection.getNode(),kt=Ka(G,ct),br=dr(G,Mt(Ie));G.undoManager.transact(function(){Ie.href===ke.href&&ke.attach(),kt?(G.focus(),un(G,kt,Ie.text,br)):ua(G,ct,Ie.text,br)})},Kn=function(G){var ke=G.dom,Ie=G.selection,ct=Ie.getBookmark(),kt=Ie.getRng().cloneRange(),br=ke.getParent(kt.startContainer,"a[href]",G.getBody()),Ir=ke.getParent(kt.endContainer,"a[href]",G.getBody());br&&kt.setStartBefore(br),Ir&&kt.setEndAfter(Ir),Ie.setRng(kt),G.execCommand("unlink"),Ie.moveToBookmark(ct)},Sn=function(G){G.undoManager.transact(function(){var ke=G.selection.getNode();Ke(ke)?Jo(G,ke):Kn(G),G.focus()})},xo=function(G){var ke=G.class,Ie=G.href,ct=G.rel,kt=G.target,br=G.text,Ir=G.title;return Rr({class:ke.getOrNull(),href:Ie,rel:ct.getOrNull(),target:kt.getOrNull(),text:br.getOrNull(),title:Ir.getOrNull()},function(na,Tn){return ye(na)===!1})},di=function(G,ke){var Ie=ke.href;return fr(fr({},ke),{href:Yn.isDomSafe(Ie,"a",G.settings)?Ie:""})},Ni=function(G,ke,Ie){var ct=di(G,Ie);G.hasPlugin("rtc",!0)?G.execCommand("createlink",!1,xo(ct)):fi(G,ke,ct)},mo=function(G){G.hasPlugin("rtc",!0)?G.execCommand("unlink"):Sn(G)},Jo=function(G,ke){var Ie=G.dom.select("img",ke)[0];if(Ie){var ct=G.dom.getParents(Ie,"a[href]",ke)[0];ct&&(ct.parentNode.insertBefore(Ie,ct),G.dom.remove(ct))}},qi=function(G,ke,Ie){var ct=G.dom.select("img",ke)[0];if(ct){var kt=G.dom.create("a",Ie);ct.parentNode.insertBefore(kt,ct),kt.appendChild(ct)}},Qo=function(G){return wn(G,"items")},Lo=function(G,ke){return fn(ke,function(Ie){return Qo(Ie)?Lo(G,Ie.items):mn(Ie.value===G,Ie)})},Gi=function(G,ke,Ie,ct){var kt=ct[ke],br=G.length>0;return kt!==void 0?Lo(kt,Ie).map(function(Ir){return{url:{value:Ir.value,meta:{text:br?G:Ir.text,attach:Ae}},text:br?G:Ir.text}}):ze.none()},ra=function(G,ke){return ke==="link"?G.link:ke==="anchor"?G.anchor:ze.none()},oi=function(G,ke){var Ie={text:G.text,title:G.title},ct=function(Tn){return mn(Ie.title.length<=0,ze.from(Tn.meta.title).getOr(""))},kt=function(Tn){return mn(Ie.text.length<=0,ze.from(Tn.meta.text).getOr(Tn.value))},br=function(Tn){var xa=kt(Tn.url),qa=ct(Tn.url);return xa.isSome()||qa.isSome()?ze.some(fr(fr({},xa.map(function(xu){return{text:xu}}).getOr({})),qa.map(function(xu){return{title:xu}}).getOr({}))):ze.none()},Ir=function(Tn,xa){var qa=ra(ke,xa.name).getOr([]);return Gi(Ie.text,xa.name,qa,Tn)},na=function(Tn,xa){var qa=xa.name;return qa==="url"?br(Tn()):Ue(["anchor","link"],qa)?Ir(Tn(),xa):((qa==="text"||qa==="title")&&(Ie[qa]=Tn()[qa]),ze.none())};return{onChange:na}},$r={init:oi,getDelta:Gi},Pu=tinymce.util.Tools.resolve("tinymce.util.Delay"),ei=tinymce.util.Tools.resolve("tinymce.util.Promise"),vi=function(G,ke,Ie){var ct=G.selection.getRng();Pu.setEditorTimeout(G,function(){G.windowManager.confirm(ke,function(kt){G.selection.setRng(ct),Ie(kt)})})},Ro=function(G){var ke=G.href,Ie=ke.indexOf("@")>0&&ke.indexOf("/")===-1&&ke.indexOf("mailto:")===-1;return Ie?ze.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(ct){return fr(fr({},ct),{href:"mailto:"+ke})}}):ze.none()},Pi=function(G,ke){return function(Ie){var ct=Ie.href,kt=G===1&&!In(ct)||G===0&&/^\s*www(\.|\d\.)/i.test(ct);return kt?ze.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+ke+":// prefix?",preprocess:function(br){return fr(fr({},br),{href:ke+"://"+ct})}}):ze.none()}},Fu=function(G,ke){return fn([Ro,Pi(O(G),$t(G))],function(Ie){return Ie(ke)}).fold(function(){return ei.resolve(ke)},function(Ie){return new ei(function(ct){vi(G,Ie.message,function(kt){ct(kt?Ie.preprocess(ke):ke)})})})},mi={preprocess:Fu},Ku=function(G){var ke=G.dom.select("a:not([href])"),Ie=It(ke,function(ct){var kt=ct.name||ct.id;return kt?[{text:kt,value:"#"+kt}]:[]});return Ie.length>0?ze.some([{text:"None",value:""}].concat(Ie)):ze.none()},Do={getAnchors:Ku},So=function(G){var ke=dn(G);return ke.length>0?Nt.sanitize(ke):ze.none()},rr={getClasses:So},iu=tinymce.util.Tools.resolve("tinymce.util.XHR"),Cu=function(G){try{return ze.some(JSON.parse(G))}catch{return ze.none()}},Fi=function(G){var ke=function(ct){return G.convertURL(ct.value||ct.url,"href")},Ie=Wt(G);return new ei(function(ct){He(Ie)?iu.send({url:Ie,success:function(kt){return ct(Cu(kt))},error:function(kt){return ct(ze.none())}}):Ye(Ie)?Ie(function(kt){return ct(ze.some(kt))}):ct(ze.from(Ie))}).then(function(ct){return ct.bind(Nt.sanitizeWith(ke)).map(function(kt){if(kt.length>0){var br=[{text:"None",value:""}];return br.concat(kt)}else return kt})})},ge={getLinks:Fi},Te=function(G,ke){var Ie=vo(G);if(Ie.length>0){var ct=St(ke,"_blank"),kt=oe(G)===!1,br=function(na){return Rn(Nt.getValue(na),ct)},Ir=kt?Nt.sanitizeWith(br):Nt.sanitize;return Ir(Ie)}return ze.none()},wt={getRels:Te},Ft=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],Gt=function(G){var ke=ya(G);return xe(ke)?Nt.sanitize(ke).orThunk(function(){return ze.some(Ft)}):ke===!1?ze.none():ze.some(Ft)},mr={getTargets:Gt},kr=function(G,ke,Ie){var ct=G.getAttrib(ke,Ie);return ct!==null&&ct.length>0?ze.some(ct):ze.none()},ln=function(G,ke){var Ie=G.dom,ct=Co(G),kt=ct?ze.some(ao(G.selection,ke)):ze.none(),br=ke?ze.some(Ie.getAttrib(ke,"href")):ze.none(),Ir=ke?ze.from(Ie.getAttrib(ke,"target")):ze.none(),na=kr(Ie,ke,"rel"),Tn=kr(Ie,ke,"class"),xa=kr(Ie,ke,"title");return{url:br,text:kt,title:xa,target:Ir,rel:na,linkClass:Tn}},hn=function(G,ke){return ge.getLinks(G).then(function(Ie){var ct=ln(G,ke);return{anchor:ct,catalogs:{targets:mr.getTargets(G),rels:wt.getRels(G,ct.target),classes:rr.getClasses(G),anchor:Do.getAnchors(G),link:Ie},optNode:ze.from(ke),flags:{titleEnabled:fa(G)}}})},Dn={collect:hn},ka=function(G,ke){return function(Ie){var ct=Ie.getData();if(!ct.url.value){mo(G),Ie.close();return}var kt=function(na){return ze.from(ct[na]).filter(function(Tn){return!St(ke.anchor[na],Tn)})},br={href:ct.url.value,text:kt("text"),target:kt("target"),rel:kt("rel"),class:kt("linkClass"),title:kt("title")},Ir={href:ct.url.value,attach:ct.url.meta!==void 0&&ct.url.meta.attach?ct.url.meta.attach:Ae};mi.preprocess(G,br).then(function(na){Ni(G,Ir,na)}),Ie.close()}},Va=function(G){var ke=Ka(G);return Dn.collect(G,ke)},To=function(G,ke){var Ie=G.anchor,ct=Ie.url.getOr("");return{url:{value:ct,meta:{original:{value:ct}}},text:Ie.text.getOr(""),title:Ie.title.getOr(""),anchor:ct,link:ct,rel:Ie.rel.getOr(""),target:Ie.target.or(ke).getOr(""),linkClass:Ie.linkClass.getOr("")}},Lt=function(G,ke,Ie){var ct=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],kt=G.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),br=G.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Ir=ze.from(sr(Ie)),na=To(G,Ir),Tn=G.catalogs,xa=$r.init(na,Tn),qa={type:"panel",items:X([ct,kt,br,Xn([Tn.anchor.map(Nt.createUi("anchor","Anchors")),Tn.rels.map(Nt.createUi("rel","Rel")),Tn.targets.map(Nt.createUi("target","Open link in...")),Tn.link.map(Nt.createUi("link","Link list")),Tn.classes.map(Nt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:qa,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:na,onChange:function(xu,Mo){var Hr=Mo.name;xa.onChange(xu.getData,{name:Hr}).each(function(Zt){xu.setData(Zt)})},onSubmit:ke}},cn=function(G){var ke=Va(G);ke.then(function(Ie){var ct=ka(G,Ie);return Lt(Ie,ct,G)}).then(function(Ie){G.windowManager.open(Ie)})},da=function(G,ke){document.body.appendChild(G),G.dispatchEvent(ke),document.body.removeChild(G)},Eo=function(G){var ke=document.createElement("a");ke.target="_blank",ke.href=G,ke.rel="noreferrer noopener";var Ie=document.createEvent("MouseEvents");Ie.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),da(ke,Ie)},Ii=function(G,ke){return G.dom.getParent(ke,"a[href]")},Wn=function(G){return Ii(G,G.selection.getStart())},gs=function(G){return G.altKey===!0&&G.shiftKey===!1&&G.ctrlKey===!1&&G.metaKey===!1},Ki=function(G,ke){if(ke){var Ie=ga(ke);if(/^#/.test(Ie)){var ct=G.$(Ie);ct.length&&G.selection.scrollIntoView(ct[0],!0)}else Eo(ke.href)}},oo=function(G){return function(){cn(G)}},Xu=function(G){return function(){Ki(G,Wn(G))}},ii=function(G){G.on("click",function(ke){var Ie=Ii(G,ke.target);Ie&&T.metaKeyPressed(ke)&&(ke.preventDefault(),Ki(G,Ie))}),G.on("keydown",function(ke){var Ie=Wn(G);Ie&&ke.keyCode===13&&gs(ke)&&(ke.preventDefault(),Ki(G,Ie))})},hi=function(G,ke){return G.on("NodeChange",ke),function(){return G.off("NodeChange",ke)}},Ba=function(G){return function(ke){var Ie=function(){return ke.setActive(!G.mode.isReadOnly()&&Ka(G,G.selection.getNode())!==null)};return Ie(),hi(G,Ie)}},Yu=function(G){return function(ke){var Ie=function(){return ke.setDisabled(Ka(G,G.selection.getNode())===null)};return Ie(),hi(G,Ie)}},te=function(G){return function(ke){var Ie=function(kt){return Ca(kt)||xn(G.selection.getRng())},ct=G.dom.getParents(G.selection.getStart());return ke.setDisabled(!Ie(ct)),hi(G,function(kt){return ke.setDisabled(!Ie(kt.parents))})}},Se=function(G){G.addCommand("mceLink",function(){Xa(G)?G.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):oo(G)()})},et=function(G){G.addShortcut("Meta+K","",function(){G.execCommand("mceLink")})},bt=function(G){G.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:oo(G),onSetup:Ba(G)}),G.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Xu(G),onSetup:Yu(G)}),G.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return mo(G)},onSetup:te(G)})},vr=function(G){G.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Xu(G),onSetup:Yu(G)}),G.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:oo(G)}),G.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return mo(G)},onSetup:te(G)})},Tr=function(G){var ke="link unlink openlink",Ie="link";G.ui.registry.addContextMenu("link",{update:function(ct){return Ca(G.dom.getParents(ct,"a"))?ke:Ie}})},Br=function(G){var ke=function(kt){kt.selection.collapse(!1)},Ie=function(kt){var br=G.selection.getNode();return kt.setDisabled(!Ka(G,br)),Ae},ct=function(kt){var br=Ka(G),Ir=Co(G);if(!br&&Ir){var na=ao(G.selection,br);return ze.some(na.length>0?na:kt)}else return ze.none()};G.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Ba(G)},label:"Link",predicate:function(kt){return!!Ka(G,kt)&&On(G)},initValue:function(){var kt=Ka(G);return kt?ga(kt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(kt){var br=G.selection.getNode();return kt.setActive(!!Ka(G,br)),Ba(G)(kt)},onAction:function(kt){var br=kt.getValue(),Ir=ct(br),na={href:br,attach:Ae};Ni(G,na,{href:br,text:Ir,title:ze.none(),rel:ze.none(),target:ze.none(),class:ze.none()}),ke(G),kt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ie,onAction:function(kt){mo(G),kt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ie,onAction:function(kt){Xu(G)(),kt.hide()}}]})};function Mn(){I.add("link",function(G){bt(G),vr(G),Tr(G),Br(G),ii(G),Se(G),et(G)})}Mn()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=function(z){var H=typeof z;return z===null?"null":H==="object"&&(Array.prototype.isPrototypeOf(z)||z.constructor&&z.constructor.name==="Array")?"array":H==="object"&&(String.prototype.isPrototypeOf(z)||z.constructor&&z.constructor.name==="String")?"string":H},N=function(z){return function(H){return T(H)===z}},F=function(z){return function(H){return typeof H===z}},ee=N("string"),pe=N("object"),He=N("array"),xe=F("boolean"),ye=F("function"),jt=F("number"),Ye=function(){},Ae=function(z){return function(){return z}},tt=function(z){return z},er=function(z,H){return z===H},Xe=function(z){return function(H){return!z(H)}},at=Ae(!1),_e=Ae(!0),Y=function(){return De},De=function(){var z=function(ve){return ve()},H=tt,K={fold:function(ve,We){return ve()},isSome:at,isNone:_e,getOr:H,getOrThunk:z,getOrDie:function(ve){throw new Error(ve||"error: getOrDie called on none.")},getOrNull:Ae(null),getOrUndefined:Ae(void 0),or:H,orThunk:z,map:Y,each:Ye,bind:Y,exists:at,forall:_e,filter:function(){return Y()},toArray:function(){return[]},toString:Ae("none()")};return K}(),ue=function(z){var H=Ae(z),K=function(){return We},ve=function(_t){return _t(z)},We={fold:function(_t,Vr){return Vr(z)},isSome:_e,isNone:at,getOr:H,getOrThunk:H,getOrDie:H,getOrNull:H,getOrUndefined:H,or:K,orThunk:K,map:function(_t){return ue(_t(z))},each:function(_t){_t(z)},bind:ve,exists:ve,forall:ve,filter:function(_t){return _t(z)?We:De},toArray:function(){return[z]},toString:function(){return"some("+z+")"}};return We},Je=function(z){return z==null?De:ue(z)},ze={some:ue,none:Y,from:Je},Le=Array.prototype.slice,Ge=Array.prototype.push,ce=function(z,H){for(var K=z.length,ve=new Array(K),We=0;We<K;We++){var _t=z[We];ve[We]=H(_t,We)}return ve},Ue=function(z,H){for(var K=0,ve=z.length;K<ve;K++){var We=z[K];H(We,K)}},U=function(z,H){for(var K=[],ve=0,We=z.length;ve<We;ve++){var _t=z[ve];H(_t,ve)&&K.push(_t)}return K},Ce=function(z,H){if(z.length===0)return[];for(var K=H(z[0]),ve=[],We=[],_t=0,Vr=z.length;_t<Vr;_t++){var zn=z[_t],sa=H(zn);sa!==K&&(ve.push(We),We=[]),K=sa,We.push(zn)}return We.length!==0&&ve.push(We),ve},J=function(z,H,K){return Ue(z,function(ve,We){K=H(K,ve,We)}),K},X=function(z,H,K){for(var ve=0,We=z.length;ve<We;ve++){var _t=z[ve];if(H(_t,ve))return ze.some(_t);if(K(_t,ve))break}return ze.none()},It=function(z,H){return X(z,H,at)},fn=function(z){for(var H=[],K=0,ve=z.length;K<ve;++K){if(!He(z[K]))throw new Error("Arr.flatten item "+K+" was not an array, input: "+z);Ge.apply(H,z[K])}return H},St=function(z,H){return fn(ce(z,H))},Xn=function(z){var H=Le.call(z,0);return H.reverse(),H},mn=function(z,H){return H>=0&&H<z.length?ze.some(z[H]):ze.none()},O=function(z){return mn(z,0)},On=function(z){return mn(z,z.length-1)},Wt=function(z,H){for(var K=0;K<z.length;K++){var ve=H(z[K],K);if(ve.isSome())return ve}return ze.none()},sr=function(){return sr=Object.assign||function(H){for(var K,ve=1,We=arguments.length;ve<We;ve++){K=arguments[ve];for(var _t in K)Object.prototype.hasOwnProperty.call(K,_t)&&(H[_t]=K[_t])}return H},sr.apply(this,arguments)};function ya(z,H,K){for(var ve=0,We=H.length,_t;ve<We;ve++)(_t||!(ve in H))&&(_t||(_t=Array.prototype.slice.call(H,0,ve)),_t[ve]=H[ve]);return z.concat(_t||Array.prototype.slice.call(H))}var vo=function(z){var H=!1,K;return function(){for(var ve=[],We=0;We<arguments.length;We++)ve[We]=arguments[We];return H||(H=!0,K=z.apply(null,ve)),K}},dn=function(z,H,K,ve){var We=z.isiOS()&&/ipad/i.test(K)===!0,_t=z.isiOS()&&!We,Vr=z.isiOS()||z.isAndroid(),zn=Vr||ve("(pointer:coarse)"),sa=We||!_t&&Vr&&ve("(min-device-width:768px)"),Un=_t||Vr&&!sa,io=H.isSafari()&&z.isiOS()&&/safari/i.test(K)===!1,cu=!Un&&!sa&&!io;return{isiPad:Ae(We),isiPhone:Ae(_t),isTablet:Ae(sa),isPhone:Ae(Un),isTouch:Ae(zn),isAndroid:z.isAndroid,isiOS:z.isiOS,isWebView:Ae(io),isDesktop:Ae(cu)}},fa=function(z,H){for(var K=0;K<z.length;K++){var ve=z[K];if(ve.test(H))return ve}},oe=function(z,H){var K=fa(z,H);if(!K)return{major:0,minor:0};var ve=function(We){return Number(H.replace(K,"$"+We))};return Qe(ve(1),ve(2))},Xa=function(z,H){var K=String(H).toLowerCase();return z.length===0?$t():oe(z,K)},$t=function(){return Qe(0,0)},Qe=function(z,H){return{major:z,minor:H}},Sr={nu:Qe,detect:Xa,unknown:$t},rt=function(z,H){return Wt(H.brands,function(K){var ve=K.brand.toLowerCase();return It(z,function(We){var _t;return ve===((_t=We.brand)===null||_t===void 0?void 0:_t.toLowerCase())}).map(function(We){return{current:We.name,version:Sr.nu(parseInt(K.version,10),0)}})})},qe=function(z,H){var K=String(H).toLowerCase();return It(z,function(ve){return ve.search(K)})},be=function(z,H){return qe(z,H).map(function(K){var ve=Sr.detect(K.versionRegexes,H);return{current:K.name,version:ve}})},Pe=function(z,H){return qe(z,H).map(function(K){var ve=Sr.detect(K.versionRegexes,H);return{current:K.name,version:ve}})},je=function(z,H){return z.indexOf(H)!==-1},Nt=function(z){return function(H){return H.replace(z,"")}},fr=Nt(/^\s+|\s+$/g),Xt=function(z){return z.length>0},Pr=function(z){return!Xt(z)},ut=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,st=function(z){return function(H){return je(H,z)}},nr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(z){return je(z,"edge/")&&je(z,"chrome")&&je(z,"safari")&&je(z,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ut],search:function(z){return je(z,"chrome")&&!je(z,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(z){return je(z,"msie")||je(z,"trident")}},{name:"Opera",versionRegexes:[ut,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:st("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:st("firefox")},{name:"Safari",versionRegexes:[ut,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(z){return(je(z,"safari")||je(z,"mobile/"))&&je(z,"applewebkit")}}],Rr=[{name:"Windows",search:st("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(z){return je(z,"iphone")||je(z,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:st("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:st("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:st("linux"),versionRegexes:[]},{name:"Solaris",search:st("sunos"),versionRegexes:[]},{name:"FreeBSD",search:st("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:st("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],sn={browsers:Ae(nr),oses:Ae(Rr)},wn="Edge",Gn="Chrome",Yn="IE",Ta="Opera",ba="Firefox",Zn="Safari",In=function(){return ga({current:void 0,version:Sr.unknown()})},ga=function(z){var H=z.current,K=z.version,ve=function(We){return function(){return H===We}};return{current:H,version:K,isEdge:ve(wn),isChrome:ve(Gn),isIE:ve(Yn),isOpera:ve(Ta),isFirefox:ve(ba),isSafari:ve(Zn)}},Rn={unknown:In,nu:ga,edge:Ae(wn),chrome:Ae(Gn),ie:Ae(Yn),opera:Ae(Ta),firefox:Ae(ba),safari:Ae(Zn)},kn="Windows",Ka="iOS",ao="Android",Ca="Linux",xn="OSX",Co="Solaris",Ke="FreeBSD",Mt="ChromeOS",gt=function(){return dr({current:void 0,version:Sr.unknown()})},dr=function(z){var H=z.current,K=z.version,ve=function(We){return function(){return H===We}};return{current:H,version:K,isWindows:ve(kn),isiOS:ve(Ka),isAndroid:ve(ao),isOSX:ve(xn),isLinux:ve(Ca),isSolaris:ve(Co),isFreeBSD:ve(Ke),isChromeOS:ve(Mt)}},un={unknown:gt,nu:dr,windows:Ae(kn),ios:Ae(Ka),android:Ae(ao),linux:Ae(Ca),osx:Ae(xn),solaris:Ae(Co),freebsd:Ae(Ke),chromeos:Ae(Mt)},ua=function(z,H,K){var ve=sn.browsers(),We=sn.oses(),_t=H.bind(function(sa){return rt(ve,sa)}).orThunk(function(){return be(ve,z)}).fold(Rn.unknown,Rn.nu),Vr=Pe(We,z).fold(un.unknown,un.nu),zn=dn(Vr,_t,z,K);return{browser:_t,os:Vr,deviceType:zn}},fi={detect:ua},Kn=function(z){return window.matchMedia(z).matches},Sn=vo(function(){return fi.detect(navigator.userAgent,ze.from(navigator.userAgentData),Kn)}),xo=function(){return Sn()},di=function(z,H,K){return(z.compareDocumentPosition(H)&K)!==0},Ni=function(z,H){return di(z,H,Node.DOCUMENT_POSITION_CONTAINED_BY)},mo=1,Jo=function(z,H){var K=H||document,ve=K.createElement("div");if(ve.innerHTML=z,!ve.hasChildNodes()||ve.childNodes.length>1)throw console.error("HTML does not have a single root node",z),new Error("HTML must have a single root node");return Lo(ve.childNodes[0])},qi=function(z,H){var K=H||document,ve=K.createElement(z);return Lo(ve)},Qo=function(z,H){var K=H||document,ve=K.createTextNode(z);return Lo(ve)},Lo=function(z){if(z==null)throw new Error("Node cannot be null or undefined");return{dom:z}},Gi=function(z,H,K){return ze.from(z.dom.elementFromPoint(H,K)).map(Lo)},ra={fromHtml:Jo,fromTag:qi,fromText:Qo,fromDom:Lo,fromPoint:Gi},oi=function(z,H){var K=z.dom;if(K.nodeType!==mo)return!1;var ve=K;if(ve.matches!==void 0)return ve.matches(H);if(ve.msMatchesSelector!==void 0)return ve.msMatchesSelector(H);if(ve.webkitMatchesSelector!==void 0)return ve.webkitMatchesSelector(H);if(ve.mozMatchesSelector!==void 0)return ve.mozMatchesSelector(H);throw new Error("Browser lacks native selectors")},$r=function(z,H){return z.dom===H.dom},Pu=function(z,H){var K=z.dom,ve=H.dom;return K===ve?!1:K.contains(ve)},ei=function(z,H){return Ni(z.dom,H.dom)},vi=function(z,H){return xo().browser.isIE()?ei(z,H):Pu(z,H)},Ro=oi,Pi=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Fu=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),mi=tinymce.util.Tools.resolve("tinymce.util.VK"),Ku=Object.keys,Do=function(z,H){for(var K=Ku(z),ve=0,We=K.length;ve<We;ve++){var _t=K[ve],Vr=z[_t];H(Vr,_t)}},So=function(z){return function(H,K){z[K]=H}},rr=function(z,H,K,ve){var We={};return Do(z,function(_t,Vr){(H(_t,Vr)?K:ve)(_t,Vr)}),We},iu=function(z,H){var K={};return rr(z,H,So(K),Ye),K};typeof window<"u"||Function("return this;")();var Cu=function(z){var H=z.dom.nodeName;return H.toLowerCase()},Fi=function(z){return z.dom.nodeType},ge=function(z){return function(H){return Fi(H)===z}},Te=ge(mo),wt=function(z){return function(H){return Te(H)&&Cu(H)===z}},Ft=function(z,H,K){if(ee(K)||xe(K)||jt(K))z.setAttribute(H,K+"");else throw console.error("Invalid call to Attribute.set. Key ",H,":: Value ",K,":: Element ",z),new Error("Attribute value was not simple")},Gt=function(z,H){var K=z.dom;Do(H,function(ve,We){Ft(K,We,ve)})},mr=function(z){return J(z.dom.attributes,function(H,K){return H[K.name]=K.value,H},{})},kr=function(z){return ze.from(z.dom.parentNode).map(ra.fromDom)},ln=function(z){return ce(z.dom.childNodes,ra.fromDom)},hn=function(z,H){var K=z.dom.childNodes;return ze.from(K[H]).map(ra.fromDom)},Dn=function(z){return hn(z,0)},ka=function(z){return hn(z,z.dom.childNodes.length-1)},Va=function(z,H){var K=kr(z);K.each(function(ve){ve.dom.insertBefore(H.dom,z.dom)})},To=function(z,H){z.dom.appendChild(H.dom)},Lt=function(z,H){Ue(H,function(K){Va(z,K)})},cn=function(z,H){Ue(H,function(K){To(z,K)})},da=function(z){var H=z.dom;H.parentNode!==null&&H.parentNode.removeChild(H)},Eo=function(z,H){return ra.fromDom(z.dom.cloneNode(H))},Ii=function(z){return Eo(z,!0)},Wn=function(z,H){var K=ra.fromTag(H),ve=mr(z);return Gt(K,ve),K},gs=function(z,H){var K=Wn(z,H);Va(z,K);var ve=ln(z);return cn(K,ve),da(z),K},Ki=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),oo=tinymce.util.Tools.resolve("tinymce.util.Tools"),Xu=function(z){return function(H){return H&&H.nodeName.toLowerCase()===z}},ii=function(z){return function(H){return H&&z.test(H.nodeName)}},hi=function(z){return z&&z.nodeType===3},Ba=ii(/^(OL|UL|DL)$/),Yu=ii(/^(OL|UL)$/),te=Xu("ol"),Se=ii(/^(LI|DT|DD)$/),et=ii(/^(DT|DD)$/),bt=ii(/^(TH|TD)$/),vr=Xu("br"),Tr=function(z){return z.parentNode.firstChild===z},Br=function(z,H){return H&&!!z.schema.getTextBlockElements()[H.nodeName]},Mn=function(z,H){return z&&z.nodeName in H},G=function(z,H){return vr(H)?z.isBlock(H.nextSibling)&&!vr(H.previousSibling):!1},ke=function(z,H,K){var ve=z.isEmpty(H);return K&&z.select("span[data-mce-type=bookmark]",H).length>0?!1:ve},Ie=function(z,H){return z.isChildOf(H,z.getRoot())},ct=function(z){return z.getParam("lists_indent_on_tab",!0)},kt=function(z){var H=z.getParam("forced_root_block","p");return H===!1?"":H===!0?"p":H},br=function(z){return z.getParam("forced_root_block_attrs",{})},Ir=function(z,H){var K=z.dom,ve=z.schema.getBlockElements(),We=K.createFragment(),_t=kt(z),Vr,zn,sa;if(_t&&(zn=K.create(_t),zn.tagName===_t.toUpperCase()&&K.setAttribs(zn,br(z)),Mn(H.firstChild,ve)||We.appendChild(zn)),H)for(;Vr=H.firstChild;){var Un=Vr.nodeName;!sa&&(Un!=="SPAN"||Vr.getAttribute("data-mce-type")!=="bookmark")&&(sa=!0),Mn(Vr,ve)?(We.appendChild(Vr),zn=null):_t?(zn||(zn=K.create(_t),We.appendChild(zn)),zn.appendChild(Vr)):We.appendChild(Vr)}return _t?sa||zn.appendChild(K.create("br",{"data-mce-bogus":"1"})):We.appendChild(K.create("br")),We},na=Ki.DOM,Tn=function(z,H,K){var ve=function(Un){oo.each(We,function(io){Un.parentNode.insertBefore(io,K.parentNode)}),na.remove(Un)},We=na.select('span[data-mce-type="bookmark"]',H),_t=Ir(z,K),Vr=na.createRng();Vr.setStartAfter(K),Vr.setEndAfter(H);for(var zn=Vr.extractContents(),sa=zn.firstChild;sa;sa=sa.firstChild)if(sa.nodeName==="LI"&&z.dom.isEmpty(sa)){na.remove(sa);break}z.dom.isEmpty(zn)||na.insertAfter(zn,H),na.insertAfter(_t,H),ke(z.dom,K.parentNode)&&ve(K.parentNode),na.remove(K),ke(z.dom,H)&&na.remove(H)},xa=wt("dd"),qa=wt("dt"),xu=function(z,H){xa(H)?gs(H,"dt"):qa(H)&&kr(H).each(function(K){return Tn(z,K.dom,H.dom)})},Mo=function(z){qa(z)&&gs(z,"dd")},Hr=function(z,H,K){H==="Indent"?Ue(K,Mo):Ue(K,function(ve){return xu(z,ve)})},Zt=function(z,H){if(hi(z))return{container:z,offset:H};var K=Pi.getNode(z,H);return hi(K)?{container:K,offset:H>=z.childNodes.length?K.data.length:0}:K.previousSibling&&hi(K.previousSibling)?{container:K.previousSibling,offset:K.previousSibling.data.length}:K.nextSibling&&hi(K.nextSibling)?{container:K.nextSibling,offset:0}:{container:z,offset:H}},Ea=function(z){var H=z.cloneRange(),K=Zt(z.startContainer,z.startOffset);H.setStart(K.container,K.offset);var ve=Zt(z.endContainer,z.endOffset);return H.setEnd(ve.container,ve.offset),H},Bo=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),qn=function(z,H){var K=H||z.selection.getStart(!0);return z.dom.getParent(K,"OL,UL,DL",Su(z,K))},Ns=function(z,H){return z&&H.length===1&&H[0]===z},Zu=function(z){return U(z.querySelectorAll("ol,ul,dl"),Ba)},kc=function(z){var H=qn(z),K=z.selection.getSelectedBlocks();return Ns(H,K)?Zu(H):U(K,function(ve){return Ba(ve)&&H!==ve})},va=function(z,H){var K=oo.map(H,function(ve){var We=z.dom.getParent(ve,"li,dd,dt",Su(z,ve));return We||ve});return Bo.unique(K)},Ci=function(z){var H=z.selection.getSelectedBlocks();return U(va(z,H),Se)},Cc=function(z){return U(Ci(z),et)},Su=function(z,H){var K=z.dom.getParents(H,"TD,TH");return K.length>0?K[0]:z.getBody()},go=function(z,H){var K=z.dom.getParents(H,"ol,ul",Su(z,H));return On(K)},Ps=function(z){var H=go(z,z.selection.getStart()),K=U(z.selection.getSelectedBlocks(),Yu);return H.toArray().concat(K)},ht=function(z){var H=Ps(z);return tc(z,H)},tc=function(z,H){var K=ce(H,function(ve){return go(z,ve).getOr(ve)});return Bo.unique(K)},yo=function(z,H,K){return K===void 0&&(K=er),z.exists(function(ve){return K(ve,H)})},ml=function(z,H,K){return z.isSome()&&H.isSome()?ze.some(K(z.getOrDie(),H.getOrDie())):ze.none()},ys=function(z,H){var K=document,ve=K.createDocumentFragment();return Ue(z,function(We){ve.appendChild(We.dom)}),ra.fromDom(ve)},B=function(z,H,K){return z.fire("ListMutation",{action:H,element:K})},x=function(z){return z.style!==void 0&&ye(z.style.getPropertyValue)},_=function(z,H,K){if(!ee(K))throw console.error("Invalid call to CSS.set. Property ",H,":: Value ",K,":: Element ",z),new Error("CSS value must be a string: "+K);x(z)&&z.style.setProperty(H,K)},A=function(z,H,K){var ve=z.dom;_(ve,H,K)},W=function(z,H){To(z.item,H.list)},le=function(z){for(var H=1;H<z.length;H++)W(z[H-1],z[H])},$e=function(z,H){ml(On(z),O(H),W)},Et=function(z,H){var K={list:ra.fromTag(H,z),item:ra.fromTag("li",z)};return To(K.list,K.item),K},Mr=function(z,H,K){for(var ve=[],We=0;We<K;We++)ve.push(Et(z,H.listType));return ve},Zr=function(z,H){for(var K=0;K<z.length-1;K++)A(z[K].item,"list-style-type","none");On(z).each(function(ve){Gt(ve.list,H.listAttributes),Gt(ve.item,H.itemAttributes),cn(ve.item,H.content)})},ir=function(z,H){Cu(z.list)!==H.listType&&(z.list=gs(z.list,H.listType)),Gt(z.list,H.listAttributes)},Dr=function(z,H,K){var ve=ra.fromTag("li",z);return Gt(ve,H),cn(ve,K),ve},En=function(z,H){To(z.list,H),z.item=H},Cn=function(z,H,K){var ve=H.slice(0,K.depth);return On(ve).each(function(We){var _t=Dr(z,K.itemAttributes,K.content);En(We,_t),ir(We,K)}),ve},an=function(z,H,K){var ve=Mr(z,K,K.depth-H.length);return le(ve),Zr(ve,K),$e(H,ve),H.concat(ve)},Ja=function(z,H){var K=J(H,function(ve,We){return We.depth>ve.length?an(z,ve,We):Cn(z,ve,We)},[]);return O(K).map(function(ve){return ve.list})},tn=function(z){return Ro(z,"OL,UL")},Ia=function(z){return Dn(z).exists(tn)},za=function(z){return ka(z).exists(tn)},xi=function(z){return z.depth>0},Fn=function(z){return z.isSelected},Fs=function(z){var H=ln(z),K=za(z)?H.slice(0,-1):H;return ce(K,Ii)},bo=function(z,H,K){return kr(z).filter(Te).map(function(ve){return{depth:H,dirty:!1,isSelected:K,content:Fs(z),itemAttributes:mr(z),listAttributes:mr(ve),listType:Cu(ve)}})},No=function(z,H){switch(z){case"Indent":H.depth++;break;case"Outdent":H.depth--;break;case"Flatten":H.depth=0}H.dirty=!0},Wg=function(z,H){z.listType=H.listType,z.listAttributes=sr({},H.listAttributes)},Xi=function(z){z.listAttributes=iu(z.listAttributes,function(H,K){return K!=="start"})},ap=function(z,H){var K=z[H].depth,ve=function(_t){return _t.depth===K&&!_t.dirty},We=function(_t){return _t.depth<K};return X(Xn(z.slice(0,H)),ve,We).orThunk(function(){return X(z.slice(H+1),ve,We)})},Wc=function(z){return Ue(z,function(H,K){ap(z,K).fold(function(){H.dirty&&Xi(H)},function(ve){return Wg(H,ve)})}),z},vn=function(z){var H=z,K=function(){return H},ve=function(We){H=We};return{get:K,set:ve}},Is=function(z,H,K,ve){return Dn(ve).filter(tn).fold(function(){H.each(function(Vr){$r(Vr.start,ve)&&K.set(!0)});var We=bo(ve,z,K.get());H.each(function(Vr){$r(Vr.end,ve)&&K.set(!1)});var _t=ka(ve).filter(tn).map(function(Vr){return Ho(z,H,K,Vr)}).getOr([]);return We.toArray().concat(_t)},function(We){return Ho(z,H,K,We)})},Ho=function(z,H,K,ve){return St(ln(ve),function(We){var _t=tn(We)?Ho:Is,Vr=z+1;return _t(Vr,H,K,We)})},Vo=function(z,H){var K=vn(!1),ve=0;return ce(z,function(We){return{sourceList:We,entries:Ho(ve,H,K,We)}})},Si=function(z,H){var K=Wc(H);return ce(K,function(ve){var We=ys(ve.content);return ra.fromDom(Ir(z,We.dom))})},ui=function(z,H){var K=Wc(H);return Ja(z.contentDocument,K).toArray()},Tf=function(z,H){return St(Ce(H,xi),function(K){var ve=O(K).exists(xi);return ve?ui(z,K):Si(z,K)})},rc=function(z,H){Ue(U(z,Fn),function(K){return No(H,K)})},Aa=function(z){var H=ce(Ci(z),ra.fromDom);return ml(It(H,Xe(Ia)),It(Xn(H),Xe(Ia)),function(K,ve){return{start:K,end:ve}})},fo=function(z,H,K){var ve=Vo(H,Aa(z));Ue(ve,function(We){rc(We.entries,K);var _t=Tf(z,We.entries);Ue(_t,function(Vr){B(z,K==="Indent"?"IndentList":"OutdentList",Vr.dom)}),Lt(We.sourceList,_t),da(We.sourceList)})},Iu=function(z,H){var K=ce(ht(z),ra.fromDom),ve=ce(Cc(z),ra.fromDom),We=!1;if(K.length||ve.length){var _t=z.selection.getBookmark();fo(z,K,H),Hr(z,H,ve),z.selection.moveToBookmark(_t),z.selection.setRng(Ea(z.selection.getRng())),z.nodeChanged(),We=!0}return We},hl=function(z){return Iu(z,"Indent")},pi=function(z){return Iu(z,"Outdent")},$s=function(z){return Iu(z,"Flatten")},qg=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Ef=Ki.DOM,Qa=function(z){var H={},K=function(ve){var We=z[ve?"startContainer":"endContainer"],_t=z[ve?"startOffset":"endOffset"];if(We.nodeType===1){var Vr=Ef.create("span",{"data-mce-type":"bookmark"});We.hasChildNodes()?(_t=Math.min(_t,We.childNodes.length-1),ve?We.insertBefore(Vr,We.childNodes[_t]):Ef.insertAfter(Vr,We.childNodes[_t])):We.appendChild(Vr),We=Vr,_t=0}H[ve?"startContainer":"endContainer"]=We,H[ve?"startOffset":"endOffset"]=_t};return K(!0),z.collapsed||K(),H},xc=function(z){var H=function(ve){var We,_t=function(sa){for(var Un=sa.parentNode.firstChild,io=0;Un;){if(Un===sa)return io;(Un.nodeType!==1||Un.getAttribute("data-mce-type")!=="bookmark")&&io++,Un=Un.nextSibling}return-1},Vr=We=z[ve?"startContainer":"endContainer"],zn=z[ve?"startOffset":"endOffset"];Vr&&(Vr.nodeType===1&&(zn=_t(Vr),Vr=Vr.parentNode,Ef.remove(We),!Vr.hasChildNodes()&&Ef.isBlock(Vr)&&Vr.appendChild(Ef.create("br"))),z[ve?"startContainer":"endContainer"]=Vr,z[ve?"startOffset":"endOffset"]=zn)};H(!0),H();var K=Ef.createRng();return K.setStart(z.startContainer,z.startOffset),z.endContainer&&K.setEnd(z.endContainer,z.endOffset),Ea(K)},Hl=function(z){switch(z){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ju=function(z){return/\btox\-/.test(z.className)},Xo=function(z,H,K){var ve=function(_t){var Vr=X(_t.parents,Ba,bt).filter(function(zn){return zn.nodeName===H&&!Ju(zn)}).isSome();K(Vr)},We=z.dom.getParents(z.selection.getNode());return ve({parents:We}),z.on("NodeChange",ve),function(){return z.off("NodeChange",ve)}},Vl=function(z,H,K){var ve=K["list-style-type"]?K["list-style-type"]:null;z.setStyle(H,"list-style-type",ve)},pl=function(z,H){oo.each(H,function(K,ve){z.setAttribute(ve,K)})},Tu=function(z,H,K){pl(H,K["list-attributes"]),oo.each(z.select("li",H),function(ve){pl(ve,K["list-item-attributes"])})},Qu=function(z,H,K){Vl(z,H,K),Tu(z,H,K)},uu=function(z,H,K){oo.each(K,function(ve){var We;return z.setStyle(H,(We={},We[ve]="",We))})},pd=function(z,H,K,ve){var We=H[K?"startContainer":"endContainer"],_t=H[K?"startOffset":"endOffset"];for(We.nodeType===1&&(We=We.childNodes[Math.min(_t,We.childNodes.length-1)]||We),!K&&vr(We.nextSibling)&&(We=We.nextSibling);We.parentNode!==ve;){if(Br(z,We)||/^(TD|TH)$/.test(We.parentNode.nodeName))return We;We=We.parentNode}return We},Sc=function(z,H,K){for(var ve=[],We=z.dom,_t=pd(z,H,!0,K),Vr=pd(z,H,!1,K),zn,sa=[],Un=_t;Un&&(sa.push(Un),Un!==Vr);Un=Un.nextSibling);return oo.each(sa,function(io){if(Br(z,io)){ve.push(io),zn=null;return}if(We.isBlock(io)||vr(io)){vr(io)&&We.remove(io),zn=null;return}var cu=io.nextSibling;if(qg.isBookmarkNode(io)&&(Ba(cu)||Br(z,cu)||!cu&&io.parentNode===K)){zn=null;return}zn||(zn=We.create("p"),io.parentNode.insertBefore(zn,io),ve.push(zn)),zn.appendChild(io)}),ve},Ti=function(z,H,K){var ve=z.getStyle(H,"list-style-type"),We=K?K["list-style-type"]:"";return We=We===null?"":We,ve===We},cv=function(z,H,K){var ve=z.selection.getRng(),We="LI",_t=Su(z,z.selection.getStart(!0)),Vr=z.dom;if(Vr.getContentEditable(z.selection.getNode())!=="false"){H=H.toUpperCase(),H==="DL"&&(We="DT");var zn=Qa(ve),sa=Sc(z,ve,_t);oo.each(sa,function(Un){var io,cu=Un.previousSibling,jo=Un.parentNode;Se(jo)||(cu&&Ba(cu)&&cu.nodeName===H&&Ti(Vr,cu,K)?(io=cu,Un=Vr.rename(Un,We),cu.appendChild(Un)):(io=Vr.create(H),Un.parentNode.insertBefore(io,Un),io.appendChild(Un),Un=Vr.rename(Un,We)),uu(Vr,Un,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qu(Vr,io,K),Of(z.dom,io))}),z.selection.setRng(xc(zn))}},Gg=function(z,H){return z&&H&&Ba(z)&&z.nodeName===H.nodeName},zf=function(z,H,K){var ve=z.getStyle(H,"list-style-type",!0),We=z.getStyle(K,"list-style-type",!0);return ve===We},Af=function(z,H){return z.className===H.className},Uo=function(z,H,K){return Gg(H,K)&&zf(z,H,K)&&Af(H,K)},Of=function(z,H){var K,ve;if(K=H.nextSibling,Uo(z,H,K)){for(;ve=K.firstChild;)H.appendChild(ve);z.remove(K)}if(K=H.previousSibling,Uo(z,H,K)){for(;ve=K.lastChild;)H.insertBefore(ve,H.firstChild);z.remove(K)}},Rf=function(z,H,K,ve){if(H.nodeName!==K){var We=z.dom.rename(H,K);Qu(z.dom,We,ve),B(z,Hl(K),We)}else Qu(z.dom,H,ve),B(z,Hl(K),H)},Eu=function(z,H,K,ve,We){var _t=Ba(H);if(_t&&H.nodeName===ve&&!gl(We))$s(z);else{cv(z,ve,We);var Vr=Qa(z.selection.getRng()),zn=_t?ya([H],K):K;oo.each(zn,function(sa){Rf(z,sa,ve,We)}),z.selection.setRng(xc(Vr))}},gl=function(z){return"list-style-type"in z},Df=function(z,H,K,ve){if(H!==z.getBody())if(H)if(H.nodeName===K&&!gl(ve)&&!Ju(H))$s(z);else{var We=Qa(z.selection.getRng());Qu(z.dom,H,ve);var _t=z.dom.rename(H,K);Of(z.dom,_t),z.selection.setRng(xc(We)),cv(z,K,ve),B(z,Hl(K),_t)}else cv(z,K,ve),B(z,Hl(K),H)},yl=function(z,H,K){var ve=qn(z),We=kc(z),_t=pe(K)?K:{};We.length>0?Eu(z,ve,We,H,_t):Df(z,ve,H,_t)},zo=Ki.DOM,bs=function(z,H){var K=H.parentNode;if(K.nodeName==="LI"&&K.firstChild===H){var ve=K.previousSibling;ve&&ve.nodeName==="LI"?(ve.appendChild(H),ke(z,K)&&zo.remove(K)):zo.setStyle(K,"listStyleType","none")}if(Ba(K)){var ve=K.previousSibling;ve&&ve.nodeName==="LI"&&ve.appendChild(H)}},pm=function(z,H){var K=oo.grep(z.select("ol,ul",H));oo.each(K,function(ve){bs(z,ve)})},Ls=function(z,H,K,ve){var We=H.startContainer,_t=H.startOffset;if(hi(We)&&(K?_t<We.data.length:_t>0))return We;var Vr=z.schema.getNonEmptyElements();We.nodeType===1&&(We=Pi.getNode(We,_t));var zn=new Fu(We,ve);for(K&&G(z.dom,We)&&zn.next();We=zn[K?"next":"prev2"]();)if(We.nodeName==="LI"&&!We.hasChildNodes()||Vr[We.nodeName]||hi(We)&&We.data.length>0)return We},gm=function(z,H){var K=H.childNodes;return K.length===1&&!Ba(K[0])&&z.isBlock(K[0])},Kg=function(z,H){gm(z,H)&&z.remove(H.firstChild,!0)},op=function(z,H,K){var ve,We=gm(z,K)?K.firstChild:K;if(Kg(z,H),!ke(z,H,!0))for(;ve=H.firstChild;)We.appendChild(ve)},Mf=function(z,H,K){var ve,We=H.parentNode;if(!(!Ie(z,H)||!Ie(z,K))){Ba(K.lastChild)&&(ve=K.lastChild),We===K.lastChild&&vr(We.previousSibling)&&z.remove(We.previousSibling);var _t=K.lastChild;_t&&vr(_t)&&H.hasChildNodes()&&z.remove(_t),ke(z,K,!0)&&z.$(K).empty(),op(z,H,K),ve&&K.appendChild(ve);var Vr=vi(ra.fromDom(K),ra.fromDom(H)),zn=Vr?z.getParents(H,Ba,K):[];z.remove(H),Ue(zn,function(sa){ke(z,sa)&&sa!==z.getRoot()&&z.remove(sa)})}},Bf=function(z,H,K){z.dom.$(K).empty(),Mf(z.dom,H,K),z.selection.setCursorLocation(K,0)},Ul=function(z,H,K,ve){var We=z.dom;if(We.isEmpty(ve))Bf(z,K,ve);else{var _t=Qa(H);Mf(We,K,ve),z.selection.setRng(xc(_t))}},pn=function(z,H,K,ve){var We=Qa(H);Mf(z.dom,K,ve);var _t=xc(We);z.selection.setRng(_t)},nc=function(z,H){var K=z.dom,ve=z.selection,We=ve.getStart(),_t=Su(z,We),Vr=K.getParent(ve.getStart(),"LI",_t);if(Vr){var zn=Vr.parentNode;if(zn===z.getBody()&&ke(K,zn))return!0;var sa=Ea(ve.getRng()),Un=K.getParent(Ls(z,sa,H,_t),"LI",_t);if(Un&&Un!==Vr)return z.undoManager.transact(function(){H?Ul(z,sa,Un,Vr):Tr(Vr)?pi(z):pn(z,sa,Vr,Un)}),!0;if(!Un&&!H&&sa.startOffset===0&&sa.endOffset===0)return z.undoManager.transact(function(){$s(z)}),!0}return!1},es=function(z,H,K){var ve=z.getParent(H.parentNode,z.isBlock,K);z.remove(H),ve&&z.isEmpty(ve)&&z.remove(ve)},zu=function(z,H){var K=z.dom,ve=z.selection.getStart(),We=Su(z,ve),_t=K.getParent(ve,K.isBlock,We);if(_t&&K.isEmpty(_t)){var Vr=Ea(z.selection.getRng()),zn=K.getParent(Ls(z,Vr,H,We),"LI",We);if(zn)return z.undoManager.transact(function(){es(K,_t,We),Of(K,zn.parentNode),z.selection.select(zn,!0),z.selection.collapse(H)}),!0}return!1},ac=function(z,H){return nc(z,H)||zu(z,H)},ti=function(z){var H=z.selection.getStart(),K=Su(z,H),ve=z.dom.getParent(H,"LI,DT,DD",K);return ve||Ci(z).length>0?(z.undoManager.transact(function(){z.execCommand("Delete"),pm(z.dom,z.getBody())}),!0):!1},Ei=function(z,H){return z.selection.isCollapsed()?ac(z,H):ti(z)},si=function(z){z.on("keydown",function(H){H.keyCode===mi.BACKSPACE?Ei(z,!1)&&H.preventDefault():H.keyCode===mi.DELETE&&Ei(z,!0)&&H.preventDefault()})},jl=function(z){return{backspaceDelete:function(H){Ei(z,H)}}},su=function(z,H){var K=qn(z);z.undoManager.transact(function(){pe(H.styles)&&z.dom.setStyles(K,H.styles),pe(H.attrs)&&Do(H.attrs,function(ve,We){return z.dom.setAttrib(K,We,ve)})})},zr=function(z){var H=Xn(fr(z).split("")),K=ce(H,function(ve,We){var _t=ve.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,We)*_t});return J(K,function(ve,We){return ve+We},0)},Nf=function(z){if(z--,z<0)return"";var H=z%26,K=Math.floor(z/26),ve=Nf(K),We=String.fromCharCode(65+H);return ve+We},ip=function(z){return/^[A-Z]+$/.test(z)},$n=function(z){return/^[a-z]+$/.test(z)},eo=function(z){return/^[0-9]+$/.test(z)},ym=function(z){return eo(z)?2:ip(z)?0:$n(z)?1:Pr(z)?3:4},qc=function(z){switch(ym(z)){case 2:return ze.some({listStyleType:ze.none(),start:z});case 0:return ze.some({listStyleType:ze.some("upper-alpha"),start:zr(z).toString()});case 1:return ze.some({listStyleType:ze.some("lower-alpha"),start:zr(z).toString()});case 3:return ze.some({listStyleType:ze.none(),start:""});case 4:return ze.none()}},_o=function(z){var H=parseInt(z.start,10);return yo(z.listStyleType,"upper-alpha")?Nf(H):yo(z.listStyleType,"lower-alpha")?Nf(H).toLowerCase():z.start},bm=function(z){var H=qn(z);te(H)&&z.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:_o({start:z.dom.getAttrib(H,"start","1"),listStyleType:ze.some(z.dom.getStyle(H,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(K){var ve=K.getData();qc(ve.start).each(function(We){z.execCommand("mceListUpdate",!1,{attrs:{start:We.start==="1"?"":We.start},styles:{"list-style-type":We.listStyleType.getOr("")}})}),K.close()}})},_s=function(z,H){return function(){var K=qn(z);return K&&K.nodeName===H}},lv=function(z){z.addCommand("mceListProps",function(){bm(z)})},Vn=function(z){z.on("BeforeExecCommand",function(H){var K=H.command.toLowerCase();K==="indent"?hl(z):K==="outdent"&&pi(z)}),z.addCommand("InsertUnorderedList",function(H,K){yl(z,"UL",K)}),z.addCommand("InsertOrderedList",function(H,K){yl(z,"OL",K)}),z.addCommand("InsertDefinitionList",function(H,K){yl(z,"DL",K)}),z.addCommand("RemoveList",function(){$s(z)}),lv(z),z.addCommand("mceListUpdate",function(H,K){pe(K)&&su(z,K)}),z.addQueryStateHandler("InsertUnorderedList",_s(z,"UL")),z.addQueryStateHandler("InsertOrderedList",_s(z,"OL")),z.addQueryStateHandler("InsertDefinitionList",_s(z,"DL"))},$u=function(z){z.on("keydown",function(H){H.keyCode!==mi.TAB||mi.metaKeyPressed(H)||z.undoManager.transact(function(){(H.shiftKey?pi(z):hl(z))&&H.preventDefault()})})},P_=function(z){ct(z)&&$u(z),si(z)},F_=function(z){var H=function(K){return function(){return z.execCommand(K)}};z.hasPlugin("advlist")||(z.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:H("InsertOrderedList"),onSetup:function(K){return Xo(z,"OL",K.setActive)}}),z.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:H("InsertUnorderedList"),onSetup:function(K){return Xo(z,"UL",K.setActive)}}))},Ao=function(z){var H={text:"List properties...",icon:"ordered-list",onAction:function(){return z.execCommand("mceListProps")},onSetup:function(K){return Xo(z,"OL",function(ve){return K.setDisabled(!ve)})}};z.ui.registry.addMenuItem("listprops",H),z.ui.registry.addContextMenu("lists",{update:function(K){var ve=qn(z,K);return te(ve)?["listprops"]:[]}})};function _m(){I.add("lists",function(z){return z.hasPlugin("rtc",!0)===!1?(P_(z),Vn(z)):lv(z),F_(z),Ao(z),jl(z)})}_m()})();(function(){var I=function(_){var A=_,W=function(){return A},le=function($e){A=$e};return{get:W,set:le}},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),N=function(_){return _.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},F=function(_){return{clipboard:_}},ee=function(_){var A=typeof _;return _===null?"null":A==="object"&&(Array.prototype.isPrototypeOf(_)||_.constructor&&_.constructor.name==="Array")?"array":A==="object"&&(String.prototype.isPrototypeOf(_)||_.constructor&&_.constructor.name==="String")?"string":A},pe=function(_){return function(A){return ee(A)===_}},He=function(_){return function(A){return typeof A===_}},xe=pe("array"),ye=function(_){return _==null},jt=function(_){return!ye(_)},Ye=He("function"),Ae=function(){},tt=function(_){return function(){return _}},er=function(_){return _},Xe=tt(!1),at=tt(!0),_e=function(){return Y},Y=function(){var _=function(le){return le()},A=er,W={fold:function(le,$e){return le()},isSome:Xe,isNone:at,getOr:A,getOrThunk:_,getOrDie:function(le){throw new Error(le||"error: getOrDie called on none.")},getOrNull:tt(null),getOrUndefined:tt(void 0),or:A,orThunk:_,map:_e,each:Ae,bind:_e,exists:Xe,forall:at,filter:function(){return _e()},toArray:function(){return[]},toString:tt("none()")};return W}(),De=function(_){var A=tt(_),W=function(){return $e},le=function(Et){return Et(_)},$e={fold:function(Et,Mr){return Mr(_)},isSome:at,isNone:Xe,getOr:A,getOrThunk:A,getOrDie:A,getOrNull:A,getOrUndefined:A,or:W,orThunk:W,map:function(Et){return De(Et(_))},each:function(Et){Et(_)},bind:le,exists:le,forall:le,filter:function(Et){return Et(_)?$e:Y},toArray:function(){return[_]},toString:function(){return"some("+_+")"}};return $e},ue=function(_){return _==null?Y:De(_)},Je={some:De,none:_e,from:ue},ze=Array.prototype.slice,Le=Array.prototype.push,Ge=function(_,A){for(var W=0,le=_.length;W<le;W++){var $e=_[W];if(A($e,W))return!0}return!1},ce=function(_,A){for(var W=_.length,le=new Array(W),$e=0;$e<W;$e++){var Et=_[$e];le[$e]=A(Et,$e)}return le},Ue=function(_,A){for(var W=0,le=_.length;W<le;W++){var $e=_[W];A($e,W)}},U=function(_,A){for(var W=[],le=0,$e=_.length;le<$e;le++){var Et=_[le];A(Et,le)&&W.push(Et)}return W},Ce=function(_,A,W){return Ue(_,function(le,$e){W=A(W,le,$e)}),W},J=function(_){for(var A=[],W=0,le=_.length;W<le;++W){if(!xe(_[W]))throw new Error("Arr.flatten item "+W+" was not an array, input: "+_);Le.apply(A,_[W])}return A},X=function(_,A){return J(ce(_,A))},It=Ye(Array.from)?Array.from:function(_){return ze.call(_)},fn=function(){return fn=Object.assign||function(A){for(var W,le=1,$e=arguments.length;le<$e;le++){W=arguments[le];for(var Et in W)Object.prototype.hasOwnProperty.call(W,Et)&&(A[Et]=W[Et])}return A},fn.apply(this,arguments)},St=function(_){var A=I(Je.none()),W=function(){return A.get().each(_)},le=function(){W(),A.set(Je.none())},$e=function(){return A.get().isSome()},Et=function(){return A.get()},Mr=function(Zr){W(),A.set(Je.some(Zr))};return{clear:le,isSet:$e,get:Et,set:Mr}},Xn=function(){var _=St(Ae),A=function(W){return _.get().each(W)};return fn(fn({},_),{on:A})},mn=function(_,A,W){return A===""||_.length>=A.length&&_.substr(W,W+A.length)===A},O=function(_,A){return mn(_,A,0)},On=function(_,A){return mn(_,A,_.length-A.length)},Wt=function(_,A){return A<=0?"":new Array(A+1).join(_)},sr=tinymce.util.Tools.resolve("tinymce.Env"),ya=tinymce.util.Tools.resolve("tinymce.util.Delay"),vo=tinymce.util.Tools.resolve("tinymce.util.Promise"),dn=tinymce.util.Tools.resolve("tinymce.util.VK"),fa=function(_,A,W,le){return _.fire("PastePreProcess",{content:A,internal:W,wordContent:le})},oe=function(_,A,W,le){return _.fire("PastePostProcess",{node:A,internal:W,wordContent:le})},Xa=function(_,A){return _.fire("PastePlainTextToggle",{state:A})},$t=function(_,A){return _.fire("paste",{ieFake:A})},Qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),Sr=function(_){return _.getParam("paste_block_drop",!1)},rt=function(_){return _.getParam("paste_data_images",!1)},qe=function(_){return _.getParam("paste_filter_drop",!0)},be=function(_){return _.getParam("paste_preprocess")},Pe=function(_){return _.getParam("paste_postprocess")},je=function(_){return _.getParam("paste_webkit_styles")},Nt=function(_){return _.getParam("paste_remove_styles_if_webkit",!0)},fr=function(_){return _.getParam("paste_merge_formats",!0)},Xt=function(_){return _.getParam("smart_paste",!0)},Pr=function(_){return _.getParam("paste_as_text",!1)},ut=function(_){return _.getParam("paste_retain_style_properties")},st=function(_){var A="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return _.getParam("paste_word_valid_elements",A)},nr=function(_){return _.getParam("paste_convert_word_fake_lists",!0)},Rr=function(_){return _.getParam("paste_enable_default_filters",!0)},sn=function(_){return _.getParam("validate")},wn=function(_){return _.getParam("allow_html_data_urls",!1,"boolean")},Gn=function(_){return _.getParam("paste_data_images",!1,"boolean")},Yn=function(_){return _.getParam("images_dataimg_filter")},Ta=function(_){return _.getParam("images_reuse_filename")},ba=function(_){return _.getParam("forced_root_block")},Zn=function(_){return _.getParam("forced_root_block_attrs")},In=function(_){return _.getParam("paste_tab_spaces",4,"number")},ga=function(_){var A="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Qe.explode(_.getParam("images_file_types",A,"string"))},Rn="x-tinymce/html",kn="<!-- "+Rn+" -->",Ka=function(_){return kn+_},ao=function(_){return _.replace(kn,"")},Ca=function(_){return _.indexOf(kn)!==-1},xn=tt(Rn),Co=Object.hasOwnProperty,Ke=function(_,A){return Co.call(_,A)},Mt=tinymce.util.Tools.resolve("tinymce.html.Entities"),gt=function(_){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(_)},dr=function(_){return _.replace(/\r?\n/g,"<br>")},un=function(_,A){var W=[],le="<"+_;if(typeof A=="object"){for(var $e in A)Ke(A,$e)&&W.push($e+'="'+Mt.encodeAllRaw(A[$e])+'"');W.length&&(le+=" "+W.join(" "))}return le+">"},ua=function(_,A,W){var le=_.split(/\n\n/),$e=un(A,W),Et="</"+A+">",Mr=Qe.map(le,function(ir){return ir.split(/\n/).join("<br />")}),Zr=function(ir){return $e+ir+Et};return Mr.length===1?Mr[0]:Qe.map(Mr,Zr).join("")},fi=function(_,A,W){return A?ua(_,A===!0?"p":A,W):dr(_)},Kn=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Sn=tinymce.util.Tools.resolve("tinymce.html.Serializer"),xo="",di=tinymce.util.Tools.resolve("tinymce.html.Node"),Ni=tinymce.util.Tools.resolve("tinymce.html.Schema"),mo=function(_){return _.constructor===RegExp},Jo=function(_,A){return Qe.each(A,function(W){mo(W)?_=_.replace(W,""):_=_.replace(W[0],W[1])}),_},qi=function(_){var A=Ni(),W=Kn({},A),le="",$e=A.getShortEndedElements(),Et=Qe.makeMap("script noscript style textarea video audio iframe object"," "),Mr=A.getBlockElements(),Zr=function(ir){var Dr=ir.name,En=ir;if(Dr==="br"){le+=`
`;return}if(Dr!=="wbr"){if($e[Dr]&&(le+=" "),Et[Dr]){le+=" ";return}if(ir.type===3&&(le+=ir.value),!ir.shortEnded&&(ir=ir.firstChild))do Zr(ir);while(ir=ir.next);Mr[Dr]&&En.next&&(le+=`
`,Dr==="p"&&(le+=`
`))}};return _=Jo(_,[/<!\[[^\]]+\]>/g]),Zr(W.parse(_)),le},Qo=function(_){var A=function(W,le,$e){return!le&&!$e?" ":xo};return _=Jo(_,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,A],/<br class="Apple-interchange-newline">/g,/<br>$/i]),_},Lo=function(_){var A=0;return function(){return _+A++}},Gi=function(_){var A=_.toLowerCase(),W={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Qe.hasOwn(W,A)?"image/"+W[A]:"image/"+A},ra=function(_){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(_)||/class="OutlineElement/.test(_)||/id="?docs\-internal\-guid\-/.test(_)},oi=function(_){var A=!1,W=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return _=_.replace(/^[\u00a0 ]+/,""),Qe.each(W,function(le){if(le.test(_))return A=!0,!1}),A},$r=function(_){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(_)},Pu=function(_){for(var A,W,le=1,$e=function(tn){var Ia="";if(tn.type===3)return tn.value;if(tn=tn.firstChild)do Ia+=$e(tn);while(tn=tn.next);return Ia},Et=function(tn,Ia){if(tn.type===3&&Ia.test(tn.value))return tn.value=tn.value.replace(Ia,""),!1;if(tn=tn.firstChild)do if(!Et(tn,Ia))return!1;while(tn=tn.next);return!0},Mr=function(tn){if(tn._listIgnore){tn.remove();return}if(tn=tn.firstChild)do Mr(tn);while(tn=tn.next)},Zr=function(tn,Ia,za){var xi=tn._listLevel||le;xi!==le&&(xi<le?A&&(A=A.parent.parent):(W=A,A=null)),!A||A.name!==Ia?(W=W||A,A=new di(Ia,1),za>1&&A.attr("start",""+za),tn.wrap(A)):A.append(tn),tn.name="li",xi>le&&W&&W.lastChild.append(A),le=xi,Mr(tn),Et(tn,/^\u00a0+/),Et(tn,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Et(tn,/^\u00a0+/)},ir=[],Dr=_.firstChild;typeof Dr<"u"&&Dr!==null;)if(ir.push(Dr),Dr=Dr.walk(),Dr!==null)for(;typeof Dr<"u"&&Dr.parent!==_;)Dr=Dr.walk();for(var En=0;En<ir.length;En++)if(_=ir[En],_.name==="p"&&_.firstChild){var Cn=$e(_);if($r(Cn)){Zr(_,"ul");continue}if(oi(Cn)){var an=/([0-9]+)\./.exec(Cn),Ja=1;an&&(Ja=parseInt(an[1],10)),Zr(_,"ol",Ja);continue}if(_._listLevel){Zr(_,"ul",1);continue}A=null}else W=A,A=null},ei=function(_,A,W,le){var $e={},Et=_.dom.parseStyle(le);Qe.each(Et,function(Zr,ir){switch(ir){case"mso-list":var Dr=/\w+ \w+([0-9]+)/i.exec(le);Dr&&(W._listLevel=parseInt(Dr[1],10)),/Ignore/i.test(Zr)&&W.firstChild&&(W._listIgnore=!0,W.firstChild._listIgnore=!0);break;case"horiz-align":ir="text-align";break;case"vert-align":ir="vertical-align";break;case"font-color":case"mso-foreground":ir="color";break;case"mso-background":case"mso-highlight":ir="background";break;case"font-weight":case"font-style":Zr!=="normal"&&($e[ir]=Zr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Zr)){W.remove();return}break}if(ir.indexOf("mso-comment")===0){W.remove();return}ir.indexOf("mso-")!==0&&(ut(_)==="all"||A&&A[ir])&&($e[ir]=Zr)}),/(bold)/i.test($e["font-weight"])&&(delete $e["font-weight"],W.wrap(new di("b",1))),/(italic)/i.test($e["font-style"])&&(delete $e["font-style"],W.wrap(new di("i",1)));var Mr=_.dom.serializeStyle($e,W.name);return Mr||null},vi=function(_,A){var W,le=ut(_);le&&(W=Qe.makeMap(le.split(/[, ]/))),A=Jo(A,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,xo],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(ir,Dr){return Dr.length>0?Dr.replace(/./," ").slice(Math.floor(Dr.length/2)).split("").join(xo):""}]]);var $e=st(_),Et=Ni({valid_elements:$e,valid_children:"-li[p]"});Qe.each(Et.elements,function(ir){ir.attributes.class||(ir.attributes.class={},ir.attributesOrder.push("class")),ir.attributes.style||(ir.attributes.style={},ir.attributesOrder.push("style"))});var Mr=Kn({},Et);Mr.addAttributeFilter("style",function(ir){for(var Dr=ir.length,En;Dr--;)En=ir[Dr],En.attr("style",ei(_,W,En,En.attr("style"))),En.name==="span"&&En.parent&&!En.attributes.length&&En.unwrap()}),Mr.addAttributeFilter("class",function(ir){for(var Dr=ir.length,En,Cn;Dr--;)En=ir[Dr],Cn=En.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Cn)&&En.remove(),En.attr("class",null)}),Mr.addNodeFilter("del",function(ir){for(var Dr=ir.length;Dr--;)ir[Dr].remove()}),Mr.addNodeFilter("a",function(ir){for(var Dr=ir.length,En,Cn,an;Dr--;){if(En=ir[Dr],Cn=En.attr("href"),an=En.attr("name"),Cn&&Cn.indexOf("#_msocom_")!==-1){En.remove();continue}if(Cn&&Cn.indexOf("file://")===0&&(Cn=Cn.split("#")[1],Cn&&(Cn="#"+Cn)),!Cn&&!an)En.unwrap();else{if(an&&!/^_?(?:toc|edn|ftn)/i.test(an)){En.unwrap();continue}En.attr({href:Cn,name:an})}}});var Zr=Mr.parse(A);return nr(_)&&Pu(Zr),A=Sn({validate:sn(_)},Et).serialize(Zr),A},Ro=function(_,A){return Rr(_)?vi(_,A):A},Pi=function(_,A){var W=Kn({},_.schema);W.addNodeFilter("meta",function($e){Qe.each($e,function(Et){Et.remove()})});var le=W.parse(A,{forced_root_block:!1,isRootContent:!0});return Sn({validate:sn(_)},_.schema).serialize(le)},Fu=function(_,A){return{content:_,cancelled:A}},mi=function(_,A,W,le){var $e=_.dom.create("div",{style:"display:none"},A),Et=oe(_,$e,W,le);return Fu(Et.node.innerHTML,Et.isDefaultPrevented())},Ku=function(_,A,W,le){var $e=fa(_,A,W,le),Et=Pi(_,$e.content);return _.hasEventListeners("PastePostProcess")&&!$e.isDefaultPrevented()?mi(_,Et,W,le):Fu(Et,$e.isDefaultPrevented())},Do=function(_,A,W){var le=ra(A),$e=le?Ro(_,A):A;return Ku(_,$e,W,le)},So=function(_,A){return _.insertContent(A,{merge:fr(_),paste:!0}),!0},rr=function(_){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(_)},iu=function(_,A){return rr(A)&&Ge(ga(_),function(W){return On(A.toLowerCase(),"."+W.toLowerCase())})},Cu=function(_,A,W){return _.undoManager.extra(function(){W(_,A)},function(){_.insertContent('<img src="'+A+'">')}),!0},Fi=function(_,A,W){return _.undoManager.extra(function(){W(_,A)},function(){_.execCommand("mceInsertLink",!1,A)}),!0},ge=function(_,A,W){return _.selection.isCollapsed()===!1&&rr(A)?Fi(_,A,W):!1},Te=function(_,A,W){return iu(_,A)?Cu(_,A,W):!1},wt=function(_,A){Qe.each([ge,Te,So],function(W){return W(_,A,So)!==!0})},Ft=function(_,A,W){W||Xt(_)===!1?So(_,A):wt(_,A)},Gt=function(_){return" \f	\v".indexOf(_)!==-1},mr=function(_){return _===`
`||_==="\r"},kr=function(_,A){return A<_.length&&A>=0?mr(_[A]):!1},ln=function(_,A){var W=Wt(" ",In(_)),le=A.replace(/\t/g,W),$e=Ce(le,function(Et,Mr){return Gt(Mr)||Mr===xo?Et.pcIsSpace||Et.str===""||Et.str.length===le.length-1||kr(le,Et.str.length+1)?{pcIsSpace:!1,str:Et.str+xo}:{pcIsSpace:!0,str:Et.str+" "}:{pcIsSpace:mr(Mr),str:Et.str+Mr}},{pcIsSpace:!1,str:""});return $e.str},hn=function(_,A,W,le){var $e=Do(_,A,W);$e.cancelled===!1&&Ft(_,$e.content,le)},Dn=function(_,A,W){var le=W||Ca(A);hn(_,ao(A),le,!1)},ka=function(_,A){var W=_.dom.encode(A).replace(/\r\n/g,`
`),le=ln(_,W),$e=fi(le,ba(_),Zn(_));hn(_,$e,!1,!0)},Va=function(_){var A={},W="data:text/mce-internal,";if(_){if(_.getData){var le=_.getData("Text");le&&le.length>0&&le.indexOf(W)===-1&&(A["text/plain"]=le)}if(_.types)for(var $e=0;$e<_.types.length;$e++){var Et=_.types[$e];try{A[Et]=_.getData(Et)}catch{A[Et]=""}}}return A},To=function(_,A){return Va(A.clipboardData||_.getDoc().dataTransfer)},Lt=function(_,A){return A in _&&_[A].length>0},cn=function(_){return Lt(_,"text/html")||Lt(_,"text/plain")},da=function(_){var A=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(_);return A?{type:A[1],data:decodeURIComponent(A[2])}:{type:null,data:null}},Eo=function(_,A){var W=Yn(_);return W?W(A):!0},Ii=function(_,A){var W=A.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return jt(W)?_.dom.encode(W[1]):null},Wn=Lo("mceclip"),gs=function(_,A){var W=da(A.uri),le=W.data,$e=W.type,Et=Wn(),Mr=A.blob,Zr=new Image;if(Zr.src=A.uri,Eo(_,Zr)){var ir=_.editorUpload.blobCache,Dr=void 0,En=ir.getByData(le,$e);if(En)Dr=En;else{var Cn=Ta(_)&&jt(Mr.name),an=Cn?Ii(_,Mr.name):Et,Ja=Cn?Mr.name:void 0;Dr=ir.create(Et,Mr,le,an,Ja),ir.add(Dr)}Dn(_,'<img src="'+Dr.blobUri()+'">',!1)}else Dn(_,'<img src="'+A.uri+'">',!1)},Ki=function(_){return _.type==="paste"},oo=function(_){return jt(_.getAsFile)},Xu=function(_){return vo.all(ce(_,function(A){return new vo(function(W){var le=oo(A)?A.getAsFile():A,$e=new window.FileReader;$e.onload=function(){W({blob:le,uri:$e.result})},$e.readAsDataURL(le)})}))},ii=function(_){var A=ga(_);return function(W){return O(W.type,"image/")&&Ge(A,function(le){return Gi(le)===W.type})}},hi=function(_,A){var W=A.items?X(It(A.items),function($e){return $e.kind==="file"?[$e.getAsFile()]:[]}):[],le=A.files?It(A.files):[];return U(W.length>0?W:le,ii(_))},Ba=function(_,A,W){var le=Ki(A)?A.clipboardData:A.dataTransfer;if(Gn(_)&&le){var $e=hi(_,le);if($e.length>0)return A.preventDefault(),Xu($e).then(function(Et){W&&_.selection.setRng(W),Ue(Et,function(Mr){gs(_,Mr)})}),!0}return!1},Yu=function(_){var A=_.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&A&&A.items&&A.items.length===0},te=function(_){return dn.metaKeyPressed(_)&&_.keyCode===86||_.shiftKey&&_.keyCode===45},Se=function(_,A,W){var le=Xn(),$e=Xn(),Et;_.on("keyup",$e.clear),_.on("keydown",function(ir){var Dr=function(En){te(En)&&!En.isDefaultPrevented()&&A.remove()};if(te(ir)&&!ir.isDefaultPrevented()){if(Et=ir.shiftKey&&ir.keyCode===86,Et&&sr.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(ir.stopImmediatePropagation(),le.set(ir),$e.set(!0),sr.ie&&Et){ir.preventDefault(),$t(_,!0);return}A.remove(),A.create(),_.once("keyup",Dr),_.once("paste",function(){_.off("keyup",Dr)})}});var Mr=function(ir,Dr,En,Cn,an){var Ja;Lt(Dr,"text/html")?Ja=Dr["text/html"]:(Ja=A.getHtml(),an=an||Ca(Ja),A.isDefaultContent(Ja)&&(Cn=!0)),Ja=Qo(Ja),A.remove();var tn=an===!1&&gt(Ja),Ia=rr(Ja);if((!Ja.length||tn&&!Ia)&&(Cn=!0),(Cn||Ia)&&(Lt(Dr,"text/plain")&&tn?Ja=Dr["text/plain"]:Ja=qi(Ja)),A.isDefaultContent(Ja)){En||ir.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Cn?ka(ir,Ja):Dn(ir,Ja,an)},Zr=function(){return A.getLastRng()||_.selection.getRng()};_.on("paste",function(ir){var Dr=le.isSet()||$e.isSet();Dr&&le.clear();var En=To(_,ir),Cn=W.get()==="text"||Et,an=Lt(En,xn());if(Et=!1,ir.isDefaultPrevented()||Yu(ir)){A.remove();return}if(!cn(En)&&Ba(_,ir,Zr())){A.remove();return}Dr||ir.preventDefault(),sr.ie&&(!Dr||ir.ieFake)&&!Lt(En,"text/html")&&(A.create(),_.dom.bind(A.getEl(),"paste",function(Ja){Ja.stopPropagation()}),_.getDoc().execCommand("Paste",!1,null),En["text/html"]=A.getHtml()),Lt(En,"text/html")?(ir.preventDefault(),an||(an=Ca(En["text/html"])),Mr(_,En,Dr,Cn,an)):ya.setEditorTimeout(_,function(){Mr(_,En,Dr,Cn,an)},0)})},et=function(_,A,W){Se(_,A,W);var le;_.parser.addNodeFilter("img",function($e,Et,Mr){var Zr=function(an){return an.data&&an.data.paste===!0},ir=function(an){!an.attr("data-mce-object")&&le!==sr.transparentSrc&&an.remove()},Dr=function(an){return an.indexOf("webkit-fake-url")===0},En=function(an){return an.indexOf("data:")===0};if(!Gn(_)&&Zr(Mr))for(var Cn=$e.length;Cn--;)le=$e[Cn].attr("src"),le&&(Dr(le)||!wn(_)&&En(le))&&ir($e[Cn])})},bt=function(_){return sr.ie&&_.inline?document.body:_.getBody()},vr=function(_){return bt(_)!==_.getBody()},Tr=function(_,A,W){vr(_)&&_.dom.bind(A,"paste keyup",function(le){kt(_,W)||_.fire("paste")})},Br=function(_,A,W){var le=_.dom,$e=_.getBody();A.set(_.selection.getRng());var Et=_.dom.add(bt(_),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},W);(sr.ie||sr.gecko)&&le.setStyle(Et,"left",le.getStyle($e,"direction",!0)==="rtl"?65535:-65535),le.bind(Et,"beforedeactivate focusin focusout",function(Mr){Mr.stopPropagation()}),Tr(_,Et,W),Et.focus(),_.selection.select(Et,!0)},Mn=function(_,A){if(G(_)){for(var W=void 0,le=A.get();W=_.dom.get("mcepastebin");)_.dom.remove(W),_.dom.unbind(W);le&&_.selection.setRng(le)}A.set(null)},G=function(_){return _.dom.get("mcepastebin")},ke=function(_){var A=function(Zr,ir){Zr.appendChild(ir),_.dom.remove(ir,!0)},W=Qe.grep(bt(_).childNodes,function(Zr){return Zr.id==="mcepastebin"}),le=W.shift();Qe.each(W,function(Zr){A(le,Zr)});for(var $e=_.dom.select("div[id=mcepastebin]",le),Et=$e.length-1;Et>=0;Et--){var Mr=_.dom.create("div");le.insertBefore(Mr,$e[Et]),A(Mr,$e[Et])}return le?le.innerHTML:""},Ie=function(_,A){return A===_},ct=function(_){return _&&_.id==="mcepastebin"},kt=function(_,A){var W=G(_);return ct(W)&&Ie(A,W.innerHTML)},br=function(_){var A=I(null),W="%MCEPASTEBIN%";return{create:function(){return Br(_,A,W)},remove:function(){return Mn(_,A)},getEl:function(){return G(_)},getHtml:function(){return ke(_)},getLastRng:A.get,isDefault:function(){return kt(_,W)},isDefaultContent:function(le){return Ie(W,le)}}},Ir=function(_,A){var W=br(_);return _.on("PreInit",function(){return et(_,W,A)}),{pasteFormat:A,pasteHtml:function(le,$e){return Dn(_,le,$e)},pasteText:function(le){return ka(_,le)},pasteImageData:function(le,$e){return Ba(_,le,$e)},getDataTransferItems:Va,hasHtmlOrText:cn,hasContentType:Lt}},na=function(_,A){A.pasteFormat.get()==="text"?(A.pasteFormat.set("html"),Xa(_,!1)):(A.pasteFormat.set("text"),Xa(_,!0)),_.focus()},Tn=function(_,A){_.addCommand("mceTogglePlainTextPaste",function(){na(_,A)}),_.addCommand("mceInsertClipboardContent",function(W,le){le.content&&A.pasteHtml(le.content,le.internal),le.text&&A.pasteText(le.text)})},xa=function(_){return sr.iOS===!1&&typeof(_==null?void 0:_.setData)=="function"},qa=function(_,A,W){if(xa(_))try{return _.clearData(),_.setData("text/html",A),_.setData("text/plain",W),_.setData(xn(),A),!0}catch{return!1}else return!1},xu=function(_,A,W,le){qa(_.clipboardData,A.html,A.text)?(_.preventDefault(),le()):W(A.html,le)},Mo=function(_){return function(A,W){var le=Ka(A),$e=_.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Et=_.dom.create("div",{contenteditable:"true"},le);_.dom.setStyles($e,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),$e.appendChild(Et),_.dom.add(_.getBody(),$e);var Mr=_.selection.getRng();Et.focus();var Zr=_.dom.createRng();Zr.selectNodeContents(Et),_.selection.setRng(Zr),ya.setTimeout(function(){_.selection.setRng(Mr),$e.parentNode.removeChild($e),W()},0)}},Hr=function(_){return{html:_.selection.getContent({contextual:!0}),text:_.selection.getContent({format:"text"})}},Zt=function(_){return!!_.dom.getParent(_.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",_.getBody())},Ea=function(_){return!_.selection.isCollapsed()||Zt(_)},Bo=function(_){return function(A){Ea(_)&&xu(A,Hr(_),Mo(_),function(){if(sr.browser.isChrome()||sr.browser.isFirefox()){var W=_.selection.getRng();ya.setEditorTimeout(_,function(){_.selection.setRng(W),_.execCommand("Delete")},0)}else _.execCommand("Delete")})}},qn=function(_){return function(A){Ea(_)&&xu(A,Hr(_),Mo(_),Ae)}},Ns=function(_){_.on("cut",Bo(_)),_.on("copy",qn(_))},Zu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),kc=function(_,A){return Zu.getCaretRangeFromPoint(A.clientX,A.clientY,_.getDoc())},va=function(_){var A=_["text/plain"];return A?A.indexOf("file://")===0:!1},Ci=function(_,A){_.focus(),_.selection.setRng(A)},Cc=function(_,A,W){Sr(_)&&_.on("dragend dragover draggesture dragdrop drop drag",function(le){le.preventDefault(),le.stopPropagation()}),rt(_)||_.on("drop",function(le){var $e=le.dataTransfer;$e&&$e.files&&$e.files.length>0&&le.preventDefault()}),_.on("drop",function(le){var $e=kc(_,le);if(!(le.isDefaultPrevented()||W.get())){var Et=A.getDataTransferItems(le.dataTransfer),Mr=A.hasContentType(Et,xn());if(!((!A.hasHtmlOrText(Et)||va(Et))&&A.pasteImageData(le,$e))&&$e&&qe(_)){var Zr=Et["mce-internal"]||Et["text/html"]||Et["text/plain"];Zr&&(le.preventDefault(),ya.setEditorTimeout(_,function(){_.undoManager.transact(function(){Et["mce-internal"]&&_.execCommand("Delete"),Ci(_,$e),Zr=Qo(Zr),Et["text/html"]?A.pasteHtml(Zr,Mr):A.pasteText(Zr)})}))}}}),_.on("dragstart",function(le){W.set(!0)}),_.on("dragover dragend",function(le){rt(_)&&W.get()===!1&&(le.preventDefault(),Ci(_,kc(_,le))),le.type==="dragend"&&W.set(!1)})},Su=function(_){var A=_.plugins.paste,W=be(_);W&&_.on("PastePreProcess",function($e){W.call(A,A,$e)});var le=Pe(_);le&&_.on("PastePostProcess",function($e){le.call(A,A,$e)})},go=function(_,A){_.on("PastePreProcess",function(W){W.content=A(_,W.content,W.internal,W.wordContent)})},Ps=function(_,A){_.on("PastePostProcess",function(W){A(_,W.node)})},ht=function(_,A){if(!ra(A))return A;var W=[];Qe.each(_.schema.getBlockElements(),function($e,Et){W.push(Et)});var le=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+W.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return A=Jo(A,[[le,"$1"]]),A=Jo(A,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),A},tc=function(_,A,W,le){if(le||W)return A;var $e=je(_),Et;if(Nt(_)===!1||$e==="all")return A;if($e&&(Et=$e.split(/[, ]/)),Et){var Mr=_.dom,Zr=_.selection.getNode();A=A.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(ir,Dr,En,Cn){var an=Mr.parseStyle(Mr.decode(En)),Ja={};if(Et==="none")return Dr+Cn;for(var tn=0;tn<Et.length;tn++){var Ia=an[Et[tn]],za=Mr.getStyle(Zr,Et[tn],!0);/color/.test(Et[tn])&&(Ia=Mr.toHex(Ia),za=Mr.toHex(za)),za!==Ia&&(Ja[Et[tn]]=Ia)}var xi=Mr.serializeStyle(Ja,"span");return xi?Dr+' style="'+xi+'"'+Cn:Dr+Cn})}else A=A.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return A=A.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(ir,Dr,En,Cn){return Dr+' style="'+En+'"'+Cn}),A},yo=function(_,A){_.$("a",A).find("font,u").each(function(W,le){_.dom.remove(le,!0)})},ml=function(_){sr.webkit&&go(_,tc),sr.ie&&(go(_,ht),Ps(_,yo))},ys=function(_,A){return function(W){W.setActive(A.pasteFormat.get()==="text");var le=function($e){return W.setActive($e.state)};return _.on("PastePlainTextToggle",le),function(){return _.off("PastePlainTextToggle",le)}}},B=function(_,A){var W=function(){return _.execCommand("mceTogglePlainTextPaste")};_.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:W,onSetup:ys(_,A)}),_.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:W,onSetup:ys(_,A)})};function x(){T.add("paste",function(_){if(N(_)===!1){var A=I(!1),W=I(Pr(_)?"text":"html"),le=Ir(_,W);return ml(_),B(_,le),Tn(_,le),Su(_),Ns(_),Cc(_,le,A),F(le)}})}x()})();(function(){var I=function(ge){var Te=ge,wt=function(){return Te},Ft=function(Gt){Te=Gt};return{get:wt,set:Ft}},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),N=function(){return N=Object.assign||function(Te){for(var wt,Ft=1,Gt=arguments.length;Ft<Gt;Ft++){wt=arguments[Ft];for(var mr in wt)Object.prototype.hasOwnProperty.call(wt,mr)&&(Te[mr]=wt[mr])}return Te},N.apply(this,arguments)},F=function(ge){var Te=typeof ge;return ge===null?"null":Te==="object"&&(Array.prototype.isPrototypeOf(ge)||ge.constructor&&ge.constructor.name==="Array")?"array":Te==="object"&&(String.prototype.isPrototypeOf(ge)||ge.constructor&&ge.constructor.name==="String")?"string":Te},ee=function(ge){return function(Te){return F(Te)===ge}},pe=function(ge){return function(Te){return typeof Te===ge}},He=ee("string"),xe=ee("array"),ye=pe("boolean"),jt=pe("number"),Ye=function(){},Ae=function(ge){return function(){return ge}},tt=function(ge){return ge},er=Ae(!1),Xe=Ae(!0),at="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",_e=Ae(at),Y=function(){return De},De=function(){var ge=function(Ft){return Ft()},Te=tt,wt={fold:function(Ft,Gt){return Ft()},isSome:er,isNone:Xe,getOr:Te,getOrThunk:ge,getOrDie:function(Ft){throw new Error(Ft||"error: getOrDie called on none.")},getOrNull:Ae(null),getOrUndefined:Ae(void 0),or:Te,orThunk:ge,map:Y,each:Ye,bind:Y,exists:er,forall:Xe,filter:function(){return Y()},toArray:function(){return[]},toString:Ae("none()")};return wt}(),ue=function(ge){var Te=Ae(ge),wt=function(){return Gt},Ft=function(mr){return mr(ge)},Gt={fold:function(mr,kr){return kr(ge)},isSome:Xe,isNone:er,getOr:Te,getOrThunk:Te,getOrDie:Te,getOrNull:Te,getOrUndefined:Te,or:wt,orThunk:wt,map:function(mr){return ue(mr(ge))},each:function(mr){mr(ge)},bind:Ft,exists:Ft,forall:Ft,filter:function(mr){return mr(ge)?Gt:De},toArray:function(){return[ge]},toString:function(){return"some("+ge+")"}};return Gt},Je=function(ge){return ge==null?De:ue(ge)},ze={some:ue,none:Y,from:Je},Le=_e,Ge=tinymce.util.Tools.resolve("tinymce.Env"),ce=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ue=Array.prototype.slice,U=Array.prototype.push,Ce=function(ge,Te){for(var wt=ge.length,Ft=new Array(wt),Gt=0;Gt<wt;Gt++){var mr=ge[Gt];Ft[Gt]=Te(mr,Gt)}return Ft},J=function(ge,Te){for(var wt=0,Ft=ge.length;wt<Ft;wt++){var Gt=ge[wt];Te(Gt,wt)}},X=function(ge,Te){for(var wt=ge.length-1;wt>=0;wt--){var Ft=ge[wt];Te(Ft,wt)}},It=function(ge,Te){if(ge.length===0)return[];for(var wt=Te(ge[0]),Ft=[],Gt=[],mr=0,kr=ge.length;mr<kr;mr++){var ln=ge[mr],hn=Te(ln);hn!==wt&&(Ft.push(Gt),Gt=[]),wt=hn,Gt.push(ln)}return Gt.length!==0&&Ft.push(Gt),Ft},fn=function(ge,Te,wt){return J(ge,function(Ft,Gt){wt=Te(wt,Ft,Gt)}),wt},St=function(ge){for(var Te=[],wt=0,Ft=ge.length;wt<Ft;++wt){if(!xe(ge[wt]))throw new Error("Arr.flatten item "+wt+" was not an array, input: "+ge);U.apply(Te,ge[wt])}return Te},Xn=function(ge,Te){return St(Ce(ge,Te))},mn=function(ge,Te){var wt=Ue.call(ge,0);return wt.sort(Te),wt},O=Object.hasOwnProperty,On=function(ge,Te){return O.call(ge,Te)};typeof window<"u"||Function("return this;")();var Wt=9,sr=11,ya=1,vo=3,dn=function(ge){return ge.dom.nodeType},fa=function(ge){return function(Te){return dn(Te)===ge}},oe=fa(vo),Xa=function(ge,Te,wt){if(He(wt)||ye(wt)||jt(wt))ge.setAttribute(Te,wt+"");else throw console.error("Invalid call to Attribute.set. Key ",Te,":: Value ",wt,":: Element ",ge),new Error("Attribute value was not simple")},$t=function(ge,Te,wt){Xa(ge.dom,Te,wt)},Qe=function(ge,Te,wt){return(ge.compareDocumentPosition(Te)&wt)!==0},Sr=function(ge,Te){return Qe(ge,Te,Node.DOCUMENT_POSITION_PRECEDING)},rt=function(ge,Te){var wt=Te||document,Ft=wt.createElement("div");if(Ft.innerHTML=ge,!Ft.hasChildNodes()||Ft.childNodes.length>1)throw console.error("HTML does not have a single root node",ge),new Error("HTML must have a single root node");return Pe(Ft.childNodes[0])},qe=function(ge,Te){var wt=Te||document,Ft=wt.createElement(ge);return Pe(Ft)},be=function(ge,Te){var wt=Te||document,Ft=wt.createTextNode(ge);return Pe(Ft)},Pe=function(ge){if(ge==null)throw new Error("Node cannot be null or undefined");return{dom:ge}},je=function(ge,Te,wt){return ze.from(ge.dom.elementFromPoint(Te,wt)).map(Pe)},Nt={fromHtml:rt,fromTag:qe,fromText:be,fromDom:Pe,fromPoint:je},fr=function(ge){return ge.nodeType!==ya&&ge.nodeType!==Wt&&ge.nodeType!==sr||ge.childElementCount===0},Xt=function(ge,Te){var wt=Te===void 0?document:Te.dom;return fr(wt)?[]:Ce(wt.querySelectorAll(ge),Nt.fromDom)},Pr=function(ge){return ze.from(ge.dom.parentNode).map(Nt.fromDom)},ut=function(ge){return Ce(ge.dom.childNodes,Nt.fromDom)},st=function(ge,Te){return{element:ge,offset:Te}},nr=function(ge,Te){var wt=ut(ge);return wt.length>0&&Te<wt.length?st(wt[Te],0):st(ge,Te)},Rr=function(ge,Te){var wt=Pr(ge);wt.each(function(Ft){Ft.dom.insertBefore(Te.dom,ge.dom)})},sn=function(ge,Te){ge.dom.appendChild(Te.dom)},wn=function(ge,Te){Rr(ge,Te),sn(Te,ge)},Gn=function(ge,Te){var wt=function(mr){if(!ge(mr))throw new Error("Can only get "+Te+" value of a "+Te+" node");return Ft(mr).getOr("")},Ft=function(mr){return ge(mr)?ze.from(mr.dom.nodeValue):ze.none()},Gt=function(mr,kr){if(!ge(mr))throw new Error("Can only set raw "+Te+" value of a "+Te+" node");mr.dom.nodeValue=kr};return{get:wt,getOption:Ft,set:Gt}},Yn=Gn(oe,"text"),Ta=function(ge){return Yn.get(ge)},ba=function(ge,Te){return Xt(Te,ge)},Zn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),In=function(ge,Te){return ge.isBlock(Te)||On(ge.schema.getShortEndedElements(),Te.nodeName)},ga=function(ge,Te){return ge.getContentEditable(Te)==="false"},Rn=function(ge,Te){return ge.getContentEditable(Te)==="true"&&ge.getContentEditableParent(Te.parentNode)==="false"},kn=function(ge,Te){return!ge.isBlock(Te)&&On(ge.schema.getWhiteSpaceElements(),Te.nodeName)},Ka=function(ge,Te){return In(ge,Te)||ga(ge,Te)||kn(ge,Te)||Rn(ge,Te)},ao=function(ge){return ge.nodeType===3},Ca=function(){return{sOffset:0,fOffset:0,elements:[]}},xn=function(ge,Te){return nr(Nt.fromDom(ge),Te)},Co=function(ge,Te,wt,Ft,Gt,mr){mr===void 0&&(mr=!0);for(var kr=mr?Te(!1):wt;kr;){var ln=ga(ge,kr);if(ln||kn(ge,kr)){var hn=ln?Ft.cef(kr):Ft.boundary(kr);if(hn)break;kr=Te(!0);continue}else if(In(ge,kr)){if(Ft.boundary(kr))break}else ao(kr)&&Ft.text(kr);if(kr===Gt)break;kr=Te(!1)}},Ke=function(ge,Te,wt,Ft,Gt){if(!Ka(ge,wt)){var mr=ge.getParent(Ft,ge.isBlock),kr=new Zn(wt,mr),ln=Gt?kr.next.bind(kr):kr.prev.bind(kr);Co(ge,ln,wt,{boundary:Xe,cef:Xe,text:function(hn){Gt?Te.fOffset+=hn.length:Te.sOffset+=hn.length,Te.elements.push(Nt.fromDom(hn))}})}},Mt=function(ge,Te,wt,Ft,Gt,mr){mr===void 0&&(mr=!0);var kr=new Zn(wt,Te),ln=[],hn=Ca();Ke(ge,hn,wt,Te,!1);var Dn=function(){return hn.elements.length>0&&(ln.push(hn),hn=Ca()),!1};return Co(ge,kr.next.bind(kr),wt,{boundary:Dn,cef:function(ka){return Dn(),Gt&&ln.push.apply(ln,Gt.cef(ka)),!1},text:function(ka){hn.elements.push(Nt.fromDom(ka)),Gt&&Gt.text(ka,hn)}},Ft,mr),Ft&&Ke(ge,hn,Ft,Te,!0),Dn(),ln},gt=function(ge,Te){var wt=xn(Te.startContainer,Te.startOffset),Ft=wt.element.dom,Gt=xn(Te.endContainer,Te.endOffset),mr=Gt.element.dom;return Mt(ge,Te.commonAncestorContainer,Ft,mr,{text:function(kr,ln){kr===mr?ln.fOffset+=kr.length-Gt.offset:kr===Ft&&(ln.sOffset+=wt.offset)},cef:function(kr){var ln=Xn(ba(Nt.fromDom(kr),"*[contenteditable=true]"),function(hn){var Dn=hn.dom;return Mt(ge,Dn,Dn)});return mn(ln,function(hn,Dn){return Sr(hn.elements[0].dom,Dn.elements[0].dom)?1:-1})}},!1)},dr=function(ge,Te){return Te.collapsed?[]:gt(ge,Te)},un=function(ge,Te){var wt=ge.createRng();return wt.selectNode(Te),dr(ge,wt)},ua=function(ge,Te){return Xn(Te,function(wt){return un(ge,wt)})},fi=function(ge,Te,wt,Ft){wt===void 0&&(wt=0),Ft===void 0&&(Ft=ge.length);var Gt=Te.regex;Gt.lastIndex=wt;for(var mr=[],kr;kr=Gt.exec(ge);){var ln=kr[Te.matchIndex],hn=kr.index+kr[0].indexOf(ln),Dn=hn+ln.length;if(Dn>Ft)break;mr.push({start:hn,finish:Dn}),Gt.lastIndex=Dn}return mr},Kn=function(ge,Te){var wt=fn(ge,function(Ft,Gt){var mr=Ta(Gt),kr=Ft.last,ln=kr+mr.length,hn=Xn(Te,function(Dn,ka){return Dn.start<ln&&Dn.finish>kr?[{element:Gt,start:Math.max(kr,Dn.start)-kr,finish:Math.min(ln,Dn.finish)-kr,matchId:ka}]:[]});return{results:Ft.results.concat(hn),last:ln}},{results:[],last:0}).results;return It(wt,function(Ft){return Ft.matchId})},Sn=function(ge,Te){return Xn(Te,function(wt){var Ft=wt.elements,Gt=Ce(Ft,Ta).join(""),mr=fi(Gt,ge,wt.sOffset,Gt.length-wt.fOffset);return Kn(Ft,mr)})},xo=function(ge,Te){X(ge,function(wt,Ft){X(wt,function(Gt){var mr=Nt.fromDom(Te.cloneNode(!1));$t(mr,"data-mce-index",Ft);var kr=Gt.element.dom;if(kr.length===Gt.finish&&Gt.start===0)wn(Gt.element,mr);else{kr.length!==Gt.finish&&kr.splitText(Gt.finish);var ln=kr.splitText(Gt.start);wn(Nt.fromDom(ln),mr)}})})},di=function(ge,Te,wt,Ft){var Gt=un(ge,wt),mr=Sn(Te,Gt);return xo(mr,Ft),mr.length},Ni=function(ge,Te,wt,Ft){var Gt=wt.getBookmark(),mr=ge.select("td[data-mce-selected],th[data-mce-selected]"),kr=mr.length>0?ua(ge,mr):dr(ge,wt.getRng()),ln=Sn(Te,kr);return xo(ln,Ft),wt.moveToBookmark(Gt),ln.length},mo=function(ge){var Te=ge.getAttribute("data-mce-index");return typeof Te=="number"?""+Te:Te},Jo=function(ge,Te,wt,Ft){var Gt=ge.dom.create("span",{"data-mce-bogus":1});Gt.className="mce-match-marker";var mr=ge.getBody();return Ro(ge,Te,!1),Ft?Ni(ge.dom,wt,ge.selection,Gt):di(ge.dom,wt,mr,Gt)},qi=function(ge){var Te=ge.parentNode;ge.firstChild&&Te.insertBefore(ge.firstChild,ge),ge.parentNode.removeChild(ge)},Qo=function(ge,Te){var wt=[],Ft=ce.toArray(ge.getBody().getElementsByTagName("span"));if(Ft.length)for(var Gt=0;Gt<Ft.length;Gt++){var mr=mo(Ft[Gt]);mr===null||!mr.length||mr===Te.toString()&&wt.push(Ft[Gt])}return wt},Lo=function(ge,Te,wt){var Ft=Te.get(),Gt=Ft.index,mr=ge.dom;wt=wt!==!1,wt?Gt+1===Ft.count?Gt=0:Gt++:Gt-1===-1?Gt=Ft.count-1:Gt--,mr.removeClass(Qo(ge,Ft.index),"mce-match-marker-selected");var kr=Qo(ge,Gt);return kr.length?(mr.addClass(Qo(ge,Gt),"mce-match-marker-selected"),ge.selection.scrollIntoView(kr[0]),Gt):-1},Gi=function(ge,Te){var wt=Te.parentNode;ge.remove(Te),ge.isEmpty(wt)&&ge.remove(wt)},ra=function(ge,Te){var wt=ge.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),Ft="("+wt+")";return Te?"(?:^|\\s|"+Le()+")"+Ft+("(?=$|\\s|"+Le()+")"):Ft},oi=function(ge,Te,wt,Ft,Gt,mr){var kr=ge.selection,ln=ra(wt,Gt),hn=kr.isForward(),Dn={regex:new RegExp(ln,Ft?"g":"gi"),matchIndex:1},ka=Jo(ge,Te,Dn,mr);if(Ge.browser.isSafari()&&kr.setRng(kr.getRng(),hn),ka){var Va=Lo(ge,Te,!0);Te.set({index:Va,count:ka,text:wt,matchCase:Ft,wholeWord:Gt,inSelection:mr})}return ka},$r=function(ge,Te){var wt=Lo(ge,Te,!0);Te.set(N(N({},Te.get()),{index:wt}))},Pu=function(ge,Te){var wt=Lo(ge,Te,!1);Te.set(N(N({},Te.get()),{index:wt}))},ei=function(ge){var Te=mo(ge);return Te!==null&&Te.length>0},vi=function(ge,Te,wt,Ft,Gt){var mr=Te.get(),kr=mr.index,ln,hn=kr;Ft=Ft!==!1;for(var Dn=ge.getBody(),ka=ce.grep(ce.toArray(Dn.getElementsByTagName("span")),ei),Va=0;Va<ka.length;Va++){var To=mo(ka[Va]),Lt=ln=parseInt(To,10);if(Gt||Lt===mr.index){for(wt.length?(ka[Va].firstChild.nodeValue=wt,qi(ka[Va])):Gi(ge.dom,ka[Va]);ka[++Va];)if(Lt=parseInt(mo(ka[Va]),10),Lt===ln)Gi(ge.dom,ka[Va]);else{Va--;break}Ft&&hn--}else ln>kr&&ka[Va].setAttribute("data-mce-index",String(ln-1))}return Te.set(N(N({},mr),{count:Gt?0:mr.count-1,index:hn})),Ft?$r(ge,Te):Pu(ge,Te),!Gt&&Te.get().count>0},Ro=function(ge,Te,wt){for(var Ft,Gt,mr=Te.get(),kr=ce.toArray(ge.getBody().getElementsByTagName("span")),ln=0;ln<kr.length;ln++){var hn=mo(kr[ln]);hn!==null&&hn.length&&(hn===mr.index.toString()&&(Ft||(Ft=kr[ln].firstChild),Gt=kr[ln].firstChild),qi(kr[ln]))}if(Te.set(N(N({},mr),{index:-1,count:0,text:""})),Ft&&Gt){var Dn=ge.dom.createRng();return Dn.setStart(Ft,0),Dn.setEnd(Gt,Gt.data.length),wt!==!1&&ge.selection.setRng(Dn),Dn}},Pi=function(ge,Te){return Te.get().count>1},Fu=function(ge,Te){return Te.get().count>1},mi=function(ge,Te){var wt=function(ln){return Ro(ge,Te,ln)},Ft=function(ln,hn,Dn,ka){return ka===void 0&&(ka=!1),oi(ge,Te,ln,hn,Dn,ka)},Gt=function(){return $r(ge,Te)},mr=function(){return Pu(ge,Te)},kr=function(ln,hn,Dn){return vi(ge,Te,ln,hn,Dn)};return{done:wt,find:Ft,next:Gt,prev:mr,replace:kr}},Ku=function(ge){var Te=I(ze.none()),wt=function(){return Te.get().each(ge)},Ft=function(){wt(),Te.set(ze.none())},Gt=function(){return Te.get().isSome()},mr=function(){return Te.get()},kr=function(ln){wt(),Te.set(ze.some(ln))};return{clear:Ft,isSet:Gt,get:mr,set:kr}},Do=function(){var ge=Ku(Ye),Te=function(wt){return ge.get().each(wt)};return N(N({},ge),{on:Te})},So=function(ge,Te){var wt=Do();ge.undoManager.add();var Ft=ce.trim(ge.selection.getContent({format:"text"})),Gt=function(cn){var da=Pi(ge,Te)?cn.enable:cn.disable;da("next");var Eo=Fu(ge,Te)?cn.enable:cn.disable;Eo("prev")},mr=function(cn){var da=cn.getData(),Eo=Te.get();Te.set(N(N({},Eo),{matchCase:da.matchcase,wholeWord:da.wholewords,inSelection:da.inselection}))},kr=function(cn,da){var Eo=["replace","replaceall","prev","next"],Ii=da?cn.disable:cn.enable;J(Eo,Ii)},ln=function(cn){ge.windowManager.alert("Could not find the specified string.",function(){cn.focus("findtext")})},hn=function(cn,da){Ge.browser.isSafari()&&Ge.deviceType.isTouch()&&(da==="find"||da==="replace"||da==="replaceall")&&cn.focus(da)},Dn=function(cn){Ro(ge,Te,!1),kr(cn,!0),Gt(cn)},ka=function(cn){var da=cn.getData(),Eo=Te.get();if(!da.findtext.length){Dn(cn);return}if(Eo.text===da.findtext&&Eo.matchCase===da.matchcase&&Eo.wholeWord===da.wholewords)$r(ge,Te);else{var Ii=oi(ge,Te,da.findtext,da.matchcase,da.wholewords,da.inselection);Ii<=0&&ln(cn),kr(cn,Ii===0)}Gt(cn)},Va=Te.get(),To={findtext:Ft,replacetext:"",wholewords:Va.wholeWord,matchcase:Va.matchCase,inselection:Va.inSelection},Lt={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:To,onChange:function(cn,da){da.name==="findtext"&&Te.get().count>0&&Dn(cn)},onAction:function(cn,da){var Eo=cn.getData();switch(da.name){case"find":ka(cn);break;case"replace":vi(ge,Te,Eo.replacetext)?Gt(cn):Dn(cn);break;case"replaceall":vi(ge,Te,Eo.replacetext,!0,!0),Dn(cn);break;case"prev":Pu(ge,Te),Gt(cn);break;case"next":$r(ge,Te),Gt(cn);break;case"matchcase":case"wholewords":case"inselection":mr(cn),Dn(cn);break}hn(cn,da.name)},onSubmit:function(cn){ka(cn),hn(cn,"find")},onClose:function(){ge.focus(),Ro(ge,Te),ge.undoManager.add()}};wt.set(ge.windowManager.open(Lt,{inline:"toolbar"}))},rr=function(ge,Te){ge.addCommand("SearchReplace",function(){So(ge,Te)})},iu=function(ge,Te){return function(){So(ge,Te)}},Cu=function(ge,Te){ge.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:iu(ge,Te),icon:"search"}),ge.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:iu(ge,Te),icon:"search"}),ge.shortcuts.add("Meta+F","",iu(ge,Te))};function Fi(){T.add("searchreplace",function(ge){var Te=I({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return rr(ge,Te),Cu(ge,Te),mi(ge,Te)})}Fi()})();(function(){var I=function(u){var l=typeof u;return u===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":l},T=function(u){return function(l){return I(l)===u}},N=function(u){return function(l){return typeof l===u}},F=function(u){return function(l){return u===l}},ee=T("string"),pe=T("object"),He=T("array"),xe=F(null),ye=N("boolean"),jt=F(void 0),Ye=function(u){return u==null},Ae=function(u){return!Ye(u)},tt=N("function"),er=N("number"),Xe=function(){},at=function(u,l){return function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];return u(l.apply(null,v))}},_e=function(u,l){return function(v){return u(l(v))}},Y=function(u){return function(){return u}},De=function(u){return u},ue=function(u,l){return u===l};function Je(u){for(var l=[],v=1;v<arguments.length;v++)l[v-1]=arguments[v];return function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];var S=l.concat(p);return u.apply(null,S)}}var ze=function(u){return function(l){return!u(l)}},Le=function(u){return function(){throw new Error(u)}},Ge=Y(!1),ce=Y(!0),Ue=function(){return U},U=function(){var u=function(p){return p()},l=De,v={fold:function(p,b){return p()},isSome:Ge,isNone:ce,getOr:l,getOrThunk:u,getOrDie:function(p){throw new Error(p||"error: getOrDie called on none.")},getOrNull:Y(null),getOrUndefined:Y(void 0),or:l,orThunk:u,map:Ue,each:Xe,bind:Ue,exists:Ge,forall:ce,filter:function(){return Ue()},toArray:function(){return[]},toString:Y("none()")};return v}(),Ce=function(u){var l=Y(u),v=function(){return b},p=function(S){return S(u)},b={fold:function(S,D){return D(u)},isSome:ce,isNone:Ge,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:v,orThunk:v,map:function(S){return Ce(S(u))},each:function(S){S(u)},bind:p,exists:p,forall:p,filter:function(S){return S(u)?b:U},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return b},J=function(u){return u==null?U:Ce(u)},X={some:Ce,none:Ue,from:J},It=Array.prototype.slice,fn=Array.prototype.indexOf,St=Array.prototype.push,Xn=function(u,l){return fn.call(u,l)},mn=function(u,l){return Xn(u,l)>-1},O=function(u,l){for(var v=0,p=u.length;v<p;v++){var b=u[v];if(l(b,v))return!0}return!1},On=function(u,l){for(var v=[],p=0;p<u;p++)v.push(l(p));return v},Wt=function(u,l){for(var v=u.length,p=new Array(v),b=0;b<v;b++){var S=u[b];p[b]=l(S,b)}return p},sr=function(u,l){for(var v=0,p=u.length;v<p;v++){var b=u[v];l(b,v)}},ya=function(u,l){for(var v=u.length-1;v>=0;v--){var p=u[v];l(p,v)}},vo=function(u,l){for(var v=[],p=[],b=0,S=u.length;b<S;b++){var D=u[b],$=l(D,b)?v:p;$.push(D)}return{pass:v,fail:p}},dn=function(u,l){for(var v=[],p=0,b=u.length;p<b;p++){var S=u[p];l(S,p)&&v.push(S)}return v},fa=function(u,l,v){return ya(u,function(p,b){v=l(v,p,b)}),v},oe=function(u,l,v){return sr(u,function(p,b){v=l(v,p,b)}),v},Xa=function(u,l,v){for(var p=0,b=u.length;p<b;p++){var S=u[p];if(l(S,p))return X.some(S);if(v(S,p))break}return X.none()},$t=function(u,l){return Xa(u,l,Ge)},Qe=function(u,l){for(var v=0,p=u.length;v<p;v++){var b=u[v];if(l(b,v))return X.some(v)}return X.none()},Sr=function(u){for(var l=[],v=0,p=u.length;v<p;++v){if(!He(u[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+u);St.apply(l,u[v])}return l},rt=function(u,l){return Sr(Wt(u,l))},qe=function(u,l){for(var v=0,p=u.length;v<p;++v){var b=u[v];if(l(b,v)!==!0)return!1}return!0},be=function(u){var l=It.call(u,0);return l.reverse(),l},Pe=function(u,l){for(var v={},p=0,b=u.length;p<b;p++){var S=u[p];v[String(S)]=l(S,p)}return v},je=function(u){return[u]},Nt=function(u,l){var v=It.call(u,0);return v.sort(l),v},fr=function(u,l){return l>=0&&l<u.length?X.some(u[l]):X.none()},Xt=function(u){return fr(u,0)},Pr=function(u){return fr(u,u.length-1)},ut=function(u,l){for(var v=0;v<u.length;v++){var p=l(u[v],v);if(p.isSome())return p}return X.none()},st=function(){return st=Object.assign||function(l){for(var v,p=1,b=arguments.length;p<b;p++){v=arguments[p];for(var S in v)Object.prototype.hasOwnProperty.call(v,S)&&(l[S]=v[S])}return l},st.apply(this,arguments)};function nr(u,l,v){for(var p=0,b=l.length,S;p<b;p++)(S||!(p in l))&&(S||(S=Array.prototype.slice.call(l,0,p)),S[p]=l[p]);return u.concat(S||Array.prototype.slice.call(l))}var Rr=function(u){var l=!1,v;return function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return l||(l=!0,v=u.apply(null,p)),v}},sn=function(u,l,v,p){var b=u.isiOS()&&/ipad/i.test(v)===!0,S=u.isiOS()&&!b,D=u.isiOS()||u.isAndroid(),$=D||p("(pointer:coarse)"),Q=b||!S&&D&&p("(min-device-width:768px)"),fe=S||D&&!Q,Oe=l.isSafari()&&u.isiOS()&&/safari/i.test(v)===!1,yt=!fe&&!Q&&!Oe;return{isiPad:Y(b),isiPhone:Y(S),isTablet:Y(Q),isPhone:Y(fe),isTouch:Y($),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:Y(Oe),isDesktop:Y(yt)}},wn=function(u,l){for(var v=0;v<u.length;v++){var p=u[v];if(p.test(l))return p}},Gn=function(u,l){var v=wn(u,l);if(!v)return{major:0,minor:0};var p=function(b){return Number(l.replace(v,"$"+b))};return ba(p(1),p(2))},Yn=function(u,l){var v=String(l).toLowerCase();return u.length===0?Ta():Gn(u,v)},Ta=function(){return ba(0,0)},ba=function(u,l){return{major:u,minor:l}},Zn={nu:ba,detect:Yn,unknown:Ta},In=function(u,l){return ut(l.brands,function(v){var p=v.brand.toLowerCase();return $t(u,function(b){var S;return p===((S=b.brand)===null||S===void 0?void 0:S.toLowerCase())}).map(function(b){return{current:b.name,version:Zn.nu(parseInt(v.version,10),0)}})})},ga=function(u,l){var v=String(l).toLowerCase();return $t(u,function(p){return p.search(v)})},Rn=function(u,l){return ga(u,l).map(function(v){var p=Zn.detect(v.versionRegexes,l);return{current:v.name,version:p}})},kn=function(u,l){return ga(u,l).map(function(v){var p=Zn.detect(v.versionRegexes,l);return{current:v.name,version:p}})},Ka=function(u,l){return u.substring(l)},ao=function(u,l,v){return l===""||u.length>=l.length&&u.substr(v,v+l.length)===l},Ca=function(u,l){return Co(u,l)?Ka(u,l.length):u},xn=function(u,l){return u.indexOf(l)!==-1},Co=function(u,l){return ao(u,l,0)},Ke=function(u,l){return ao(u,l,u.length-l.length)},Mt=function(u){return function(l){return l.replace(u,"")}},gt=Mt(/^\s+|\s+$/g),dr=function(u){return u.length>0},un=function(u){return!dr(u)},ua=function(u){var l=parseFloat(u);return isNaN(l)?X.none():X.some(l)},fi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Kn=function(u){return function(l){return xn(l,u)}},Sn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return xn(u,"edge/")&&xn(u,"chrome")&&xn(u,"safari")&&xn(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,fi],search:function(u){return xn(u,"chrome")&&!xn(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return xn(u,"msie")||xn(u,"trident")}},{name:"Opera",versionRegexes:[fi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Kn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Kn("firefox")},{name:"Safari",versionRegexes:[fi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(xn(u,"safari")||xn(u,"mobile/"))&&xn(u,"applewebkit")}}],xo=[{name:"Windows",search:Kn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return xn(u,"iphone")||xn(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Kn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Kn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Kn("linux"),versionRegexes:[]},{name:"Solaris",search:Kn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Kn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Kn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],di={browsers:Y(Sn),oses:Y(xo)},Ni="Edge",mo="Chrome",Jo="IE",qi="Opera",Qo="Firefox",Lo="Safari",Gi=function(){return ra({current:void 0,version:Zn.unknown()})},ra=function(u){var l=u.current,v=u.version,p=function(b){return function(){return l===b}};return{current:l,version:v,isEdge:p(Ni),isChrome:p(mo),isIE:p(Jo),isOpera:p(qi),isFirefox:p(Qo),isSafari:p(Lo)}},oi={unknown:Gi,nu:ra,edge:Y(Ni),chrome:Y(mo),ie:Y(Jo),opera:Y(qi),firefox:Y(Qo),safari:Y(Lo)},$r="Windows",Pu="iOS",ei="Android",vi="Linux",Ro="OSX",Pi="Solaris",Fu="FreeBSD",mi="ChromeOS",Ku=function(){return Do({current:void 0,version:Zn.unknown()})},Do=function(u){var l=u.current,v=u.version,p=function(b){return function(){return l===b}};return{current:l,version:v,isWindows:p($r),isiOS:p(Pu),isAndroid:p(ei),isOSX:p(Ro),isLinux:p(vi),isSolaris:p(Pi),isFreeBSD:p(Fu),isChromeOS:p(mi)}},So={unknown:Ku,nu:Do,windows:Y($r),ios:Y(Pu),android:Y(ei),linux:Y(vi),osx:Y(Ro),solaris:Y(Pi),freebsd:Y(Fu),chromeos:Y(mi)},rr=function(u,l,v){var p=di.browsers(),b=di.oses(),S=l.bind(function(Q){return In(p,Q)}).orThunk(function(){return Rn(p,u)}).fold(oi.unknown,oi.nu),D=kn(b,u).fold(So.unknown,So.nu),$=sn(D,S,u,v);return{browser:S,os:D,deviceType:$}},iu={detect:rr},Cu=function(u){return window.matchMedia(u).matches},Fi=Rr(function(){return iu.detect(navigator.userAgent,X.from(navigator.userAgentData),Cu)}),ge=function(){return Fi()},Te=function(u,l,v){return(u.compareDocumentPosition(l)&v)!==0},wt=function(u,l){return Te(u,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ft=8,Gt=9,mr=11,kr=1,ln=3,hn=function(u,l){var v=l||document,p=v.createElement("div");if(p.innerHTML=u,!p.hasChildNodes()||p.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Va(p.childNodes[0])},Dn=function(u,l){var v=l||document,p=v.createElement(u);return Va(p)},ka=function(u,l){var v=l||document,p=v.createTextNode(u);return Va(p)},Va=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},To=function(u,l,v){return X.from(u.dom.elementFromPoint(l,v)).map(Va)},Lt={fromHtml:hn,fromTag:Dn,fromText:ka,fromDom:Va,fromPoint:To},cn=function(u,l){var v=u.dom;if(v.nodeType!==kr)return!1;var p=v;if(p.matches!==void 0)return p.matches(l);if(p.msMatchesSelector!==void 0)return p.msMatchesSelector(l);if(p.webkitMatchesSelector!==void 0)return p.webkitMatchesSelector(l);if(p.mozMatchesSelector!==void 0)return p.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},da=function(u){return u.nodeType!==kr&&u.nodeType!==Gt&&u.nodeType!==mr||u.childElementCount===0},Eo=function(u,l){var v=l===void 0?document:l.dom;return da(v)?[]:Wt(v.querySelectorAll(u),Lt.fromDom)},Ii=function(u,l){var v=l===void 0?document:l.dom;return da(v)?X.none():X.from(v.querySelector(u)).map(Lt.fromDom)},Wn=function(u,l){return u.dom===l.dom},gs=function(u,l){var v=u.dom,p=l.dom;return v===p?!1:v.contains(p)},Ki=function(u,l){return wt(u.dom,l.dom)},oo=function(u,l){return ge().browser.isIE()?Ki(u,l):gs(u,l)},Xu=cn,ii=Object.keys,hi=Object.hasOwnProperty,Ba=function(u,l){for(var v=ii(u),p=0,b=v.length;p<b;p++){var S=v[p],D=u[S];l(D,S)}},Yu=function(u,l){return te(u,function(v,p){return{k:p,v:l(v,p)}})},te=function(u,l){var v={};return Ba(u,function(p,b){var S=l(p,b);v[S.k]=S.v}),v},Se=function(u){return function(l,v){u[v]=l}},et=function(u,l,v,p){var b={};return Ba(u,function(S,D){(l(S,D)?v:p)(S,D)}),b},bt=function(u,l){var v={};return et(u,l,Se(v),Xe),v},vr=function(u,l){var v=[];return Ba(u,function(p,b){v.push(l(p,b))}),v},Tr=function(u){return vr(u,De)},Br=function(u){return ii(u).length},Mn=function(u,l){return G(u,l)?X.from(u[l]):X.none()},G=function(u,l){return hi.call(u,l)},ke=function(u,l){return G(u,l)&&u[l]!==void 0&&u[l]!==null},Ie=function(u){for(var l in u)if(hi.call(u,l))return!1;return!0},ct=["tfoot","thead","tbody","colgroup"],kt=function(u){return mn(ct,u)},br=function(u,l){return{rows:u,columns:l}},Ir=function(u,l){return{row:u,column:l}},na=function(u,l,v){return{element:u,rowspan:l,colspan:v}},Tn=function(u,l,v,p){return{element:u,rowspan:l,colspan:v,isNew:p}},xa=function(u,l,v,p,b,S){return{element:u,rowspan:l,colspan:v,row:p,column:b,isLocked:S}},qa=function(u,l,v){return{element:u,cells:l,section:v}},xu=function(u,l,v,p){return{element:u,cells:l,section:v,isNew:p}},Mo=function(u,l,v){return{element:u,isNew:l,isLocked:v}},Hr=function(u,l,v,p){return{element:u,cells:l,section:v,isNew:p}},Zt=function(u,l,v,p){return{startRow:u,startCol:l,finishRow:v,finishCol:p}},Ea=function(u,l,v){return{element:u,colspan:l,column:v}},Bo=function(u,l){return{element:u,columns:l}};typeof window<"u"||Function("return this;")();var qn=function(u){var l=u.dom.nodeName;return l.toLowerCase()},Ns=function(u){return u.dom.nodeType},Zu=function(u){return function(l){return Ns(l)===u}},kc=function(u){return Ns(u)===Ft||qn(u)==="#comment"},va=Zu(kr),Ci=Zu(ln),Cc=Zu(Gt),Su=Zu(mr),go=function(u){return function(l){return va(l)&&qn(l)===u}},Ps=function(u){return Lt.fromDom(u.dom.ownerDocument)},ht=function(u){return Cc(u)?u:Ps(u)},tc=function(u){return Lt.fromDom(ht(u).dom.defaultView)},yo=function(u){return X.from(u.dom.parentNode).map(Lt.fromDom)},ml=function(u){return X.from(u.dom.parentElement).map(Lt.fromDom)},ys=function(u,l){for(var v=tt(l)?l:Ge,p=u.dom,b=[];p.parentNode!==null&&p.parentNode!==void 0;){var S=p.parentNode,D=Lt.fromDom(S);if(b.push(D),v(D)===!0)break;p=S}return b},B=function(u){return X.from(u.dom.previousSibling).map(Lt.fromDom)},x=function(u){return X.from(u.dom.nextSibling).map(Lt.fromDom)},_=function(u){return Wt(u.dom.childNodes,Lt.fromDom)},A=function(u,l){var v=u.dom.childNodes;return X.from(v[l]).map(Lt.fromDom)},W=function(u){return A(u,0)},le=function(u){return Su(u)&&Ae(u.dom.host)},$e=tt(Element.prototype.attachShadow)&&tt(Node.prototype.getRootNode),Et=Y($e),Mr=$e?function(u){return Lt.fromDom(u.dom.getRootNode())}:ht,Zr=function(u){var l=Mr(u);return le(l)?X.some(l):X.none()},ir=function(u){return Lt.fromDom(u.dom.host)},Dr=function(u){if(Et()&&Ae(u.target)){var l=Lt.fromDom(u.target);if(va(l)&&En(l)&&u.composed&&u.composedPath){var v=u.composedPath();if(v)return Xt(v)}}return X.from(u.target)},En=function(u){return Ae(u.dom.shadowRoot)},Cn=function(u){var l=Ci(u)?u.dom.parentNode:u.dom;if(l==null||l.ownerDocument===null)return!1;var v=l.ownerDocument;return Zr(Lt.fromDom(l)).fold(function(){return v.body.contains(l)},_e(Cn,ir))},an=function(){return Ja(Lt.fromDom(document))},Ja=function(u){var l=u.dom.body;if(l==null)throw new Error("Body is not available yet");return Lt.fromDom(l)},tn=function(u,l,v){return dn(ys(u,v),l)},Ia=function(u,l){return dn(_(u),l)},za=function(u,l){var v=[];return sr(_(u),function(p){l(p)&&(v=v.concat([p])),v=v.concat(za(p,l))}),v},xi=function(u,l,v){return tn(u,function(p){return cn(p,l)},v)},Fn=function(u,l){return Ia(u,function(v){return cn(v,l)})},Fs=function(u,l){return Eo(l,u)};function bo(u,l,v,p,b){return u(v,p)?X.some(v):tt(b)&&b(v)?X.none():l(v,p,b)}var No=function(u,l,v){for(var p=u.dom,b=tt(v)?v:Ge;p.parentNode;){p=p.parentNode;var S=Lt.fromDom(p);if(l(S))return X.some(S);if(b(S))break}return X.none()},Wg=function(u,l,v){var p=function(b,S){return S(b)};return bo(p,No,u,l,v)},Xi=function(u,l){var v=function(b){return l(Lt.fromDom(b))},p=$t(u.dom.childNodes,v);return p.map(Lt.fromDom)},ap=function(u,l){var v=function(p){for(var b=0;b<p.childNodes.length;b++){var S=Lt.fromDom(p.childNodes[b]);if(l(S))return X.some(S);var D=v(p.childNodes[b]);if(D.isSome())return D}return X.none()};return v(u.dom)},Wc=function(u,l,v){return No(u,function(p){return cn(p,l)},v)},vn=function(u,l){return Xi(u,function(v){return cn(v,l)})},Is=function(u,l){return Ii(l,u)},Ho=function(u,l,v){var p=function(b,S){return cn(b,S)};return bo(p,Wc,u,l,v)},Vo=function(u,l,v){if(ee(v)||ye(v)||er(v))u.setAttribute(l,v+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",v,":: Element ",u),new Error("Attribute value was not simple")},Si=function(u,l,v){Vo(u.dom,l,v)},ui=function(u,l){var v=u.dom;Ba(l,function(p,b){Vo(v,b,p)})},Tf=function(u,l){Ba(l,function(v,p){v.fold(function(){fo(u,p)},function(b){Vo(u.dom,p,b)})})},rc=function(u,l){var v=u.dom.getAttribute(l);return v===null?void 0:v},Aa=function(u,l){return X.from(rc(u,l))},fo=function(u,l){u.dom.removeAttribute(l)},Iu=function(u){return oe(u.dom.attributes,function(l,v){return l[v.name]=v.value,l},{})},hl=function(u,l,v){return v===void 0&&(v=ue),u.exists(function(p){return v(p,l)})},pi=function(u){for(var l=[],v=function(b){l.push(b)},p=0;p<u.length;p++)u[p].each(v);return l},$s=function(u,l,v){return u.isSome()&&l.isSome()?X.some(v(u.getOrDie(),l.getOrDie())):X.none()},qg=function(u,l){return u!=null?l(u):X.none()},Ef=function(u){return u.bind(De)},Qa=function(u,l){return u?X.some(l):X.none()},xc=function(u){return u.style!==void 0&&tt(u.style.getPropertyValue)},Hl=function(u,l,v){if(!ee(v))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",v,":: Element ",u),new Error("CSS value must be a string: "+v);xc(u)&&u.style.setProperty(l,v)},Ju=function(u,l){xc(u)&&u.style.removeProperty(l)},Xo=function(u,l,v){var p=u.dom;Hl(p,l,v)},Vl=function(u,l){var v=u.dom;Ba(l,function(p,b){Hl(v,b,p)})},pl=function(u,l){var v=u.dom,p=window.getComputedStyle(v),b=p.getPropertyValue(l);return b===""&&!Cn(u)?Tu(v,l):b},Tu=function(u,l){return xc(u)?u.style.getPropertyValue(l):""},Qu=function(u,l){var v=u.dom,p=Tu(v,l);return X.from(p).filter(function(b){return b.length>0})},uu=function(u,l){var v=u.dom;Ju(v,l),hl(Aa(u,"style").map(gt),"")&&fo(u,"style")},pd=function(u,l){var v=u.dom,p=l.dom;xc(v)&&xc(p)&&(p.style.cssText=v.style.cssText)},Sc=function(u,l,v){return v===void 0&&(v=0),Aa(u,l).map(function(p){return parseInt(p,10)}).getOr(v)},Ti=function(u,l){return Sc(u,l,1)},cv=function(u){return go("col")(u)?Sc(u,"span",1)>1:Ti(u,"colspan")>1},Gg=function(u){return Ti(u,"rowspan")>1},zf=function(u,l){return parseInt(pl(u,l),10)},Af=Y(10),Uo=Y(10),Of=function(u,l){return Rf(u,l,ce)},Rf=function(u,l,v){return rt(_(u),function(p){return cn(p,l)?v(p)?[p]:[]:Rf(p,l,v)})},Eu=function(u,l,v){if(v===void 0&&(v=Ge),v(l))return X.none();if(mn(u,qn(l)))return X.some(l);var p=function(b){return cn(b,"table")||v(b)};return Wc(l,u.join(","),p)},gl=function(u,l){return Eu(["td","th"],u,l)},Df=function(u){return Of(u,"th,td")},yl=function(u){return cn(u,"colgroup")?Fn(u,"col"):rt(pm(u),function(l){return Fn(l,"col")})},zo=function(u,l){return Ho(u,"table",l)},bs=function(u){return Of(u,"tr")},pm=function(u){return zo(u).fold(Y([]),function(l){return Fn(l,"colgroup")})},Ls=function(u,l){return Wt(u,function(v){if(qn(v)==="colgroup"){var p=Wt(yl(v),function(b){var S=Sc(b,"span",1);return na(b,1,S)});return qa(v,p,"colgroup")}else{var p=Wt(Df(v),function(S){var D=Sc(S,"rowspan",1),$=Sc(S,"colspan",1);return na(S,D,$)});return qa(v,p,l(v))}})},gm=function(u){return yo(u).map(function(l){var v=qn(l);return kt(v)?v:"tbody"}).getOr("tbody")},Kg=function(u){var l=bs(u),v=pm(u),p=nr(nr([],v,!0),l);return Ls(p,gm)},op=function(u,l){return Ls(u,function(){return l})},Mf=function(u,l,v){var p=u.cells,b=p.slice(0,l),S=p.slice(l),D=b.concat(v).concat(S);return pn(u,D)},Bf=function(u,l,v){return Mf(u,l,[v])},Ul=function(u,l,v){var p=u.cells;p[l]=v},pn=function(u,l){return Hr(u.element,l,u.section,u.isNew)},nc=function(u,l){var v=u.cells,p=Wt(v,l);return Hr(u.element,p,u.section,u.isNew)},es=function(u,l){return u.cells[l]},zu=function(u,l){return es(u,l).element},ac=function(u){return u.cells.length},ti=function(u){var l=vo(u,function(v){return v.section==="colgroup"});return{rows:l.fail,cols:l.pass}},Ei=function(u,l,v){var p=Wt(u.cells,v);return Hr(l(u.element),p,u.section,!0)},si="data-snooker-locked-cols",jl=function(u){return Aa(u,si).bind(function(l){return X.from(l.match(/\d+/g))}).map(function(l){return Pe(l,ce)})},su=function(u){var l=oe(ti(u).rows,function(p,b){return sr(b.cells,function(S,D){S.isLocked&&(p[D]=!0)}),p},{}),v=vr(l,function(p,b){return parseInt(b,10)});return Nt(v)},zr=function(u,l){return u+","+l},Nf=function(u,l,v){return X.from(u.access[zr(l,v)])},ip=function(u,l,v){var p=$n(u,function(b){return v(l,b.element)});return p.length>0?X.some(p[0]):X.none()},$n=function(u,l){var v=rt(u.all,function(p){return p.cells});return dn(v,l)},eo=function(u){var l={},v=0;return sr(u.cells,function(p){var b=p.colspan;On(b,function(S){var D=v+S;l[D]=Ea(p.element,b,D)}),v+=b}),l},ym=function(u){var l={},v=[],p=Xt(u).map(function(or){return or.element}).bind(zo),b=p.bind(jl).getOr({}),S=0,D=0,$=0,Q=vo(u,function(or){return or.section==="colgroup"}),fe=Q.pass,Oe=Q.fail;sr(Oe,function(or){var lr=[];sr(or.cells,function(Wr){for(var pa=0;l[zr($,pa)]!==void 0;)pa++;for(var Xr=ke(b,pa.toString()),_n=xa(Wr.element,Wr.rowspan,Wr.colspan,$,pa,Xr),oa=0;oa<Wr.colspan;oa++)for(var Qn=0;Qn<Wr.rowspan;Qn++){var _i=$+Qn,eu=pa+oa,fs=zr(_i,eu);l[fs]=_n,D=Math.max(D,eu+1)}lr.push(_n)}),S++,v.push(qa(or.element,lr,or.section)),$++});var yt=Pr(fe).map(function(or){var lr=eo(or),Wr=Bo(or.element,Tr(lr));return{colgroups:[Wr],columns:lr}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),Ht=yt.columns,Rt=yt.colgroups,pt=br(S,D);return{grid:pt,access:l,all:v,columns:Ht,colgroups:Rt}},qc=function(u){var l=Kg(u);return ym(l)},_o=function(u){return rt(u.all,function(l){return l.cells})},bm=function(u){return Tr(u.columns)},_s=function(u){return ii(u.columns).length>0},lv=function(u,l){return X.from(u.columns[l])},Vn={fromTable:qc,generate:ym,getAt:Nf,findItem:ip,filterItems:$n,justCells:_o,justColumns:bm,hasColumns:_s,getColumnAt:lv},$u=function(u,l){var v=l.column,p=l.column+l.colspan-1,b=l.row,S=l.row+l.rowspan-1;return v<=u.finishCol&&p>=u.startCol&&b<=u.finishRow&&S>=u.startRow},P_=function(u,l){return l.column>=u.startCol&&l.column+l.colspan-1<=u.finishCol&&l.row>=u.startRow&&l.row+l.rowspan-1<=u.finishRow},F_=function(u,l){for(var v=!0,p=Je(P_,l),b=l.startRow;b<=l.finishRow;b++)for(var S=l.startCol;S<=l.finishCol;S++)v=v&&Vn.getAt(u,b,S).exists(p);return v?X.some(l):X.none()},Ao=function(u,l){return Zt(Math.min(u.row,l.row),Math.min(u.column,l.column),Math.max(u.row+u.rowspan-1,l.row+l.rowspan-1),Math.max(u.column+u.colspan-1,l.column+l.colspan-1))},_m=function(u,l,v){var p=Vn.findItem(u,l,Wn),b=Vn.findItem(u,v,Wn);return p.bind(function(S){return b.map(function(D){return Ao(S,D)})})},z=function(u,l,v){return _m(u,l,v).bind(function(p){return F_(u,p)})},H=function(u,l,v,p){return Vn.findItem(u,l,Wn).bind(function(b){var S=v>0?b.row+b.rowspan-1:b.row,D=p>0?b.column+b.colspan-1:b.column,$=Vn.getAt(u,S+v,D+p);return $.map(function(Q){return Q.element})})},K=function(u,l,v){return _m(u,l,v).map(function(p){var b=Vn.filterItems(u,Je($u,p));return Wt(b,function(S){return S.element})})},ve=function(u,l){var v=function(p,b){return oo(b,p)};return Vn.findItem(u,l,v).map(function(p){return p.element})},We=function(u,l,v){return zo(u).bind(function(p){var b=sa(p);return H(b,u,l,v)})},_t=function(u,l,v){var p=sa(u);return K(p,l,v)},Vr=function(u,l,v,p,b){var S=sa(u),D=Wn(u,v)?X.some(l):ve(S,l),$=Wn(u,b)?X.some(p):ve(S,p);return D.bind(function(Q){return $.bind(function(fe){return K(S,Q,fe)})})},zn=function(u,l,v){var p=sa(u);return z(p,l,v)},sa=Vn.fromTable,Un=function(u,l){var v=yo(u);v.each(function(p){p.dom.insertBefore(l.dom,u.dom)})},io=function(u,l){var v=x(u);v.fold(function(){var p=yo(u);p.each(function(b){jo(b,l)})},function(p){Un(p,l)})},cu=function(u,l){var v=W(u);v.fold(function(){jo(u,l)},function(p){u.dom.insertBefore(l.dom,p.dom)})},jo=function(u,l){u.dom.appendChild(l.dom)},px=function(u,l,v){A(u,v).fold(function(){jo(u,l)},function(p){Un(p,l)})},qw=function(u,l){Un(u,l),jo(l,u)},Gw=function(u,l){sr(l,function(v){Un(u,v)})},gx=function(u,l){sr(l,function(v,p){var b=p===0?u:l[p-1];io(b,v)})},bl=function(u,l){sr(l,function(v){jo(u,v)})},up=function(u){u.dom.textContent="",sr(_(u),function(l){ws(l)})},ws=function(u){var l=u.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},wm=function(u){var l=_(u);l.length>0&&Gw(u,l),ws(u)},I_=function(u,l){var v=function(S){if(!u(S))throw new Error("Can only get "+l+" value of a "+l+" node");return p(S).getOr("")},p=function(S){return u(S)?X.from(S.dom.nodeValue):X.none()},b=function(S,D){if(!u(S))throw new Error("Can only set raw "+l+" value of a "+l+" node");S.dom.nodeValue=D};return{get:v,getOption:p,set:b}},sp=I_(Ci,"text"),Xg=function(u){return sp.get(u)},Kw=function(u){return sp.getOption(u)},yx=function(u,l){return sp.set(u,l)},_l=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function cp(){var u=function(fe){return Lt.fromDom(fe.dom.cloneNode(!1))},l=function(fe){return ht(fe).dom},v=function(fe){return va(fe)?qn(fe)==="body"?!0:mn(_l,qn(fe)):!1},p=function(fe){return va(fe)?mn(["br","img","hr","input"],qn(fe)):!1},b=function(fe){return va(fe)&&rc(fe,"contenteditable")==="false"},S=function(fe,Oe){return fe.dom.compareDocumentPosition(Oe.dom)},D=function(fe,Oe){var yt=Iu(fe);ui(Oe,yt)},$=function(fe){var Oe=qn(fe);return mn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],Oe)},Q=function(fe){return va(fe)?Aa(fe,"lang"):X.none()};return{up:Y({selector:Wc,closest:Ho,predicate:No,all:ys}),down:Y({selector:Fs,predicate:za}),styles:Y({get:pl,getRaw:Qu,set:Xo,remove:uu}),attrs:Y({get:rc,set:Si,remove:fo,copyTo:D}),insert:Y({before:Un,after:io,afterAll:gx,append:jo,appendAll:bl,prepend:cu,wrap:qw}),remove:Y({unwrap:wm,remove:ws}),create:Y({nu:Lt.fromTag,clone:u,text:Lt.fromText}),query:Y({comparePosition:S,prevSibling:B,nextSibling:x}),property:Y({children:_,name:qn,parent:yo,document:l,isText:Ci,isComment:kc,isElement:va,isSpecial:$,getLanguage:Q,getText:Xg,setText:yx,isBoundary:v,isEmptyTag:p,isNonEditable:b}),eq:Wn,is:Xu}}var bx=function(u,l,v,p){var b=v[0],S=v.slice(1);return p(u,l,b,S)},$_=function(u,l,v){return v.length>0?bx(u,l,v,_x):X.none()},_x=function(u,l,v,p){var b=l(u,v);return fa(p,function(S,D){var $=l(u,D);return wx(u,S,$)},b)},wx=function(u,l,v){return l.bind(function(p){return v.filter(Je(u.eq,p))})},km=function(u,l){return Je(u.eq,l)},lp=function(u,l,v,p){p===void 0&&(p=Ge);var b=[l].concat(u.up().all(l)),S=[v].concat(u.up().all(v)),D=function(Oe){var yt=Qe(Oe,p);return yt.fold(function(){return Oe},function(Ht){return Oe.slice(0,Ht+1)})},$=D(b),Q=D(S),fe=$t($,function(Oe){return O(Q,km(u,Oe))});return{firstpath:$,secondpath:Q,shared:fe}},Xw=$_,Yw=lp,Hs=cp(),Kr=function(u,l){return Xw(Hs,function(v,p){return u(p)},l)},Pf=function(u,l,v){return Yw(Hs,u,l,v)},fp=function(u){return Wc(u,"table")},gd=function(u,l,v){var p=function(b){return function(S){return v!==void 0&&v(S)||Wn(S,b)}};return Wn(u,l)?X.some({boxes:X.some([u]),start:u,finish:l}):fp(u).bind(function(b){return fp(l).bind(function(S){if(Wn(b,S))return X.some({boxes:_t(b,u,l),start:u,finish:l});if(oo(b,S)){var D=xi(l,"td,th",p(b)),$=D.length>0?D[D.length-1]:l;return X.some({boxes:Vr(b,u,b,l,S),start:u,finish:$})}else if(oo(S,b)){var D=xi(u,"td,th",p(S)),Q=D.length>0?D[D.length-1]:u;return X.some({boxes:Vr(S,u,b,l,S),start:u,finish:Q})}else return Pf(u,l).shared.bind(function(fe){return Ho(fe,"table",v).bind(function(Oe){var yt=xi(l,"td,th",p(Oe)),Ht=yt.length>0?yt[yt.length-1]:l,Rt=xi(u,"td,th",p(Oe)),pt=Rt.length>0?Rt[Rt.length-1]:u;return X.some({boxes:Vr(Oe,u,b,l,S),start:pt,finish:Ht})})})})})},Cm=function(u,l){var v=Fs(u,l);return v.length>0?X.some(v):X.none()},L_=function(u,l){return $t(u,function(v){return cn(v,l)})},Gc=function(u,l,v){return Is(u,l).bind(function(p){return Is(u,v).bind(function(b){return Kr(fp,[p,b]).map(function(S){return{first:p,last:b,table:S}})})})},fv=function(u,l){return Wc(u,"table").bind(function(v){return Is(v,l).bind(function(p){return gd(p,u).bind(function(b){return b.boxes.map(function(S){return{boxes:S,start:b.start,finish:b.finish}})})})})},xm=function(u,l,v,p,b){return L_(u,b).bind(function(S){return We(S,l,v).bind(function(D){return fv(D,p)})})},ri=function(u,l){return Cm(u,l)},Yi=function(u,l,v){return Gc(u,l,v).bind(function(p){var b=function(Q){return Wn(u,Q)},S="thead,tfoot,tbody,table",D=Wc(p.first,S,b),$=Wc(p.last,S,b);return D.bind(function(Q){return $.bind(function(fe){return Wn(Q,fe)?zn(p.table,p.first,p.last):X.none()})})})},dp=function(u){if(!He(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var l=[],v={};return sr(u,function(p,b){var S=ii(p);if(S.length!==1)throw new Error("one and only one name per case");var D=S[0],$=p[D];if(v[D]!==void 0)throw new Error("duplicate key detected:"+D);if(D==="cata")throw new Error("cannot have a case named cata (sorry)");if(!He($))throw new Error("case arguments must be an array");l.push(D),v[D]=function(){for(var Q=[],fe=0;fe<arguments.length;fe++)Q[fe]=arguments[fe];var Oe=Q.length;if(Oe!==$.length)throw new Error("Wrong number of arguments to case "+D+". Expected "+$.length+" ("+$+"), got "+Oe);var yt=function(Ht){var Rt=ii(Ht);if(l.length!==Rt.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+Rt.join(","));var pt=qe(l,function(or){return mn(Rt,or)});if(!pt)throw new Error("Not all branches were specified when using match. Specified: "+Rt.join(", ")+`
Required: `+l.join(", "));return Ht[D].apply(null,Q)};return{fold:function(){for(var Ht=[],Rt=0;Rt<arguments.length;Rt++)Ht[Rt]=arguments[Rt];if(Ht.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+Ht.length);var pt=Ht[b];return pt.apply(null,Q)},match:yt,log:function(Ht){console.log(Ht,{constructors:l,constructor:D,params:Q})}}}}),v},Wl={generate:dp},vp=Wl.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Yg=function(u,l,v,p){return u.fold(l,v,p)},Zg=vp.none,kx=vp.multiple,Sm=vp.single,Au=function(u,l,v){var p=function(){return ri(u(),v).fold(function(){return l().fold(Zg,Sm)},function(b){return kx(b)})};return{get:p}},Zw=tinymce.util.Tools.resolve("tinymce.PluginManager"),Po=function(u,l){return Lt.fromDom(u.dom.cloneNode(l))},Kc=function(u){return Po(u,!1)},Ua=function(u){return Po(u,!0)},yd=function(u,l){var v=Lt.fromTag(l),p=Iu(u);return ui(v,p),v},Tc=function(u,l){var v=yd(u,l),p=_(Ua(u));return bl(v,p),v},Cx=function(u,l){var v=yd(u,l);Un(u,v);var p=_(u);return bl(v,p),ws(u),v},zi=function(u,l){var v=function($,Q){if(!er(Q)&&!Q.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+Q);var fe=$.dom;xc(fe)&&(fe.style[u]=Q+"px")},p=function($){var Q=l($);if(Q<=0||Q===null){var fe=pl($,u);return parseFloat(fe)||0}return Q},b=p,S=function($,Q){return oe(Q,function(fe,Oe){var yt=pl($,Oe),Ht=yt===void 0?0:parseInt(yt,10);return isNaN(Ht)?fe:fe+Ht},0)},D=function($,Q,fe){var Oe=S($,fe),yt=Q>Oe?Q-Oe:0;return yt};return{set:v,get:p,getOuter:b,aggregate:S,max:D}},ts=function(){var u=ge().browser;return u.isIE()||u.isEdge()},Jw=function(u,l){return ua(u).getOr(l)},zt=function(u,l,v){return Jw(pl(u,l),v)},ks=function(u){return pl(u,"box-sizing")},Ff=function(u,l,v,p){var b=zt(u,"padding-"+v,0),S=zt(u,"padding-"+p,0),D=zt(u,"border-"+v+"-width",0),$=zt(u,"border-"+p+"-width",0);return l-b-S-D-$},gn=function(u,l){var v=u.dom,p=v.getBoundingClientRect().height||v.offsetHeight;return l==="border-box"?p:Ff(u,p,"top","bottom")},oc=function(u,l){var v=u.dom,p=v.getBoundingClientRect().width||v.offsetWidth;return l==="border-box"?p:Ff(u,p,"left","right")},xx=function(u){return ts()?gn(u,ks(u)):zt(u,"height",u.dom.offsetHeight)},Lu=function(u){return ts()?oc(u,ks(u)):zt(u,"width",u.dom.offsetWidth)},Tm=function(u){return oc(u,"content-box")},ql=zi("width",function(u){return u.dom.offsetWidth}),Xc=function(u){return ql.get(u)},Ou=function(u){return ql.getOuter(u)},Oa=Tm,wl=Lu,dv=function(u,l){l===void 0&&(l=ce);var v=u.grid,p=On(v.columns,De),b=On(v.rows,De);return Wt(p,function(S){var D=function(){return rt(b,function(fe){return Vn.getAt(u,fe,S).filter(function(Oe){return Oe.column===S}).toArray()})},$=function(fe){return fe.colspan===1&&l(fe.element)},Q=function(){return Vn.getAt(u,0,S)};return co(D,$,Q)})},co=function(u,l,v){var p=u(),b=$t(p,l),S=b.orThunk(function(){return X.from(p[0]).orThunk(v)});return S.map(function(D){return D.element})},bd=function(u){var l=u.grid,v=On(l.rows,De),p=On(l.columns,De);return Wt(v,function(b){var S=function(){return rt(p,function(Q){return Vn.getAt(u,b,Q).filter(function(fe){return fe.row===b}).fold(Y([]),function(fe){return[fe]})})},D=function(Q){return Q.rowspan===1},$=function(){return Vn.getAt(u,b,0)};return co(S,D,$)})},Vs=function(u,l){if(l<0||l>=u.length-1)return X.none();var v=u[l].fold(function(){var b=be(u.slice(0,l));return ut(b,function(S,D){return S.map(function($){return{value:$,delta:D+1}})})},function(b){return X.some({value:b,delta:0})}),p=u[l+1].fold(function(){var b=u.slice(l+1);return ut(b,function(S,D){return S.map(function($){return{value:$,delta:D+1}})})},function(b){return X.some({value:b,delta:1})});return v.bind(function(b){return p.map(function(S){var D=S.delta+b.delta;return Math.abs(S.value-b.value)/D})})},Us=function(u,l){return function(v){return Sx(v)==="rtl"?l:u}},Sx=function(u){return pl(u,"direction")==="rtl"?"rtl":"ltr"},Fe=zi("height",function(u){var l=u.dom;return Cn(u)?l.getBoundingClientRect().height:l.offsetHeight}),rs=function(u){return Fe.get(u)},Cs=function(u){return Fe.getOuter(u)},Em=xx,ic=function(u,l){var v=function(p,b){return ic(u+p,l+b)};return{left:u,top:l,translate:v}},to=ic,lo=function(u){var l=u.getBoundingClientRect();return to(l.left,l.top)},xs=function(u,l){return u!==void 0?u:l!==void 0?l:0},If=function(u){var l=u.dom.ownerDocument,v=l.body,p=l.defaultView,b=l.documentElement;if(v===u.dom)return to(v.offsetLeft,v.offsetTop);var S=xs(p==null?void 0:p.pageYOffset,b.scrollTop),D=xs(p==null?void 0:p.pageXOffset,b.scrollLeft),$=xs(b.clientTop,v.clientTop),Q=xs(b.clientLeft,v.clientLeft);return H_(u).translate(D-Q,S-$)},H_=function(u){var l=u.dom,v=l.ownerDocument,p=v.body;return p===l?to(p.offsetLeft,p.offsetTop):Cn(u)?lo(l):to(0,0)},Qr=function(u,l){return{row:u,y:l}},Jg=function(u,l){return{col:u,x:l}},uc=function(u){var l=If(u);return l.left+Ou(u)},Qw=function(u){return If(u).left},mp=function(u,l){return Jg(u,Qw(l))},hp=function(u,l){return Jg(u,uc(l))},V_=function(u){return If(u).top},U_=function(u,l){return Qr(u,V_(l))},Gl=function(u,l){return Qr(u,V_(l)+Cs(l))},$f=function(u,l,v){if(v.length===0)return[];var p=Wt(v.slice(1),function(S,D){return S.map(function($){return u(D,$)})}),b=v[v.length-1].map(function(S){return l(v.length-1,S)});return p.concat([b])},Tx=function(u){return-u},j_={delta:De,positions:function(u){return $f(U_,Gl,u)},edge:V_},Ex={delta:De,edge:Qw,positions:function(u){return $f(mp,hp,u)}},ek={delta:Tx,edge:uc,positions:function(u){return $f(hp,mp,u)}},pp=Us(Ex,ek),zm={delta:function(u,l){return pp(l).delta(u,l)},positions:function(u,l){return pp(l).positions(u,l)},edge:function(u){return pp(u).edge(u)}},tk={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Kl=function(){var u="[0-9]+",l="[+-]?"+u,v="[eE]"+l,p="\\.",b=function($){return"(?:"+$+")?"},S=["Infinity",u+p+b(u)+b(v),p+u+b(v),u+b(v)].join("|"),D="[+-]?(?:"+S+")";return new RegExp("^("+D+")(.*)$")}(),Am=function(u,l){return O(l,function(v){return O(tk[v],function(p){return u===p})})},W_=function(u,l){var v=X.from(Kl.exec(u));return v.bind(function(p){var b=Number(p[1]),S=p[2];return Am(S,l)?X.some({value:b,unit:S}):X.none()})},rk=/(\d+(\.\d+)?)%/,zx=/(\d+(\.\d+)?)px|em/,Ax=go("col"),gi=function(u,l,v){var p=ml(u).getOrThunk(function(){return Ja(Ps(u))});return l(u)/v(p)*100},Xl=function(u,l){Xo(u,"width",l+"px")},Yc=function(u,l){Xo(u,"width",l+"%")},_d=function(u,l){Xo(u,"height",l+"px")},nk=function(u){return Em(u)+"px"},Zc=function(u,l,v,p){var b=zo(u).map(function(S){var D=v(S);return Math.floor(l/100*D)}).getOr(l);return p(u,b),b},vv=function(u,l,v,p){var b=parseFloat(u);return Ke(u,"%")&&qn(l)!=="table"?Zc(l,b,v,p):b},q_=function(u){var l=nk(u);return l?vv(l,u,rs,_d):rs(u)},G_=function(u,l,v){var p=v(u),b=Ti(u,l);return p/b},Lf=function(u,l){return Qu(u,l).orThunk(function(){return Aa(u,l).map(function(v){return v+"px"})})},Ec=function(u){return Lf(u,"width")},lu=function(u){return Lf(u,"height")},Qg=function(u){return gi(u,Xc,Oa)},K_=function(u){return Ax(u)?Xc(u):wl(u)},mv=function(u){return G_(u,"rowspan",q_)},Om=function(u){var l=Ec(u);return l.bind(function(v){return W_(v,["fixed","relative","empty"])})},Rm=function(u,l,v){Xo(u,"width",l+v)},Ox=function(u){return Xc(u)+"px"},Dm=function(u){return gi(u,Xc,Oa)+"%"},X_=function(u){return Ec(u).exists(function(l){return rk.test(l)})},Rx=function(u){return Ec(u).exists(function(l){return zx.test(l)})},Wo=function(u){return Ec(u).isNone()},ey=Y(rk),wd=go("col"),Y_=function(u){return Ec(u).getOrThunk(function(){return K_(u)+"px"})},Z_=function(u){return lu(u).getOrThunk(function(){return mv(u)+"px"})},zc=function(u){return Wt(Vn.justColumns(u),function(l){return X.from(l.element)})},sc=function(u){var l=ge().browser,v=l.isChrome()||l.isFirefox();return wd(u)?v:!0},hv=function(u,l,v,p,b,S){return u.filter(p).fold(function(){return S(Vs(v,l))},function(D){return b(D)})},kd=function(u,l,v,p){var b=dv(u),S=Vn.hasColumns(u)?zc(u):b,D=[X.some(zm.edge(l))].concat(Wt(zm.positions(b,l),function(Q){return Q.map(function(fe){return fe.x})})),$=ze(cv);return Wt(S,function(Q,fe){return hv(Q,fe,D,$,function(Oe){if(sc(Oe))return v(Oe);var yt=qg(b[fe],De);return hv(yt,fe,D,$,function(Ht){return p(X.some(Xc(Ht)))},p)},p)})},ty=function(u){return u.map(function(l){return l+"px"}).getOr("")},gp=function(u,l){return kd(u,l,Y_,ty)},J_=function(u,l,v){return kd(u,l,Qg,function(p){return p.fold(function(){return v.minCellWidth()},function(b){return b/v.pixelWidth()*100})})},pv=function(u,l,v){return kd(u,l,K_,function(p){return p.getOrThunk(v.minCellWidth)})},ry=function(u,l,v,p,b){var S=bd(u),D=[X.some(v.edge(l))].concat(Wt(v.positions(S,l),function($){return $.map(function(Q){return Q.y})}));return Wt(S,function($,Q){return hv($,Q,D,ze(Gg),p,b)})},Dx=function(u,l,v){return ry(u,l,v,mv,function(p){return p.getOrThunk(Uo)})},Q_=function(u,l,v){return ry(u,l,v,Z_,ty)},cc=function(u,l){return function(){return Cn(u)?l(u):parseFloat(Qu(u,"width").getOr("0"))}},js=function(u){var l=cc(u,Xc),v=Y(0),p=function(b,S){return pv(b,u,S)};return{width:l,pixelWidth:l,getWidths:p,getCellDelta:v,singleColumnWidth:Y([0]),minCellWidth:v,setElementWidth:Xe,adjustTableWidth:Xe,isRelative:!0,label:"none"}},Mm=function(u){var l=cc(u,function(Q){return parseFloat(Dm(Q))}),v=cc(u,Xc),p=function(Q){return Q/v()*100},b=function(Q,fe){return[100-Q]},S=function(){return Af()/v()*100},D=function(Q){var fe=l(),Oe=Q/100*fe,yt=fe+Oe;Yc(u,yt)},$=function(Q,fe){return J_(Q,u,fe)};return{width:l,pixelWidth:v,getWidths:$,getCellDelta:p,singleColumnWidth:b,minCellWidth:S,setElementWidth:Yc,adjustTableWidth:D,isRelative:!0,label:"percent"}},Jc=function(u){var l=cc(u,Xc),v=De,p=function(D,$){var Q=Math.max(Af(),D+$);return[Q-D]},b=function(D){var $=l()+D;Xl(u,$)},S=function(D,$){return pv(D,u,$)};return{width:l,pixelWidth:l,getWidths:S,getCellDelta:v,singleColumnWidth:p,minCellWidth:Af,setElementWidth:Xl,adjustTableWidth:b,isRelative:!1,label:"pixel"}},Ru=function(u,l){var v=ey().exec(l);return v!==null?Mm(u):Jc(u)},ny=function(u){var l=Ec(u);return l.fold(function(){return js(u)},function(v){return Ru(u,v)})},Hf={getTableSize:ny,pixelSize:Jc,percentageSize:Mm,noneSize:js},ak=function(u,l,v,p,b,S){return{minRow:u,minCol:l,maxRow:v,maxCol:p,allCells:b,selectedCells:S}},fu=function(u,l){var v=u.grid.columns,p=u.grid.rows,b=p,S=v,D=0,$=0,Q=[],fe=[];return Ba(u.access,function(Oe){if(Q.push(Oe),l(Oe)){fe.push(Oe);var yt=Oe.row,Ht=yt+Oe.rowspan-1,Rt=Oe.column,pt=Rt+Oe.colspan-1;yt<b?b=yt:Ht>D&&(D=Ht),Rt<S?S=Rt:pt>$&&($=pt)}}),ak(b,S,D,$,Q,fe)},e1=function(u,l,v){var p=u[v].element,b=Lt.fromTag("td");jo(b,Lt.fromTag("br"));var S=l?jo:cu;S(p,b)},ay=function(u,l,v,p){for(var b=l.grid.columns,S=l.grid.rows,D=0;D<S;D++)for(var $=!1,Q=0;Q<b;Q++)if(!(D<v.minRow||D>v.maxRow||Q<v.minCol||Q>v.maxCol)){var fe=Vn.getAt(l,D,Q).filter(p).isNone();fe?e1(u,$,D):$=!0}},Sa=function(u,l,v,p){Ba(v.columns,function(D){(D.column<l.minCol||D.column>l.maxCol)&&ws(D.element)});var b=dn(Of(u,"tr"),function(D){return D.dom.childElementCount===0});sr(b,ws),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&sr(Of(u,"th,td"),function(D){fo(D,"rowspan"),fo(D,"colspan")}),fo(u,si),fo(u,"data-snooker-col-series");var S=Hf.getTableSize(u);S.adjustTableWidth(p)},en=function(u,l,v,p){if(p.minCol===0&&l.grid.columns===p.maxCol+1)return 0;var b=pv(l,u,v),S=oe(b,function(fe,Oe){return fe+Oe},0),D=oe(b.slice(p.minCol,p.maxCol+1),function(fe,Oe){return fe+Oe},0),$=D/S*v.pixelWidth(),Q=$-v.pixelWidth();return v.getCellDelta(Q)},lc=function(u,l){var v=function(Ht){return cn(Ht.element,l)},p=Ua(u),b=Kg(p),S=Hf.getTableSize(u),D=Vn.generate(b),$=fu(D,v),Q="th:not("+l+"),td:not("+l+")",fe=Rf(p,"th,td",function(Ht){return cn(Ht,Q)});sr(fe,ws),ay(b,D,$,v);var Oe=Vn.fromTable(u),yt=en(u,Oe,S,$);return Sa(p,$,D,yt),p},oy="",Qc=function(u){return qn(u)==="img"?1:Kw(u).fold(function(){return _(u).length},function(l){return l.length})},ok=function(u){return Kw(u).filter(function(l){return l.trim().length!==0||l.indexOf(oy)>-1}).isSome()},ro=["img","br"],t1=function(u){var l=ok(u);return l||mn(ro,qn(u))},iy=function(u){return ap(u,t1)},uy=function(u){return Bt(u,t1)},Bt=function(u,l){var v=function(p){for(var b=_(p),S=b.length-1;S>=0;S--){var D=b[S];if(l(D))return X.some(D);var $=v(D);if($.isSome())return $}return X.none()};return v(u)},r1={scope:["row","col"]},n1=function(u){return function(){var l=Lt.fromTag("td",u.dom);return jo(l,Lt.fromTag("br",u.dom)),l}},Cd=function(u){return function(){return Lt.fromTag("col",u.dom)}},yp=function(u){return function(){return Lt.fromTag("colgroup",u.dom)}},gv=function(u){return function(){return Lt.fromTag("tr",u.dom)}},xd=function(u,l,v){var p=Tc(u,l);return Ba(v,function(b,S){b===null?fo(p,S):Si(p,S,b)}),p},yv=function(u){return u},Bm=function(u,l,v){var p=iy(u);return p.map(function(b){var S=v.join(","),D=xi(b,S,function($){return Wn($,u)});return fa(D,function($,Q){var fe=Kc(Q);return fo(fe,"contenteditable"),jo($,fe),fe},l)}).getOr(l)},ci=function(u,l){Ba(r1,function(v,p){return Aa(u,p).filter(function(b){return mn(v,b)}).each(function(b){return Si(l,p,b)})})},Bn=function(u,l,v){var p=function(D,$){pd(D.element,$),uu($,"height"),D.colspan!==1&&uu($,"width")},b=function(D){var $=Lt.fromTag(qn(D.element),l.dom),Q=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),fe=Q.length>0?Bm(D.element,$,Q):$;return jo(fe,Lt.fromTag("br")),p(D,$),ci(D.element,$),u(D.element,$),$},S=function(D){var $=Lt.fromTag(qn(D.element),l.dom);return p(D,$),u(D.element,$),$};return{col:S,colgroup:yp(l),row:gv(l),cell:b,replace:xd,colGap:Cd(l),gap:n1(l)}},fc=function(u){return{col:Cd(u),colgroup:yp(u),row:gv(u),cell:n1(u),replace:yv,colGap:Cd(u),gap:n1(u)}},ik=function(u,l){var v=document,p=v.createElement("div");return p.innerHTML=u,_(Lt.fromDom(p))},Ws=function(u){return Wt(u,Lt.fromDom)},a1=function(u){return u.nodeName.toLowerCase()},Yl=function(u){return Lt.fromDom(u.getBody())},Vf=function(u){return u.getBoundingClientRect().width},Uf=function(u){return u.getBoundingClientRect().height},dc=function(u){return function(l){return Wn(l,Yl(u))}},Sd=function(u){return u?u.replace(/px$/,""):""},$i=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},ns=function(u){fo(u,"data-mce-style");var l=function(v){return fo(v,"data-mce-style")};sr(Df(u),l),sr(yl(u),l),sr(bs(u),l)},Zl=function(u,l){var v=u.dom.getStyle(l,"width")||u.dom.getAttrib(l,"width");return X.from(v).filter(dr)},Td=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Nm=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},bv=function(u){return Lt.fromDom(u.selection.getStart())},Nr=function(u){return Lt.fromDom(u.selection.getEnd())},Zi=function(u){return Yg(u.get(),Y([]),De,je)},kl=function(u){var l=function(b,S){return Aa(b,S).exists(function(D){return parseInt(D,10)>1})},v=function(b){return l(b,"rowspan")||l(b,"colspan")},p=Zi(u);return p.length>0&&qe(p,v)?X.some(p):X.none()},Jl=function(u,l,v){return Yg(l.get(),X.none,function(p){return p.length<=1?X.none():Yi(u,v.firstSelectedSelector,v.lastSelectedSelector).map(function(b){return{bounds:b,cells:p}})},X.none)},bp="data-mce-selected",uk="td["+bp+"],th["+bp+"]",sy="["+bp+"]",Ed="data-mce-first-selected",zd="td["+Ed+"],th["+Ed+"]",Pm="data-mce-last-selected",_p="td["+Pm+"],th["+Pm+"]",Mx=sy,vc={selected:bp,selectedSelector:uk,firstSelected:Ed,firstSelectedSelector:zd,lastSelected:Pm,lastSelectedSelector:_p},o1=function(u){return{element:u,mergable:X.none(),unmergable:X.none(),selection:[u]}},_v=function(u,l,v){return{element:v,mergable:Jl(l,u,vc),unmergable:kl(u),selection:Zi(u)}},Ad=function(u,l,v){return{element:u,clipboard:l,generators:v}},i1=function(u,l,v,p){return{selection:Zi(u),clipboard:v,generators:p}},Od=function(u){return zo(u).bind(function(l){return ri(l,vc.firstSelectedSelector)}).fold(Y(u),function(l){return l[0]})},sk=function(u){return function(l,v){var p=qn(l),b=p==="col"||p==="colgroup"?Od(l):l;return Ho(b,u,v)}},Fo=sk("th,td,caption"),du=sk("th,td"),Du=function(u){return Zi(u)},ck=function(u,l){var v=du(u),p=v.bind(function(b){return zo(b)}).map(function(b){return bs(b)});return $s(v,p,function(b,S){return dn(S,function(D){return O(Ws(D.dom.cells),function($){return rc($,l)==="1"||Wn($,b)})})}).getOr([])},cy=function(u){return zo(u[0]).map(function(l){var v=lc(l,Mx);return ns(v),[v]})},Bx=function(u,l){return Wt(l,function(v){return u.selection.serializer.serialize(v.dom,{})}).join("")},lk=function(u){return Wt(u,function(l){return l.dom.innerText}).join("")},el=function(u,l,v){u.on("BeforeGetContent",function(p){var b=function(S){p.preventDefault(),cy(S).each(function(D){p.content=p.format==="text"?lk(D):Bx(u,D)})};p.selection===!0&&Yg(l.get(),Xe,b,Xe)}),u.on("BeforeSetContent",function(p){if(p.selection===!0&&p.paste===!0){var b=Du(l);Xt(b).each(function(S){zo(S).each(function(D){var $=dn(ik(p.content),function(Ht){return qn(Ht)!=="meta"}),Q=go("table");if($.length===1&&Q($[0])){p.preventDefault();var fe=Lt.fromDom(u.getDoc()),Oe=fc(fe),yt=Ad(S,$[0],Oe);v.pasteCells(D,yt).each(function(){u.focus()})}})})}})},Nx=Wl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Fm=st({},Nx),ly=function(u,l){return u.length===0?Fm.none():u.length===1?Fm.only(0):l===0?Fm.left(0,1):l===u.length-1?Fm.right(l-1,l):l>0&&l<u.length-1?Fm.middle(l-1,l,l+1):Fm.none()},Px=function(u,l,v,p,b){var S=u.slice(0),D=ly(u,l),$=Y(Wt(S,Y(0))),Q=function(Ht){return p.singleColumnWidth(S[Ht],v)},fe=function(Ht,Rt){return b.calcLeftEdgeDeltas(S,Ht,Rt,v,p.minCellWidth(),p.isRelative)},Oe=function(Ht,Rt,pt){return b.calcMiddleDeltas(S,Ht,Rt,pt,v,p.minCellWidth(),p.isRelative)},yt=function(Ht,Rt){return b.calcRightEdgeDeltas(S,Ht,Rt,v,p.minCellWidth(),p.isRelative)};return D.fold($,Q,fe,Oe,yt)},fk=function(u,l,v){for(var p=0,b=u;b<l;b++)p+=v[b]!==void 0?v[b]:0;return p},u1=function(u,l){var v=Vn.justCells(u);return Wt(v,function(p){var b=fk(p.column,p.column+p.colspan,l);return{element:p.element,width:b,colspan:p.colspan}})},s1=function(u,l){var v=Vn.justColumns(u);return Wt(v,function(p,b){return{element:p.element,width:l[b],colspan:p.colspan}})},c1=function(u,l){var v=Vn.justCells(u);return Wt(v,function(p){var b=fk(p.row,p.row+p.rowspan,l);return{element:p.element,height:b,rowspan:p.rowspan}})},Fx=function(u,l){return Wt(u.all,function(v,p){return{element:v.element,height:l[p]}})},Rd=function(u){return fa(u,function(l,v){return l+v},0)},Dd=function(u,l){return Vn.hasColumns(u)?s1(u,l):u1(u,l)},Ya=function(u,l,v){var p=Dd(u,l);sr(p,function(b){v.setElementWidth(b.element,b.width)})},fy=function(u,l,v,p,b){var S=Vn.fromTable(u),D=b.getCellDelta(l),$=b.getWidths(S,b),Q=v===S.grid.columns-1,fe=p.clampTableDelta($,v,D,b.minCellWidth(),Q),Oe=Px($,v,fe,b,p),yt=Wt(Oe,function(Ht,Rt){return Ht+$[Rt]});Ya(S,yt,b),p.resizeTable(b.adjustTableWidth,fe,Q)},Cl=function(u,l,v,p){var b=Vn.fromTable(u),S=Dx(b,u,p),D=Wt(S,function(Oe,yt){return v===yt?Math.max(l+Oe,Uo()):Oe}),$=c1(b,D),Q=Fx(b,D);sr(Q,function(Oe){_d(Oe.element,Oe.height)}),sr($,function(Oe){_d(Oe.element,Oe.height)});var fe=Rd(D);_d(u,fe)},dk=function(u,l,v,p,b){var S=Vn.generate(l),D=p.getWidths(S,p),$=p.pixelWidth(),Q=b.calcRedestributedWidths(D,$,v.pixelDelta,p.isRelative),fe=Q.newSizes,Oe=Q.delta;Ya(S,fe,p),p.adjustTableWidth(Oe)},xl=function(u,l,v,p){var b=Vn.generate(l),S=p.getWidths(b,p);Ya(b,S,p)},Ql=function(u){return Wt(u,Y(0))},Md=function(u,l,v,p,b){return b(u.slice(0,l)).concat(p).concat(b(u.slice(v)))},dy=function(u){return function(l,v,p,b){if(u(p)){var S=Math.max(b,l[v]-Math.abs(p)),D=Math.abs(S-l[v]);return p>=0?D:-D}else return p}},wp=dy(function(u){return u<0}),vy=dy(ce),my=function(){var u=function($,Q,fe,Oe,yt){var Ht=wp($,Q,Oe,yt);return Md($,Q,fe+1,[Ht,0],Ql)},l=function($,Q,fe,Oe){var yt=(100+fe)/100,Ht=Math.max(Oe,($[Q]+fe)/yt);return Wt($,function(Rt,pt){var or=pt===Q?Ht:Rt/yt;return or-Rt})},v=function($,Q,fe,Oe,yt,Ht){return Ht?l($,Q,Oe,yt):u($,Q,fe,Oe,yt)},p=function($,Q,fe,Oe,yt,Ht,Rt){return v($,fe,Oe,yt,Ht,Rt)},b=function($,Q){return $(Q)},S=function($,Q,fe,Oe,yt,Ht){if(Ht)return l($,fe,Oe,yt);var Rt=wp($,fe,Oe,yt);return Ql($.slice(0,fe)).concat([Rt])},D=function($,Q,fe,Oe){if(Oe){var yt=Q+fe,Ht=yt/Q,Rt=Wt($,function(pt){return pt/Ht});return{delta:Ht*100-100,newSizes:Rt}}else return{delta:fe,newSizes:$}};return{resizeTable:b,clampTableDelta:wp,calcLeftEdgeDeltas:v,calcMiddleDeltas:p,calcRightEdgeDeltas:S,calcRedestributedWidths:D}},wv=function(){var u=function(D,$,Q,fe,Oe){var yt=fe>=0?Q:$,Ht=vy(D,yt,fe,Oe);return Md(D,$,Q+1,[Ht,-Ht],Ql)},l=function(D,$,Q,fe,Oe,yt){return u(D,Q,fe,Oe,yt)},v=function(D,$,Q){Q&&D($)},p=function(D,$,Q,fe,Oe,yt){if(yt)return Ql(D);var Ht=fe/D.length;return Wt(D,Y(Ht))},b=function(D,$,Q,fe,Oe){if(Oe){if(Q>=0)return Q;var yt=oe(D,function(Ht,Rt){return Ht+Rt-fe},0);return Math.max(-yt,Q)}else return wp(D,$,Q,fe)},S=function(D,$,Q,fe){return{delta:0,newSizes:D}};return{resizeTable:v,clampTableDelta:b,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:p,calcRedestributedWidths:S}},Ix=function(u,l){var v=X.from(u.dom.documentElement).map(Lt.fromDom).getOr(u);return{parent:Y(v),view:Y(u),origin:Y(to(0,0)),isResizable:l}},hy=function(u,l,v){var p=function(){return If(l)};return{parent:Y(l),view:Y(u),origin:p,isResizable:v}},Im=function(u,l,v){return{parent:Y(l),view:Y(u),origin:Y(to(0,0)),isResizable:v}},kp={only:Ix,detached:hy,body:Im},Cp=Wl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),l1=function(u,l,v){var p=v.substring(0,v.length-u.length),b=parseFloat(p);return p===b.toString()?l(b):Cp.invalid(v)},Ai=function(u){return Ke(u,"%")?l1("%",Cp.percent,u):Ke(u,"px")?l1("px",Cp.pixels,u):Cp.invalid(u)},kv=st(st({},Cp),{from:Ai}),yi=function(u,l){return Wt(u,function(v){var p=kv.from(v);return p.fold(function(){return v},function(b){var S=b/l*100;return S+"%"},function(b){return b+"%"})})},as=function(u,l,v){var p=v/l;return Wt(u,function(b){var S=kv.from(b);return S.fold(function(){return b},function(D){return D*p+"px"},function(D){return D/100*v+"px"})})},Cv=function(u,l){var v=u.fold(function(){return Y("")},function(p){var b=p/l;return Y(b+"px")},function(){var p=100/l;return Y(p+"%")});return On(l,v)},mc=function(u,l,v){return u.fold(function(){return l},function(p){return as(l,v,p)},function(p){return yi(l,v)})},py=function(u,l,v){var p=kv.from(v),b=qe(u,function(S){return S==="0px"})?Cv(p,u.length):mc(p,u,l);return vk(b)},ef=function(u,l){return u.length===0?l:fa(u,function(v,p){return kv.from(p).fold(Y(0),De,De)+v},0)},$m=function(u,l){var v=Math.floor(u);return{value:v+l,remainder:u-v}},Lm=function(u,l){return kv.from(u).fold(Y(u),function(v){return v+l+"px"},function(v){return v+l+"%"})},vk=function(u){if(u.length===0)return u;var l=fa(u,function(p,b){var S=kv.from(b).fold(function(){return{value:b,remainder:0}},function(D){return $m(D,"px")},function(D){return{value:D+"%",remainder:0}});return{output:[S.value].concat(p.output),remainder:p.remainder+S.remainder}},{output:[],remainder:0}),v=l.output;return v.slice(0,v.length-1).concat([Lm(v[v.length-1],Math.round(l.remainder))])},mk=kv.from,$x=function(u,l,v){sr(l,function(p){var b=u.slice(p.column,p.colspan+p.column),S=ef(b,Af());Xo(p.element,"width",S+v)})},Lx=function(u,l,v){sr(l,function(p,b){var S=ef([u[b]],Af());Xo(p.element,"width",S+v)})},Hx=function(u,l,v,p){sr(v,function(b){var S=u.slice(b.row,b.rowspan+b.row),D=ef(S,Uo());Xo(b.element,"height",D+p)}),sr(l,function(b,S){Xo(b.element,"height",u[S])})},hk=function(u){return mk(u).fold(Y("px"),Y("px"),Y("%"))},gy=function(u,l,v){var p=Vn.fromTable(u),b=p.all,S=Vn.justCells(p),D=Vn.justColumns(p);l.each(function($){var Q=hk($),fe=Xc(u),Oe=gp(p,u),yt=py(Oe,fe,$);Vn.hasColumns(p)?Lx(yt,D,Q):$x(yt,S,Q),Xo(u,"width",$)}),v.each(function($){var Q=hk($),fe=rs(u),Oe=Q_(p,u,j_),yt=py(Oe,fe,$);Hx(yt,b,S,Q),Xo(u,"height",$)})},yy=X_,vu=Rx,by=Wo,f1=function(u){var l=Vn.fromTable(u);return l.grid},Ac=function(u){var l=[],v=function(S){if(S===void 0)throw new Error("Event bind error: undefined handler");l.push(S)},p=function(S){l=dn(l,function(D){return D!==S})},b=function(){for(var S=[],D=0;D<arguments.length;D++)S[D]=arguments[D];var $={};sr(u,function(Q,fe){$[Q]=S[fe]}),sr(l,function(Q){Q($)})};return{bind:v,unbind:p,trigger:b}},wo=function(u){var l=Yu(u,function(p){return{bind:p.bind,unbind:p.unbind}}),v=Yu(u,function(p){return p.trigger});return{registry:l,trigger:v}},hc=function(u,l){var v=null,p=function(){xe(v)||(clearTimeout(v),v=null)},b=function(){for(var S=[],D=0;D<arguments.length;D++)S[D]=arguments[D];p(),v=setTimeout(function(){v=null,u.apply(null,S)},l)};return{cancel:p,throttle:b}},Bd=function(u){return u.slice(0).sort()},d1=function(u,l){throw new Error("All required keys ("+Bd(u).join(", ")+") were not specified. Specified keys were: "+Bd(l).join(", ")+".")},_y=function(u){throw new Error("Unsupported keys for object: "+Bd(u).join(", "))},pk=function(u,l){if(!He(l))throw new Error("The "+u+" fields must be an array. Was: "+l+".");sr(l,function(v){if(!ee(v))throw new Error("The value "+v+" in the "+u+" fields was not a string.")})},Ln=function(u,l){throw new Error("All values need to be of type: "+l+". Keys ("+Bd(u).join(", ")+") were not.")},Hm=function(u){var l=Bd(u),v=$t(l,function(p,b){return b<l.length-1&&p===l[b+1]});v.each(function(p){throw new Error("The field: "+p+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},wy=function(u,l){return v1(u,l,{validate:tt,label:"function"})},v1=function(u,l,v){if(l.length===0)throw new Error("You must specify at least one required field.");return pk("required",l),Hm(l),function(p){var b=ii(p),S=qe(l,function($){return mn(b,$)});S||d1(l,b),u(l,b);var D=dn(l,function($){return!v.validate(p[$],$)});return D.length>0&&Ln(D,v.label),p}},Oi=function(u,l){var v=dn(l,function(p){return!mn(u,p)});v.length>0&&_y(v)},Oc=function(u){return wy(Oi,u)},gk=Oc(["compare","extract","mutate","sink"]),xv=Oc(["element","start","stop","destroy"]),ho=Oc(["forceDrop","drop","move","delayDrop"]),Sv=function(){var u=X.none(),l=function(){u=X.none()},v=function(S,D){var $=u.map(function(Q){return S.compare(Q,D)});return u=X.some(D),$},p=function(S,D){var $=D.extract(S);$.each(function(Q){var fe=v(D,Q);fe.each(function(Oe){b.trigger.move(Oe)})})},b=wo({move:Ac(["info"])});return{onEvent:p,reset:l,events:b.registry}},ky=function(){var u=wo({move:Ac(["info"])});return{onEvent:Xe,reset:Xe,events:u.registry}},Vm=function(){var u=ky(),l=Sv(),v=u,p=function(){v.reset(),v=l},b=function(){v.reset(),v=u},S=function($,Q){v.onEvent($,Q)},D=function(){return v===l};return{on:p,off:b,isOn:D,onEvent:S,events:l.events}},m1=function(u,l,v){var p=!1,b=wo({start:Ac([]),stop:Ac([])}),S=Vm(),D=function(){Rt.stop(),S.isOn()&&(S.off(),b.trigger.stop())},$=hc(D,200),Q=function(or){Rt.start(or),S.on(),b.trigger.start()},fe=function(or){$.cancel(),S.onEvent(or,l)};S.events.move.bind(function(or){l.mutate(u,or.info)});var Oe=function(){p=!0},yt=function(){p=!1},Ht=function(or){return function(){for(var lr=[],Wr=0;Wr<arguments.length;Wr++)lr[Wr]=arguments[Wr];p&&or.apply(null,lr)}},Rt=l.sink(ho({forceDrop:D,drop:Ht(D),move:Ht(fe),delayDrop:Ht($.throttle)}),v),pt=function(){Rt.destroy()};return{element:Rt.element,go:Q,on:Oe,off:yt,destroy:pt,events:b.registry}},yk=function(u,l,v,p,b,S,D){return{target:u,x:l,y:v,stop:p,prevent:b,kill:S,raw:D}},xp=function(u){var l=Lt.fromDom(Dr(u).getOr(u.target)),v=function(){return u.stopPropagation()},p=function(){return u.preventDefault()},b=at(p,v);return yk(l,u.clientX,u.clientY,v,p,b,u)},bk=function(u,l){return function(v){u(v)&&l(xp(v))}},jf=function(u,l,v,p,b){var S=bk(v,p);return u.dom.addEventListener(l,S,b),{unbind:Je(h1,u,l,S,b)}},os=function(u,l,v,p){return jf(u,l,v,p,!1)},h1=function(u,l,v,p){u.dom.removeEventListener(l,v,p)},Vx=ce,Sl=function(u,l,v){return os(u,l,Vx,v)},Wf=xp,Cy=function(u,l){var v=rc(u,l);return v===void 0||v===""?[]:v.split(" ")},Ux=function(u,l,v){var p=Cy(u,l),b=p.concat([v]);return Si(u,l,b.join(" ")),!0},jx=function(u,l,v){var p=dn(Cy(u,l),function(b){return b!==v});return p.length>0?Si(u,l,p.join(" ")):fo(u,l),!1},Tv=function(u){return u.dom.classList!==void 0},Ev=function(u){return Cy(u,"class")},xy=function(u,l){return Ux(u,"class",l)},Ra=function(u,l){return jx(u,"class",l)},Ri=function(u,l){Tv(u)?u.dom.classList.add(l):xy(u,l)},is=function(u){var l=Tv(u)?u.dom.classList:Ev(u);l.length===0&&fo(u,"class")},Ss=function(u,l){if(Tv(u)){var v=u.dom.classList;v.remove(l)}else Ra(u,l);is(u)},uo=function(u,l){return Tv(u)&&u.dom.classList.contains(l)},Nd=function(u){var l=u.replace(/\./g,"-"),v=function(p){return l+"-"+p};return{resolve:v}},Sy=Nd("ephox-dragster"),Li=Sy.resolve,tf=function(u){var l=st({layerClass:Li("blocker")},u),v=Lt.fromTag("div");Si(v,"role","presentation"),Vl(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Ri(v,Li("blocker")),Ri(v,l.layerClass);var p=Y(v),b=function(){ws(v)};return{element:p,destroy:b}},Wx=function(u,l){return to(l.left-u.left,l.top-u.top)},qx=function(u){return X.some(to(u.x,u.y))},Ty=function(u,l){u.mutate(l.left,l.top)},Ey=function(u,l){var v=tf(l),p=Sl(v.element(),"mousedown",u.forceDrop),b=Sl(v.element(),"mouseup",u.drop),S=Sl(v.element(),"mousemove",u.move),D=Sl(v.element(),"mouseout",u.delayDrop),$=function(){v.destroy(),b.unbind(),S.unbind(),D.unbind(),p.unbind()},Q=function(Oe){jo(Oe,v.element())},fe=function(){ws(v.element())};return xv({element:v.element,start:Q,stop:fe,destroy:$})},p1=gk({compare:Wx,extract:qx,sink:Ey,mutate:Ty}),g1=function(u,l){l===void 0&&(l={});var v=l.mode!==void 0?l.mode:p1;return m1(u,v,l)},zv=function(u){return Ho(u,"[contenteditable]")},Sp=function(u,l){return l===void 0&&(l=!1),!ge().browser.isIE()&&Cn(u)?u.dom.isContentEditable:zv(u).fold(Y(l),function(v){return y1(v)==="true"})},y1=function(u){return u.dom.contentEditable},b1=Nd("ephox-snooker"),Um=b1.resolve,mu=function(){var u=wo({drag:Ac(["xDelta","yDelta"])}),l=function(v,p){u.trigger.drag(v,p)};return{mutate:l,events:u.registry}},qs=function(){var u=wo({drag:Ac(["xDelta","yDelta","target"])}),l=X.none(),v=mu();v.events.drag.bind(function(S){l.each(function(D){u.trigger.drag(S.xDelta,S.yDelta,D)})});var p=function(S){l=X.some(S)},b=function(){return l};return{assign:p,get:b,mutate:v.mutate,events:u.registry}},Tp=function(u,l,v,p,b){var S=Lt.fromTag("div");return Vl(S,{position:"absolute",left:l-p/2+"px",top:v+"px",height:b+"px",width:p+"px"}),ui(S,{"data-column":u,role:"presentation"}),S},Di=function(u,l,v,p,b){var S=Lt.fromTag("div");return Vl(S,{position:"absolute",left:l+"px",top:v-b/2+"px",height:b+"px",width:p+"px"}),ui(S,{"data-row":u,role:"presentation"}),S},zy=Um("resizer-bar"),qf=Um("resizer-rows"),_1=Um("resizer-cols"),w1=7,_k=function(u,l){return rt(u.all,function(v,p){return l(v.element)?[p]:[]})},k1=function(u,l){var v=[];return On(u.grid.columns,function(p){var b=Vn.getColumnAt(u,p).map(function(S){return S.element});b.forall(l)&&v.push(p)}),dn(v,function(p){var b=Vn.filterItems(u,function(S){return S.column===p});return qe(b,function(S){return l(S.element)})})},Ep=function(u){var l=Fs(u.parent(),"."+zy);sr(l,ws)},Ay=function(u,l,v){var p=u.origin();sr(l,function(b){b.each(function(S){var D=v(p,S);Ri(D,zy),jo(u.parent(),D)})})},wk=function(u,l,v,p){Ay(u,l,function(b,S){var D=Tp(S.col,S.x-b.left,v.top-b.top,w1,p);return Ri(D,_1),D})},Gx=function(u,l,v,p){Ay(u,l,function(b,S){var D=Di(S.row,v.left-b.left,S.y-b.top,p,w1);return Ri(D,qf),D})},Mu=function(u,l,v,p,b){var S=If(v),D=l.isResizable,$=p.length>0?j_.positions(p,v):[],Q=$.length>0?_k(u,D):[],fe=dn($,function(Rt,pt){return O(Q,function(or){return pt===or})});Gx(l,fe,S,Ou(v));var Oe=b.length>0?zm.positions(b,v):[],yt=Oe.length>0?k1(u,D):[],Ht=dn(Oe,function(Rt,pt){return O(yt,function(or){return pt===or})});wk(l,Ht,S,Cs(v))},Hi=function(u,l){if(Ep(u),u.isResizable(l)){var v=Vn.fromTable(l),p=bd(v),b=dv(v);Mu(v,u,l,p,b)}},us=function(u,l){var v=Fs(u.parent(),"."+zy);sr(v,l)},ss=function(u){us(u,function(l){Xo(l,"display","none")})},Ts=function(u){us(u,function(l){Xo(l,"display","block")})},bi=function(u){return uo(u,qf)},Oy=function(u){return uo(u,_1)},Ry=Um("resizer-bar-dragging"),C1=function(u){var l=qs(),v=g1(l,{}),p=X.none(),b=function(pt,or){return X.from(rc(pt,or))};l.events.drag.bind(function(pt){b(pt.target,"data-row").each(function(or){var lr=zf(pt.target,"top");Xo(pt.target,"top",lr+pt.yDelta+"px")}),b(pt.target,"data-column").each(function(or){var lr=zf(pt.target,"left");Xo(pt.target,"left",lr+pt.xDelta+"px")})});var S=function(pt,or){var lr=zf(pt,or),Wr=Sc(pt,"data-initial-"+or,0);return lr-Wr};v.events.stop.bind(function(){l.get().each(function(pt){p.each(function(or){b(pt,"data-row").each(function(lr){var Wr=S(pt,"top");fo(pt,"data-initial-top"),Rt.trigger.adjustHeight(or,Wr,parseInt(lr,10))}),b(pt,"data-column").each(function(lr){var Wr=S(pt,"left");fo(pt,"data-initial-left"),Rt.trigger.adjustWidth(or,Wr,parseInt(lr,10))}),Hi(u,or)})})});var D=function(pt,or){Rt.trigger.startAdjust(),l.assign(pt),Si(pt,"data-initial-"+or,zf(pt,or)),Ri(pt,Ry),Xo(pt,"opacity","0.2"),v.go(u.parent())},$=Sl(u.parent(),"mousedown",function(pt){bi(pt.target)&&D(pt.target,"top"),Oy(pt.target)&&D(pt.target,"left")}),Q=function(pt){return Wn(pt,u.view())},fe=function(pt){return Ho(pt,"table",Q).filter(Sp)},Oe=Sl(u.view(),"mouseover",function(pt){fe(pt.target).fold(function(){Cn(pt.target)&&Ep(u)},function(or){p=X.some(or),Hi(u,or)})}),yt=function(){$.unbind(),Oe.unbind(),v.destroy(),Ep(u)},Ht=function(pt){Hi(u,pt)},Rt=wo({adjustHeight:Ac(["table","delta","row"]),adjustWidth:Ac(["table","delta","column"]),startAdjust:Ac([])});return{destroy:yt,refresh:Ht,on:v.on,off:v.off,hideBars:Je(ss,u),showBars:Je(Ts,u),events:Rt.registry}},Av=function(u,l,v){var p=j_,b=zm,S=C1(u),D=wo({beforeResize:Ac(["table","type"]),afterResize:Ac(["table","type"]),startDrag:Ac([])});return S.events.adjustHeight.bind(function($){var Q=$.table;D.trigger.beforeResize(Q,"row");var fe=p.delta($.delta,Q);Cl(Q,fe,$.row,p),D.trigger.afterResize(Q,"row")}),S.events.startAdjust.bind(function($){D.trigger.startDrag()}),S.events.adjustWidth.bind(function($){var Q=$.table;D.trigger.beforeResize(Q,"col");var fe=b.delta($.delta,Q),Oe=v(Q);fy(Q,fe,$.column,l,Oe),D.trigger.afterResize(Q,"col")}),{on:S.on,off:S.off,hideBars:S.hideBars,showBars:S.showBars,destroy:S.destroy,events:D.registry}},Pd={create:Av},Dy=function(u,l){return u.fire("newrow",{node:l})},My=function(u,l){return u.fire("newcell",{node:l})},By=function(u,l,v,p,b){u.fire("ObjectResizeStart",{target:l,width:v,height:p,origin:b})},jm=function(u,l,v,p,b){u.fire("ObjectResized",{target:l,width:v,height:p,origin:b})},Wm=function(u,l,v,p,b){u.fire("TableSelectionChange",{cells:l,start:v,finish:p,otherCells:b})},kk=function(u){u.fire("TableSelectionClear")},rf=function(u,l,v){u.fire("TableModified",st(st({},v),{table:l}))},Ov={structure:!1,style:!0},Oo={structure:!0,style:!1},Kx={structure:!0,style:!0},Xx="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Ny={"border-collapse":"collapse",width:"100%"},Yx=On(5,function(u){var l=u+1+"px";return{title:l,value:l}}),Ck=Wt(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),cr=function(u){var l;if(Gf(u)){var v=u.dom,p=(l=v.getParent(u.selection.getStart(),v.isBlock))!==null&&l!==void 0?l:u.getBody(),b=Oa(Lt.fromDom(p));return st(st({},Ny),{width:b+"px"})}else return qm(u)?bt(Ny,function(S,D){return D!=="width"}):Ny},Zx={border:"1"},Mi="preservetable",x1=function(u){return u.getParam("table_sizing_mode","auto")},Rv=function(u){return u.getParam("table_responsive_width")},xk=function(u){return u.getParam("table_border_widths",Yx,"array")},Hu=function(u){return u.getParam("table_border_styles",Ck,"array")},zp=function(u){return u.getParam("table_default_attributes",Zx,"object")},Py=function(u){return u.getParam("table_default_styles",cr(u),"object")},Ap=function(u){return u.getParam("table_resize_bars",!0,"boolean")},Tl=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Op=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Rp=function(u){return u.getParam("table_row_advtab",!0,"boolean")},cs=function(u){return u.getParam("table_advtab",!0,"boolean")},El=function(u){return u.getParam("table_appearance_options",!0,"boolean")},Sk=function(u){return u.getParam("table_grid",!0,"boolean")},Vu=function(u){return u.getParam("table_style_by_css",!1,"boolean")},nf=function(u){return u.getParam("table_cell_class_list",[],"array")},Fd=function(u){return u.getParam("table_row_class_list",[],"array")},Dp=function(u){return u.getParam("table_class_list",[],"array")},vt=function(u){return x1(u)==="relative"||Rv(u)===!0},Gf=function(u){return x1(u)==="fixed"||Rv(u)===!1},qm=function(u){return x1(u)==="responsive"},Jx=function(u){return u.getParam("table_toolbar",Xx)},Fy=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},tl=function(u){var l="section",v=u.getParam("table_header_type",l,"string"),p=["section","cells","sectionCells","auto"];return mn(p,v)?v:l},Iy=function(u){var l=["preservetable","resizetable"],v=u.getParam("table_column_resizing",Mi,"string");return $t(l,function(p){return p===v}).getOr(Mi)},S1=function(u){return Iy(u)==="preservetable"},T1=function(u){return Iy(u)==="resizetable"},$y=function(u){var l=u.getParam("table_clone_elements");return ee(l)?X.some(l.split(/[ ,]/)):Array.isArray(l)?X.some(l):X.none()},E1=function(u){var l=u.getParam("object_resizing",!0);return ee(l)?l==="table":l},z1=function(u){return u.getParam("table_background_color_map",[],"array")},A1=function(u){return u.getParam("table_border_color_map",[],"array")},O1=function(u,l){return vt(u)?Hf.percentageSize(l):Gf(u)?Hf.pixelSize(l):Hf.getTableSize(l)},Dv=function(u){fo(u,"width")},Tk=function(u){var l=Dm(u);gy(u,X.some(l),X.none()),Dv(u)},Qx=function(u){var l=Ox(u);gy(u,X.some(l),X.none()),Dv(u)},eS=function(u){uu(u,"width");var l=yl(u),v=l.length>0?l:Df(u);sr(v,function(p){uu(p,"width"),Dv(p)}),Dv(u)},Gm=Tk,Km=Qx,Ly=eS,R1=function(u){var l=Vn.fromTable(u);Vn.hasColumns(l)||sr(Df(u),function(v){var p=pl(v,"width");Xo(v,"width",p),fo(v,"width")})},Xm=function(){var u=Lt.fromTag("div");return Vl(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),jo(an(),u),u},D1=function(u,l){return u.inline?kp.body(Yl(u),Xm(),l):kp.only(Lt.fromDom(u.getDoc()),l)},Yo=function(u,l){u.inline&&ws(l.parent())},Mp="bar-",ni=function(u){return rc(u,"data-mce-resize")!=="false"},Hy=function(u){var l=X.none(),v=X.none(),p=X.none(),b,S,D=function(pt){return pt.nodeName==="TABLE"},$=function(){return v},Q=function(){return p.getOr(kp.only(Lt.fromDom(u.getBody()),ni))},fe=function(pt){return O1(u,pt)},Oe=function(){return S1(u)?wv():my()},yt=function(pt){return f1(pt).columns},Ht=function(pt,or,lr){var Wr=Ke(or,"e");if(S===""&&Gm(pt),lr!==b&&S!==""){Xo(pt,"width",S);var pa=Oe(),Xr=fe(pt),_n=S1(u)||Wr?yt(pt)-1:0;fy(pt,lr-b,_n,pa,Xr)}else if(Td(S)){var oa=parseFloat(S.replace("%","")),Qn=lr*oa/b;Xo(pt,"width",Qn+"%")}Nm(S)&&R1(pt)},Rt=function(){v.each(function(pt){pt.destroy()}),p.each(function(pt){Yo(u,pt)})};return u.on("init",function(){var pt=D1(u,ni);if(p=X.some(pt),E1(u)&&Ap(u)){var or=Oe(),lr=Pd.create(pt,or,fe);lr.on(),lr.events.startDrag.bind(function(Wr){l=X.some(u.selection.getRng())}),lr.events.beforeResize.bind(function(Wr){var pa=Wr.table.dom;By(u,pa,Vf(pa),Uf(pa),Mp+Wr.type)}),lr.events.afterResize.bind(function(Wr){var pa=Wr.table,Xr=pa.dom;ns(pa),l.each(function(_n){u.selection.setRng(_n),u.focus()}),jm(u,Xr,Vf(Xr),Uf(Xr),Mp+Wr.type),u.undoManager.add()}),v=X.some(lr)}}),u.on("ObjectResizeStart",function(pt){var or=pt.target;if(D(or)){var lr=Lt.fromDom(or);sr(u.dom.select(".mce-clonedresizable"),function(Wr){u.dom.addClass(Wr,"mce-"+Iy(u)+"-columns")}),!vu(lr)&&Gf(u)?Km(lr):!yy(lr)&&vt(u)&&Gm(lr),by(lr)&&Co(pt.origin,Mp)&&Gm(lr),b=pt.width,S=qm(u)?"":Zl(u,or).getOr("")}}),u.on("ObjectResized",function(pt){var or=pt.target;if(D(or)){var lr=Lt.fromDom(or),Wr=pt.origin;Co(Wr,"corner-")&&Ht(lr,Wr,pt.width),ns(lr),rf(u,lr.dom,Ov)}}),u.on("SwitchMode",function(){$().each(function(pt){u.mode.isReadOnly()?pt.hideBars():pt.showBars()})}),{lazyResize:$,lazyWire:Q,destroy:Rt}},Mv=function(u,l){return{element:u,offset:l}},M1=function(u,l,v){return u.property().isText(l)&&u.property().getText(l).trim().length===0||u.property().isComment(l)?v(l).bind(function(p){return M1(u,p,v).orThunk(function(){return X.some(p)})}):X.none()},Bp=function(u,l){if(u.property().isText(l))return u.property().getText(l).length;var v=u.property().children(l);return v.length},B1=function(u,l){var v=M1(u,l,u.query().prevSibling).getOr(l);if(u.property().isText(v))return Mv(v,Bp(u,v));var p=u.property().children(v);return p.length>0?B1(u,p[p.length-1]):Mv(v,Bp(u,v))},Ek=B1,tS=cp(),zk=function(u){return Ek(tS,u)},rS=function(u,l){var v=Ti(u,"colspan");if(v===1){var p=Om(u);p.each(function(b){var S=b.value/2;Rm(u,S,b.unit),Rm(l,S,b.unit)})}},Vy=go("th"),Np=function(u){return qe(u,function(l){return Vy(l.element)})},nS=function(u,l){return u&&l?"sectionCells":u?"section":"cells"},Ak=function(u){var l=u.section==="thead",v=hl(N1(u.cells),"th");return l||v?{type:"header",subType:nS(l,v)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},N1=function(u){var l=dn(u,function(v){return Vy(v.element)});return l.length===0?X.some("td"):l.length===u.length?X.some("th"):X.none()},aS=function(u){var l=Wt(u,function(S){return Ak(S).type}),v=mn(l,"header"),p=mn(l,"footer");if(!v&&!p)return X.some("body");var b=mn(l,"body");return v&&!b&&!p?X.some("header"):!v&&!b&&p?X.some("footer"):X.none()},oS=function(u){return ut(u.all,function(l){var v=Ak(l);return v.type==="header"?X.from(v.subType):X.none()})},Uy=function(u,l,v){return Mo(v(u.element,l),!0,u.isLocked)},P1=function(u,l){return u.section!==l?Hr(u.element,u.cells,l,u.isNew):u},hu=function(){return{transformRow:P1,transformCell:function(u,l,v){var p=v(u.element,l),b=qn(p)!=="td"?Cx(p,"td"):p;return Mo(b,u.isNew,u.isLocked)}}},Ym=function(){return{transformRow:P1,transformCell:Uy}},Zm=function(){return{transformRow:function(u,l){var v=l==="thead"?"tbody":l;return P1(u,v)},transformCell:Uy}},Ok=function(){return{transformRow:De,transformCell:Uy}},iS=function(u,l){var v=Vn.fromTable(u),p=oS(v).getOr(l);switch(p){case"section":return hu();case"sectionCells":return Ym();case"cells":return Zm()}},Pp={getTableSectionType:iS,section:hu,sectionCells:Ym,cells:Zm,fallback:Ok},Fp=function(u,l,v,p){v===p?fo(u,l):Si(u,l,v)},Bv=function(u,l,v){Pr(Fn(u,l)).fold(function(){return cu(u,v)},function(p){return io(p,v)})},jy=function(u,l){var v=vn(u,l).getOrThunk(function(){var p=Lt.fromTag(l,Ps(u).dom);return l==="thead"?Bv(u,"caption,colgroup",p):l==="colgroup"?Bv(u,"caption",p):jo(u,p),p});return up(v),v},Ip=function(u,l){var v=[],p=[],b=function(Rt){return Wt(Rt,function(pt){pt.isNew&&v.push(pt.element);var or=pt.element;return up(or),sr(pt.cells,function(lr){lr.isNew&&p.push(lr.element),Fp(lr.element,"colspan",lr.colspan,1),Fp(lr.element,"rowspan",lr.rowspan,1),jo(or,lr.element)}),or})},S=function(Rt){return rt(Rt,function(pt){return Wt(pt.cells,function(or){return Fp(or.element,"span",or.colspan,1),or.element})})},D=function(Rt,pt){var or=jy(u,pt),lr=pt==="colgroup"?S:b,Wr=lr(Rt);bl(or,Wr)},$=function(Rt){vn(u,Rt).each(ws)},Q=function(Rt,pt){Rt.length>0?D(Rt,pt):$(pt)},fe=[],Oe=[],yt=[],Ht=[];return sr(l,function(Rt){switch(Rt.section){case"thead":fe.push(Rt);break;case"tbody":Oe.push(Rt);break;case"tfoot":yt.push(Rt);break;case"colgroup":Ht.push(Rt);break}}),Q(Ht,"colgroup"),Q(fe,"thead"),Q(Oe,"tbody"),Q(yt,"tfoot"),{newRows:v,newCells:p}},F1=function(u){return Wt(u,function(l){var v=Kc(l.element);return sr(l.cells,function(p){var b=Ua(p.element);Fp(b,"colspan",p.colspan,1),Fp(b,"rowspan",p.rowspan,1),jo(v,b)}),v})},uS=function(u,l){return Wt(u,function(v){return es(v,l)})},af=function(u,l){return u[l]},Wy=function(u,l){if(u.length===0)return 0;var v=u[0],p=Qe(u,function(b){return!l(v.element,b.element)});return p.getOr(u.length)},sS=function(u,l,v,p){var b=af(u,l),S=b.section==="colgroup",D=Wy(b.cells.slice(v),p),$=S?1:Wy(uS(u.slice(l),v),p);return{colspan:D,rowspan:$}},Id=function(u,l){var v=Wt(u,function(b){return Wt(b.cells,Ge)}),p=function(b,S,D,$){for(var Q=b;Q<b+D;Q++)for(var fe=S;fe<S+$;fe++)v[Q][fe]=!0};return Wt(u,function(b,S){var D=rt(b.cells,function($,Q){if(v[S][Q]===!1){var fe=sS(u,S,Q,l);return p(S,Q,fe.rowspan,fe.colspan),[Tn($.element,fe.rowspan,fe.colspan,$.isNew)]}else return[]});return xu(b.element,D,b.section,b.isNew)})},$d=function(u,l,v){var p=[];sr(u.colgroups,function(Oe){for(var yt=[],Ht=0;Ht<u.grid.columns;Ht++){var Rt=Vn.getColumnAt(u,Ht).map(function(pt){return Mo(pt.element,v,!1)}).getOrThunk(function(){return Mo(l.colGap(),!0,!1)});yt.push(Rt)}p.push(Hr(Oe.element,yt,"colgroup",v))});for(var b=0;b<u.grid.rows;b++){for(var S=[],D=0;D<u.grid.columns;D++){var $=Vn.getAt(u,b,D).map(function(Oe){return Mo(Oe.element,v,Oe.isLocked)}).getOrThunk(function(){return Mo(l.gap(),!0,!1)});S.push($)}var Q=u.all[b],fe=Hr(Q.element,S,Q.section,v);p.push(fe)}return p},cS=function(u,l){return $d(u,l,!1)},qy=function(u){return Id(u,Wn)},Gy=function(u,l){return ut(u.all,function(v){return $t(v.cells,function(p){return Wn(l,p.element)})})},Ky=function(u,l,v){var p=Wt(l.selection,function(S){return gl(S).bind(function(D){return Gy(u,D)}).filter(v)}),b=pi(p);return Qa(b.length>0,b)},Ji=function(u,l,v,p,b){return function(S,D,$,Q,fe){var Oe=Vn.fromTable(D),yt=X.from(fe==null?void 0:fe.section).getOrThunk(Pp.fallback),Ht=l(Oe,$).map(function(Rt){var pt=cS(Oe,Q),or=u(pt,Rt,Wn,b(Q),yt),lr=su(or.grid),Wr=qy(or.grid);return{info:Rt,grid:Wr,cursor:or.cursor,lockedColumns:lr}});return Ht.bind(function(Rt){var pt=Ip(D,Rt.grid),or=X.from(fe==null?void 0:fe.sizing).getOrThunk(function(){return Hf.getTableSize(D)}),lr=X.from(fe==null?void 0:fe.resize).getOrThunk(wv);return v(D,Rt.grid,Rt.info,{sizing:or,resize:lr,section:yt}),p(D),Hi(S,D),fo(D,si),Rt.lockedColumns.length>0&&Si(D,si,Rt.lockedColumns.join(",")),X.some({cursor:Rt.cursor,newRows:pt.newRows,newCells:pt.newCells})})}},Rk=function(u,l){return gl(l.element).bind(function(v){return Gy(u,v).map(function(p){var b=st(st({},p),{generators:l.generators,clipboard:l.clipboard});return b})})},I1=function(u,l){return Ky(u,l,ce).map(function(v){return{cells:v,generators:l.generators,clipboard:l.clipboard}})},Dk=function(u,l){return l.mergable},Mk=function(u,l){return l.unmergable},zl=function(u,l){return Ky(u,l,ce)},Kf=function(u,l){return Ky(u,l,function(v){return!v.isLocked})},Bk=function(u,l){return Gy(u,l).exists(function(v){return!v.isLocked})},Nk=function(u,l){return qe(l,function(v){return Bk(u,v)})},$1=function(u,l){return Dk(u,l).filter(function(v){return Nk(u,v.cells)})},Xy=function(u,l){return Mk(u,l).filter(function(v){return Nk(u,v)})},Pk=function(u,l,v,p){var b=ti(u).rows;if(b.length===0)return u;for(var S=l.startRow;S<=l.finishRow;S++)for(var D=l.startCol;D<=l.finishCol;D++){var $=b[S],Q=es($,D).isLocked;Ul($,D,Mo(p(),!1,Q))}return u},Jm=function(u,l,v,p){for(var b=ti(u).rows,S=!0,D=0;D<b.length;D++)for(var $=0;$<ac(b[0]);$++){var Q=b[D],fe=es(Q,$),Oe=fe.element,yt=v(Oe,l);yt===!0&&S===!1?Ul(Q,$,Mo(p(),!0,fe.isLocked)):yt===!0&&(S=!1)}return u},lS=function(u,l){return oe(u,function(v,p){return O(v,function(b){return l(b.element,p.element)})?v:v.concat([p])},[])},$p=function(u,l,v,p){return l>0&&l<u[0].cells.length&&sr(u,function(b){var S=b.cells[l-1],D=b.cells[l],$=v(D.element,S.element);$&&Ul(b,l,Mo(p(),!0,D.isLocked))}),u},fS=function(u,l,v,p){var b=ti(u).rows;if(l>0&&l<b.length){var S=b[l-1].cells,D=lS(S,v);sr(D,function($){for(var Q=X.none(),fe=l;fe<b.length;fe++)for(var Oe=function(Ht){var Rt=b[fe],pt=es(Rt,Ht),or=v(pt.element,$.element);or&&(Q.isNone()&&(Q=X.some(p())),Q.each(function(lr){Ul(Rt,Ht,Mo(lr,!0,pt.isLocked))}))},yt=0;yt<ac(b[0]);yt++)Oe(yt)})}return u},Qm=function(u){var l=function(yt){return Qm(u)},v=function(yt){return Qm(u)},p=function(yt){return Qm(yt(u))},b=function(yt){return Qm(u)},S=function(yt){yt(u)},D=function(yt){return yt(u)},$=function(yt,Ht){return Ht(u)},Q=function(yt){return yt(u)},fe=function(yt){return yt(u)},Oe=function(){return X.some(u)};return{isValue:ce,isError:Ge,getOr:Y(u),getOrThunk:Y(u),getOrDie:Y(u),or:l,orThunk:v,fold:$,map:p,mapError:b,each:S,bind:D,exists:Q,forall:fe,toOptional:Oe}},Nv=function(u){var l=function(fe){return fe()},v=function(){return Le(String(u))()},p=De,b=function(fe){return fe()},S=function(fe){return Nv(u)},D=function(fe){return Nv(fe(u))},$=function(fe){return Nv(u)},Q=function(fe,Oe){return fe(u)};return{isValue:Ge,isError:ce,getOr:De,getOrThunk:l,getOrDie:v,or:p,orThunk:b,fold:Q,map:S,mapError:D,each:Xe,bind:$,exists:Ge,forall:ce,toOptional:X.none}},L1=function(u,l){return u.fold(function(){return Nv(l)},Qm)},Fk={value:Qm,error:Nv,fromOption:L1},dS=function(u,l,v){if(u.row>=l.length||u.column>ac(l[0]))return Fk.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var p=l.slice(u.row),b=p[0].cells.slice(u.column),S=ac(v[0]),D=v.length;return Fk.value({rowDelta:p.length-D,colDelta:b.length-S})},Ik=function(u,l){var v=ac(u[0]),p=ac(l[0]);return{rowDelta:0,colDelta:v-p}},$k=function(u,l){var v=u.length,p=l.length;return{rowDelta:v-p,colDelta:0}},H1=function(u,l,v,p){var b=l.section==="colgroup"?v.col:v.cell;return On(u,function(S){return Mo(b(),!0,p(S))})},vS=function(u,l,v,p){var b=u[u.length-1];return u.concat(On(l,function(){var S=b.section==="colgroup"?v.colgroup:v.row,D=Ei(b,S,De),$=H1(D.cells.length,D,v,function(Q){return G(p,Q.toString())});return pn(D,$)}))},Yy=function(u,l,v,p){return Wt(u,function(b){var S=H1(l,b,v,Ge);return Mf(b,p,S)})},mS=function(u,l,v){return Wt(u,function(p){return oe(v,function(b,S){var D=H1(1,p,l,ce)[0];return Bf(b,S,D)},p)})},Lp=function(u,l,v){var p=l.colDelta<0?Yy:De,b=l.rowDelta<0?vS:De,S=su(u),D=ac(u[0]),$=O(S,function(Oe){return Oe===D-1}),Q=p(u,Math.abs(l.colDelta),v,$?D-1:D),fe=su(Q);return b(Q,Math.abs(l.rowDelta),v,Pe(fe,ce))},hS=function(u,l,v,p){var b=es(u[l],v),S=Je(p,b.element),D=u[l];return u.length>1&&ac(D)>1&&(v>0&&S(zu(D,v-1))||v<D.cells.length-1&&S(zu(D,v+1))||l>0&&S(zu(u[l-1],v))||l<u.length-1&&S(zu(u[l+1],v)))},pS=function(u,l,v,p,b,S){for(var D=u.row,$=u.column,Q=v.length,fe=ac(v[0]),Oe=D+Q,yt=$+fe+S.length,Ht=Pe(S,ce),Rt=D;Rt<Oe;Rt++)for(var pt=0,or=$;or<yt;or++){if(Ht[or]){pt++;continue}hS(l,Rt,or,b)&&Jm(l,zu(l[Rt],or),b,p.cell);var lr=or-$-pt,Wr=es(v[Rt-D],lr),pa=Wr.element,Xr=p.replace(pa);Ul(l[Rt],or,Mo(Xr,!0,Wr.isLocked))}return l},gS=function(u,l,v){var p=ac(l[0]),b=ti(l).cols.length+u.row,S=On(p-u.column,function($){return $+u.column}),D=$t(S,function($){return qe(v,function(Q){return Q!==$})}).getOr(p-1);return{row:b,column:D}},Zy=function(u,l,v){return dn(v,function(p){return p>=u.column&&p<=ac(l[0])+u.column})},yS=function(u,l,v,p,b){var S=su(l),D=gS(u,l,S),$=ti(v).rows,Q=Zy(D,$,S),fe=dS(D,l,$);return fe.map(function(Oe){var yt=st(st({},Oe),{colDelta:Oe.colDelta-Q.length}),Ht=Lp(l,yt,p),Rt=su(Ht),pt=Zy(D,$,Rt);return pS(D,Ht,$,p,b,pt)})},eh=function(u,l,v,p,b){$p(l,u,b,p.cell);var S=$k(v,l),D=Lp(v,S,p),$=$k(l,D),Q=Lp(l,$,p);return Wt(Q,function(fe,Oe){return Mf(fe,u,D[Oe].cells)})},Lk=function(u,l,v,p,b){fS(l,u,b,p.cell);var S=su(l),D=Ik(l,v),$=st(st({},D),{colDelta:D.colDelta-S.length}),Q=Lp(l,$,p),fe=ti(Q),Oe=fe.cols,yt=fe.rows,Ht=su(Q),Rt=Ik(v,l),pt=st(st({},Rt),{colDelta:Rt.colDelta+Ht.length}),or=mS(v,p,Ht),lr=Lp(or,pt,p);return Oe.concat(yt.slice(0,u)).concat(lr).concat(yt.slice(u,yt.length))},bS=function(u,l,v,p){return Ei(u,function(b){return p(b,v)},l)},V1=function(u,l,v,p,b){var S=ti(u),D=S.rows,$=S.cols,Q=D.slice(0,l),fe=D.slice(l),Oe=bS(D[v],function(yt,Ht){var Rt=l>0&&l<D.length&&p(zu(D[l-1],Ht),zu(D[l],Ht)),pt=Rt?es(D[l],Ht):Mo(b(yt.element,p),!0,yt.isLocked);return pt},p,b);return $.concat(Q).concat([Oe]).concat(fe)},Hk=function(u,l,v,p,b,S,D){if(v==="colgroup"||!p){var $=es(u,b);return Mo(D($.element,S),!0,!1)}else return es(u,l)},U1=function(u,l,v,p,b){return Wt(u,function(S){var D=l>0&&l<ac(S)&&p(zu(S,l-1),zu(S,l)),$=Hk(S,l,S.section,D,v,p,b);return Bf(S,l,$)})},Vk=function(u,l){return rt(u,function(v){var p=v.cells,b=fa(l,function(S,D){return D>=0&&D<S.length?S.slice(0,D).concat(S.slice(D+1)):S},p);return b.length>0?[Hr(v.element,b,v.section,v.isNew)]:[]})},Uk=function(u,l,v){var p=ti(u),b=p.rows,S=p.cols;return S.concat(b.slice(0,l)).concat(b.slice(v+1))},th=function(u,l,v,p){return zu(u[l],v)!==void 0&&l>0&&p(zu(u[l-1],v),zu(u[l],v))},j1=function(u,l,v){return l>0&&v(zu(u,l-1),zu(u,l))},W1=function(u,l,v,p){return th(u,l,v,p)||j1(u[l],v,p)},_S=function(u,l){var v=qe(l,De)&&Np(u.cells);return v?ce:function(p,b,S){var D=qn(p.element);return!(D==="th"&&l[S])}},wS=function(u,l){var v=qe(l,De)&&Np(u);return v?ce:function(p,b,S){var D=qn(p.element);return!(D==="th"&&l[b])}},q1=function(u,l,v,p){var b=function($){return $==="row"?Gg(l):cv(l)},S=function($){return b($)?$+"group":$};if(u)return Vy(l)?S(v):null;if(p&&Vy(l)){var D=v==="row"?"col":"row";return S(D)}else return null},kS=function(u,l){return function(v,p,b){return X.some(q1(u,v.element,"col",l[b]))}},jk=function(u,l){return function(v,p){return X.some(q1(u,v.element,"row",l[p]))}},Ld=function(u,l,v){return Mo(v(u.element,l),!0,u.isLocked)},rh=function(u,l,v,p,b,S,D){var $=function(Q){return O(l,function(fe){return v(Q.element,fe.element)})};return Wt(u,function(Q,fe){return nc(Q,function(Oe,yt){if($(Oe)){var Ht=D(Oe,fe,yt)?b(Oe,v,p):Oe;return S(Ht,fe,yt).each(function(Rt){Tf(Ht.element,{scope:X.from(Rt)})}),Ht}else return Oe})})},Wk=function(u,l,v){return rt(u,function(p,b){return W1(u,b,l,v)?[]:[es(p,l)]})},CS=function(u,l,v){var p=u[l];return rt(p.cells,function(b,S){return W1(u,l,S,v)?[]:[b]})},qk=function(u,l,v,p,b){var S=ti(u).rows,D=rt(l,function(Oe){return Wk(S,Oe,p)}),$=Wt(u,function(Oe){return Np(Oe.cells)}),Q=wS(D,$),fe=jk(v,$);return rh(u,D,p,b,Ld,fe,Q)},xS=function(u,l,v,p,b,S,D){var $=ti(u),Q=$.cols,fe=$.rows,Oe=fe[l[0]],yt=rt(l,function(Wr){return CS(fe,Wr,b)}),Ht=Wt(Oe.cells,function(Wr,pa){return Np(Wk(fe,pa,b))}),Rt=nr([],fe);sr(l,function(Wr){Rt[Wr]=D.transformRow(fe[Wr],v)});var pt=Q.concat(Rt),or=_S(Oe,Ht),lr=kS(p,Ht);return rh(pt,yt,b,S,D.transformCell,lr,or)},G1=function(u,l,v,p){var b=ti(u).rows,S=Wt(l,function(D){return es(b[D.row],D.column)});return rh(u,S,v,p,Ld,X.none,ce)},nh=function(u){var l=function(v,p){var b=O(v,function(S){return S.column===p.column});return b?v:v.concat([p])};return oe(u,l,[]).sort(function(v,p){return v.column-p.column})},Uu=go("col"),K1=go("colgroup"),ah=function(u){return qn(u)==="tr"||K1(u)},Pv=function(u){var l=Sc(u,"colspan",1),v=Sc(u,"rowspan",1);return{element:u,colspan:l,rowspan:v}},Jy=function(u,l){l===void 0&&(l=Pv);var v=function($){return Uu($.element)?u.col($):u.cell($)},p=function($){return K1($.element)?u.colgroup($):u.row($)},b=function($){if(ah($))return p({element:$});var Q=v(l($));return S=X.some({item:$,replacement:Q}),Q},S=X.none(),D=function($,Q){return S.fold(function(){return b($)},function(fe){return Q($,fe.item)?fe.replacement:b($)})};return{getOrInit:D}},SS=function(u){return function(l){var v=[],p=function(D,$){return $t(v,function(Q){return $(Q.item,D)})},b=function(D){var $=u==="td"?{scope:null}:{},Q=l.replace(D,u,$);return v.push({item:D,sub:Q}),Q},S=function(D,$){return ah(D)||Uu(D)?D:p(D,$).fold(function(){return b(D)},function(Q){return $(D,Q.item)?Q.sub:b(D)})};return{replaceOrInit:S}}},Gk=function(u){return Aa(u,"scope").map(function(l){return l.substr(0,3)})},X1=function(u){var l=function(p){var b=Gk(p);return b.each(function(S){return Si(p,"scope",S)}),function(){var S=u.cell({element:p,colspan:1,rowspan:1});return uu(S,"width"),uu(p,"width"),b.each(function(D){return Si(S,"scope",D)}),S}},v=function(p){var b=function(){var S=pi(Wt(p,Gk));if(S.length===0)return X.none();var D=S[0],$=["row","col"],Q=O(S,function(fe){return fe!==D&&mn($,fe)});return Q?X.none():X.from(D)};return uu(p[0],"width"),b().fold(function(){return fo(p[0],"scope")},function(S){return Si(p[0],"scope",S+"group")}),Y(p[0])};return{unmerge:l,merge:v}},Es={modification:Jy,transform:SS,merging:X1},Hp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],TS=function(u,l){var v=u.property().name(l);return mn(["ol","ul"],v)},Fv=function(u,l){var v=u.property().name(l);return mn(Hp,v)},Hd=function(u,l){return mn(["br","img","hr","input"],u.property().name(l))},oh=cp(),Vd=function(u){return Fv(oh,u)},Al=function(u){return TS(oh,u)},Ol=function(u){return Hd(oh,u)},Qy=function(u){var l=function(Q){return qn(Q)==="br"},v=function(Q){return qe(Q,function(fe){return l(fe)||Ci(fe)&&Xg(fe).trim().length===0})},p=function(Q){return qn(Q)==="li"||No(Q,Al).isSome()},b=function(Q){return x(Q).map(function(fe){return Vd(fe)?!0:Ol(fe)?qn(fe)!=="img":!1}).getOr(!1)},S=function(Q){return uy(Q).bind(function(fe){var Oe=b(fe);return yo(fe).map(function(yt){return Oe===!0||p(yt)||l(fe)||Vd(yt)&&!Wn(Q,yt)?[]:[Lt.fromTag("br")]})}).getOr([])},D=function(){var Q=rt(u,function(fe){var Oe=_(fe);return v(Oe)?[]:Oe.concat(S(fe))});return Q.length===0?[Lt.fromTag("br")]:Q},$=D();up(u[0]),bl(u[0],$)},eb=function(u){return Sp(u,!0)},Y1=function(u){var l=Df(u);l.length===0&&ws(u)},ih=function(u,l){return{grid:u,cursor:l}},uh=function(u){return ut(u,function(l){return ut(l.cells,function(v){var p=v.element;return Qa(eb(p),p)})})},sh=function(u,l,v){var p,b,S=ti(u).rows;return X.from((b=(p=S[l])===null||p===void 0?void 0:p.cells[v])===null||b===void 0?void 0:b.element).filter(eb).orThunk(function(){return uh(S)})},Bu=function(u,l,v){var p=sh(u,l,v);return ih(u,p)},ch=function(u){var l=function(v,p){var b=O(v,function(S){return S.row===p.row});return b?v:v.concat([p])};return oe(u,l,[]).sort(function(v,p){return v.row-p.row})},lh=function(u,l,v,p){var b=l[0].row,S=ch(l),D=fa(S,function($,Q){var fe=V1($.grid,b,Q.row+$.delta,v,p.getOrInit);return{grid:fe,delta:$.delta+1}},{grid:u,delta:0}).grid;return Bu(D,b,l[0].column)},tb=function(u,l,v,p){var b=ch(l),S=b[b.length-1],D=S.row+S.rowspan,$=fa(b,function(Q,fe){return V1(Q,D,fe.row,v,p.getOrInit)},u);return Bu($,D,l[0].column)},ES=function(u,l,v,p){var b=l.details,S=nh(b),D=S[0].column,$=fa(S,function(Q,fe){var Oe=U1(Q.grid,D,fe.column+Q.delta,v,p.getOrInit);return{grid:Oe,delta:Q.delta+1}},{grid:u,delta:0}).grid;return Bu($,b[0].row,D)},Z1=function(u,l,v,p){var b=l.details,S=b[b.length-1],D=S.column+S.colspan,$=nh(b),Q=fa($,function(fe,Oe){return U1(fe,D,Oe.column,v,p.getOrInit)},u);return Bu(Q,b[0].row,D)},rb=function(u,l,v,p){var b=nh(l),S=Wt(b,function($){return $.column}),D=qk(u,S,!0,v,p.replaceOrInit);return Bu(D,l[0].row,l[0].column)},pu=function(u,l,v,p){var b=G1(u,l,v,p.replaceOrInit);return Bu(b,l[0].row,l[0].column)},zS=function(u,l,v,p){var b=nh(l),S=Wt(b,function($){return $.column}),D=qk(u,S,!1,v,p.replaceOrInit);return Bu(D,l[0].row,l[0].column)},of=function(u,l,v,p){var b=G1(u,l,v,p.replaceOrInit);return Bu(b,l[0].row,l[0].column)},nb=function(u,l){return function(v,p,b,S,D){var $=ch(p),Q=Wt($,function(Oe){return Oe.row}),fe=xS(v,Q,u,l,b,S.replaceOrInit,D);return Bu(fe,p[0].row,p[0].column)}},J1=nb("thead",!0),fh=nb("tbody",!1),Q1=nb("tfoot",!1),Vp=function(u,l,v,p){var b=nh(l.details),S=Vk(u,Wt(b,function($){return $.column})),D=S.length>0?S[0].cells.length-1:0;return Bu(S,b[0].row,Math.min(b[0].column,D))},AS=function(u,l,v,p){var b=ch(l),S=Uk(u,b[0].row,b[b.length-1].row),D=S.length>0?S.length-1:0;return Bu(S,Math.min(l[0].row,D),l[0].column)},Kk=function(u,l,v,p){var b=l.cells;Qy(b);var S=Pk(u,l.bounds,v,p.merge(b));return ih(S,X.from(b[0]))},Xk=function(u,l,v,p){var b=function(D,$){return Jm(D,$,v,p.unmerge($))},S=fa(l,b,u);return ih(S,X.from(l[0]))},OS=function(u,l,v,p){var b=function(Q,fe){var Oe=Vn.fromTable(Q);return $d(Oe,fe,!0)},S=b(l.clipboard,l.generators),D=Ir(l.row,l.column),$=yS(D,u,S,l.generators,v);return $.fold(function(){return ih(u,X.some(l.element))},function(Q){return Bu(Q,l.row,l.column)})},dh=function(u,l,v){var p=op(u,v.section),b=Vn.generate(p);return $d(b,l,!0)},Zo=function(u,l,v,p){var b=ti(u).rows,S=l.cells[0].column,D=b[l.cells[0].row],$=dh(l.clipboard,l.generators,D),Q=eh(S,u,$,l.generators,v);return Bu(Q,l.cells[0].row,l.cells[0].column)},ab=function(u,l,v,p){var b=ti(u).rows,S=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,D=b[l.cells[0].row],$=dh(l.clipboard,l.generators,D),Q=eh(S,u,$,l.generators,v);return Bu(Q,l.cells[0].row,l.cells[0].column)},ob=function(u,l,v,p){var b=ti(u).rows,S=l.cells[0].row,D=b[S],$=dh(l.clipboard,l.generators,D),Q=Lk(S,u,$,l.generators,v);return Bu(Q,l.cells[0].row,l.cells[0].column)},e0=function(u,l,v,p){var b=ti(u).rows,S=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,D=b[l.cells[0].row],$=dh(l.clipboard,l.generators,D),Q=Lk(S,u,$,l.generators,v);return Bu(Q,l.cells[0].row,l.cells[0].column)},Yk=function(u,l){var v=Vn.fromTable(u),p=zl(v,l);return p.bind(function(b){var S=b[b.length-1],D=b[0].column,$=S.column+S.colspan,Q=Sr(Wt(v.all,function(fe){return dn(fe.cells,function(Oe){return Oe.column>=D&&Oe.column<$})}));return N1(Q)}).getOr("")},t0=function(u,l){var v=Vn.fromTable(u),p=zl(v,l);return p.bind(N1).getOr("")},Iv=function(u,l){var v=Vn.fromTable(u),p=zl(v,l);return p.bind(function(b){var S=b[b.length-1],D=b[0].row,$=S.row+S.rowspan,Q=v.all.slice(D,$);return aS(Q)}).getOr("")},ib=function(u,l,v,p){return xl(u,l,v,p.sizing)},zs=function(u,l,v,p){return dk(u,l,v,p.sizing,p.resize)},Rl=function(u,l){return O(l,function(v){return v.column===0&&v.isLocked})},ub=function(u,l){return O(l,function(v){return v.column+v.colspan>=u.grid.columns&&v.isLocked})},Xf=function(u,l){var v=dv(u),p=nh(l);return oe(p,function(b,S){var D=v[S.column],$=D.map(Ou).getOr(0);return b+$},0)},rl=function(u){return function(l,v){return zl(l,v).filter(function(p){var b=u?Rl:ub;return!b(l,p)}).map(function(p){return{details:p,pixelDelta:Xf(l,p)}})}},Dl=function(u,l){return Kf(u,l).map(function(v){return{details:v,pixelDelta:-Xf(u,v)}})},ju=function(u){return function(l,v){return I1(l,v).filter(function(p){var b=u?Rl:ub;return!b(l,p.cells)})}},Rc=Es.transform("th"),vh=Es.transform("td"),uf=Ji(lh,zl,Xe,Xe,Es.modification),$v=Ji(tb,zl,Xe,Xe,Es.modification),Zk=Ji(ES,rl(!0),zs,Xe,Es.modification),Jk=Ji(Z1,rl(!1),zs,Xe,Es.modification),RS=Ji(Vp,Dl,zs,Y1,Es.modification),DS=Ji(AS,zl,Xe,Y1,Es.modification),Qk=Ji(rb,Kf,Xe,Xe,Rc),e2=Ji(zS,Kf,Xe,Xe,vh),t2=Ji(J1,Kf,Xe,Xe,Rc),MS=Ji(fh,Kf,Xe,Xe,vh),r2=Ji(Q1,Kf,Xe,Xe,vh),BS=Ji(pu,Kf,Xe,Xe,Rc),n2=Ji(of,Kf,Xe,Xe,vh),a2=Ji(Kk,$1,ib,Xe,Es.merging),r0=Ji(Xk,Xy,ib,Xe,Es.merging),o2=Ji(OS,Rk,ib,Xe,Es.modification),NS=Ji(Zo,ju(!0),Xe,Xe,Es.modification),ma=Ji(ab,ju(!1),Xe,Xe,Es.modification),Lv=Ji(ob,I1,Xe,Xe,Es.modification),mh=Ji(e0,I1,Xe,Xe,Es.modification),n0=Yk,PS=t0,As=Iv,FS=function(u,l,v){var p=function(bu){return qn(Yl(bu))==="table"},b=function(bu){return p(u)===!1||f1(bu).rows>1},S=function(bu){return p(u)===!1||f1(bu).columns>1},D=$y(u),$=T1(u)?Xe:rS,Q=function(bu){switch(tl(u)){case"section":return Pp.section();case"sectionCells":return Pp.sectionCells();case"cells":return Pp.cells();default:return Pp.getTableSectionType(bu,"section")}},fe=function(bu,mg){return mg.cursor.fold(function(){var ev=Df(bu);return Xt(ev).filter(Cn).map(function(Bl){l.clear(bu);var Fc=u.dom.createRng();return Fc.selectNode(Bl.dom),u.selection.setRng(Fc),Si(Bl,"data-mce-selected","1"),Fc})},function(ev){var Bl=zk(ev),Fc=u.dom.createRng();return Fc.setStart(Bl.element.dom,Bl.offset),Fc.setEnd(Bl.element.dom,Bl.offset),u.selection.setRng(Fc),l.clear(bu),X.some(Fc)})},Oe=function(bu,mg,ev,Bl,Fc){return function(il,hg,rm){rm===void 0&&(rm=!1),ns(il);var pg=Bl(),nm=Lt.fromDom(u.getDoc()),Nl=Bn(ev,nm,D),Mh={sizing:O1(u,il),resize:T1(u)?my():wv(),section:Q(il)};return mg(il)?bu(pg,il,hg,Nl,Mh).bind(function(qb){sr(qb.newRows,function(gg){Dy(u,gg.dom)}),sr(qb.newCells,function(gg){My(u,gg.dom)});var _3=fe(il,qb);return Cn(il)&&(ns(il),rm||rf(u,il.dom,Fc)),_3.map(function(gg){return{rng:gg,effect:Fc}})}):X.none()}},yt=Oe(DS,b,Xe,v,Oo),Ht=Oe(RS,S,Xe,v,Oo),Rt=Oe(uf,ce,Xe,v,Oo),pt=Oe($v,ce,Xe,v,Oo),or=Oe(Zk,ce,$,v,Oo),lr=Oe(Jk,ce,$,v,Oo),Wr=Oe(a2,ce,Xe,v,Oo),pa=Oe(r0,ce,Xe,v,Oo),Xr=Oe(NS,ce,Xe,v,Oo),_n=Oe(ma,ce,Xe,v,Oo),oa=Oe(Lv,ce,Xe,v,Oo),Qn=Oe(mh,ce,Xe,v,Oo),_i=Oe(o2,ce,Xe,v,Kx),eu=Oe(BS,ce,Xe,v,Oo),fs=Oe(n2,ce,Xe,v,Oo),_a=Oe(Qk,ce,Xe,v,Oo),An=Oe(e2,ce,Xe,v,Oo),la=Oe(t2,ce,Xe,v,Oo),ja=Oe(MS,ce,Xe,v,Oo),qo=Oe(r2,ce,Xe,v,Oo),pf=PS,Ga=n0,Pc=As;return{deleteRow:yt,deleteColumn:Ht,insertRowsBefore:Rt,insertRowsAfter:pt,insertColumnsBefore:or,insertColumnsAfter:lr,mergeCells:Wr,unmergeCells:pa,pasteColsBefore:Xr,pasteColsAfter:_n,pasteRowsBefore:oa,pasteRowsAfter:Qn,pasteCells:_i,makeCellsHeader:eu,unmakeCellsHeader:fs,makeColumnsHeader:_a,unmakeColumnsHeader:An,makeRowsHeader:la,makeRowsBody:ja,makeRowsFooter:qo,getTableRowType:Pc,getTableCellType:pf,getTableColType:Ga}},Hv={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Ud=function(){return Lt.fromTag("th")},sb=function(){return Lt.fromTag("td")},cb=function(){return Lt.fromTag("col")},IS=function(u,l,v,p){for(var b=Lt.fromTag("tr"),S=0;S<u;S++){var D=p<l||S<v?Ud():sb();S<v&&Si(D,"scope","row"),p<l&&Si(D,"scope","col"),jo(D,Lt.fromTag("br")),jo(b,D)}return b},i2=function(u){var l=Lt.fromTag("colgroup");return On(u,function(){return jo(l,cb())}),l},lb=function(u,l,v,p){return On(u,function(b){return IS(l,v,p,b)})},a0=function(u,l,v,p,b,S){S===void 0&&(S=Hv);var D=Lt.fromTag("table"),$=b!=="cells";Vl(D,S.styles),ui(D,S.attributes),S.colGroups&&jo(D,i2(l));var Q=Math.min(u,v);if($&&v>0){var fe=Lt.fromTag("thead");jo(D,fe);var Oe=b==="sectionCells"?Q:0,yt=lb(v,l,Oe,p);bl(fe,yt)}var Ht=Lt.fromTag("tbody");jo(D,Ht);var Rt=$?u-Q:u,pt=$?0:v,or=lb(Rt,l,pt,p);return bl(Ht,or),D},hh=function(u){return u.dom.innerHTML},fb=function(u){var l=Lt.fromTag("div"),v=Lt.fromDom(u.dom.cloneNode(!0));return jo(l,v),hh(l)},$S=function(u,l){u.selection.select(l.dom,!0),u.selection.collapse(!0)},sf=function(u,l){Is(l,"td,th").each(Je($S,u))},o0=function(u,l){sr(Fs(l,"tr"),function(v){Dy(u,v.dom),sr(Fs(v,"th,td"),function(p){My(u,p.dom)})})},i0=function(u){return ee(u)&&u.indexOf("%")!==-1},ph=function(u,l,v,p,b){var S=Py(u),D={styles:S,attributes:zp(u),colGroups:Fy(u)};return u.undoManager.ignore(function(){var $=a0(v,l,b,p,tl(u),D);Si($,"data-mce-id","__mce");var Q=fb($);u.insertContent(Q),u.addVisual()}),Is(Yl(u),'table[data-mce-id="__mce"]').map(function($){return Gf(u)?Km($):qm(u)?Ly($):(vt(u)||i0(S.width))&&Gm($),ns($),fo($,"data-mce-id"),o0(u,$),sf(u,$),$.dom}).getOr(null)},u0=function(u,l,v,p,b){p===void 0&&(p={});var S=function(Q){return er(Q)&&Q>0};if(S(l)&&S(v)){var D=p.headerRows||0,$=p.headerColumns||0;return ph(u,v,l,$,D)}else return console.error(b),null},Up=function(u){return function(){return u().fold(function(){return[]},function(l){return Wt(l,function(v){return v.dom})})}},u2=function(u){return function(l){var v=l.length>0?X.some(Ws(l)):X.none();u(v)}},LS=function(u){return function(l,v,p){p===void 0&&(p={});var b=u0(u,v,l,p,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),b}},cf=function(u,l,v,p){return{insertTable:LS(u),setClipboardRows:u2(l.setRows),getClipboardRows:Up(l.getRows),setClipboardCols:u2(l.setColumns),getClipboardCols:Up(l.getColumns),resizeHandler:v,selectionTargets:p}},Gs=function(u,l,v){var p=Sc(u,l,1);v===1||p<=1?fo(u,l):Si(u,l,Math.min(v,p))},gu=function(u,l,v){if(Vn.hasColumns(u)){var p=dn(Vn.justColumns(u),function(D){return D.column>=l&&D.column<v}),b=Wt(p,function(D){var $=Ua(D.element);return Gs($,"span",v-l),$}),S=Lt.fromTag("colgroup");return bl(S,b),[S]}else return[]},HS=function(u,l,v){return Wt(u.all,function(p){var b=dn(p.cells,function($){return $.column>=l&&$.column<v}),S=Wt(b,function($){var Q=Ua($.element);return Gs(Q,"colspan",v-l),Q}),D=Lt.fromTag("tr");return bl(D,S),D})},s0=function(u,l){var v=Vn.fromTable(u),p=Kf(v,l);return p.map(function(b){var S=b[b.length-1],D=b[0].column,$=S.column+S.colspan,Q=gu(v,D,$),fe=HS(v,D,$);return nr(nr([],Q,!0),fe)})},gh=function(u,l,v){var p=Vn.fromTable(u),b=zl(p,l);return b.bind(function(S){var D=$d(p,v,!1),$=ti(D).rows,Q=$.slice(S[0].row,S[S.length-1].row+S[S.length-1].rowspan),fe=rt(Q,function(yt){var Ht=dn(yt.cells,function(Rt){return!Rt.isLocked});return Ht.length>0?[st(st({},yt),{cells:Ht})]:[]}),Oe=qy(fe);return Qa(Oe.length>0,Oe)}).map(function(S){return F1(S)})},c0=tinymce.util.Tools.resolve("tinymce.util.Tools"),jp=function(u,l,v){var p=u.select("td,th",l),b,S=function(D,$){for(var Q=0;Q<$.length;Q++){var fe=u.getStyle($[Q],v);if(typeof D>"u"&&(D=fe),D!==fe)return""}return D};return S(b,p)},l0=function(u,l,v){v&&u.formatter.apply("align"+v,{},l)},VS=function(u,l,v){v&&u.formatter.apply("valign"+v,{},l)},gr=function(u,l){c0.each("left center right".split(" "),function(v){u.formatter.remove("align"+v,{},l)})},Bi=function(u,l){c0.each("top middle bottom".split(" "),function(v){u.formatter.remove("valign"+v,{},l)})},yh=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],Qi=function(u){return{value:u}},Dc=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,f0=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Wp=function(u){return Dc.test(u)||f0.test(u)},db=function(u){return Ca(u,"#").toUpperCase()},vb=function(u){return Wp(u)?X.some({value:db(u)}):X.none()},mb=function(u){var l=u.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},jd=function(u){var l=mb(u.red)+mb(u.green)+mb(u.blue);return Qi(l)},qp=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,d0=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,v0=function(u,l,v,p){return{red:u,green:l,blue:v,alpha:p}},m0=function(u,l,v,p){var b=parseInt(u,10),S=parseInt(l,10),D=parseInt(v,10),$=parseFloat(p);return v0(b,S,D,$)},US=function(u){if(u==="transparent")return X.some(v0(0,0,0,0));var l=qp.exec(u);if(l!==null)return X.some(m0(l[1],l[2],l[3],"1"));var v=d0.exec(u);return v!==null?X.some(m0(v[1],v[2],v[3],v[4])):X.none()},s2=function(u){return vb(u).orThunk(function(){return US(u).map(jd)}).getOrThunk(function(){var l=document.createElement("canvas");l.height=1,l.width=1;var v=l.getContext("2d");v.clearRect(0,0,l.width,l.height),v.fillStyle="#FFFFFF",v.fillStyle=u,v.fillRect(0,0,1,1);var p=v.getImageData(0,0,1,1).data,b=p[0],S=p[1],D=p[2],$=p[3];return jd(v0(b,S,D,$))})},Yf=function(u){var l=u,v=function(){return l},p=function(b){l=b};return{get:v,set:p}},lf=function(u){var l=Yf(X.none()),v=function(){return l.get().each(u)},p=function(){v(),l.set(X.none())},b=function(){return l.get().isSome()},S=function(){return l.get()},D=function($){v(),l.set(X.some($))};return{clear:p,isSet:b,get:S,set:D}},Vv=function(){return lf(function(u){return u.unbind()})},bh=function(){var u=lf(Xe),l=function(v){return u.get().each(v)};return st(st({},u),{on:l})},h0=function(u,l,v,p){return function(b){var S=Vv(),D=un(p),$=function(){var Q=Du(l),fe=function(Oe){return u.formatter.match(v,{value:p},Oe.dom,D)};D?(b.setActive(!O(Q,fe)),S.set(u.formatter.formatChanged(v,function(Oe){return b.setActive(!Oe)},!0))):(b.setActive(qe(Q,fe)),S.set(u.formatter.formatChanged(v,b.setActive,!1,{value:p})))};return u.initialized?$():u.on("init",$),S.clear}},hb=function(u){return ke(u,"menu")},ff=function(u){return Wt(u,function(l){var v=l.text||l.title;return hb(l)?{text:v,items:ff(l.menu)}:{text:v,value:l.value}})},nl=function(u,l,v,p,b){return Wt(v,function(S){var D=S.text||S.title;return hb(S)?{type:"nestedmenuitem",text:D,getSubmenuItems:function(){return nl(u,l,S.menu,p,b)}}:{text:D,type:"togglemenuitem",onAction:function(){return b(S.value)},onSetup:h0(u,l,p,S.value)}})},Wd=function(u,l){return function(v){var p;u.execCommand("mceTableApplyCellStyle",!1,(p={},p[l]=v,p))}},qd=function(u){return rt(u,function(l){return hb(l)?[st(st({},l),{menu:qd(l.menu)})]:dr(l.value)?[l]:[]})},Uv=function(u,l,v,p,b){return function(S){return S(nl(u,l,v,p,b))}},_h=function(u,l,v){var p=Wt(l,function(b){return{text:b.title,value:"#"+s2(b.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:p.length>0?p:void 0,allowCustomColors:!1},onAction:function(b){var S,D=b.value==="remove"?"":b.value;u.execCommand("mceTableApplyCellStyle",!1,(S={},S[v]=D,S))}}]},p0=function(u){return function(){var l=u.queryCommandValue("mceTableRowType"),v=l==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:v})}},g0=function(u){return function(){var l=u.queryCommandValue("mceTableColType"),v=l==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:v})}},y0=function(u){var l=ff(nf(u));return l.length>0?X.some({name:"class",type:"listbox",label:"Class",items:l}):X.none()},pb=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:yh}],yu=function(u){return pb.concat(y0(u).toArray())},pc=function(u,l){var v=[{text:"Select...",value:""}],p=[{name:"borderstyle",type:"listbox",label:"Border style",items:v.concat(ff(Hu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],b={name:"borderwidth",type:"input",label:"Border width"},S=l==="cell"?[b].concat(p):p;return{title:"Advanced",name:"advanced",items:S}},Mc=function(u){return function(l,v){var p=l.dom,b=function($,Q){(!u||Q)&&p.setAttrib(v,$,Q)},S=function($,Q){(!u||Q)&&p.setStyle(v,$,Q)},D=function($,Q){(!u||Q)&&(Q===""?l.formatter.remove($,{value:null},v,!0):l.formatter.apply($,{value:Q},v))};return{setAttrib:b,setStyle:S,setFormat:D}}},df={normal:Mc(!1),ifTruthy:Mc(!0)},wh=function(u){return function(l){return Co(l,"rgb")?u.toHex(l):l}},gb=function(u,l){var v=Lt.fromDom(l);return{borderwidth:Qu(v,"border-width").getOr(""),borderstyle:Qu(v,"border-style").getOr(""),bordercolor:Qu(v,"border-color").map(wh(u)).getOr(""),backgroundcolor:Qu(v,"background-color").map(wh(u)).getOr("")}},Gd=function(u){var l=u[0],v=u.slice(1);return sr(v,function(p){sr(ii(l),function(b){Ba(p,function(S,D){var $=l[b];$!==""&&b===D&&$!==S&&(l[b]="")})})}),l},jv=function(u,l,v,p){return $t(u,function(b){return!jt(v.formatter.matchNode(p,l+b))}).getOr("")},Wv=Je(jv,["left","center","right"],"align"),jS=Je(jv,["top","middle","bottom"],"valign"),b0=function(u,l){var v=Py(u),p=zp(u),b=function(Oe){return{borderstyle:Mn(v,"border-style").getOr(""),bordercolor:wh(Oe)(Mn(v,"border-color").getOr("")),backgroundcolor:wh(Oe)(Mn(v,"background-color").getOr(""))}},S={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},D=function(){var Oe=v["border-width"];return Vu(u)&&Oe?{border:Oe}:Mn(p,"border").fold(function(){return{}},function(yt){return{border:yt}})},$=l?b(u.dom):{},Q=function(){var Oe=Mn(v,"border-spacing").or(Mn(p,"cellspacing")).fold(function(){return{}},function(Ht){return{cellspacing:Ht}}),yt=Mn(v,"border-padding").or(Mn(p,"cellpadding")).fold(function(){return{}},function(Ht){return{cellpadding:Ht}});return st(st({},Oe),yt)},fe=st(st(st(st(st(st({},S),v),p),$),D()),Q());return fe},c2=function(u){return zo(Lt.fromDom(u)).map(function(l){var v={selection:Ws(u.cells)};return As(l,v)}).getOr("")},l2=function(u,l,v){var p=function($,Q){var fe=Qu(Lt.fromDom(Q),"border-width");return Vu(u)&&fe.isSome()?fe.getOr(""):$.getAttrib(Q,"border")||jp(u.dom,Q,"border-width")||jp(u.dom,Q,"border")},b=u.dom,S=Vu(u)?b.getStyle(l,"border-spacing")||b.getAttrib(l,"cellspacing"):b.getAttrib(l,"cellspacing")||b.getStyle(l,"border-spacing"),D=Vu(u)?jp(b,l,"padding")||b.getAttrib(l,"cellpadding"):b.getAttrib(l,"cellpadding")||jp(b,l,"padding");return st({width:b.getStyle(l,"width")||b.getAttrib(l,"width"),height:b.getStyle(l,"height")||b.getAttrib(l,"height"),cellspacing:S,cellpadding:D,border:p(b,l),caption:!!b.select("caption",l)[0],class:b.getAttrib(l,"class",""),align:Wv(u,l)},v?gb(b,l):{})},_0=function(u,l,v){var p=u.dom;return st({height:p.getStyle(l,"height")||p.getAttrib(l,"height"),class:p.getAttrib(l,"class",""),type:c2(l),align:Wv(u,l)},v?gb(p,l):{})},w0=function(u,l,v,p){var b=u.dom,S=p.getOr(l),D=function($,Q){return b.getStyle($,Q)||b.getAttrib($,Q)};return st({width:D(S,"width"),height:D(l,"height"),scope:b.getAttrib(l,"scope"),celltype:a1(l),class:b.getAttrib(l,"class",""),halign:Wv(u,l),valign:jS(u,l)},v?gb(b,l):{})},Za=function(u,l){var v=Vn.fromTable(u),p=Vn.justCells(v),b=dn(p,function(S){return O(l,function(D){return Wn(S.element,D)})});return Wt(b,function(S){return{element:S.element.dom,column:Vn.getColumnAt(v,S.column).map(function(D){return D.element.dom})}})},vf=function(u,l,v){u.setAttrib("scope",v.scope),u.setAttrib("class",v.class),u.setStyle("height",$i(v.height)),l.setStyle("width",$i(v.width))},f2=function(u,l){u.setFormat("tablecellbackgroundcolor",l.backgroundcolor),u.setFormat("tablecellbordercolor",l.bordercolor),u.setFormat("tablecellborderstyle",l.borderstyle),u.setFormat("tablecellborderwidth",$i(l.borderwidth))},d2=function(u,l,v){var p=l.length===1;sr(l,function(b){var S=b.element,D=p?df.normal(u,S):df.ifTruthy(u,S),$=b.column.map(function(Q){return p?df.normal(u,Q):df.ifTruthy(u,Q)}).getOr(D);vf(D,$,v),Op(u)&&f2(D,v),p&&(gr(u,S),Bi(u,S)),v.halign&&l0(u,S,v.halign),v.valign&&VS(u,S,v.valign)})},v2=function(u,l){u.execCommand("mceTableCellType",!1,{type:l.celltype,no_events:!0})},yb=function(u,l,v,p){var b=bt(p,function(S,D){return v[D]!==S});Br(b)>0&&l.length>=1&&zo(l[0]).each(function(S){var D=Za(S,l),$=Br(bt(b,function(fe,Oe){return Oe!=="scope"&&Oe!=="celltype"}))>0,Q=G(b,"celltype");($||G(b,"scope"))&&d2(u,D,p),Q&&v2(u,p),rf(u,S.dom,{structure:Q,style:$})})},k0=function(u,l,v,p){var b=p.getData();p.close(),u.undoManager.transact(function(){yb(u,l,v,b),u.focus()})},Gp=function(u,l){var v=zo(l[0]).map(function(p){return Wt(Za(p,l),function(b){return w0(u,b.element,Op(u),b.column)})});return Gd(v.getOrDie())},on=function(u,l){var v=Du(l);if(v.length!==0){var p=Gp(u,v),b={type:"tabpanel",tabs:[{title:"General",name:"general",items:yu(u)},pc(u,"cell")]},S={type:"panel",items:[{type:"grid",columns:2,items:yu(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Op(u)?b:S,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onSubmit:Je(k0,u,v,p)})}},WS=function(u){var l=ff(Fd(u));return l.length>0?X.some({name:"class",type:"listbox",label:"Class",items:l}):X.none()},C0=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],m2=function(u){return C0.concat(WS(u).toArray())},x0=function(u,l){u.setAttrib("class",l.class),u.setStyle("height",$i(l.height))},qS=function(u,l){u.setStyle("background-color",l.backgroundcolor),u.setStyle("border-color",l.bordercolor),u.setStyle("border-style",l.borderstyle)},h2=function(u,l,v,p){var b=l.length===1;sr(l,function(S){var D=b?df.normal(u,S):df.ifTruthy(u,S);x0(D,v),Rp(u)&&qS(D,v),v.align!==p.align&&(gr(u,S),l0(u,S,v.align))})},S0=function(u,l){u.execCommand("mceTableRowType",!1,{type:l.type,no_events:!0})},T0=function(u,l,v,p){var b=bt(p,function($,Q){return v[Q]!==$});if(Br(b)>0){var S=G(b,"type"),D=S?Br(b)>1:!0;D&&h2(u,l,p,v),S&&S0(u,p),zo(Lt.fromDom(l[0])).each(function($){return rf(u,$.dom,{structure:S,style:D})})}},GS=function(u,l,v,p){var b=p.getData();p.close(),u.undoManager.transact(function(){T0(u,l,v,b),u.focus()})},gc=function(u){var l=ck(bv(u),vc.selected);if(l.length!==0){var v=Wt(l,function(D){return _0(u,D.dom,Rp(u))}),p=Gd(v),b={type:"tabpanel",tabs:[{title:"General",name:"general",items:m2(u)},pc(u,"row")]},S={type:"panel",items:[{type:"grid",columns:2,items:m2(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Rp(u)?b:S,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onSubmit:Je(GS,u,Wt(l,function(D){return D.dom}),p)})}},ls=function(u,l,v){var p=v?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],b=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],S=El(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],D=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],$=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return p.concat(b).concat(S).concat(D).concat($)},mf=function(u,l,v,p){if(l.tagName==="TD"||l.tagName==="TH")ee(v)?u.setStyle(l,v,p):u.setStyle(l,v);else if(l.children)for(var b=0;b<l.children.length;b++)mf(u,l.children[b],v,p)},KS=function(u,l,v){var p=u.dom,b={},S={};if(b.class=v.class,S.height=$i(v.height),p.getAttrib(l,"width")&&!Vu(u)?b.width=Sd(v.width):S.width=$i(v.width),Vu(u)?(S["border-width"]=$i(v.border),S["border-spacing"]=$i(v.cellspacing)):(b.border=v.border,b.cellpadding=v.cellpadding,b.cellspacing=v.cellspacing),Vu(u)&&l.children)for(var D=0;D<l.children.length;D++)mf(p,l.children[D],{"border-width":$i(v.border),padding:$i(v.cellpadding)}),cs(u)&&mf(p,l.children[D],{"border-color":v.bordercolor});cs(u)&&(S["background-color"]=v.backgroundcolor,S["border-color"]=v.bordercolor,S["border-style"]=v.borderstyle),b.style=p.serializeStyle(st(st({},Py(u)),S)),p.setAttribs(l,st(st({},zp(u)),b))},XS=function(u,l,v,p){var b=u.dom,S=p.getData(),D=bt(S,function($,Q){return v[Q]!==$});p.close(),S.class===""&&delete S.class,u.undoManager.transact(function(){if(!l){var $=parseInt(S.cols,10)||1,Q=parseInt(S.rows,10)||1;l=ph(u,$,Q,0,0)}if(Br(D)>0){KS(u,l,S);var fe=b.select("caption",l)[0];(fe&&!S.caption||!fe&&S.caption)&&u.execCommand("mceTableToggleCaption"),S.align===""?gr(u,l):l0(u,l,S.align)}if(u.focus(),u.addVisual(),Br(D)>0){var Oe=G(D,"caption"),yt=Oe?Br(D)>1:!0;rf(u,l,{structure:Oe,style:yt})}})},E0=function(u,l){var v=u.dom,p,b=b0(u,cs(u));l===!1?(p=v.getParent(u.selection.getStart(),"table",u.getBody()),p?b=l2(u,p,cs(u)):cs(u)&&(b.borderstyle="",b.bordercolor="",b.backgroundcolor="")):(b.cols="1",b.rows="1",cs(u)&&(b.borderstyle="",b.bordercolor="",b.backgroundcolor=""));var S=ff(Dp(u));S.length>0&&b.class&&(b.class=b.class.replace(/\s*mce\-item\-table\s*/g,""));var D={type:"grid",columns:2,items:ls(u,S,l)},$=function(){return{type:"panel",items:[D]}},Q=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[D]},pc(u,"table")]}},fe=cs(u)?Q():$();u.windowManager.open({title:"Table Properties",size:"normal",body:fe,onSubmit:Je(XS,u,p,b),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b})},aa=function(u){return Fo(bv(u),dc(u))},YS=function(u){return du(bv(u),dc(u))},bb=function(u,l,v,p,b){var S=dc(u),D=function(){return aa(u).each(function(Xr){zo(Xr,S).filter(ze(S)).each(function(_n){var oa=Lt.fromText("");if(io(_n,oa),ws(_n),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var Qn=u.dom.createRng();Qn.setStart(oa.dom,0),Qn.setEnd(oa.dom,0),u.selection.setRng(Qn),u.nodeChanged()}})})},$=function(Xr){return aa(u).each(function(_n){var oa=qm(u)||Gf(u)||vt(u);oa||zo(_n,S).each(function(Qn){Xr==="relative"&&!yy(Qn)?Gm(Qn):Xr==="fixed"&&!vu(Qn)?Km(Qn):Xr==="responsive"&&!by(Qn)&&Ly(Qn),ns(Qn),rf(u,Qn.dom,Oo)})})},Q=function(Xr){return zo(Xr,S)},fe=function(Xr){return YS(u).bind(function(_n){return Q(_n).map(function(oa){return Xr(oa,_n)})})},Oe=function(Xr,_n){fe(function(oa){u.formatter.toggle("tableclass",{value:_n},oa.dom),rf(u,oa.dom,Ov)})},yt=function(Xr,_n){fe(function(oa){var Qn=Du(p),_i=qe(Qn,function(fs){return u.formatter.match("tablecellclass",{value:_n},fs.dom)}),eu=_i?u.formatter.remove:u.formatter.apply;sr(Qn,function(fs){return eu("tablecellclass",{value:_n},fs.dom)}),rf(u,oa.dom,Ov)})},Ht=function(){aa(u).each(function(Xr){zo(Xr,S).each(function(_n){vn(_n,"caption").fold(function(){var oa=Lt.fromTag("caption");jo(oa,Lt.fromText("Caption")),px(_n,oa,0),u.selection.setCursorLocation(oa.dom,0)},function(oa){go("caption")(Xr)&&Ii("td",_n).each(function(Qn){return u.selection.setCursorLocation(Qn.dom,0)}),ws(oa)}),rf(u,_n.dom,Oo)})})},Rt=function(Xr){u.focus()},pt=function(Xr,_n){return _n===void 0&&(_n=!1),fe(function(oa,Qn){var _i=_v(p,oa,Qn);Xr(oa,_i,_n).each(Rt)})},or=function(){return fe(function(Xr,_n){var oa=_v(p,Xr,_n),Qn=Bn(Xe,Lt.fromDom(u.getDoc()),X.none());return gh(Xr,oa,Qn)})},lr=function(){return fe(function(Xr,_n){var oa=_v(p,Xr,_n);return s0(Xr,oa)})},Wr=function(Xr,_n){return _n().each(function(oa){var Qn=Wt(oa,function(_i){return Ua(_i)});fe(function(_i,eu){var fs=fc(Lt.fromDom(u.getDoc())),_a=i1(p,eu,Qn,fs);Xr(_i,_a).each(Rt)})})},pa=function(Xr){return function(_n,oa){return Mn(oa,"type").each(function(Qn){pt(Xr(Qn),oa.no_events)})}};Ba({mceTableSplitCells:function(){return pt(l.unmergeCells)},mceTableMergeCells:function(){return pt(l.mergeCells)},mceTableInsertRowBefore:function(){return pt(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return pt(l.insertRowsAfter)},mceTableInsertColBefore:function(){return pt(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return pt(l.insertColumnsAfter)},mceTableDeleteCol:function(){return pt(l.deleteColumn)},mceTableDeleteRow:function(){return pt(l.deleteRow)},mceTableCutCol:function(){return lr().each(function(Xr){b.setColumns(Xr),pt(l.deleteColumn)})},mceTableCutRow:function(){return or().each(function(Xr){b.setRows(Xr),pt(l.deleteRow)})},mceTableCopyCol:function(){return lr().each(function(Xr){return b.setColumns(Xr)})},mceTableCopyRow:function(){return or().each(function(Xr){return b.setRows(Xr)})},mceTablePasteColBefore:function(){return Wr(l.pasteColsBefore,b.getColumns)},mceTablePasteColAfter:function(){return Wr(l.pasteColsAfter,b.getColumns)},mceTablePasteRowBefore:function(){return Wr(l.pasteRowsBefore,b.getRows)},mceTablePasteRowAfter:function(){return Wr(l.pasteRowsAfter,b.getRows)},mceTableDelete:D,mceTableCellToggleClass:yt,mceTableToggleClass:Oe,mceTableToggleCaption:Ht,mceTableSizingMode:function(Xr,_n){return $(_n)},mceTableCellType:pa(function(Xr){return Xr==="th"?l.makeCellsHeader:l.unmakeCellsHeader}),mceTableColType:pa(function(Xr){return Xr==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader}),mceTableRowType:pa(function(Xr){switch(Xr){case"header":return l.makeRowsHeader;case"footer":return l.makeRowsFooter;default:return l.makeRowsBody}})},function(Xr,_n){return u.addCommand(_n,Xr)}),Ba({mceTableProps:Je(E0,u,!1),mceTableRowProps:Je(gc,u),mceTableCellProps:Je(on,u,p)},function(Xr,_n){return u.addCommand(_n,function(){return Xr()})}),u.addCommand("mceInsertTable",function(Xr,_n){pe(_n)&&ii(_n).length>0?u0(u,_n.rows,_n.columns,_n.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):E0(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(Xr,_n){var oa=function(eu){return"tablecell"+eu.toLowerCase().replace("-","")};if(pe(_n)){var Qn=Du(p);if(Qn.length!==0){var _i=bt(_n,function(eu,fs){return u.formatter.has(oa(fs))&&ee(eu)});Ie(_i)||(Ba(_i,function(eu,fs){sr(Qn,function(_a){df.normal(u,_a.dom).setFormat(oa(fs),eu)})}),Q(Qn[0]).each(function(eu){return rf(u,eu.dom,Ov)}))}}})},_b=function(u,l,v){var p=dc(u),b=function(S){return du(bv(u)).bind(function(D){return zo(D,p).map(function($){var Q=_v(v,$,D);return S($,Q)})}).getOr("")};Ba({mceTableRowType:function(){return b(l.getTableRowType)},mceTableCellType:function(){return b(l.getTableCellType)},mceTableColType:function(){return b(l.getTableColType)}},function(S,D){return u.addQueryValueHandler(D,S)})},wb=function(){var u=bh(),l=bh();return{getRows:u.get,setRows:function(v){v.fold(u.clear,u.set),l.clear()},clearRows:u.clear,getColumns:l.get,setColumns:function(v){v.fold(l.clear,l.set),u.clear()},clearColumns:l.clear}},Kp={remove_similar:!0,inherit:!1},Zf=st({selector:"td,th"},Kp),Xp={tablecellbackgroundcolor:st({styles:{backgroundColor:"%value"}},Zf),tablecellverticalalign:st({styles:{"vertical-align":"%value"}},Zf),tablecellbordercolor:st({styles:{borderColor:"%value"}},Zf),tablecellclass:st({classes:["%value"]},Zf),tableclass:st({selector:"table",classes:["%value"]},Kp),tablecellborderstyle:st({styles:{borderStyle:"%value"}},Zf),tablecellborderwidth:st({styles:{borderWidth:"%value"}},Zf)},ZS=function(u){u.formatter.register(Xp)},p2=Wl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),z0=function(u){return u===void 0&&(u=void 0),p2.none(u)},Kd=st(st({},p2),{none:z0}),kb=function(u,l,v,p,b){b===void 0&&(b=ce);var S=p===1;if(!S&&v<=0)return Kd.first(u[0]);if(S&&v>=u.length-1)return Kd.last(u[u.length-1]);var D=v+p,$=u[D];return b($)?Kd.middle(l,$):kb(u,l,D,p,b)},g2=function(u,l){return zo(u,l).bind(function(v){var p=Df(v),b=Qe(p,function(S){return Wn(u,S)});return b.map(function(S){return{index:S,all:p}})})},JS=function(u,l,v){var p=g2(u,v);return p.fold(function(){return Kd.none(u)},function(b){return kb(b.all,u,b.index,1,l)})},QS=function(u,l,v){var p=g2(u,v);return p.fold(function(){return Kd.none()},function(b){return kb(b.all,u,b.index,-1,l)})},e8=function(u,l,v,p){return{start:u,soffset:l,finish:v,foffset:p}},qv={create:e8},A0=Wl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Jr=function(u,l,v,p){return u.fold(l,v,p)},y2=function(u){return u.fold(De,De,De)},b2=A0.before,t8=A0.on,Yp=A0.after,Wu={before:b2,on:t8,after:Yp,cata:Jr,getStart:y2},Zp=Wl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),r8=function(u){return Zp.exact(u.start,u.soffset,u.finish,u.foffset)},_2=function(u){return u.match({domRange:function(l){return Lt.fromDom(l.startContainer)},relative:function(l,v){return Wu.getStart(l)},exact:function(l,v,p,b){return l}})},O0=Zp.domRange,R0=Zp.relative,w2=Zp.exact,D0=function(u){var l=_2(u);return tc(l)},M0=qv.create,Jf={domRange:O0,relative:R0,exact:w2,exactFromRange:r8,getWin:D0,range:M0},n8=function(u,l){var v=u.document.createRange();return v.selectNode(l.dom),v},a8=function(u,l){var v=u.document.createRange();return k2(v,l),v},k2=function(u,l){return u.selectNodeContents(l.dom)},o8=function(u,l){l.fold(function(v){u.setStartBefore(v.dom)},function(v,p){u.setStart(v.dom,p)},function(v){u.setStartAfter(v.dom)})},Jp=function(u,l){l.fold(function(v){u.setEndBefore(v.dom)},function(v,p){u.setEnd(v.dom,p)},function(v){u.setEndAfter(v.dom)})},Na=function(u,l,v){var p=u.document.createRange();return o8(p,l),Jp(p,v),p},Cb=function(u,l,v,p,b){var S=u.document.createRange();return S.setStart(l.dom,v),S.setEnd(p.dom,b),S},Qf=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},al=function(u){var l=u.getClientRects(),v=l.length>0?l[0]:u.getBoundingClientRect();return v.width>0||v.height>0?X.some(v).map(Qf):X.none()},Xd=Wl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Os=function(u,l,v){return l(Lt.fromDom(v.startContainer),v.startOffset,Lt.fromDom(v.endContainer),v.endOffset)},xb=function(u,l){return l.match({domRange:function(v){return{ltr:Y(v),rtl:X.none}},relative:function(v,p){return{ltr:Rr(function(){return Na(u,v,p)}),rtl:Rr(function(){return X.some(Na(u,p,v))})}},exact:function(v,p,b,S){return{ltr:Rr(function(){return Cb(u,v,p,b,S)}),rtl:Rr(function(){return X.some(Cb(u,b,S,v,p))})}}})},Gv=function(u,l){var v=l.ltr();if(v.collapsed){var p=l.rtl().filter(function(b){return b.collapsed===!1});return p.map(function(b){return Xd.rtl(Lt.fromDom(b.endContainer),b.endOffset,Lt.fromDom(b.startContainer),b.startOffset)}).getOrThunk(function(){return Os(u,Xd.ltr,v)})}else return Os(u,Xd.ltr,v)},kh=function(u,l){var v=xb(u,l);return Gv(u,v)},Yd=function(u,l){var v=kh(u,l);return v.match({ltr:function(p,b,S,D){var $=u.document.createRange();return $.setStart(p.dom,b),$.setEnd(S.dom,D),$},rtl:function(p,b,S,D){var $=u.document.createRange();return $.setStart(S.dom,D),$.setEnd(p.dom,b),$}})};Xd.ltr,Xd.rtl;var i8=function(u,l,v,p,b){if(b===0)return 0;if(l===p)return b-1;for(var S=p,D=1;D<b;D++){var $=u(D),Q=Math.abs(l-$.left);if(v<=$.bottom){if(v<$.top||Q>S)return D-1;S=Q}}return 0},C2=function(u,l,v){return l>=u.left&&l<=u.right&&v>=u.top&&v<=u.bottom},u8=function(u,l,v,p,b){var S=function(fe){var Oe=u.dom.createRange();return Oe.setStart(l.dom,fe),Oe.collapse(!0),Oe},D=function(fe){var Oe=S(fe);return Oe.getBoundingClientRect()},$=Xg(l).length,Q=i8(D,v,p,b.right,$);return S(Q)},s8=function(u,l,v,p){var b=u.dom.createRange();b.selectNode(l.dom);var S=b.getClientRects(),D=ut(S,function($){return C2($,v,p)?X.some($):X.none()});return D.map(function($){return u8(u,l,v,p,$)})},Jn=function(u,l,v,p){var b=u.dom.createRange(),S=_(l);return ut(S,function(D){return b.selectNode(D.dom),C2(b.getBoundingClientRect(),v,p)?ol(u,D,v,p):X.none()})},ol=function(u,l,v,p){return Ci(l)?s8(u,l,v,p):Jn(u,l,v,p)},Ch=function(u,l,v,p){var b=u.dom.createRange();b.selectNode(l.dom);var S=b.getBoundingClientRect(),D=Math.max(S.left,Math.min(S.right,v)),$=Math.max(S.top,Math.min(S.bottom,p));return ol(u,l,D,$)},x2=!0,Qp=!1,ha=function(u,l){return l-u.left<u.right-l?x2:Qp},S2=function(u,l,v){var p=u.dom.createRange();return p.selectNode(l.dom),p.collapse(v),p},T2=function(u,l,v){var p=u.dom.createRange();p.selectNode(l.dom);var b=p.getBoundingClientRect(),S=ha(b,v),D=S===x2?iy:uy;return D(l).map(function($){return S2(u,$,S)})},eg=function(u,l,v){var p=l.dom.getBoundingClientRect(),b=ha(p,v);return X.some(S2(u,l,b))},E2=function(u,l,v){var p=_(l).length===0?eg:T2;return p(u,l,v)},tg=function(u,l,v){var p,b;return X.from((b=(p=u.dom).caretPositionFromPoint)===null||b===void 0?void 0:b.call(p,l,v)).bind(function(S){if(S.offsetNode===null)return X.none();var D=u.dom.createRange();return D.setStart(S.offsetNode,S.offset),D.collapse(),X.some(D)})},Kv=function(u,l,v){var p,b;return X.from((b=(p=u.dom).caretRangeFromPoint)===null||b===void 0?void 0:b.call(p,l,v))},B0=function(u,l,v,p){var b=u.dom.createRange();b.selectNode(l.dom);var S=b.getBoundingClientRect(),D=Math.max(S.left,Math.min(S.right,v)),$=Math.max(S.top,Math.min(S.bottom,p));return Ch(u,l,D,$)},N0=function(u,l,v){return Lt.fromPoint(u,l,v).bind(function(p){var b=function(){return E2(u,p,l)};return _(p).length===0?b():B0(u,p,l,v).orThunk(b)})},z2=function(){return document.caretPositionFromPoint?tg:document.caretRangeFromPoint?Kv:N0}(),A2=function(u,l,v){var p=Lt.fromDom(u.document);return z2(p,l,v).map(function(b){return qv.create(Lt.fromDom(b.startContainer),b.startOffset,Lt.fromDom(b.endContainer),b.endOffset)})},Zd=function(u,l){var v=qn(u);return v==="input"?Wu.after(u):mn(["br","img"],v)?l===0?Wu.before(u):Wu.after(u):Wu.on(u,l)},Xv=function(u,l){var v=u.fold(Wu.before,Zd,Wu.after),p=l.fold(Wu.before,Zd,Wu.after);return Jf.relative(v,p)},P0=function(u,l,v,p){var b=Zd(u,l),S=Zd(v,p);return Jf.relative(b,S)},O2=function(u){return u.match({domRange:function(l){var v=Lt.fromDom(l.startContainer),p=Lt.fromDom(l.endContainer);return P0(v,l.startOffset,p,l.endOffset)},relative:Xv,exact:P0})},Sb=function(u,l,v,p){var b=Ps(u),S=b.dom.createRange();return S.setStart(u.dom,l),S.setEnd(v.dom,p),S},c8=function(u,l,v,p){var b=Sb(u,l,v,p),S=Wn(u,v)&&l===p;return b.collapsed&&!S},xh=function(u){return X.from(u.getSelection())},F0=function(u,l){xh(u).each(function(v){v.removeAllRanges(),v.addRange(l)})},I0=function(u,l,v,p,b){var S=Cb(u,l,v,p,b);F0(u,S)},R2=function(u,l,v,p,b,S){l.collapse(v.dom,p),l.extend(b.dom,S)},$0=function(u,l){return kh(u,l).match({ltr:function(v,p,b,S){I0(u,v,p,b,S)},rtl:function(v,p,b,S){xh(u).each(function(D){if(D.setBaseAndExtent)D.setBaseAndExtent(v.dom,p,b.dom,S);else if(D.extend)try{R2(u,D,v,p,b,S)}catch{I0(u,b,S,v,p)}else I0(u,b,S,v,p)})}})},Tb=function(u,l,v,p,b){var S=P0(l,v,p,b);$0(u,S)},Eb=function(u,l,v){var p=Xv(l,v);$0(u,p)},L0=function(u){var l=Jf.getWin(u).dom,v=function(b,S,D,$){return Cb(l,b,S,D,$)},p=O2(u);return kh(l,p).match({ltr:v,rtl:v})},H0=function(u){if(u.rangeCount>0){var l=u.getRangeAt(0),v=u.getRangeAt(u.rangeCount-1);return X.some(qv.create(Lt.fromDom(l.startContainer),l.startOffset,Lt.fromDom(v.endContainer),v.endOffset))}else return X.none()},D2=function(u){if(u.anchorNode===null||u.focusNode===null)return H0(u);var l=Lt.fromDom(u.anchorNode),v=Lt.fromDom(u.focusNode);return c8(l,u.anchorOffset,v,u.focusOffset)?X.some(qv.create(l,u.anchorOffset,v,u.focusOffset)):H0(u)},Yv=function(u,l,v){v===void 0&&(v=!0);var p=v?a8:n8,b=p(u,l);F0(u,b)},Sh=function(u){return xh(u).filter(function(l){return l.rangeCount>0}).bind(D2)},M2=function(u){return Sh(u).map(function(l){return Jf.exact(l.start,l.soffset,l.finish,l.foffset)})},B2=function(u,l){var v=Yd(u,l);return al(v)},zb=function(u,l,v){return A2(u,l,v)},N2=function(u){xh(u).each(function(l){return l.removeAllRanges()})},P2=tinymce.util.Tools.resolve("tinymce.util.VK"),V0=function(u,l,v){return $2(u,l,JS(v,Sp))},F2=function(u,l,v){return $2(u,l,QS(v,Sp))},I2=function(u,l){var v=Jf.exact(l,0,l,0);return L0(v)},$2=function(u,l,v){return v.fold(X.none,X.none,function(p,b){return iy(b).map(function(S){return I2(u,S)})},function(p){return u.execCommand("mceTableInsertRowAfter"),V0(u,l,p)})},l8=["table","li","dl"],L2=function(u,l,v){if(u.keyCode===P2.TAB){var p=Yl(l),b=function($){var Q=qn($);return Wn($,p)||mn(l8,Q)},S=l.selection.getRng(),D=Lt.fromDom(u.shiftKey?S.startContainer:S.endContainer);gl(D,b).each(function($){u.preventDefault(),zo($,b).each(v.clear),l.selection.collapse(u.shiftKey);var Q=u.shiftKey?F2:V0,fe=Q(l,b,$);fe.each(function(Oe){l.selection.setRng(Oe)})})}},U0=function(u,l){return{selection:u,kill:l}},Th={create:U0},f8=function(u,l,v,p){return{start:Wu.on(u,l),finish:Wu.on(v,p)}},H2={create:f8},V2=function(u,l){var v=Yd(u,l);return qv.create(Lt.fromDom(v.startContainer),v.startOffset,Lt.fromDom(v.endContainer),v.endOffset)},Bc=H2.create,U2=function(u,l,v,p,b,S,D){return Wn(v,b)&&p===S?X.none():Ho(v,"td,th",l).bind(function($){return Ho(b,"td,th",l).bind(function(Q){return j2(u,l,$,Q,D)})})},j2=function(u,l,v,p,b){return Wn(v,p)?X.none():gd(v,p,l).bind(function(S){var D=S.boxes.getOr([]);return D.length>1?(b(u,D,S.start,S.finish),X.some(Th.create(X.some(Bc(v,0,v,Qc(v))),!0))):X.none()})},Ab=function(u,l,v,p,b){var S=function(D){return b.clearBeforeUpdate(v),b.selectRange(v,D.boxes,D.start,D.finish),D.boxes};return xm(p,u,l,b.firstSelectedSelector,b.lastSelectedSelector).map(S)},Ob=function(u,l){return{item:u,mode:l}},j0=function(u,l,v,p){return p===void 0&&(p=Zv),u.property().parent(l).map(function(b){return Ob(b,p)})},Zv=function(u,l,v,p){return p===void 0&&(p=Eh),v.sibling(u,l).map(function(b){return Ob(b,p)})},Eh=function(u,l,v,p){p===void 0&&(p=Eh);var b=u.property().children(l),S=v.first(b);return S.map(function(D){return Ob(D,p)})},W2=[{current:j0,next:Zv,fallback:X.none()},{current:Zv,next:Eh,fallback:X.some(j0)},{current:Eh,next:Eh,fallback:X.some(Zv)}],q2=function(u,l,v,p,b){b===void 0&&(b=W2);var S=$t(b,function(D){return D.current===v});return S.bind(function(D){return D.current(u,l,p,D.next).orThunk(function(){return D.fallback.bind(function($){return q2(u,l,$,p)})})})},Rb=function(){var u=function(v,p){return v.query().prevSibling(p)},l=function(v){return v.length>0?X.some(v[v.length-1]):X.none()};return{sibling:u,first:l}},d8=function(){var u=function(v,p){return v.query().nextSibling(p)},l=function(v){return v.length>0?X.some(v[0]):X.none()};return{sibling:u,first:l}},Db={left:Rb,right:d8},rg=function(u,l,v,p,b,S){var D=q2(u,l,p,b);return D.bind(function($){return S($.item)?X.none():v($.item)?X.some($.item):rg(u,$.item,v,$.mode,b,S)})},Mb=function(u,l,v,p){return rg(u,l,v,Zv,Db.left(),p)},G2=function(u,l,v,p){return rg(u,l,v,Zv,Db.right(),p)},Bb=function(u){return function(l){return u.property().children(l).length===0}},Nc=function(u,l,v){return W0(u,l,Bb(u),v)},v8=function(u,l,v){return q0(u,l,Bb(u),v)},W0=Mb,q0=G2,Nb=cp(),zh=function(u,l){return Nc(Nb,u,l)},Pb=function(u,l){return v8(Nb,u,l)},G0=function(u,l,v){return W0(Nb,u,l,v)},K2=function(u,l,v){return q0(Nb,u,l,v)},X2=function(u,l,v){return No(u,l,v).isSome()},Fb=Wl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),m8=function(u,l,v){var p=u.getRect(l),b=u.getRect(v);return b.right>p.left&&b.left<p.right},Y2=function(u){return Ho(u,"tr")},h8=function(u,l,v,p,b,S,D){return Ho(p,"td,th",D).bind(function($){return Ho(l,"td,th",D).map(function(Q){return Wn($,Q)?Wn(p,$)&&Qc($)===b?S(Q):Fb.none("in same cell"):Kr(Y2,[$,Q]).fold(function(){return m8(u,Q,$)?Fb.success():S(Q)},function(fe){return S(Q)})})}).getOr(Fb.none("default"))},p8=function(u,l,v,p,b){return u.fold(l,v,p,b)},Jv=st(st({},Fb),{verify:h8,cata:p8}),g8=function(u,l,v,p){return{parent:u,children:l,element:v,index:p}},y8=function(u){return yo(u).bind(function(l){var v=_(l);return b8(v,u).map(function(p){return g8(l,v,u,p)})})},b8=function(u,l){return Qe(u,Je(Wn,l))},K0=function(u){return qn(u)==="br"},X0=function(u,l,v){return l(u,v).bind(function(p){return Ci(p)&&Xg(p).trim().length===0?X0(p,l,v):X.some(p)})},Z2=function(u,l,v){return v.traverse(l).orThunk(function(){return X0(l,v.gather,u)}).map(v.relative)},ng=function(u,l){return A(u,l).filter(K0).orThunk(function(){return A(u,l-1).filter(K0)})},Y0=function(u,l,v,p){return ng(l,v).bind(function(b){return p.traverse(b).fold(function(){return X0(b,p.gather,u).map(p.relative)},function(S){return y8(S).map(function(D){return Wu.on(D.parent,D.index)})})})},Qv=function(u,l,v,p){var b=K0(l)?Z2(u,l,p):Y0(u,l,v,p);return b.map(function(S){return{start:S,finish:S}})},J2=function(u){return Jv.cata(u,function(l){return X.none()},function(){return X.none()},function(l){return X.some(Mv(l,0))},function(l){return X.some(Mv(l,Qc(l)))})},ag=function(u,l){return{left:u.left,top:u.top+l,right:u.right,bottom:u.bottom+l}},Ah=function(u,l){return{left:u.left,top:u.top-l,right:u.right,bottom:u.bottom-l}},Q2=function(u,l,v){return{left:u.left+l,top:u.top+v,right:u.right+l,bottom:u.bottom+v}},_8=function(u){return u.top},w8=function(u){return u.bottom},e3=function(u,l,v){return v>=0&&v<Qc(l)?u.getRangedRect(l,v,l,v+1):v>0?u.getRangedRect(l,v-1,l,v):X.none()},og=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},ig=function(u,l){return X.some(u.getRect(l))},ug=function(u,l,v){return va(l)?ig(u,l).map(og):Ci(l)?e3(u,l,v).map(og):X.none()},t3=function(u,l){return va(l)?ig(u,l).map(og):Ci(l)?u.getRangedRect(l,0,l,Qc(l)).map(og):X.none()},Rs=5,r3=100,Ml=Wl.generate([{none:[]},{retry:["caret"]}]),k8=function(u,l){return u.left<l.left||Math.abs(l.right-u.left)<1||u.left>l.right},n3=function(u,l,v){return Wg(l,Vd).fold(Ge,function(p){return t3(u,p).exists(function(b){return k8(v,b)})})},Oh=function(u,l,v,p,b){var S=ag(b,Rs);return Math.abs(v.bottom-p.bottom)<1||v.top>b.bottom?Ml.retry(S):v.top===b.bottom?Ml.retry(ag(b,1)):n3(u,l,b)?Ml.retry(Q2(S,Rs,0)):Ml.none()},Rh=function(u,l,v,p,b){var S=Ah(b,Rs);return Math.abs(v.top-p.top)<1||v.bottom<b.top?Ml.retry(S):v.bottom===b.top?Ml.retry(Ah(b,1)):n3(u,l,b)?Ml.retry(Q2(S,Rs,0)):Ml.none()},a3={point:_8,adjuster:Rh,move:Ah,gather:zh},o3={point:w8,adjuster:Oh,move:ag,gather:Pb},Jd=function(u,l,v){return u.elementFromPoint(l,v).filter(function(p){return qn(p)==="table"}).isSome()},Qd=function(u,l,v,p,b){return Z0(u,l,v,l.move(p,Rs),b)},Z0=function(u,l,v,p,b){return b===0?X.some(p):Jd(u,p.left,l.point(p))?Qd(u,l,v,p,b-1):u.situsFromPoint(p.left,l.point(p)).bind(function(S){return S.start.fold(X.none,function(D){return t3(u,D).bind(function($){return l.adjuster(u,D,$,v,p).fold(X.none,function(Q){return Z0(u,l,v,Q,b-1)})}).orThunk(function(){return X.some(p)})},X.none)})},C8=function(u,l){return u.situsFromPoint(l.left,l.bottom+Rs)},em=function(u,l){return u.situsFromPoint(l.left,l.top-Rs)},x8=function(u,l,v){return u.point(l)>v.getInnerHeight()?X.some(u.point(l)-v.getInnerHeight()):u.point(l)<0?X.some(-u.point(l)):X.none()},i3=function(u,l,v){var p=u.move(v,Rs),b=Z0(l,u,v,p,r3).getOr(p);return x8(u,b,l).fold(function(){return l.situsFromPoint(b.left,u.point(b))},function(S){return l.scrollBy(0,S),l.situsFromPoint(b.left,u.point(b)-S)})},sg={tryUp:Je(i3,a3),tryDown:Je(i3,o3),ieTryUp:em,ieTryDown:C8,getJumpSize:Y(Rs)},u3=20,jr=function(u,l,v){return u.getSelection().bind(function(p){return Qv(l,p.finish,p.foffset,v).fold(function(){return X.some(Mv(p.finish,p.foffset))},function(b){var S=u.fromSitus(b),D=Jv.verify(u,p.finish,p.foffset,S.finish,S.foffset,v.failure,l);return J2(D)})})},cg=function(u,l,v,p,b,S){return S===0?X.none():s3(u,l,v,p,b).bind(function(D){var $=u.fromSitus(D),Q=Jv.verify(u,v,p,$.finish,$.foffset,b.failure,l);return Jv.cata(Q,function(){return X.none()},function(){return X.some(D)},function(fe){return Wn(v,fe)&&p===0?lg(u,v,p,Ah,b):cg(u,l,fe,0,b,S-1)},function(fe){return Wn(v,fe)&&p===Qc(fe)?lg(u,v,p,ag,b):cg(u,l,fe,Qc(fe),b,S-1)})})},lg=function(u,l,v,p,b){return ug(u,l,v).bind(function(S){return J0(u,b,p(S,sg.getJumpSize()))})},J0=function(u,l,v){var p=ge().browser;return p.isChrome()||p.isSafari()||p.isFirefox()||p.isEdge()?l.otherRetry(u,v):p.isIE()?l.ieRetry(u,v):X.none()},s3=function(u,l,v,p,b){return ug(u,v,p).bind(function(S){return J0(u,b,S)})},Ib=function(u,l,v){return jr(u,l,v).bind(function(p){return cg(u,l,p.element,p.offset,v,u3).map(u.fromSitus)})},fg=function(u,l){return X2(u,function(v){return yo(v).exists(function(p){return Wn(p,l)})})},Q0=function(u,l,v,p,b){return Ho(p,"td,th",l).bind(function(S){return Ho(S,"table",l).bind(function(D){return fg(b,D)?Ib(u,l,v).bind(function($){return Ho($.finish,"td,th",l).map(function(Q){return{start:S,finish:Q,range:$}})}):X.none()})})},c3=function(u,l,v,p,b,S){return ge().browser.isIE()?X.none():S(p,l).orThunk(function(){return Q0(u,l,v,p,b).map(function(D){var $=D.range;return Th.create(X.some(Bc($.start,$.soffset,$.finish,$.foffset)),!0)})})},S8=function(u,l){return Ho(u,"tr",l).bind(function(v){return Ho(v,"table",l).bind(function(p){var b=Fs(p,"tr");return Wn(v,b[0])?G0(p,function(S){return uy(S).isSome()},l).map(function(S){var D=Qc(S);return Th.create(X.some(Bc(S,D,S,D)),!0)}):X.none()})})},yn=function(u,l){return Ho(u,"tr",l).bind(function(v){return Ho(v,"table",l).bind(function(p){var b=Fs(p,"tr");return Wn(v,b[b.length-1])?K2(p,function(S){return iy(S).isSome()},l).map(function(S){return Th.create(X.some(Bc(S,0,S,0)),!0)}):X.none()})})},$b=function(u,l,v,p,b,S,D){return Q0(u,v,p,b,S).bind(function($){return j2(l,v,$.start,$.finish,D)})},Nn=function(u,l){return Ho(u,"td,th",l)},l3=function(u,l,v,p){var b=bh(),S=b.clear,D=function(Oe){b.on(function(yt){p.clearBeforeUpdate(l),Nn(Oe.target,v).each(function(Ht){gd(yt,Ht,v).each(function(Rt){var pt=Rt.boxes.getOr([]);if(pt.length===1){var or=pt[0],lr=y1(or)==="false",Wr=hl(zv(Oe.target),or,Wn);lr&&Wr&&(p.selectRange(l,pt,or,or),u.selectContents(or))}else pt.length>1&&(p.selectRange(l,pt,Rt.start,Rt.finish),u.selectContents(Ht))})})})},$=function(Oe){p.clear(l),Nn(Oe.target,v).each(b.set)},Q=function(Oe){D(Oe)},fe=function(Oe){D(Oe),S()};return{clearstate:S,mousedown:$,mouseover:Q,mouseup:fe}},f3={traverse:x,gather:Pb,relative:Wu.before,otherRetry:sg.tryDown,ieRetry:sg.ieTryDown,failure:Jv.failedDown},ew={traverse:B,gather:zh,relative:Wu.before,otherRetry:sg.tryUp,ieRetry:sg.ieTryUp,failure:Jv.failedUp},tm=function(u){return function(l){return l===u}},Lb=tm(38),dg=tm(40),Hb=function(u){return u>=37&&u<=40},tw={isBackward:tm(37),isForward:tm(39)},bn={isBackward:tm(39),isForward:tm(37)},T8=function(u){var l=u!==void 0?u.dom:document,v=l.body.scrollLeft||l.documentElement.scrollLeft,p=l.body.scrollTop||l.documentElement.scrollTop;return to(v,p)},d3=function(u,l,v){var p=v!==void 0?v.dom:document,b=p.defaultView;b&&b.scrollBy(u,l)},Vb=function(u){var l=function(lr,Wr){return Lt.fromPoint(Lt.fromDom(u.document),lr,Wr)},v=function(lr){return lr.dom.getBoundingClientRect()},p=function(lr,Wr,pa,Xr){var _n=Jf.exact(lr,Wr,pa,Xr);return B2(u,_n)},b=function(){return M2(u).map(function(lr){return V2(u,lr)})},S=function(lr){var Wr=Jf.relative(lr.start,lr.finish);return V2(u,Wr)},D=function(lr,Wr){return zb(u,lr,Wr).map(function(pa){return H2.create(pa.start,pa.soffset,pa.finish,pa.foffset)})},$=function(){N2(u)},Q=function(lr){lr===void 0&&(lr=!1),M2(u).each(function(Wr){return Wr.fold(function(pa){return pa.collapse(lr)},function(pa,Xr){var _n=lr?pa:Xr;Eb(u,_n,_n)},function(pa,Xr,_n,oa){var Qn=lr?pa:_n,_i=lr?Xr:oa;Tb(u,Qn,_i,Qn,_i)})})},fe=function(lr){Yv(u,lr,!1)},Oe=function(lr){Yv(u,lr)},yt=function(lr){Tb(u,lr.start,lr.soffset,lr.finish,lr.foffset)},Ht=function(lr,Wr){Eb(u,lr,Wr)},Rt=function(){return u.innerHeight},pt=function(){var lr=T8(Lt.fromDom(u.document));return lr.top},or=function(lr,Wr){d3(lr,Wr,Lt.fromDom(u.document))};return{elementFromPoint:l,getRect:v,getRangedRect:p,getSelection:b,fromSitus:S,situsFromPoint:D,clearSelection:$,collapseSelection:Q,setSelection:yt,setRelativeSelection:Ht,selectNode:fe,selectContents:Oe,getInnerHeight:Rt,getScrollY:pt,scrollBy:or}},hf=function(u,l){return{rows:u,cols:l}},v3=function(u,l,v,p){var b=Vb(u),S=l3(b,l,v,p);return{clearstate:S.clearstate,mousedown:S.mousedown,mouseover:S.mouseover,mouseup:S.mouseup}},vg=function(u,l,v,p){var b=Vb(u),S=function(){return p.clear(l),X.none()},D=function(Q,fe,Oe,yt,Ht,Rt){var pt=Q.raw,or=pt.which,lr=pt.shiftKey===!0,Wr=Cm(l,p.selectedSelector).fold(function(){return Hb(or)&&!lr&&p.clearBeforeUpdate(l),dg(or)&&lr?Je($b,b,l,v,f3,yt,fe,p.selectRange):Lb(or)&&lr?Je($b,b,l,v,ew,yt,fe,p.selectRange):dg(or)?Je(c3,b,v,f3,yt,fe,yn):Lb(or)?Je(c3,b,v,ew,yt,fe,S8):X.none},function(pa){var Xr=function(_n){return function(){var oa=ut(_n,function(Qn){return Ab(Qn.rows,Qn.cols,l,pa,p)});return oa.fold(function(){return Gc(l,p.firstSelectedSelector,p.lastSelectedSelector).map(function(Qn){var _i=dg(or)||Rt.isForward(or)?Wu.after:Wu.before;return b.setRelativeSelection(Wu.on(Qn.first,0),_i(Qn.table)),p.clear(l),Th.create(X.none(),!0)})},function(Qn){return X.some(Th.create(X.none(),!0))})}};return dg(or)&&lr?Xr([hf(1,0)]):Lb(or)&&lr?Xr([hf(-1,0)]):Rt.isBackward(or)&&lr?Xr([hf(0,-1),hf(-1,0)]):Rt.isForward(or)&&lr?Xr([hf(0,1),hf(1,0)]):Hb(or)&&!lr?S:X.none});return Wr()},$=function(Q,fe,Oe,yt,Ht){return Cm(l,p.selectedSelector).fold(function(){var Rt=Q.raw,pt=Rt.which,or=Rt.shiftKey===!0;return or&&Hb(pt)?U2(l,v,fe,Oe,yt,Ht,p.selectRange):X.none()},X.none)};return{keydown:D,keyup:$}},Ub=function(u,l,v,p){var b=Vb(u);return function(S,D){p.clearBeforeUpdate(l),gd(S,D,v).each(function($){var Q=$.boxes.getOr([]);p.selectRange(l,Q,$.start,$.finish),b.selectContents(D),b.collapseSelection()})}},m3=function(u,l){sr(l,function(v){Ss(u,v)})},h3=function(u){return function(l){Ri(l,u)}},E8=function(u){return function(l){m3(l,u)}},z8=function(u){var l=h3(u.selected),v=E8([u.selected,u.lastSelected,u.firstSelected]),p=function(S){var D=Fs(S,u.selectedSelector);sr(D,v)},b=function(S,D,$,Q){p(S),sr(D,l),Ri($,u.firstSelected),Ri(Q,u.lastSelected)};return{clearBeforeUpdate:p,clear:p,selectRange:b,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},A8=function(u,l,v){var p=function(Q){fo(Q,u.selected),fo(Q,u.firstSelected),fo(Q,u.lastSelected)},b=function(Q){Si(Q,u.selected,"1")},S=function(Q){D(Q),v()},D=function(Q){var fe=Fs(Q,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);sr(fe,p)},$=function(Q,fe,Oe,yt){S(Q),sr(fe,b),Si(Oe,u.firstSelected,"1"),Si(yt,u.lastSelected,"1"),l(fe,Oe,yt)};return{clearBeforeUpdate:D,clear:S,selectRange:$,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},O8={byClass:z8,byAttr:A8},R8=function(u,l){var v=u.slice(0,l[l.length-1].row+1),p=qy(v);return rt(p,function(b){var S=b.cells.slice(0,l[l.length-1].column+1);return Wt(S,function(D){return D.element})})},p3=function(u,l){var v=u.slice(l[0].row+l[0].rowspan-1,u.length),p=qy(v);return rt(p,function(b){var S=b.cells.slice(l[0].column+l[0].colspan-1,b.cells.length);return Wt(S,function(D){return D.element})})},D8=function(u,l,v){var p=Vn.fromTable(u),b=zl(p,l);return b.map(function(S){var D=$d(p,v,!1),$=R8(D,S),Q=p3(D,S);return{upOrLeftCells:$,downOrRightCells:Q}})},rw=tinymce.util.Tools.resolve("tinymce.Env"),Dh=function(u){return uo(Lt.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function ca(u,l,v){var p=function(D,$,Q){v.targets().each(function(fe){var Oe=zo($);Oe.each(function(yt){var Ht=$y(u),Rt=Bn(Xe,Lt.fromDom(u.getDoc()),Ht),pt=D8(yt,fe,Rt);Wm(u,D,$,Q,pt)})})},b=function(){return kk(u)},S=O8.byAttr(vc,p,b);return u.on("init",function(D){var $=u.getWin(),Q=Yl(u),fe=dc(u),Oe=function(){var _a=u.selection,An=Lt.fromDom(_a.getStart()),la=Lt.fromDom(_a.getEnd()),ja=Kr(zo,[An,la]);ja.fold(function(){return S.clear(Q)},Xe)},yt=v3($,Q,fe,S),Ht=vg($,Q,fe,S),Rt=Ub($,Q,fe,S),pt=function(_a){return _a.raw.shiftKey===!0};u.on("TableSelectorChange",function(_a){return Rt(_a.start,_a.finish)});var or=function(_a,An){pt(_a)&&(An.kill&&_a.kill(),An.selection.each(function(la){var ja=Jf.relative(la.start,la.finish),qo=Yd($,ja);u.selection.setRng(qo)}))},lr=function(_a){var An=Wf(_a);if(An.raw.shiftKey&&Hb(An.raw.which)){var la=u.selection.getRng(),ja=Lt.fromDom(la.startContainer),qo=Lt.fromDom(la.endContainer);Ht.keyup(An,ja,la.startOffset,qo,la.endOffset).each(function(pf){or(An,pf)})}},Wr=function(_a){var An=Wf(_a);l().each(function(Ga){return Ga.hideBars()});var la=u.selection.getRng(),ja=Lt.fromDom(la.startContainer),qo=Lt.fromDom(la.endContainer),pf=Us(tw,bn)(Lt.fromDom(u.selection.getStart()));Ht.keydown(An,ja,la.startOffset,qo,la.endOffset,pf).each(function(Ga){or(An,Ga)}),l().each(function(Ga){return Ga.showBars()})},pa=function(_a){return _a.button===0},Xr=function(_a){return _a.buttons===void 0||rw.browser.isEdge()&&_a.buttons===0?!0:(_a.buttons&1)!==0},_n=function(_a){yt.clearstate()},oa=function(_a){pa(_a)&&Dh(_a)&&yt.mousedown(Wf(_a))},Qn=function(_a){Xr(_a)&&Dh(_a)&&yt.mouseover(Wf(_a))},_i=function(_a){pa(_a)&&Dh(_a)&&yt.mouseup(Wf(_a))},eu=function(){var _a=Yf(Lt.fromDom(Q)),An=Yf(0),la=function(ja){var qo=Lt.fromDom(ja.target);if(qn(qo)==="td"||qn(qo)==="th"){var pf=_a.get(),Ga=An.get();Wn(pf,qo)&&ja.timeStamp-Ga<300&&(ja.preventDefault(),Rt(qo,qo))}_a.set(qo),An.set(ja.timeStamp)};return{touchEnd:la}},fs=eu();u.on("dragstart",_n),u.on("mousedown",oa),u.on("mouseover",Qn),u.on("mouseup",_i),u.on("touchend",fs.touchEnd),u.on("keyup",lr),u.on("keydown",Wr),u.on("NodeChange",Oe)}),{clear:S.clear}}var jb=function(u,l){return vn(u,l).isSome()},Wb=function(u,l){var v=Yf(X.none()),p=Yf([]),b=X.none(),S=go("caption"),D=function(An){return b.forall(function(la){return!la[An]})},$=function(){return Fo(bv(u),dc(u))},Q=function(){return Fo(Nr(u),dc(u))},fe=function(){return $().bind(function(An){return Ef($s(zo(An),Q().bind(zo),function(la,ja){return Wn(la,ja)?S(An)?X.some(o1(An)):X.some(_v(l,la,An)):X.none()}))})},Oe=function(An){var la=zo(An.element);return la.map(function(ja){var qo=Vn.fromTable(ja),pf=zl(qo,An).getOr([]),Ga=oe(pf,function(Pc,bu){return bu.isLocked&&(Pc.onAny=!0,bu.column===0?Pc.onFirst=!0:bu.column+bu.colspan>=qo.grid.columns&&(Pc.onLast=!0)),Pc},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:$1(qo,An).isSome(),unmergeable:Xy(qo,An).isSome(),locked:Ga}})},yt=function(){v.set(Rr(fe)()),b=v.get().bind(Oe),sr(p.get(),function(An){return An()})},Ht=function(An){return An(),p.set(p.get().concat([An])),function(){p.set(dn(p.get(),function(la){return la!==An}))}},Rt=function(An,la){return Ht(function(){return v.get().fold(function(){An.setDisabled(!0)},function(ja){An.setDisabled(la(ja))})})},pt=function(An,la,ja){return Ht(function(){return v.get().fold(function(){An.setDisabled(!0),An.setActive(!1)},function(qo){An.setDisabled(la(qo)),An.setActive(ja(qo))})})},or=function(An){return b.exists(function(la){return la.locked[An]})},lr=function(An){return Rt(An,function(la){return!1})},Wr=function(An){return Rt(An,function(la){return S(la.element)})},pa=function(An){return function(la){return Rt(la,function(ja){return S(ja.element)||or(An)})}},Xr=function(An){return function(la){return Rt(la,function(ja){return S(ja.element)||An().isNone()})}},_n=function(An,la){return function(ja){return Rt(ja,function(qo){return S(qo.element)||An().isNone()||or(la)})}},oa=function(An){return Rt(An,function(la){return D("mergeable")})},Qn=function(An){return Rt(An,function(la){return D("unmergeable")})},_i=function(An){return pt(An,Ge,function(la){var ja=zo(la.element,dc(u));return ja.exists(function(qo){return jb(qo,"caption")})})},eu=function(An,la){return function(ja){return pt(ja,function(qo){return S(qo.element)},function(){return u.queryCommandValue(An)===la})}},fs=eu("mceTableRowType","header"),_a=eu("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",yt),{onSetupTable:lr,onSetupCellOrRow:Wr,onSetupColumn:pa,onSetupPasteable:Xr,onSetupPasteableColumn:_n,onSetupMergeable:oa,onSetupUnmergeable:Qn,resetTargets:yt,onSetupTableWithCaption:_i,onSetupTableRowHeaders:fs,onSetupTableColumnHeaders:_a,targets:v.get}},g3=function(u,l,v,p){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function($){return $("inserttable | cell row column | advtablesort | tableprops deletetable")}});var b=function($){return function(){return u.execCommand($)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:b("mceTableProps"),icon:"table",onSetup:v.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:b("mceTableDelete"),icon:"table-delete-table",onSetup:v.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:b("mceTableCellProps"),icon:"table-cell-properties",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:b("mceTableMergeCells"),icon:"table-merge-cells",onSetup:v.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:b("mceTableSplitCells"),icon:"table-split-cells",onSetup:v.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:b("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:b("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:b("mceTableDeleteRow"),icon:"table-delete-row",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:b("mceTableRowProps"),icon:"table-row-properties",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:b("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:v.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:b("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:v.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:b("mceTableDeleteCol"),icon:"table-delete-column",onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:b("mceTableCutRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:b("mceTableCopyRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:b("mceTablePasteRowBefore"),onSetup:v.onSetupPasteable(p.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:b("mceTablePasteRowAfter"),onSetup:v.onSetupPasteable(p.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:b("mceTableCutCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:b("mceTableCopyCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:b("mceTablePasteColBefore"),onSetup:v.onSetupPasteableColumn(p.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:b("mceTablePasteColAfter"),onSetup:v.onSetupPasteableColumn(p.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:b("mceInsertTable"),icon:"table"});var S=qd(Dp(u));S.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Uv(u,l,S,"tableclass",function($){return u.execCommand("mceTableToggleClass",!1,$)}),onSetup:v.onSetupTable});var D=qd(nf(u));D.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Uv(u,l,D,"tablecellclass",function($){return u.execCommand("mceTableCellToggleClass",!1,$)}),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Uv(u,l,yh,"tablecellverticalalign",Wd(u,"vertical-align")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Uv(u,l,xk(u),"tablecellborderwidth",Wd(u,"border-width")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Uv(u,l,Hu(u),"tablecellborderstyle",Wd(u,"border-style")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:b("mceTableToggleCaption"),icon:"table-caption",onSetup:v.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function($){return $(_h(u,z1(u),"background-color"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function($){return $(_h(u,A1(u),"border-color"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:p0(u),onSetup:v.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:g0(u),onSetup:v.onSetupTableColumnHeaders})},y3=function(u){var l=function(p){return u.dom.is(p,"table")&&u.getBody().contains(p)},v=Jx(u);v.length>0&&u.ui.registry.addContextToolbar("table",{predicate:l,items:v,scope:"node",position:"node"})},b3=function(u,l,v,p){var b=function(Rt){return function(){return u.execCommand(Rt)}},S=function(Rt){u.execCommand("mceInsertTable",!1,{rows:Rt.numRows,columns:Rt.numColumns})},D={text:"Table properties",onSetup:v.onSetupTable,onAction:b("mceTableProps")},$={text:"Delete table",icon:"table-delete-table",onSetup:v.onSetupTable,onAction:b("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:b("mceTableInsertRowBefore"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:b("mceTableInsertRowAfter"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:b("mceTableDeleteRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:b("mceTableRowProps"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:b("mceTableCutRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:b("mceTableCopyRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:b("mceTablePasteRowBefore"),onSetup:v.onSetupPasteable(p.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:b("mceTablePasteRowAfter"),onSetup:v.onSetupPasteable(p.getRows)});var Q={type:"nestedmenuitem",text:"Row",getSubmenuItems:Y("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:b("mceTableInsertColBefore"),onSetup:v.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:b("mceTableInsertColAfter"),onSetup:v.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:b("mceTableDeleteCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:b("mceTableCutCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:b("mceTableCopyCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:b("mceTablePasteColBefore"),onSetup:v.onSetupPasteableColumn(p.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:b("mceTablePasteColAfter"),onSetup:v.onSetupPasteableColumn(p.getColumns,"onLast")});var fe={type:"nestedmenuitem",text:"Column",getSubmenuItems:Y("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:b("mceTableCellProps"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:b("mceTableMergeCells"),onSetup:v.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:b("mceTableSplitCells"),onSetup:v.onSetupUnmergeable});var Oe={type:"nestedmenuitem",text:"Cell",getSubmenuItems:Y("tablecellprops tablemergecells tablesplitcells")};Sk(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:b("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:S}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:b("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",D),u.ui.registry.addMenuItem("deletetable",$),u.ui.registry.addNestedMenuItem("row",Q),u.ui.registry.addNestedMenuItem("column",fe),u.ui.registry.addNestedMenuItem("cell",Oe),u.ui.registry.addContextMenu("table",{update:function(){return v.resetTargets(),v.targets().fold(Y(""),function(Rt){return qn(Rt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var yt=qd(Dp(u));yt.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return nl(u,l,yt,"tableclass",function(Rt){return u.execCommand("mceTableToggleClass",!1,Rt)})},onSetup:v.onSetupTable});var Ht=qd(nf(u));Ht.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return nl(u,l,Ht,"tablecellclass",function(Rt){return u.execCommand("mceTableCellToggleClass",!1,Rt)})},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return nl(u,l,yh,"tablecellverticalalign",Wd(u,"vertical-align"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return nl(u,l,xk(u),"tablecellborderwidth",Wd(u,"border-width"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return nl(u,l,Hu(u),"tablecellborderstyle",Wd(u,"border-style"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:b("mceTableToggleCaption"),onSetup:v.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return _h(u,z1(u),"background-color")},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return _h(u,A1(u),"border-color")},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:p0(u),onSetup:v.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:g0(u),onSetup:v.onSetupTableColumnHeaders})},nw=function(u){var l=Au(function(){return Yl(u)},function(){return du(bv(u),dc(u))},vc.selectedSelector),v=Wb(u,l),p=Hy(u),b=ca(u,p.lazyResize,v),S=FS(u,b,p.lazyWire),D=wb();return bb(u,S,b,l,D),_b(u,S,l),el(u,l,S),b3(u,l,v,D),g3(u,l,v,D),y3(u),u.on("PreInit",function(){u.serializer.addTempAttr(vc.firstSelected),u.serializer.addTempAttr(vc.lastSelected),ZS(u)}),Tl(u)&&u.on("keydown",function($){L2($,u,b)}),u.on("remove",function(){p.destroy()}),cf(u,D,p,v)};function aw(){Zw.add("table",nw)}aw()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager");function T(){I.add("textcolor",function(){})}T()})();(function(){var I=function(Ye){var Ae=Ye,tt=function(){return Ae},er=function(Xe){Ae=Xe};return{get:tt,set:er}},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),N=function(Ye,Ae){Ye.fire("VisualBlocks",{state:Ae})},F=function(Ye,Ae,tt){var er=Ye.dom;er.toggleClass(Ye.getBody(),"mce-visualblocks"),tt.set(!tt.get()),N(Ye,tt.get())},ee=function(Ye,Ae,tt){Ye.addCommand("mceVisualBlocks",function(){F(Ye,Ae,tt)})},pe=function(Ye){return Ye.getParam("visualblocks_default_state",!1,"boolean")},He=function(Ye,Ae,tt){Ye.on("PreviewFormats AfterPreviewFormats",function(er){tt.get()&&Ye.dom.toggleClass(Ye.getBody(),"mce-visualblocks",er.type==="afterpreviewformats")}),Ye.on("init",function(){pe(Ye)&&F(Ye,Ae,tt)})},xe=function(Ye,Ae){return function(tt){tt.setActive(Ae.get());var er=function(Xe){return tt.setActive(Xe.state)};return Ye.on("VisualBlocks",er),function(){return Ye.off("VisualBlocks",er)}}},ye=function(Ye,Ae){var tt=function(){return Ye.execCommand("mceVisualBlocks")};Ye.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:tt,onSetup:xe(Ye,Ae)}),Ye.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:tt,onSetup:xe(Ye,Ae)})};function jt(){T.add("visualblocks",function(Ye,Ae){var tt=I(!1);ee(Ye,Ae,tt),ye(Ye,tt),He(Ye,Ae,tt)})}jt()})();(function(){var I=function(Ke){var Mt=Ke,gt=function(){return Mt},dr=function(un){Mt=un};return{get:gt,set:dr}},T=tinymce.util.Tools.resolve("tinymce.PluginManager"),N=function(Ke){var Mt=function(){return Ke.get()};return{isEnabled:Mt}},F=function(Ke,Mt){return Ke.fire("VisualChars",{state:Mt})},ee=function(Ke){var Mt=typeof Ke;return Ke===null?"null":Mt==="object"&&(Array.prototype.isPrototypeOf(Ke)||Ke.constructor&&Ke.constructor.name==="Array")?"array":Mt==="object"&&(String.prototype.isPrototypeOf(Ke)||Ke.constructor&&Ke.constructor.name==="String")?"string":Mt},pe=function(Ke){return function(Mt){return ee(Mt)===Ke}},He=function(Ke){return function(Mt){return typeof Mt===Ke}},xe=pe("string"),ye=He("boolean"),jt=He("number"),Ye=function(){},Ae=function(Ke){return function(){return Ke}},tt=function(Ke){return Ke},er=Ae(!1),Xe=Ae(!0),at=function(){return _e},_e=function(){var Ke=function(dr){return dr()},Mt=tt,gt={fold:function(dr,un){return dr()},isSome:er,isNone:Xe,getOr:Mt,getOrThunk:Ke,getOrDie:function(dr){throw new Error(dr||"error: getOrDie called on none.")},getOrNull:Ae(null),getOrUndefined:Ae(void 0),or:Mt,orThunk:Ke,map:at,each:Ye,bind:at,exists:er,forall:Xe,filter:function(){return at()},toArray:function(){return[]},toString:Ae("none()")};return gt}(),Y=function(Ke){var Mt=Ae(Ke),gt=function(){return un},dr=function(ua){return ua(Ke)},un={fold:function(ua,fi){return fi(Ke)},isSome:Xe,isNone:er,getOr:Mt,getOrThunk:Mt,getOrDie:Mt,getOrNull:Mt,getOrUndefined:Mt,or:gt,orThunk:gt,map:function(ua){return Y(ua(Ke))},each:function(ua){ua(Ke)},bind:dr,exists:dr,forall:dr,filter:function(ua){return ua(Ke)?un:_e},toArray:function(){return[Ke]},toString:function(){return"some("+Ke+")"}};return un},De=function(Ke){return Ke==null?_e:Y(Ke)},ue={some:Y,none:at,from:De},Je=function(Ke,Mt){for(var gt=Ke.length,dr=new Array(gt),un=0;un<gt;un++){var ua=Ke[un];dr[un]=Mt(ua,un)}return dr},ze=function(Ke,Mt){for(var gt=0,dr=Ke.length;gt<dr;gt++){var un=Ke[gt];Mt(un,gt)}},Le=function(Ke,Mt){for(var gt=[],dr=0,un=Ke.length;dr<un;dr++){var ua=Ke[dr];Mt(ua,dr)&&gt.push(ua)}return gt},Ge=Object.keys,ce=function(Ke,Mt){for(var gt=Ge(Ke),dr=0,un=gt.length;dr<un;dr++){var ua=gt[dr],fi=Ke[ua];Mt(fi,ua)}};typeof window<"u"||Function("return this;")();var Ue=3,U=function(Ke){return Ke.dom.nodeType},Ce=function(Ke){return Ke.dom.nodeValue},J=function(Ke){return function(Mt){return U(Mt)===Ke}},X=J(Ue),It=function(Ke,Mt,gt){if(xe(gt)||ye(gt)||jt(gt))Ke.setAttribute(Mt,gt+"");else throw console.error("Invalid call to Attribute.set. Key ",Mt,":: Value ",gt,":: Element ",Ke),new Error("Attribute value was not simple")},fn=function(Ke,Mt,gt){It(Ke.dom,Mt,gt)},St=function(Ke,Mt){var gt=Ke.dom.getAttribute(Mt);return gt===null?void 0:gt},Xn=function(Ke,Mt){Ke.dom.removeAttribute(Mt)},mn=function(Ke,Mt){var gt=St(Ke,Mt);return gt===void 0||gt===""?[]:gt.split(" ")},O=function(Ke,Mt,gt){var dr=mn(Ke,Mt),un=dr.concat([gt]);return fn(Ke,Mt,un.join(" ")),!0},On=function(Ke,Mt,gt){var dr=Le(mn(Ke,Mt),function(un){return un!==gt});return dr.length>0?fn(Ke,Mt,dr.join(" ")):Xn(Ke,Mt),!1},Wt=function(Ke){return Ke.dom.classList!==void 0},sr=function(Ke){return mn(Ke,"class")},ya=function(Ke,Mt){return O(Ke,"class",Mt)},vo=function(Ke,Mt){return On(Ke,"class",Mt)},dn=function(Ke,Mt){Wt(Ke)?Ke.dom.classList.add(Mt):ya(Ke,Mt)},fa=function(Ke){var Mt=Wt(Ke)?Ke.dom.classList:sr(Ke);Mt.length===0&&Xn(Ke,"class")},oe=function(Ke,Mt){if(Wt(Ke)){var gt=Ke.dom.classList;gt.remove(Mt)}else vo(Ke,Mt);fa(Ke)},Xa=function(Ke,Mt){var gt=Mt||document,dr=gt.createElement("div");if(dr.innerHTML=Ke,!dr.hasChildNodes()||dr.childNodes.length>1)throw console.error("HTML does not have a single root node",Ke),new Error("HTML must have a single root node");return Sr(dr.childNodes[0])},$t=function(Ke,Mt){var gt=Mt||document,dr=gt.createElement(Ke);return Sr(dr)},Qe=function(Ke,Mt){var gt=Mt||document,dr=gt.createTextNode(Ke);return Sr(dr)},Sr=function(Ke){if(Ke==null)throw new Error("Node cannot be null or undefined");return{dom:Ke}},rt=function(Ke,Mt,gt){return ue.from(Ke.dom.elementFromPoint(Mt,gt)).map(Sr)},qe={fromHtml:Xa,fromTag:$t,fromText:Qe,fromDom:Sr,fromPoint:rt},be={"":"nbsp","":"shy"},Pe=function(Ke,Mt){var gt="";return ce(Ke,function(dr,un){gt+=un}),new RegExp("["+gt+"]",Mt?"g":"")},je=function(Ke){var Mt="";return ce(Ke,function(gt){Mt&&(Mt+=","),Mt+="span.mce-"+gt}),Mt},Nt=Pe(be),fr=Pe(be,!0),Xt=je(be),Pr="mce-nbsp",ut=function(Ke){return'<span data-mce-bogus="1" class="mce-'+be[Ke]+'">'+Ke+"</span>"},st=function(Ke){var Mt=Ce(Ke);return X(Ke)&&Mt!==void 0&&Nt.test(Mt)},nr=function(Ke,Mt){var gt=[],dr=Ke.dom,un=Je(dr.childNodes,qe.fromDom);return ze(un,function(ua){Mt(ua)&&(gt=gt.concat([ua])),gt=gt.concat(nr(ua,Mt))}),gt},Rr=function(Ke,Mt){for(;Ke.parentNode;){if(Ke.parentNode===Mt)return Ke;Ke=Ke.parentNode}},sn=function(Ke){return Ke.replace(fr,ut)},wn=function(Ke){return Ke.nodeName.toLowerCase()==="span"&&Ke.classList.contains("mce-nbsp-wrap")},Gn=function(Ke,Mt){var gt=nr(qe.fromDom(Mt),st);ze(gt,function(dr){var un=dr.dom.parentNode;if(wn(un))dn(qe.fromDom(un),Pr);else{for(var ua=sn(Ke.dom.encode(Ce(dr))),fi=Ke.dom.create("div",null,ua),Kn=void 0;Kn=fi.lastChild;)Ke.dom.insertAfter(Kn,dr.dom);Ke.dom.remove(dr.dom)}})},Yn=function(Ke,Mt){var gt=Ke.dom.select(Xt,Mt);ze(gt,function(dr){wn(dr)?oe(qe.fromDom(dr),Pr):Ke.dom.remove(dr,!0)})},Ta=function(Ke){var Mt=Ke.getBody(),gt=Ke.selection.getBookmark(),dr=Rr(Ke.selection.getNode(),Mt);dr=dr!==void 0?dr:Mt,Yn(Ke,dr),Gn(Ke,dr),Ke.selection.moveToBookmark(gt)},ba=function(Ke,Mt){F(Ke,Mt.get());var gt=Ke.getBody();Mt.get()===!0?Gn(Ke,gt):Yn(Ke,gt)},Zn=function(Ke,Mt){Mt.set(!Mt.get());var gt=Ke.selection.getBookmark();ba(Ke,Mt),Ke.selection.moveToBookmark(gt)},In=function(Ke,Mt){Ke.addCommand("mceVisualChars",function(){Zn(Ke,Mt)})},ga=function(Ke){return Ke.getParam("visualchars_default_state",!1)},Rn=function(Ke){return Ke.getParam("forced_root_block")!==!1},kn=function(Ke,Mt){Ke.on("init",function(){ba(Ke,Mt)})},Ka=tinymce.util.Tools.resolve("tinymce.util.Delay"),ao=function(Ke,Mt){var gt=Ka.debounce(function(){Ta(Ke)},300);Rn(Ke)&&Ke.on("keydown",function(dr){Mt.get()===!0&&(dr.keyCode===13?Ta(Ke):gt())}),Ke.on("remove",gt.stop)},Ca=function(Ke,Mt){return function(gt){gt.setActive(Mt.get());var dr=function(un){return gt.setActive(un.state)};return Ke.on("VisualChars",dr),function(){return Ke.off("VisualChars",dr)}}},xn=function(Ke,Mt){var gt=function(){return Ke.execCommand("mceVisualChars")};Ke.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:gt,onSetup:Ca(Ke,Mt)}),Ke.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:gt,onSetup:Ca(Ke,Mt)})};function Co(){T.add("visualchars",function(Ke){var Mt=I(ga(Ke));return In(Ke,Mt),xn(Ke,Mt),ao(Ke,Mt),kn(Ke,Mt),N(Mt)})}Co()})();(function(){var I=tinymce.util.Tools.resolve("tinymce.PluginManager"),T=function(rt){return rt},N=function(){return N=Object.assign||function(qe){for(var be,Pe=1,je=arguments.length;Pe<je;Pe++){be=arguments[Pe];for(var Nt in be)Object.prototype.hasOwnProperty.call(be,Nt)&&(qe[Nt]=be[Nt])}return qe},N.apply(this,arguments)},F="\uFEFF",ee=function(rt){return rt.replace(/\uFEFF/g,"")},pe=function(rt,qe){for(var be=rt.length,Pe=new Array(be),je=0;je<be;je++){var Nt=rt[je];Pe[je]=qe(Nt,je)}return Pe},He="[!-#%-*,-\\/:;?@\\[-\\]_{};----------------------------------------------]",xe={aletter:"[A-Za-z---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------]",midnumlet:"[-'\\.]",midletter:"[:]",midnum:"[+*/,;;]",numeric:"[0-9---------------------------------]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[------------------------------------------------------------------------------------------------------]",format:"[----\uFEFF-]",katakana:"[-------]",extendnumlet:"[=_--<>]",punctuation:He},ye={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},jt=[new RegExp(xe.aletter),new RegExp(xe.midnumlet),new RegExp(xe.midletter),new RegExp(xe.midnum),new RegExp(xe.numeric),new RegExp(xe.cr),new RegExp(xe.lf),new RegExp(xe.newline),new RegExp(xe.extend),new RegExp(xe.format),new RegExp(xe.katakana),new RegExp(xe.extendnumlet),new RegExp("@")],Ye="",Ae=new RegExp("^"+xe.punctuation+"$"),tt=/^\s+$/,er=jt,Xe=ye.OTHER,at=function(rt){for(var qe=Xe,be=er.length,Pe=0;Pe<be;++Pe){var je=er[Pe];if(je&&je.test(rt)){qe=Pe;break}}return qe},_e=function(rt){var qe={};return function(be){if(qe[be])return qe[be];var Pe=rt(be);return qe[be]=Pe,Pe}},Y=function(rt){var qe=_e(at);return pe(rt,qe)},De=function(rt,qe){var be=rt[qe],Pe=rt[qe+1];if(qe<0||qe>rt.length-1&&qe!==0||be===ye.ALETTER&&Pe===ye.ALETTER)return!1;var je=rt[qe+2];if(be===ye.ALETTER&&(Pe===ye.MIDLETTER||Pe===ye.MIDNUMLET||Pe===ye.AT)&&je===ye.ALETTER)return!1;var Nt=rt[qe-1];return(be===ye.MIDLETTER||be===ye.MIDNUMLET||Pe===ye.AT)&&Pe===ye.ALETTER&&Nt===ye.ALETTER||(be===ye.NUMERIC||be===ye.ALETTER)&&(Pe===ye.NUMERIC||Pe===ye.ALETTER)||(be===ye.MIDNUM||be===ye.MIDNUMLET)&&Pe===ye.NUMERIC&&Nt===ye.NUMERIC||be===ye.NUMERIC&&(Pe===ye.MIDNUM||Pe===ye.MIDNUMLET)&&je===ye.NUMERIC||be===ye.EXTEND||be===ye.FORMAT||Nt===ye.EXTEND||Nt===ye.FORMAT||Pe===ye.EXTEND||Pe===ye.FORMAT||be===ye.CR&&Pe===ye.LF?!1:be===ye.NEWLINE||be===ye.CR||be===ye.LF||Pe===ye.NEWLINE||Pe===ye.CR||Pe===ye.LF?!0:!(be===ye.KATAKANA&&Pe===ye.KATAKANA||Pe===ye.EXTENDNUMLET&&(be===ye.ALETTER||be===ye.NUMERIC||be===ye.KATAKANA||be===ye.EXTENDNUMLET)||be===ye.EXTENDNUMLET&&(Pe===ye.ALETTER||Pe===ye.NUMERIC||Pe===ye.KATAKANA)||be===ye.AT)},ue=Ye,Je=tt,ze=Ae,Le=function(rt){return rt==="http"||rt==="https"},Ge=function(rt,qe){var be;for(be=qe;be<rt.length&&!Je.test(rt[be]);be++);return be},ce=function(rt,qe){var be=Ge(rt,qe+1),Pe=rt.slice(qe+1,be).join(ue);return Pe.substr(0,3)==="://"?be:qe},Ue=function(rt,qe,be,Pe){for(var je=[],Nt=[],fr=0;fr<be.length;++fr)if(Nt.push(rt[fr]),De(be,fr)){var Xt=qe[fr];if((Pe.includeWhitespace||!Je.test(Xt))&&(Pe.includePunctuation||!ze.test(Xt))){var Pr=fr-Nt.length+1,ut=fr+1,st=qe.slice(Pr,ut).join(ue);if(Le(st)){var nr=ce(qe,fr),Rr=rt.slice(ut,nr);Array.prototype.push.apply(Nt,Rr),fr=nr}je.push(Nt)}Nt=[]}return je},U=function(){return{includeWhitespace:!1,includePunctuation:!1}},Ce=function(rt,qe,be){be=N(N({},U()),be);for(var Pe=[],je=[],Nt=0;Nt<rt.length;Nt++){var fr=qe(rt[Nt]);fr!==F&&(Pe.push(rt[Nt]),je.push(fr))}var Xt=Y(je);return Ue(Pe,je,Xt,be)},J=Ce,X=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),It=function(rt,qe){for(var be=qe.getBlockElements(),Pe=qe.getShortEndedElements(),je=function(Pr){return be[Pr.nodeName]||Pe[Pr.nodeName]},Nt=[],fr="",Xt=new X(rt,rt);rt=Xt.next();)rt.nodeType===3?fr+=ee(rt.data):je(rt)&&fr.length&&(Nt.push(fr),fr="");return fr.length&&Nt.push(fr),Nt},fn=function(rt){return rt.replace(/\u200B/g,"")},St=function(rt){return rt.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},Xn=function(rt,qe){var be=fn(It(rt,qe).join(`
`));return J(be.split(""),T).length},mn=function(rt,qe){var be=It(rt,qe).join("");return St(be)},O=function(rt,qe){var be=It(rt,qe).join("").replace(/\s/g,"");return St(be)},On=function(rt,qe){return function(){return qe(rt.getBody(),rt.schema)}},Wt=function(rt,qe){return function(){return qe(rt.selection.getRng().cloneContents(),rt.schema)}},sr=function(rt){return On(rt,Xn)},ya=function(rt){return{body:{getWordCount:sr(rt),getCharacterCount:On(rt,mn),getCharacterCountWithoutSpaces:On(rt,O)},selection:{getWordCount:Wt(rt,Xn),getCharacterCount:Wt(rt,mn),getCharacterCountWithoutSpaces:Wt(rt,O)},getCount:sr(rt)}},vo=function(rt,qe){rt.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(qe.body.getWordCount()),String(qe.selection.getWordCount())],["Characters (no spaces)",String(qe.body.getCharacterCountWithoutSpaces()),String(qe.selection.getCharacterCountWithoutSpaces())],["Characters",String(qe.body.getCharacterCount()),String(qe.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},dn=function(rt,qe){rt.addCommand("mceWordCount",function(){return vo(rt,qe)})},fa=tinymce.util.Tools.resolve("tinymce.util.Delay"),oe=function(rt,qe){rt.fire("wordCountUpdate",{wordCount:{words:qe.body.getWordCount(),characters:qe.body.getCharacterCount(),charactersWithoutSpaces:qe.body.getCharacterCountWithoutSpaces()}})},Xa=function(rt,qe){oe(rt,qe)},$t=function(rt,qe,be){var Pe=fa.debounce(function(){return Xa(rt,qe)},be);rt.on("init",function(){Xa(rt,qe),fa.setEditorTimeout(rt,function(){rt.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",Pe)},0)})},Qe=function(rt){var qe=function(){return rt.execCommand("mceWordCount")};rt.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:qe}),rt.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:qe})};function Sr(rt){rt===void 0&&(rt=300),I.add("wordcount",function(qe){var be=ya(qe);return dn(qe,be),Qe(qe),$t(qe,be,rt),be})}Sr()})();(function(){var I=function(t){var n=typeof t;return t===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":n},T=function(t){return function(n){return I(n)===t}},N=function(t){return function(n){return typeof n===t}},F=function(t){return function(n){return t===n}},ee=T("string"),pe=T("object"),He=T("array"),xe=F(null),ye=N("boolean"),jt=F(void 0),Ye=function(t){return t==null},Ae=function(t){return!Ye(t)},tt=N("function"),er=N("number"),Xe=function(t,n){if(He(t)){for(var o=0,s=t.length;o<s;++o)if(!n(t[o]))return!1;return!0}return!1},at=function(){},_e=function(t){return function(){return t()}},Y=function(t,n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return t(n.apply(null,o))}},De=function(t,n){return function(o){return t(n(o))}},ue=function(t){return function(){return t}},Je=function(t){return t},ze=function(t,n){return t===n};function Le(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var m=n.concat(s);return t.apply(null,m)}}var Ge=function(t){return function(n){return!t(n)}},ce=function(t){return function(){throw new Error(t)}},Ue=ue(!1),U=ue(!0),Ce=tinymce.util.Tools.resolve("tinymce.ThemeManager"),J=function(){return J=Object.assign||function(n){for(var o,s=1,d=arguments.length;s<d;s++){o=arguments[s];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(n[m]=o[m])}return n},J.apply(this,arguments)};function X(t,n){var o={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&n.indexOf(s)<0&&(o[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(t);d<s.length;d++)n.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(t,s[d])&&(o[s[d]]=t[s[d]]);return o}function It(t,n,o){if(o||arguments.length===2)for(var s=0,d=n.length,m;s<d;s++)(m||!(s in n))&&(m||(m=Array.prototype.slice.call(n,0,s)),m[s]=n[s]);return t.concat(m||Array.prototype.slice.call(n))}var fn=function(){return St},St=function(){var t=function(s){return s()},n=Je,o={fold:function(s,d){return s()},isSome:Ue,isNone:U,getOr:n,getOrThunk:t,getOrDie:function(s){throw new Error(s||"error: getOrDie called on none.")},getOrNull:ue(null),getOrUndefined:ue(void 0),or:n,orThunk:t,map:fn,each:at,bind:fn,exists:Ue,forall:U,filter:function(){return fn()},toArray:function(){return[]},toString:ue("none()")};return o}(),Xn=function(t){var n=ue(t),o=function(){return d},s=function(m){return m(t)},d={fold:function(m,g){return g(t)},isSome:U,isNone:Ue,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:o,orThunk:o,map:function(m){return Xn(m(t))},each:function(m){m(t)},bind:s,exists:s,forall:s,filter:function(m){return m(t)?d:St},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return d},mn=function(t){return t==null?St:Xn(t)},O={some:Xn,none:fn,from:mn},On=Array.prototype.slice,Wt=Array.prototype.indexOf,sr=Array.prototype.push,ya=function(t,n){return Wt.call(t,n)},vo=function(t,n){var o=ya(t,n);return o===-1?O.none():O.some(o)},dn=function(t,n){return ya(t,n)>-1},fa=function(t,n){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(n(d,o))return!0}return!1},oe=function(t,n){for(var o=[],s=0;s<t;s++)o.push(n(s));return o},Xa=function(t,n){for(var o=[],s=0;s<t.length;s+=n){var d=On.call(t,s,s+n);o.push(d)}return o},$t=function(t,n){for(var o=t.length,s=new Array(o),d=0;d<o;d++){var m=t[d];s[d]=n(m,d)}return s},Qe=function(t,n){for(var o=0,s=t.length;o<s;o++){var d=t[o];n(d,o)}},Sr=function(t,n){for(var o=t.length-1;o>=0;o--){var s=t[o];n(s,o)}},rt=function(t,n){for(var o=[],s=[],d=0,m=t.length;d<m;d++){var g=t[d],k=n(g,d)?o:s;k.push(g)}return{pass:o,fail:s}},qe=function(t,n){for(var o=[],s=0,d=t.length;s<d;s++){var m=t[s];n(m,s)&&o.push(m)}return o},be=function(t,n,o){return Sr(t,function(s,d){o=n(o,s,d)}),o},Pe=function(t,n,o){return Qe(t,function(s,d){o=n(o,s,d)}),o},je=function(t,n,o){for(var s=0,d=t.length;s<d;s++){var m=t[s];if(n(m,s))return O.some(m);if(o(m,s))break}return O.none()},Nt=function(t,n){return je(t,n,Ue)},fr=function(t,n){for(var o=0,s=t.length;o<s;o++){var d=t[o];if(n(d,o))return O.some(o)}return O.none()},Xt=function(t){for(var n=[],o=0,s=t.length;o<s;++o){if(!He(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);sr.apply(n,t[o])}return n},Pr=function(t,n){return Xt($t(t,n))},ut=function(t,n){for(var o=0,s=t.length;o<s;++o){var d=t[o];if(n(d,o)!==!0)return!1}return!0},st=function(t){var n=On.call(t,0);return n.reverse(),n},nr=function(t,n){return qe(t,function(o){return!dn(n,o)})},Rr=function(t,n){for(var o={},s=0,d=t.length;s<d;s++){var m=t[s];o[String(m)]=n(m,s)}return o},sn=function(t){return[t]},wn=function(t,n){var o=On.call(t,0);return o.sort(n),o},Gn=function(t,n){return n>=0&&n<t.length?O.some(t[n]):O.none()},Yn=function(t){return Gn(t,0)},Ta=function(t){return Gn(t,t.length-1)},ba=tt(Array.from)?Array.from:function(t){return On.call(t)},Zn=function(t,n){for(var o=0;o<t.length;o++){var s=n(t[o],o);if(s.isSome())return s}return O.none()},In=Object.keys,ga=Object.hasOwnProperty,Rn=function(t,n){for(var o=In(t),s=0,d=o.length;s<d;s++){var m=o[s],g=t[m];n(g,m)}},kn=function(t,n){return Ka(t,function(o,s){return{k:s,v:n(o,s)}})},Ka=function(t,n){var o={};return Rn(t,function(s,d){var m=n(s,d);o[m.k]=m.v}),o},ao=function(t){return function(n,o){t[o]=n}},Ca=function(t,n,o,s){var d={};return Rn(t,function(m,g){(n(m,g)?o:s)(m,g)}),d},xn=function(t,n){var o={};return Ca(t,n,ao(o),at),o},Co=function(t,n){var o=[];return Rn(t,function(s,d){o.push(n(s,d))}),o},Ke=function(t,n){for(var o=In(t),s=0,d=o.length;s<d;s++){var m=o[s],g=t[m];if(n(g,m,t))return O.some(g)}return O.none()},Mt=function(t){return Co(t,Je)},gt=function(t,n){return dr(t,n)?O.from(t[n]):O.none()},dr=function(t,n){return ga.call(t,n)},un=function(t,n){return dr(t,n)&&t[n]!==void 0&&t[n]!==null},ua=function(t,n,o){return o===void 0&&(o=ze),t.exists(function(s){return o(s,n)})},fi=function(t,n,o){return o===void 0&&(o=ze),xo(t,n,o).getOr(t.isNone()&&n.isNone())},Kn=function(t){for(var n=[],o=function(d){n.push(d)},s=0;s<t.length;s++)t[s].each(o);return n},Sn=function(t){for(var n=[],o=0;o<t.length;o++){var s=t[o];if(s.isSome())n.push(s.getOrDie());else return O.none()}return O.some(n)},xo=function(t,n,o){return t.isSome()&&n.isSome()?O.some(o(t.getOrDie(),n.getOrDie())):O.none()},di=function(t,n,o,s){return t.isSome()&&n.isSome()&&o.isSome()?O.some(s(t.getOrDie(),n.getOrDie(),o.getOrDie())):O.none()},Ni=function(t,n){return t!=null?O.some(n(t)):O.none()},mo=function(t,n){return t?O.some(n):O.none()},Jo=function(t,n){return t+n},qi=function(t,n){return t.substring(n)},Qo=function(t,n,o){return n===""||t.length>=n.length&&t.substr(o,o+n.length)===n},Lo=function(t,n){return oi(t,n)?qi(t,n.length):t},Gi=function(t,n){return $r(t,n)?t:Jo(t,n)},ra=function(t,n){return t.indexOf(n)!==-1},oi=function(t,n){return Qo(t,n,0)},$r=function(t,n){return Qo(t,n,t.length-n.length)},Pu=function(t){return function(n){return n.replace(t,"")}},ei=Pu(/^\s+|\s+$/g),vi=function(t){return t.length>0},Ro=function(t){return!vi(t)},Pi=function(t){return t.style!==void 0&&tt(t.style.getPropertyValue)},Fu=function(t,n){var o=n||document,s=o.createElement("div");if(s.innerHTML=t,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Do(s.childNodes[0])},mi=function(t,n){var o=n||document,s=o.createElement(t);return Do(s)},Ku=function(t,n){var o=n||document,s=o.createTextNode(t);return Do(s)},Do=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},So=function(t,n,o){return O.from(t.dom.elementFromPoint(n,o)).map(Do)},rr={fromHtml:Fu,fromTag:mi,fromText:Ku,fromDom:Do,fromPoint:So};typeof window<"u"||Function("return this;")();var iu=9,Cu=11,Fi=1,ge=3,Te=function(t){var n=t.dom.nodeName;return n.toLowerCase()},wt=function(t){return t.dom.nodeType},Ft=function(t){return function(n){return wt(n)===t}},Gt=Ft(Fi),mr=Ft(ge),kr=Ft(iu),ln=Ft(Cu),hn=function(t){var n=!1,o;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return n||(n=!0,o=t.apply(null,s)),o}},Dn=function(t,n,o,s){var d=t.isiOS()&&/ipad/i.test(o)===!0,m=t.isiOS()&&!d,g=t.isiOS()||t.isAndroid(),k=g||s("(pointer:coarse)"),C=d||!m&&g&&s("(min-device-width:768px)"),E=m||g&&!C,M=n.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,P=!E&&!C&&!M;return{isiPad:ue(d),isiPhone:ue(m),isTablet:ue(C),isPhone:ue(E),isTouch:ue(k),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:ue(M),isDesktop:ue(P)}},ka=function(t,n){for(var o=0;o<t.length;o++){var s=t[o];if(s.test(n))return s}},Va=function(t,n){var o=ka(t,n);if(!o)return{major:0,minor:0};var s=function(d){return Number(n.replace(o,"$"+d))};return cn(s(1),s(2))},To=function(t,n){var o=String(n).toLowerCase();return t.length===0?Lt():Va(t,o)},Lt=function(){return cn(0,0)},cn=function(t,n){return{major:t,minor:n}},da={nu:cn,detect:To,unknown:Lt},Eo=function(t,n){return Zn(n.brands,function(o){var s=o.brand.toLowerCase();return Nt(t,function(d){var m;return s===((m=d.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(function(d){return{current:d.name,version:da.nu(parseInt(o.version,10),0)}})})},Ii=function(t,n){var o=String(n).toLowerCase();return Nt(t,function(s){return s.search(o)})},Wn=function(t,n){return Ii(t,n).map(function(o){var s=da.detect(o.versionRegexes,n);return{current:o.name,version:s}})},gs=function(t,n){return Ii(t,n).map(function(o){var s=da.detect(o.versionRegexes,n);return{current:o.name,version:s}})},Ki=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oo=function(t){return function(n){return ra(n,t)}},Xu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ra(t,"edge/")&&ra(t,"chrome")&&ra(t,"safari")&&ra(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ki],search:function(t){return ra(t,"chrome")&&!ra(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ra(t,"msie")||ra(t,"trident")}},{name:"Opera",versionRegexes:[Ki,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oo("firefox")},{name:"Safari",versionRegexes:[Ki,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ra(t,"safari")||ra(t,"mobile/"))&&ra(t,"applewebkit")}}],ii=[{name:"Windows",search:oo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ra(t,"iphone")||ra(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:oo("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oo("linux"),versionRegexes:[]},{name:"Solaris",search:oo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oo("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oo("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],hi={browsers:ue(Xu),oses:ue(ii)},Ba="Edge",Yu="Chrome",te="IE",Se="Opera",et="Firefox",bt="Safari",vr=function(){return Tr({current:void 0,version:da.unknown()})},Tr=function(t){var n=t.current,o=t.version,s=function(d){return function(){return n===d}};return{current:n,version:o,isEdge:s(Ba),isChrome:s(Yu),isIE:s(te),isOpera:s(Se),isFirefox:s(et),isSafari:s(bt)}},Br={unknown:vr,nu:Tr,edge:ue(Ba),chrome:ue(Yu),ie:ue(te),opera:ue(Se),firefox:ue(et),safari:ue(bt)},Mn="Windows",G="iOS",ke="Android",Ie="Linux",ct="OSX",kt="Solaris",br="FreeBSD",Ir="ChromeOS",na=function(){return Tn({current:void 0,version:da.unknown()})},Tn=function(t){var n=t.current,o=t.version,s=function(d){return function(){return n===d}};return{current:n,version:o,isWindows:s(Mn),isiOS:s(G),isAndroid:s(ke),isOSX:s(ct),isLinux:s(Ie),isSolaris:s(kt),isFreeBSD:s(br),isChromeOS:s(Ir)}},xa={unknown:na,nu:Tn,windows:ue(Mn),ios:ue(G),android:ue(ke),linux:ue(Ie),osx:ue(ct),solaris:ue(kt),freebsd:ue(br),chromeos:ue(Ir)},qa=function(t,n,o){var s=hi.browsers(),d=hi.oses(),m=n.bind(function(C){return Eo(s,C)}).orThunk(function(){return Wn(s,t)}).fold(Br.unknown,Br.nu),g=gs(d,t).fold(xa.unknown,xa.nu),k=Dn(g,m,t,o);return{browser:m,os:g,deviceType:k}},xu={detect:qa},Mo=function(t){return window.matchMedia(t).matches},Hr=hn(function(){return xu.detect(navigator.userAgent,O.from(navigator.userAgentData),Mo)}),Zt=function(){return Hr()},Ea=function(t,n,o){return(t.compareDocumentPosition(n)&o)!==0},Bo=function(t,n){return Ea(t,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},qn=function(t,n){var o=t.dom;if(o.nodeType!==Fi)return!1;var s=o;if(s.matches!==void 0)return s.matches(n);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(n);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(n);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Ns=function(t){return t.nodeType!==Fi&&t.nodeType!==iu&&t.nodeType!==Cu||t.childElementCount===0},Zu=function(t,n){var o=n===void 0?document:n.dom;return Ns(o)?[]:$t(o.querySelectorAll(t),rr.fromDom)},kc=function(t,n){var o=n===void 0?document:n.dom;return Ns(o)?O.none():O.from(o.querySelector(t)).map(rr.fromDom)},va=function(t,n){return t.dom===n.dom},Ci=function(t,n){var o=t.dom,s=n.dom;return o===s?!1:o.contains(s)},Cc=function(t,n){return Bo(t.dom,n.dom)},Su=function(t,n){return Zt().browser.isIE()?Cc(t,n):Ci(t,n)},go=function(t){return rr.fromDom(t.dom.ownerDocument)},Ps=function(t){return kr(t)?t:go(t)},ht=function(t){return rr.fromDom(Ps(t).dom.documentElement)},tc=function(t){return rr.fromDom(Ps(t).dom.defaultView)},yo=function(t){return O.from(t.dom.parentNode).map(rr.fromDom)},ml=function(t){return yo(t)},ys=function(t){return O.from(t.dom.offsetParent).map(rr.fromDom)},B=function(t){return O.from(t.dom.nextSibling).map(rr.fromDom)},x=function(t){return $t(t.dom.childNodes,rr.fromDom)},_=function(t,n){var o=t.dom.childNodes;return O.from(o[n]).map(rr.fromDom)},A=function(t){return _(t,0)},W=function(t,n){return{element:t,offset:n}},le=function(t,n){var o=x(t);return o.length>0&&n<o.length?W(o[n],0):W(t,n)},$e=function(t){return ln(t)&&Ae(t.dom.host)},Et=tt(Element.prototype.attachShadow)&&tt(Node.prototype.getRootNode),Mr=ue(Et),Zr=Et?function(t){return rr.fromDom(t.dom.getRootNode())}:Ps,ir=function(t){return $e(t)?t:rr.fromDom(Ps(t).dom.body)},Dr=function(t){return En(t).isSome()},En=function(t){var n=Zr(t);return $e(n)?O.some(n):O.none()},Cn=function(t){return rr.fromDom(t.dom.host)},an=function(t){if(Mr()&&Ae(t.target)){var n=rr.fromDom(t.target);if(Gt(n)&&Ja(n)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return Yn(o)}}return O.from(t.target)},Ja=function(t){return Ae(t.dom.shadowRoot)},tn=function(t){var n=mr(t)?t.dom.parentNode:t.dom;if(n==null||n.ownerDocument===null)return!1;var o=n.ownerDocument;return En(rr.fromDom(n)).fold(function(){return o.body.contains(n)},De(tn,Cn))},Ia=function(){return za(rr.fromDom(document))},za=function(t){var n=t.dom.body;if(n==null)throw new Error("Body is not available yet");return rr.fromDom(n)},xi=function(t,n,o){if(ee(o)||ye(o)||er(o))t.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},Fn=function(t,n,o){xi(t.dom,n,o)},Fs=function(t,n){var o=t.dom;Rn(n,function(s,d){xi(o,d,s)})},bo=function(t,n){var o=t.dom.getAttribute(n);return o===null?void 0:o},No=function(t,n){return O.from(bo(t,n))},Wg=function(t,n){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Xi=function(t,n){t.dom.removeAttribute(n)},ap=function(t,n,o){if(!ee(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Pi(t)&&t.style.setProperty(n,o)},Wc=function(t,n){Pi(t)&&t.style.removeProperty(n)},vn=function(t,n,o){var s=t.dom;ap(s,n,o)},Is=function(t,n){var o=t.dom;Rn(n,function(s,d){ap(o,d,s)})},Ho=function(t,n){var o=t.dom;Rn(n,function(s,d){s.fold(function(){Wc(o,d)},function(m){ap(o,d,m)})})},Vo=function(t,n){var o=t.dom,s=window.getComputedStyle(o),d=s.getPropertyValue(n);return d===""&&!tn(t)?Si(o,n):d},Si=function(t,n){return Pi(t)?t.style.getPropertyValue(n):""},ui=function(t,n){var o=t.dom,s=Si(o,n);return O.from(s).filter(function(d){return d.length>0})},Tf=function(t){var n={},o=t.dom;if(Pi(o))for(var s=0;s<o.style.length;s++){var d=o.style.item(s);n[d]=o.style[d]}return n},rc=function(t,n,o){var s=rr.fromTag(t);vn(s,n,o);var d=ui(s,n);return d.isSome()},Aa=function(t,n){var o=t.dom;Wc(o,n),ua(No(t,"style").map(ei),"")&&Xi(t,"style")},fo=function(t){return t.dom.offsetWidth},Iu=function(t,n){var o=function(k,C){if(!er(C)&&!C.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+C);var E=k.dom;Pi(E)&&(E.style[t]=C+"px")},s=function(k){var C=n(k);if(C<=0||C===null){var E=Vo(k,t);return parseFloat(E)||0}return C},d=s,m=function(k,C){return Pe(C,function(E,M){var P=Vo(k,M),q=P===void 0?0:parseInt(P,10);return isNaN(q)?E:E+q},0)},g=function(k,C,E){var M=m(k,E),P=C>M?C-M:0;return P};return{set:o,get:s,getOuter:d,aggregate:m,max:g}},hl=Iu("height",function(t){var n=t.dom;return tn(t)?n.getBoundingClientRect().height:n.offsetHeight}),pi=function(t){return hl.get(t)},$s=function(t){return hl.getOuter(t)},qg=function(t,n){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=hl.max(t,n,o);vn(t,"max-height",s+"px")},Ef=function(t,n){var o=function(s,d){return Ef(t+s,n+d)};return{left:t,top:n,translate:o}},Qa=Ef,xc=function(t){var n=t.getBoundingClientRect();return Qa(n.left,n.top)},Hl=function(t,n){return t!==void 0?t:n!==void 0?n:0},Ju=function(t){var n=t.dom.ownerDocument,o=n.body,s=n.defaultView,d=n.documentElement;if(o===t.dom)return Qa(o.offsetLeft,o.offsetTop);var m=Hl(s==null?void 0:s.pageYOffset,d.scrollTop),g=Hl(s==null?void 0:s.pageXOffset,d.scrollLeft),k=Hl(d.clientTop,o.clientTop),C=Hl(d.clientLeft,o.clientLeft);return Xo(t).translate(g-C,m-k)},Xo=function(t){var n=t.dom,o=n.ownerDocument,s=o.body;return s===n?Qa(s.offsetLeft,s.offsetTop):tn(t)?xc(n):Qa(0,0)},Vl=Iu("width",function(t){return t.dom.offsetWidth}),pl=function(t,n){return Vl.set(t,n)},Tu=function(t){return Vl.get(t)},Qu=function(t){return Vl.getOuter(t)},uu=function(t,n){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=Vl.max(t,n,o);vn(t,"max-width",s+"px")},pd=function(t,n,o,s,d,m,g){return{target:t,x:n,y:o,stop:s,prevent:d,kill:m,raw:g}},Sc=function(t){var n=rr.fromDom(an(t).getOr(t.target)),o=function(){return t.stopPropagation()},s=function(){return t.preventDefault()},d=Y(s,o);return pd(n,t.clientX,t.clientY,o,s,d,t)},Ti=function(t,n){return function(o){t(o)&&n(Sc(o))}},cv=function(t,n,o,s,d){var m=Ti(o,s);return t.dom.addEventListener(n,m,d),{unbind:Le(Af,t,n,m,d)}},Gg=function(t,n,o,s){return cv(t,n,o,s,!1)},zf=function(t,n,o,s){return cv(t,n,o,s,!0)},Af=function(t,n,o,s){t.dom.removeEventListener(n,o,s)},Uo=function(t,n){var o=yo(t);o.each(function(s){s.dom.insertBefore(n.dom,t.dom)})},Of=function(t,n){var o=B(t);o.fold(function(){var s=yo(t);s.each(function(d){Eu(d,n)})},function(s){Uo(s,n)})},Rf=function(t,n){var o=A(t);o.fold(function(){Eu(t,n)},function(s){t.dom.insertBefore(n.dom,s.dom)})},Eu=function(t,n){t.dom.appendChild(n.dom)},gl=function(t,n,o){_(t,o).fold(function(){Eu(t,n)},function(s){Uo(s,n)})},Df=function(t,n){Qe(n,function(o){Uo(t,o)})},yl=function(t,n){Qe(n,function(o){Eu(t,o)})},zo=function(t){t.dom.textContent="",Qe(x(t),function(n){bs(n)})},bs=function(t){var n=t.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},pm=function(t){var n=x(t);n.length>0&&Df(t,n),bs(t)},Ls=function(t){var n=t!==void 0?t.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,s=n.body.scrollTop||n.documentElement.scrollTop;return Qa(o,s)},gm=function(t,n,o){var s=o!==void 0?o.dom:document,d=s.defaultView;d&&d.scrollTo(t,n)},Kg=function(t){var n=t===void 0?window:t;return Zt().browser.isFirefox()?O.none():O.from(n.visualViewport)},op=function(t,n,o,s){return{x:t,y:n,width:o,height:s,right:t+o,bottom:n+s}},Mf=function(t){var n=t===void 0?window:t,o=n.document,s=Ls(rr.fromDom(o));return Kg(n).fold(function(){var d=n.document.documentElement,m=d.clientWidth,g=d.clientHeight;return op(s.left,s.top,m,g)},function(d){return op(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},Bf=function(t,n){var o=t.view(n);return o.fold(ue([]),function(s){var d=t.owner(s),m=Bf(t,d);return[s].concat(m)})},Ul=function(t,n){var o=n.owner(t),s=Bf(n,o);return O.some(s)},pn=function(t){var n,o=t.dom===document?O.none():O.from((n=t.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return o.map(rr.fromDom)},nc=function(t){return go(t)},es=Object.freeze({__proto__:null,view:pn,owner:nc}),zu=function(t){var n=rr.fromDom(document),o=Ls(n),s=Ul(t,es);return s.fold(Le(Ju,t),function(d){var m=Xo(t),g=be(d,function(k,C){var E=Xo(C);return{left:k.left+E.left,top:k.top+E.top}},{left:0,top:0});return Qa(g.left+m.left+o.left,g.top+m.top+o.top)})},ac=function(t,n,o){return{point:t,width:n,height:o}},ti=function(t,n,o,s){return{x:t,y:n,width:o,height:s}},Ei=function(t,n,o,s){return{x:t,y:n,width:o,height:s,right:t+o,bottom:n+s}},si=function(t){var n=Ju(t),o=Qu(t),s=$s(t);return Ei(n.left,n.top,o,s)},jl=function(t){var n=zu(t),o=Qu(t),s=$s(t);return Ei(n.left,n.top,o,s)},su=function(){return Mf(window)},zr=function(t){var n=function(P){return zr(t)},o=function(P){return zr(t)},s=function(P){return zr(P(t))},d=function(P){return zr(t)},m=function(P){P(t)},g=function(P){return P(t)},k=function(P,q){return q(t)},C=function(P){return P(t)},E=function(P){return P(t)},M=function(){return O.some(t)};return{isValue:U,isError:Ue,getOr:ue(t),getOrThunk:ue(t),getOrDie:ue(t),or:n,orThunk:o,fold:k,map:s,mapError:d,each:m,bind:g,exists:C,forall:E,toOptional:M}},Nf=function(t){var n=function(E){return E()},o=function(){return ce(String(t))()},s=Je,d=function(E){return E()},m=function(E){return Nf(t)},g=function(E){return Nf(E(t))},k=function(E){return Nf(t)},C=function(E,M){return E(t)};return{isValue:Ue,isError:U,getOr:Je,getOrThunk:n,getOrDie:o,or:s,orThunk:d,fold:C,map:m,mapError:g,each:at,bind:k,exists:Ue,forall:U,toOptional:O.none}},ip=function(t,n){return t.fold(function(){return Nf(n)},zr)},$n={value:zr,error:Nf,fromOption:ip},eo;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(eo||(eo={}));var ym=function(t,n,o){return t.stype===eo.Error?n(t.serror):o(t.svalue)},qc=function(t){var n=[],o=[];return Qe(t,function(s){ym(s,function(d){return o.push(d)},function(d){return n.push(d)})}),{values:n,errors:o}},_o=function(t,n){return t.stype===eo.Error?{stype:eo.Error,serror:n(t.serror)}:t},bm=function(t,n){return t.stype===eo.Value?{stype:eo.Value,svalue:n(t.svalue)}:t},_s=function(t,n){return t.stype===eo.Value?n(t.svalue):t},lv=function(t,n){return t.stype===eo.Error?n(t.serror):t},Vn=function(t){return{stype:eo.Value,svalue:t}},$u=function(t){return{stype:eo.Error,serror:t}},P_=function(t){return ym(t,$n.error,$n.value)},F_=function(t){return t.fold($u,Vn)},Ao={fromResult:F_,toResult:P_,svalue:Vn,partition:qc,serror:$u,bind:_s,bindError:lv,map:bm,mapError:_o,fold:ym},_m=function(t,n,o,s){return{tag:"field",key:t,newKey:n,presence:o,prop:s}},z=function(t,n){return{tag:"custom",newKey:t,instantiator:n}},H=function(t,n,o){switch(t.tag){case"field":return n(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},K=function(t,n){return n},ve=function(t,n){var o=pe(t)&&pe(n);return o?_t(t,n):n},We=function(t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(n.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<n.length;d++){var m=n[d];for(var g in m)dr(m,g)&&(s[g]=t(s[g],m[g]))}return s}},_t=We(ve),Vr=We(K),zn=function(){return{tag:"required",process:{}}},sa=function(t){return{tag:"defaultedThunk",process:t}},Un=function(t){return sa(ue(t))},io=function(){return{tag:"option",process:{}}},cu=function(t){return{tag:"mergeWithThunk",process:t}},jo=function(t){return cu(ue(t))},px=function(t,n){return t.length>0?Ao.svalue(_t(n,Vr.apply(void 0,t))):Ao.svalue(n)},qw=function(t){return Y(Ao.serror,Xt)(t)},Gw=function(t,n){var o=Ao.partition(t);return o.errors.length>0?qw(o.errors):px(o.values,n)},gx=function(t){var n=Ao.partition(t);return n.errors.length>0?qw(n.errors):Ao.svalue(n.values)},bl={consolidateObj:Gw,consolidateArr:gx},up=function(t){return pe(t)&&In(t).length>100?" removed due to size":JSON.stringify(t,null,2)},ws=function(t){var n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:ue("... (only showing first ten failures)")}]):t;return $t(n,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},wm=function(t,n){return Ao.serror([{path:t,getErrorInfo:n}])},I_=function(t,n,o){return wm(t,function(){return'Could not find valid *required* value for "'+n+'" in '+up(o)})},sp=function(t,n){return wm(t,function(){return'Choice schema did not contain choice key: "'+n+'"'})},Xg=function(t,n,o){return wm(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+up(n)})},Kw=function(t,n){return wm(t,function(){return"There are unsupported fields: ["+n.join(", ")+"] specified"})},yx=function(t,n){return wm(t,ue(n))},_l=function(t){var n=function(s,d){return Ao.bindError(t(d),function(m){return yx(s,m)})},o=ue("val");return{extract:n,toString:o}},cp=_l(Ao.svalue),bx=function(t,n,o,s){return gt(n,o).fold(function(){return I_(t,o,n)},s)},$_=function(t,n,o,s){var d=gt(t,n).getOrThunk(function(){return o(t)});return s(d)},_x=function(t,n,o){return o(gt(t,n))},wx=function(t,n,o,s){var d=gt(t,n).map(function(m){return m===!0?o(t):m});return s(d)},km=function(t,n,o,s,d){var m=function(k){return d.extract(n.concat([s]),k)},g=function(k){return k.fold(function(){return Ao.svalue(O.none())},function(C){var E=d.extract(n.concat([s]),C);return Ao.map(E,O.some)})};switch(t.tag){case"required":return bx(n,o,s,m);case"defaultedThunk":return $_(o,s,t.process,m);case"option":return _x(o,s,g);case"defaultedOptionThunk":return wx(o,s,t.process,g);case"mergeWithThunk":return $_(o,s,ue({}),function(k){var C=_t(t.process(o),k);return m(C)})}},lp=function(t,n,o){for(var s={},d=[],m=0,g=o;m<g.length;m++){var k=g[m];H(k,function(C,E,M,P){var q=km(M,t,n,C,P);Ao.fold(q,function(Z){d.push.apply(d,Z)},function(Z){s[E]=Z})},function(C,E){s[C]=E(n)})}return d.length>0?Ao.serror(d):Ao.svalue(s)},Xw=function(t){var n=function(s,d){return t().extract(s,d)},o=function(){return t().toString()};return{extract:n,toString:o}},Yw=function(t){return In(xn(t,Ae))},Hs=function(t){var n=Kr(t),o=be(t,function(d,m){return H(m,function(g){var k;return _t(d,(k={},k[g]=!0,k))},ue(d))},{}),s=function(d,m){var g=ye(m)?[]:Yw(m),k=qe(g,function(C){return!un(o,C)});return k.length===0?n.extract(d,m):Kw(d,k)};return{extract:s,toString:n.toString}},Kr=function(t){var n=function(s,d){return lp(s,d,t)},o=function(){var s=$t(t,function(d){return H(d,function(m,g,k,C){return m+" -> "+C.toString()},function(m,g){return"state("+m+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:n,toString:o}},Pf=function(t){var n=function(s,d){var m=$t(d,function(g,k){return t.extract(s.concat(["["+k+"]"]),g)});return bl.consolidateArr(m)},o=function(){return"array("+t.toString()+")"};return{extract:n,toString:o}},fp=function(t){var n=function(s,d){for(var m=[],g=0,k=t;g<k.length;g++){var C=k[g],E=C.extract(s,d);if(E.stype===eo.Value)return E;m.push(E)}return bl.consolidateArr(m)},o=function(){return"oneOf("+$t(t,function(s){return s.toString()}).join(", ")+")"};return{extract:n,toString:o}},gd=function(t,n){var o=function(m,g){return Pf(_l(t)).extract(m,g)},s=function(m,g){var k=In(g),C=o(m,k);return Ao.bind(C,function(E){var M=$t(E,function(P){return _m(P,P,zn(),n)});return Kr(M).extract(m,g)})},d=function(){return"setOf("+n.toString()+")"};return{extract:s,toString:d}},Cm=function(t,n){var o=hn(n),s=function(m,g){return o().extract(m,g)},d=function(){return o().toString()};return{extract:s,toString:d}},L_=Y(Pf,Kr),Gc=ue(cp),fv=function(t,n){return _l(function(o){var s=typeof o;return t(o)?Ao.svalue(o):Ao.serror("Expected type: "+n+" but got: "+s)})},xm=fv(er,"number"),ri=fv(ee,"string"),Yi=fv(ye,"boolean"),dp=fv(tt,"function"),Wl=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(n){return Wl(t[n])});default:return!1}},vp=_l(function(t){return Wl(t)?Ao.svalue(t):Ao.serror("Expected value to be acceptable for sending via postMessage")}),Yg=function(t,n,o,s){var d=gt(o,s);return d.fold(function(){return Xg(t,o,s)},function(m){return m.extract(t.concat(["branch: "+s]),n)})},Zg=function(t,n){var o=function(d,m){var g=gt(m,t);return g.fold(function(){return sp(d,t)},function(k){return Yg(d,m,n,k)})},s=function(){return"chooseOn("+t+"). Possible values: "+In(n)};return{extract:o,toString:s}},kx=function(){return Pf(cp)},Sm=function(t){return _l(function(n){return t(n).fold(Ao.serror,Ao.svalue)})},Au=function(t,n){return gd(function(o){return Ao.fromResult(t(o))},n)},Zw=function(t,n,o){var s=n.extract([t],o);return Ao.mapError(s,function(d){return{input:o,errors:d}})},Po=function(t,n,o){return Ao.toResult(Zw(t,n,o))},Kc=function(t){return t.fold(function(n){throw new Error(yd(n))},Je)},Ua=function(t,n,o){return Kc(Po(t,n,o))},yd=function(t){return`Errors: 
`+ws(t.errors).join(`
`)+`

Input object: `+up(t.input)},Tc=function(t,n){return Zg(t,kn(n,Kr))},Cx=function(t,n){return Cm(t,n)},zi=_m,ts=z,Jw=function(t){return Sm(function(n){return dn(t,n)?$n.value(n):$n.error('Unsupported value: "'+n+'", choose one of "'+t.join(", ")+'".')})},zt=function(t){return zi(t,t,zn(),Gc())},ks=function(t,n){return zi(t,t,zn(),n)},Ff=function(t){return ks(t,xm)},gn=function(t){return ks(t,ri)},oc=function(t,n){return zi(t,t,zn(),Jw(n))},xx=function(t){return ks(t,Yi)},Lu=function(t){return ks(t,dp)},Tm=function(t,n){return zi(t,t,io(),_l(function(o){return Ao.serror("The field: "+t+" is forbidden. "+n)}))},ql=function(t,n){return zi(t,t,zn(),Kr(n))},Xc=function(t,n){return zi(t,t,zn(),L_(n))},Ou=function(t,n){return zi(t,t,zn(),Pf(n))},Oa=function(t){return zi(t,t,io(),Gc())},wl=function(t,n){return zi(t,t,io(),n)},dv=function(t){return wl(t,xm)},co=function(t){return wl(t,ri)},bd=function(t){return wl(t,dp)},Vs=function(t,n){return wl(t,Pf(n))},Us=function(t,n){return wl(t,Kr(n))},Sx=function(t,n){return wl(t,Hs(n))},Fe=function(t,n){return zi(t,t,Un(n),Gc())},rs=function(t,n,o){return zi(t,t,Un(n),o)},Cs=function(t,n){return rs(t,n,xm)},Em=function(t,n){return rs(t,n,ri)},ic=function(t,n,o){return rs(t,n,Jw(o))},to=function(t,n){return rs(t,n,Yi)},lo=function(t,n){return rs(t,n,dp)},xs=function(t,n){return rs(t,n,vp)},If=function(t,n,o){return rs(t,n,Pf(o))},H_=function(t,n,o){return rs(t,n,Kr(o))},Qr=function(t){var n=t,o=function(){return n},s=function(d){n=d};return{get:o,set:s}},Jg=function(t){if(!He(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var n=[],o={};return Qe(t,function(s,d){var m=In(s);if(m.length!==1)throw new Error("one and only one name per case");var g=m[0],k=s[g];if(o[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!He(k))throw new Error("case arguments must be an array");n.push(g),o[g]=function(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];var M=C.length;if(M!==k.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+k.length+" ("+k+"), got "+M);var P=function(q){var Z=In(q);if(n.length!==Z.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+Z.join(","));var ne=ut(n,function(me){return dn(Z,me)});if(!ne)throw new Error("Not all branches were specified when using match. Specified: "+Z.join(", ")+`
Required: `+n.join(", "));return q[g].apply(null,C)};return{fold:function(){for(var q=[],Z=0;Z<arguments.length;Z++)q[Z]=arguments[Z];if(q.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+q.length);var ne=q[d];return ne.apply(null,C)},match:P,log:function(q){console.log(q,{constructors:n,constructor:g,params:C})}}}}),o},uc={generate:Jg};uc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Qw=function(t){var n=[],o=[];return Qe(t,function(s){s.fold(function(d){n.push(d)},function(d){o.push(d)})}),{errors:n,values:o}},mp=function(t,n){var o={};return Rn(t,function(s,d){dn(n,d)||(o[d]=s)}),o},hp=function(t,n){var o;return o={},o[t]=n,o},V_=function(t){var n={};return Qe(t,function(o){n[o.key]=o.value}),n},U_=function(t,n){return mp(t,n)},Gl=function(t,n){return hp(t,n)},$f=function(t){return V_(t)},Tx=function(t,n){return t.length===0?$n.value(n):$n.value(_t(n,Vr.apply(void 0,t)))},j_=function(t){return $n.error(Xt(t))},Ex=function(t,n){var o=Qw(t);return o.errors.length>0?j_(o.errors):Tx(o.values,n)},ek=function(t){return tt(t)?t:Ue},pp=function(t,n,o){for(var s=t.dom,d=ek(o);s.parentNode;){s=s.parentNode;var m=rr.fromDom(s),g=n(m);if(g.isSome())return g;if(d(m))break}return O.none()},zm=function(t,n,o){var s=n(t),d=ek(o);return s.orThunk(function(){return d(t)?O.none():pp(t,n,d)})},tk=function(t,n){return va(t.element,n.event.target)},Kl={can:U,abort:Ue,run:at},Am=function(t){if(!un(t,"can")&&!un(t,"abort")&&!un(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return J(J({},Kl),t)},W_=function(t,n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Pe(t,function(d,m){return d&&n(m).apply(void 0,o)},!0)}},rk=function(t,n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return Pe(t,function(d,m){return d||n(m).apply(void 0,o)},!1)}},zx=function(t){return tt(t)?{can:U,abort:Ue,run:t}:t},Ax=function(t){var n=W_(t,function(d){return d.can}),o=rk(t,function(d){return d.abort}),s=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];Qe(t,function(g){g.run.apply(void 0,d)})};return{can:n,abort:o,run:s}},gi=ue,Xl=gi("touchstart"),Yc=gi("touchmove"),_d=gi("touchend"),nk=gi("touchcancel"),Zc=gi("mousedown"),vv=gi("mousemove"),q_=gi("mouseout"),G_=gi("mouseup"),Lf=gi("mouseover"),Ec=gi("focusin"),lu=gi("focusout"),Qg=gi("keydown"),K_=gi("keyup"),mv=gi("input"),Om=gi("change"),Rm=gi("click"),Ox=gi("transitioncancel"),Dm=gi("transitionend"),X_=gi("transitionstart"),Rx=gi("selectstart"),Wo=function(t){return ue("alloy."+t)},ey={tap:Wo("tap")},wd=Wo("focus"),Y_=Wo("blur.post"),Z_=Wo("paste.post"),zc=Wo("receive"),sc=Wo("execute"),hv=Wo("focus.item"),kd=ey.tap,ty=Wo("longpress"),gp=Wo("sandbox.close"),J_=Wo("typeahead.cancel"),pv=Wo("system.init"),ry=Wo("system.touchmove"),Dx=Wo("system.touchend"),Q_=Wo("system.scroll"),cc=Wo("system.resize"),js=Wo("system.attached"),Mm=Wo("system.detached"),Jc=Wo("system.dismissRequested"),Ru=Wo("system.repositionRequested"),ny=Wo("focusmanager.shifted"),Hf=Wo("slotcontainer.visibility"),ak=Wo("change.tab"),fu=Wo("dismiss.tab"),e1=Wo("highlight"),ay=Wo("dehighlight"),Sa=function(t,n){Qc(t,t.element,n,{})},en=function(t,n,o){Qc(t,t.element,n,o)},lc=function(t){Sa(t,sc())},oy=function(t,n,o){Qc(t,n,o,{})},Qc=function(t,n,o,s){var d=J({target:n},s);t.getSystem().triggerEvent(o,n,d)},ok=function(t,n,o,s){t.getSystem().triggerEvent(o,n,s.event)},ro=function(t){return $f(t)},t1=function(t,n){return{key:t,value:Am({abort:n})}},iy=function(t,n){return{key:t,value:Am({can:n})}},uy=function(t){return{key:t,value:Am({run:function(n,o){o.event.prevent()}})}},Bt=function(t,n){return{key:t,value:Am({run:n})}},r1=function(t,n,o){return{key:t,value:Am({run:function(s,d){n.apply(void 0,[s,d].concat(o))}})}},n1=function(t){return function(n){return Bt(t,n)}},Cd=function(t){return function(n){return{key:t,value:Am({run:function(o,s){tk(o,s)&&n(o,s)}})}}},yp=function(t,n){return Bt(t,function(o,s){o.getSystem().getByUid(n).each(function(d){ok(d,d.element,t,s)})})},gv=function(t,n,o){var s=n.partUids[o];return yp(t,s)},xd=function(t,n){return Bt(t,function(o,s){var d=s.event,m=o.getSystem().getByDom(d.target).getOrThunk(function(){var g=zm(d.target,function(k){return o.getSystem().getByDom(k).toOptional()},Ue);return g.getOr(o)});n(o,m,s)})},yv=function(t){return Bt(t,function(n,o){o.cut()})},Bm=function(t){return Bt(t,function(n,o){o.stop()})},ci=function(t,n){return Cd(t)(n)},Bn=Cd(js()),fc=Cd(Mm()),ik=Cd(pv()),Ws=n1(sc()),a1=function(t,n){var o=n||document,s=o.createElement("div");return s.innerHTML=t,x(rr.fromDom(s))},Yl=function(t){return t.dom.innerHTML},Vf=function(t,n){var o=go(t),s=o.dom,d=rr.fromDom(s.createDocumentFragment()),m=a1(n,s);yl(d,m),zo(t),Eu(t,d)},Uf=function(t){var n=rr.fromTag("div"),o=rr.fromDom(t.dom.cloneNode(!0));return Eu(n,o),Yl(n)},dc=function(t,n){return rr.fromDom(t.dom.cloneNode(n))},Sd=function(t){return dc(t,!1)},$i=function(t){if($e(t))return"#shadow-root";var n=Sd(t);return Uf(n)},ns=function(t){return $i(t)},Zl=function(t,n,o){return va(n,t.element)&&!va(n,o)},Td=ro([iy(wd(),function(t,n){var o=n.event,s=o.originator,d=o.target;return Zl(t,s,d)?(console.warn(wd()+` did not get interpreted by the desired target. 
Originator: `+ns(s)+`
Target: `+ns(d)+`
Check the `+wd()+" event handlers"),!1):!0})]),Nm=Object.freeze({__proto__:null,events:Td}),bv=0,Nr=function(t){var n=new Date,o=n.getTime(),s=Math.floor(Math.random()*1e9);return bv++,t+"_"+s+bv+String(o)},Zi=ue("alloy-id-"),kl=ue("data-alloy-id"),Jl=Zi(),bp=kl(),uk=function(t,n){var o=Nr(Jl+t);return sy(n,o),o},sy=function(t,n){Object.defineProperty(t.dom,bp,{value:n,writable:!0})},Ed=function(t){var n=Gt(t)?t.dom[bp]:null;return O.from(n)},zd=function(t){return Nr(t)},Pm=Je,_p=function(t){var n=function(d){return"The component must be in a context to execute: "+d+(t?`
`+ns(t().element)+" is not in context.":"")},o=function(d){return function(){throw new Error(n(d))}},s=function(d){return function(){console.warn(n(d))}};return{debugInfo:ue("fake"),triggerEvent:s("triggerEvent"),triggerFocus:s("triggerFocus"),triggerEscape:s("triggerEscape"),broadcast:s("broadcast"),broadcastOn:s("broadcastOn"),broadcastEvent:s("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:Ue}},Mx=_p(),vc=function(t,n,o){var s=o.toString(),d=s.indexOf(")")+1,m=s.indexOf("("),g=s.substring(m+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:o1(g.slice(0,1).concat(g.slice(3)))}},t},o1=function(t){return $t(t,function(n){return $r(n,"/*")?n.substring(0,n.length-2):n})},_v=function(t,n){var o=t.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),m=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:o1(m)}},t},Ad=function(t,n){var o=n.toString(),s=o.indexOf(")")+1,d=o.indexOf("("),m=o.substring(d+1,s-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:o1(m.slice(1))}},t},i1=Nr("alloy-premade"),Od=function(t){return Gl(i1,t)},sk=function(t){return gt(t,i1)},Fo=function(t){return Ad(function(n){for(var o=[],s=1;s<arguments.length;s++)o[s-1]=arguments[s];return t.apply(void 0,It([n.getApis(),n],o,!1))},t)},du={init:function(){return Du({readState:ue("No State required")})}},Du=function(t){return t},ck=function(t,n){var o=$t(n,function(d){return Us(d.name(),[zt("config"),Fe("state",du)])}),s=Po("component.behaviours",Kr(o),t.behaviours).fold(function(d){throw new Error(yd(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},Je);return{list:n,data:kn(s,function(d){var m=d.map(function(g){return{config:g.config,state:g.state.init(g.config)}});return ue(m)})}},cy=function(t){return t.list},Bx=function(t){return t.data},lk=function(t,n){var o={};return Rn(t,function(s,d){Rn(s,function(m,g){var k=gt(o,g).getOr([]);o[g]=k.concat([n(d,m)])})}),o},el=function(t){return{classes:jt(t.classes)?[]:t.classes,attributes:jt(t.attributes)?{}:t.attributes,styles:jt(t.styles)?{}:t.styles}},Nx=function(t,n){return J(J({},t),{attributes:J(J({},t.attributes),n.attributes),styles:J(J({},t.styles),n.styles),classes:t.classes.concat(n.classes)})},Fm=function(t,n,o,s){var d=J({},n);Qe(o,function(M){d[M.name()]=M.exhibit(t,s)});var m=lk(d,function(M,P){return{name:M,modification:P}}),g=function(M){return be(M,function(P,q){return J(J({},q.modification),P)},{})},k=be(m.classes,function(M,P){return P.modification.concat(M)},[]),C=g(m.attributes),E=g(m.styles);return el({classes:k,attributes:C,styles:E})},ly=function(t,n,o,s){try{var d=wn(o,function(m,g){var k=m[n],C=g[n],E=s.indexOf(k),M=s.indexOf(C);if(E===-1)throw new Error("The ordering for "+t+" does not have an entry for "+k+`.
Order specified: `+JSON.stringify(s,null,2));if(M===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(s,null,2));return E<M?-1:M<E?1:0});return $n.value(d)}catch(m){return $n.error([m])}},Px=function(t,n){return{handler:t,purpose:n}},fk=function(t,n){return{cHandler:t,purpose:n}},u1=function(t,n){return fk(Le.apply(void 0,[t.handler].concat(n)),t.purpose)},s1=function(t){return t.cHandler},c1=function(t,n){return{name:t,handler:n}},Fx=function(t,n){var o={};return Qe(t,function(s){o[s.name()]=s.handlers(n)}),o},Rd=function(t,n,o){var s=J(J({},o),Fx(n,t));return lk(s,c1)},Dd=function(t,n,o,s){var d=Rd(t,o,s);return dk(d,n)},Ya=function(t){var n=zx(t);return function(o,s){for(var d=[],m=2;m<arguments.length;m++)d[m-2]=arguments[m];var g=[o,s].concat(d);n.abort.apply(void 0,g)?s.stop():n.can.apply(void 0,g)&&n.run.apply(void 0,g)}},fy=function(t,n){return $n.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify($t(n,function(o){return o.name}),null,2)])},Cl=function(t,n,o){var s=n[o];return s?ly("Event: "+o,"name",t,s).map(function(d){var m=$t(d,function(g){return g.handler});return Ax(m)}):fy(o,t)},dk=function(t,n){var o=Co(t,function(s,d){var m=s.length===1?$n.value(s[0].handler):Cl(s,n,d);return m.map(function(g){var k=Ya(g),C=s.length>1?qe(n[d],function(E){return fa(s,function(M){return M.name===E})}).join(" > "):s[0].name;return Gl(d,Px(k,C))})});return Ex(o,{})},xl,Ql="alloy.base.behaviour",Md=Kr([zi("dom","dom",zn(),Kr([zt("tag"),Fe("styles",{}),Fe("classes",[]),Fe("attributes",{}),Oa("value"),Oa("innerHtml")])),zt("components"),zt("uid"),Fe("events",{}),Fe("apis",{}),zi("eventOrder","eventOrder",jo((xl={},xl[sc()]=["disabling",Ql,"toggling","typeaheadevents"],xl[wd()]=[Ql,"focusing","keying"],xl[pv()]=[Ql,"disabling","toggling","representing"],xl[mv()]=[Ql,"representing","streaming","invalidating"],xl[Mm()]=[Ql,"representing","item-events","tooltipping"],xl[Zc()]=["focusing",Ql,"item-type-events"],xl[Xl()]=["focusing",Ql,"item-type-events"],xl[Lf()]=["item-type-events","tooltipping"],xl[zc()]=["receiving","reflecting","tooltipping"],xl)),Gc()),Oa("domModification")]),dy=function(t){return Po("custom.definition",Md,t)},wp=function(t){return J(J({},t.dom),{uid:t.uid,domChildren:$t(t.components,function(n){return n.element})})},vy=function(t){return t.domModification.fold(function(){return el({})},el)},my=function(t){return t.events},wv=function(t,n){var o=bo(t,n);return o===void 0||o===""?[]:o.split(" ")},Ix=function(t,n,o){var s=wv(t,n),d=s.concat([o]);return Fn(t,n,d.join(" ")),!0},hy=function(t,n,o){var s=qe(wv(t,n),function(d){return d!==o});return s.length>0?Fn(t,n,s.join(" ")):Xi(t,n),!1},Im=function(t){return t.dom.classList!==void 0},kp=function(t){return wv(t,"class")},Cp=function(t,n){return Ix(t,"class",n)},l1=function(t,n){return hy(t,"class",n)},Ai=function(t,n){Im(t)?t.dom.classList.add(n):Cp(t,n)},kv=function(t){var n=Im(t)?t.dom.classList:kp(t);n.length===0&&Xi(t,"class")},yi=function(t,n){if(Im(t)){var o=t.dom.classList;o.remove(n)}else l1(t,n);kv(t)},as=function(t,n){return Im(t)&&t.dom.classList.contains(n)},Cv=function(t,n){Qe(n,function(o){Ai(t,o)})},mc=function(t,n){Qe(n,function(o){yi(t,o)})},py=function(t,n){return ut(n,function(o){return as(t,o)})},ef=function(t){return t.dom.value},$m=function(t,n){if(n===void 0)throw new Error("Value.set was undefined");t.dom.value=n},Lm=function(t){var n=rr.fromTag(t.tag);Fs(n,t.attributes),Cv(n,t.classes),Is(n,t.styles),t.innerHtml.each(function(s){return Vf(n,s)});var o=t.domChildren;if(yl(n,o),t.value.each(function(s){$m(n,s)}),!t.uid)debugger;return sy(n,t.uid),n},vk=function(t){var n=gt(t,"behaviours").getOr({});return Pr(In(n),function(o){var s=n[o];return Ae(s)?[s.me]:[]})},mk=function(t,n){return ck(t,n)},$x=function(t){var n=vk(t);return mk(t,n)},Lx=function(t,n,o){var s=wp(t),d=vy(t),m={"alloy.base.modification":d},g=n.length>0?Fm(o,m,n,s):d;return Nx(s,g)},Hx=function(t,n,o){var s={"alloy.base.behaviour":my(t)};return Dd(o,t.eventOrder,n,s).getOrDie()},hk=function(t){var n=function(){return Ne},o=Qr(Mx),s=Kc(dy(t)),d=$x(t),m=cy(d),g=Bx(d),k=Lx(s,m,g),C=Lm(k),E=Hx(s,m,g),M=Qr(s.components),P=function(mt){o.set(mt)},q=function(){o.set(_p(n))},Z=function(){var mt=x(C),ft=Pr(mt,function(Be){return o.get().getByDom(Be).fold(function(){return[]},sn)});M.set(ft)},ne=function(mt){var ft=g,Be=tt(ft[mt.name()])?ft[mt.name()]:function(){throw new Error("Could not find "+mt.name()+" in "+JSON.stringify(t,null,2))};return Be()},me=function(mt){return tt(g[mt.name()])},Re=function(){return s.apis},de=function(mt){return g[mt]().map(function(ft){return ft.state.readState()}).getOr("not enabled")},Ne={uid:t.uid,getSystem:o.get,config:ne,hasConfigured:me,spec:t,readState:de,getApis:Re,connect:P,disconnect:q,element:C,syncComponents:Z,components:M.get,events:E};return Ne},gy=function(t){var n=gt(t,"components").getOr([]);return $t(n,wo)},yy=function(t){var n=Pm(t),o=n.events,s=X(n,["events"]),d=gy(s),m=J(J({},s),{events:J(J({},Nm),o),components:d});return $n.value(hk(m))},vu=function(t){var n=rr.fromText(t);return by({element:n})},by=function(t){var n=Ua("external.component",Hs([zt("element"),Oa("uid")]),t),o=Qr(_p()),s=function(k){o.set(k)},d=function(){o.set(_p(function(){return g}))},m=n.uid.getOrThunk(function(){return zd("external")});sy(n.element,m);var g={uid:m,getSystem:o.get,config:O.none,hasConfigured:Ue,connect:s,disconnect:d,getApis:function(){return{}},element:n.element,spec:t,readState:ue("No state"),syncComponents:at,components:ue([]),events:{}};return Od(g)},f1=zd,Ac=function(t){return dr(t,"uid")},wo=function(t){return sk(t).getOrThunk(function(){var n=Ac(t)?t:J({uid:f1("")},t);return yy(n).getOrDie()})},hc=Od;function Bd(t,n,o,s,d){return t(o,s)?O.some(o):tt(d)&&d(o)?O.none():n(o,s,d)}var d1=function(t,n,o){for(var s=t.dom,d=tt(o)?o:Ue;s.parentNode;){s=s.parentNode;var m=rr.fromDom(s);if(n(m))return O.some(m);if(d(m))break}return O.none()},_y=function(t,n,o){var s=function(d,m){return m(d)};return Bd(s,d1,t,n,o)},pk=function(t,n){var o=function(d){return n(rr.fromDom(d))},s=Nt(t.dom.childNodes,o);return s.map(rr.fromDom)},Ln=function(t,n){var o=function(s){for(var d=0;d<s.childNodes.length;d++){var m=rr.fromDom(s.childNodes[d]);if(n(m))return O.some(m);var g=o(s.childNodes[d]);if(g.isSome())return g}return O.none()};return o(t.dom)},Hm=function(t,n,o){return _y(t,n,o).isSome()},wy=function(t,n,o){return d1(t,function(s){return qn(s,n)},o)},v1=function(t,n){return pk(t,function(o){return qn(o,n)})},Oi=function(t,n){return kc(n,t)},Oc=function(t,n,o){var s=function(d,m){return qn(d,m)};return Bd(s,wy,t,n,o)},gk=function(t){var n=_y(t,function(o){if(!Gt(o))return!1;var s=bo(o,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return n.bind(function(o){var s=bo(o,"id"),d=Zr(o);return Oi(d,'[aria-owns="'+s+'"]')})},xv=function(){var t=Nr("aria-owns"),n=function(s){Fn(s,"aria-owns",t)},o=function(s){Xi(s,"aria-owns")};return{id:t,link:n,unlink:o}},ho=function(t,n){return gk(n).exists(function(o){return Sv(t,o)})},Sv=function(t,n){return Hm(n,function(o){return va(o,t.element)},Ue)||ho(t,n)},ky="unknown",Vm;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Vm||(Vm={}));var m1=Qr({}),yk=function(t,n){var o=[],s=new Date().getTime();return{logEventCut:function(d,m,g){o.push({outcome:"cut",target:m,purpose:g})},logEventStopped:function(d,m,g){o.push({outcome:"stopped",target:m,purpose:g})},logNoParent:function(d,m,g){o.push({outcome:"no-parent",target:m,purpose:g})},logEventNoHandlers:function(d,m){o.push({outcome:"no-handlers-left",target:m})},logEventResponse:function(d,m,g){o.push({outcome:"response",purpose:g,target:m})},write:function(){var d=new Date().getTime();dn(["mousemove","mouseover","mouseout",pv()],t)||console.log(t,{event:t,time:d-s,target:n.dom,sequence:$t(o,function(m){return dn(["cut","stopped","response"],m.outcome)?"{"+m.purpose+"} "+m.outcome+" at ("+ns(m.target)+")":m.outcome})})}}},xp=function(t,n,o){var s=gt(m1.get(),t).orThunk(function(){var g=In(m1.get());return Zn(g,function(k){return t.indexOf(k)>-1?O.some(m1.get()[k]):O.none()})}).getOr(Vm.NORMAL);switch(s){case Vm.NORMAL:return o(Vx());case Vm.LOGGING:{var d=yk(t,n),m=o(d);return d.write(),m}case Vm.STOP:return!0}},bk=["alloy/data/Fields","alloy/debugging/Debugging"],jf=function(){var t=new Error;if(t.stack!==void 0){var n=t.stack.split(`
`);return Nt(n,function(o){return o.indexOf("alloy")>0&&!fa(bk,function(s){return o.indexOf(s)>-1})}).getOr(ky)}else return ky},os={logEventCut:at,logEventStopped:at,logNoParent:at,logEventNoHandlers:at,logEventResponse:at,write:at},h1=function(t,n,o){return xp(t,n,o)},Vx=ue(os),Sl=ue([zt("menu"),zt("selectedMenu")]),Wf=ue([zt("item"),zt("selectedItem")]);ue(Kr(Wf().concat(Sl())));var Cy=ue(Kr(Wf())),Ux=ql("initSize",[zt("numColumns"),zt("numRows")]),jx=function(){return ks("markers",Cy())},Tv=function(){return ql("markers",[zt("backgroundMenu")].concat(Sl()).concat(Wf()))},Ev=function(t){return ql("markers",$t(t,zt))},xy=function(t,n,o){return jf(),zi(n,n,o,Sm(function(s){return $n.value(function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return s.apply(void 0,d)})}))},Ra=function(t){return xy("onHandler",t,Un(at))},Ri=function(t){return xy("onKeyboardHandler",t,Un(O.none))},is=function(t){return xy("onHandler",t,zn())},Ss=function(t){return xy("onKeyboardHandler",t,zn())},uo=function(t,n){return ts(t,ue(n))},Nd=function(t){return ts(t,Je)},Sy=ue(Ux),Li=function(t,n,o,s,d,m,g,k){return k===void 0&&(k=!1),{x:t,y:n,bubble:o,direction:s,placement:d,restriction:m,label:g+"-"+d,alwaysFit:k}},tf=uc.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Wx=function(t,n,o,s,d,m,g,k,C){return t.fold(n,o,s,d,m,g,k,C)},qx=function(t,n,o,s){return t.fold(n,n,s,s,n,s,o,o)},Ty=function(t,n,o,s){return t.fold(n,s,n,s,o,o,n,s)},Ey=tf.southeast,p1=tf.southwest,g1=tf.northeast,zv=tf.northwest,Sp=tf.south,y1=tf.north,b1=tf.east,Um=tf.west,mu=function(t,n,o,s){var d=t+n;return d>s?o:d<o?s:d},qs=function(t,n,o){return Math.min(Math.max(t,n),o)},Tp=function(t,n){switch(n){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Di=function(t,n){return Rr(["left","right","top","bottom"],function(o){return gt(n,o).map(function(s){return Tp(t,s)})})},zy=function(t,n,o){var s=function(C,E){return n[C].map(function(M){var P=C==="top"||C==="bottom",q=P?o.top:o.left,Z=C==="left"||C==="top"?Math.max:Math.min,ne=Z(M,E)+q;return P?qs(ne,t.y,t.bottom):qs(ne,t.x,t.right)}).getOr(E)},d=s("left",t.x),m=s("top",t.y),g=s("right",t.right),k=s("bottom",t.bottom);return Ei(d,m,g-d,k-m)},qf="layout",_1=function(t){return t.x},w1=function(t,n){return t.x+t.width/2-n.width/2},_k=function(t,n){return t.x+t.width-n.width},k1=function(t,n){return t.y-n.height},Ep=function(t){return t.y+t.height},Ay=function(t,n){return t.y+t.height/2-n.height/2},wk=function(t){return t.x+t.width},Gx=function(t,n){return t.x-n.width},Mu=function(t,n,o){return Li(_1(t),Ep(t),o.southeast(),Ey(),"southeast",Di(t,{left:1,top:3}),qf)},Hi=function(t,n,o){return Li(_k(t,n),Ep(t),o.southwest(),p1(),"southwest",Di(t,{right:0,top:3}),qf)},us=function(t,n,o){return Li(_1(t),k1(t,n),o.northeast(),g1(),"northeast",Di(t,{left:1,bottom:2}),qf)},ss=function(t,n,o){return Li(_k(t,n),k1(t,n),o.northwest(),zv(),"northwest",Di(t,{right:0,bottom:2}),qf)},Ts=function(t,n,o){return Li(w1(t,n),k1(t,n),o.north(),y1(),"north",Di(t,{bottom:2}),qf)},bi=function(t,n,o){return Li(w1(t,n),Ep(t),o.south(),Sp(),"south",Di(t,{top:3}),qf)},Oy=function(t,n,o){return Li(wk(t),Ay(t,n),o.east(),b1(),"east",Di(t,{left:0}),qf)},Ry=function(t,n,o){return Li(Gx(t,n),Ay(t,n),o.west(),Um(),"west",Di(t,{right:1}),qf)},C1=function(){return[Mu,Hi,us,ss,bi,Ts,Oy,Ry]},Av=function(){return[Hi,Mu,ss,us,bi,Ts,Oy,Ry]},Pd=function(){return[us,ss,Mu,Hi,Ts,bi]},Dy=function(){return[ss,us,Hi,Mu,Ts,bi]},My=function(){return[Mu,Hi,us,ss,bi,Ts]},By=function(){return[Hi,Mu,ss,us,bi,Ts]},jm=function(t,n){return n.universal?t:qe(t,function(o){return dn(n.channels,o)})},Wm=function(t){return ro([Bt(zc(),function(n,o){var s=t.channels,d=In(s),m=o,g=jm(d,m);Qe(g,function(k){var C=s[k],E=C.schema,M=Ua("channel["+k+`] data
Receiver: `+ns(n.element),E,m.data);C.onReceive(n,M)})})])},kk=Object.freeze({__proto__:null,events:Wm}),rf=[ks("channels",Au($n.value,Hs([is("onReceive"),Fe("schema",Gc())])))],Ov=function(t,n,o){return Ws(function(s){o(s,t,n)})},Oo=function(t,n,o){return ik(function(s,d){o(s,t,n)})},Kx=function(t,n,o,s,d,m){var g=Hs(t),k=Us(n,[Sx("config",t)]);return Ck(g,k,n,o,s,d,m)},Xx=function(t,n,o,s,d,m){var g=t,k=Us(n,[wl("config",t)]);return Ck(g,k,n,o,s,d,m)},Ny=function(t,n,o){var s=function(d){for(var m=[],g=1;g<arguments.length;g++)m[g-1]=arguments[g];var k=[d].concat(m);return d.config({name:ue(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(C){var E=Array.prototype.slice.call(k,1);return n.apply(void 0,[d,C.config,C.state].concat(E))})};return vc(s,o,n)},Yx=function(t){return{key:t,value:void 0}},Ck=function(t,n,o,s,d,m,g){var k=function(P){return un(P,o)?P[o]():O.none()},C=kn(d,function(P,q){return Ny(o,P,q)}),E=kn(m,function(P,q){return _v(P,q)}),M=J(J(J({},E),C),{revoke:Le(Yx,o),config:function(P){var q=Ua(o+"-config",t,P);return{key:o,value:{config:q,me:M,configAsRaw:hn(function(){return Ua(o+"-config",t,P)}),initialConfig:P,state:g}}},schema:ue(n),exhibit:function(P,q){return xo(k(P),gt(s,"exhibit"),function(Z,ne){return ne(q,Z.config,Z.state)}).getOrThunk(function(){return el({})})},name:ue(o),handlers:function(P){return k(P).map(function(q){var Z=gt(s,"events").getOr(function(){return{}});return Z(q.config,q.state)}).getOr({})}});return M},cr=function(t){return $f(t)},Zx=Hs([zt("fields"),zt("name"),Fe("active",{}),Fe("apis",{}),Fe("state",du),Fe("extra",{})]),Mi=function(t){var n=Ua("Creating behaviour: "+t.name,Zx,t);return Kx(n.fields,n.name,n.active,n.apis,n.extra,n.state)},x1=Hs([zt("branchKey"),zt("branches"),zt("name"),Fe("active",{}),Fe("apis",{}),Fe("state",du),Fe("extra",{})]),Rv=function(t){var n=Ua("Creating behaviour: "+t.name,x1,t);return Xx(Tc(n.branchKey,n.branches),n.name,n.active,n.apis,n.extra,n.state)},xk=ue(void 0),Hu=Mi({fields:rf,name:"receiving",active:kk}),zp=function(t,n){return el({classes:[],styles:n.useFixed()?{}:{position:"relative"}})},Py=Object.freeze({__proto__:null,exhibit:zp}),Ap=function(){return rr.fromDom(document)},Tl=function(t){return t.dom.focus()},Op=function(t){return t.dom.blur()},Rp=function(t){var n=Zr(t).dom;return t.dom===n.activeElement},cs=function(t){return t===void 0&&(t=Ap()),O.from(t.dom.activeElement).map(rr.fromDom)},El=function(t){return cs(Zr(t)).filter(function(n){return t.dom.contains(n.dom)})},Sk=function(t,n){var o=Zr(n),s=cs(o).bind(function(m){var g=function(k){return va(m,k)};return g(n)?O.some(n):Ln(n,g)}),d=t(n);return s.each(function(m){cs(o).filter(function(g){return va(g,m)}).fold(function(){Tl(m)},at)}),d},Vu=function(t,n,o,s,d){var m=function(g){return g+"px"};return{position:t,left:n.map(m),top:o.map(m),right:s.map(m),bottom:d.map(m)}},nf=function(t){return J(J({},t),{position:O.some(t.position)})},Fd=function(t,n){Ho(t,nf(n))},Dp=uc.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),vt=function(t,n,o,s,d,m){var g=n.rect,k=g.x-o,C=g.y-s,E=g.width,M=g.height,P=d-(k+E),q=m-(C+M),Z=O.some(k),ne=O.some(C),me=O.some(P),Re=O.some(q),de=O.none();return Wx(n.direction,function(){return Vu(t,Z,ne,de,de)},function(){return Vu(t,de,ne,me,de)},function(){return Vu(t,Z,de,de,Re)},function(){return Vu(t,de,de,me,Re)},function(){return Vu(t,Z,ne,de,de)},function(){return Vu(t,Z,de,de,Re)},function(){return Vu(t,Z,ne,de,de)},function(){return Vu(t,de,ne,me,de)})},Gf=function(t,n){return t.fold(function(){var o=n.rect;return Vu("absolute",O.some(o.x),O.some(o.y),O.none(),O.none())},function(o,s,d,m){return vt("absolute",n,o,s,d,m)},function(o,s,d,m){return vt("fixed",n,o,s,d,m)})},qm=function(t,n){var o=Le(zu,n),s=t.fold(o,o,function(){var g=Ls();return zu(n).translate(-g.left,-g.top)}),d=Qu(n),m=$s(n);return Ei(s.left,s.top,d,m)},Jx=function(t,n){return n.fold(function(){return t.fold(su,su,Ei)},function(o){return t.fold(o,o,function(){var s=o(),d=Fy(t,s.x,s.y);return Ei(d.left,d.top,s.width,s.height)})})},Fy=function(t,n,o){var s=Qa(n,o),d=function(){var m=Ls();return s.translate(-m.left,-m.top)};return t.fold(ue(s),ue(s),d)},tl=function(t,n,o,s){return t.fold(n,o,s)};Dp.none;var Iy=Dp.relative,S1=Dp.fixed,T1=function(t,n){return{anchorBox:t,origin:n}},$y=function(t,n){return T1(t,n)},E1="data-alloy-placement",z1=function(t,n){Fn(t,E1,n)},A1=function(t){return No(t,E1)},O1=function(t){return Xi(t,E1)},Dv=uc.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),Tk=function(t,n){var o=n.x,s=n.y,d=n.right,m=n.bottom,g=t.x,k=t.y,C=t.right,E=t.bottom,M=t.width,P=t.height,q=g>=o&&g<=d,Z=k>=s&&k<=m,ne=q&&Z,me=C<=d&&C>=o,Re=E<=m&&E>=s,de=me&&Re,Ne=Math.min(M,g>=o?d-g:C-o),mt=Math.min(P,k>=s?m-k:E-s);return{originInBounds:ne,sizeInBounds:de,visibleW:Ne,visibleH:mt}},Qx=function(t,n){var o=n.x,s=n.y,d=n.right,m=n.bottom,g=t.x,k=t.y,C=t.width,E=t.height,M=Math.max(o,d-C),P=Math.max(s,m-E),q=qs(g,o,M),Z=qs(k,s,P),ne=Math.min(q+C,d)-q,me=Math.min(Z+E,m)-Z;return Ei(q,Z,ne,me)},eS=function(t,n,o){var s=ue(n.bottom-o.y),d=ue(o.bottom-n.y),m=qx(t,d,d,s),g=ue(n.right-o.x),k=ue(o.right-n.x),C=Ty(t,k,k,g);return{maxWidth:C,maxHeight:m}},Gm=function(t,n,o,s){var d=t.bubble,m=d.offset,g=zy(s,t.restriction,m),k=t.x+m.left,C=t.y+m.top,E=Ei(k,C,n,o),M=Tk(E,g),P=M.originInBounds,q=M.sizeInBounds,Z=M.visibleW,ne=M.visibleH,me=P&&q,Re=me?E:Qx(E,g),de=Re.width>0&&Re.height>0,Ne=eS(t.direction,Re,s),mt=Ne.maxWidth,ft=Ne.maxHeight,Be={rect:Re,maxHeight:ft,maxWidth:mt,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:C};return me||t.alwaysFit?Dv.fit(Be):Dv.nofit(Be,Z,ne,de)},Km=function(t,n,o,s,d,m){var g=s.width,k=s.height,C=function(M,P,q,Z,ne){var me=M(o,s,d,t,m),Re=Gm(me,g,k,m);return Re.fold(ue(Re),function(de,Ne,mt,ft){var Be=ne===ft?mt>Z||Ne>q:!ne&&ft;return Be?Re:Dv.nofit(P,q,Z,ne)})},E=Pe(n,function(M,P){var q=Le(C,P);return M.fold(ue(M),q)},Dv.nofit({rect:o,maxHeight:s.height,maxWidth:s.width,direction:Ey(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return E.fold(Je,Je)},Ly=function(t){var n=Qr(O.none()),o=function(){return n.get().each(t)},s=function(){o(),n.set(O.none())},d=function(){return n.get().isSome()},m=function(){return n.get()},g=function(k){o(),n.set(O.some(k))};return{clear:s,isSet:d,get:m,set:g}},R1=function(){return Ly(function(t){return t.destroy()})},Xm=function(){return Ly(function(t){return t.unbind()})},D1=function(){var t=R1(),n=function(o){return t.get().each(o)};return J(J({},t),{run:n})},Yo=function(){var t=Ly(at),n=function(o){return t.get().each(o)};return J(J({},t),{on:n})},Mp=U,ni=function(t,n,o){return Gg(t,n,Mp,o)},Hy=function(t,n,o){return zf(t,n,Mp,o)},Mv=Sc,M1=["top","bottom","right","left"],Bp="data-alloy-transition-timer",B1=function(t,n){return py(t,n.classes)},Ek=function(t,n,o){return o.exists(function(s){var d=t.mode;return d==="all"?!0:s[d]!==n[d]})},tS=function(t,n){var o=function(s){return parseFloat(s).toFixed(3)};return Ke(n,function(s,d){var m=t[d].map(o),g=s.map(o);return!fi(m,g)}).isSome()},zk=function(t){var n=function(m){var g=Vo(t,m),k=ee(g)?g.split(/\s*,\s*/):[];return qe(k,vi)},o=function(m){if(ee(m)&&/^[\d.]+/.test(m)){var g=parseFloat(m);return $r(m,"ms")?g:g*1e3}else return 0},s=n("transition-delay"),d=n("transition-duration");return Pe(d,function(m,g,k){var C=o(s[k])+o(g);return Math.max(m,C)},0)},rS=function(t,n){var o=Xm(),s=Xm(),d,m=function(M){var P,q=(P=M.raw.pseudoElement)!==null&&P!==void 0?P:"";return va(M.target,t)&&Ro(q)&&dn(M1,M.raw.propertyName)},g=function(M){if(Ye(M)||m(M)){o.clear(),s.clear();var P=M==null?void 0:M.raw.type;(Ye(P)||P===Dm())&&(clearTimeout(d),Xi(t,Bp),mc(t,n.classes))}},k=function(){o.set(ni(t,Dm(),g)),s.set(ni(t,Ox(),g))};if("ontransitionstart"in t.dom)var C=ni(t,X_(),function(M){m(M)&&(C.unbind(),k())});else k();var E=zk(t);requestAnimationFrame(function(){d=setTimeout(g,E+17),Fn(t,Bp,d)})},Vy=function(t,n){Cv(t,n.classes),No(t,Bp).each(function(o){clearTimeout(parseInt(o,10)),Xi(t,Bp)}),rS(t,n)},Np=function(t,n,o,s,d,m){var g=Ek(s,d,m);if(g||B1(t,s)){vn(t,"position",o.position);var k=qm(n,t),C=Gf(n,J(J({},d),{rect:k})),E=Rr(M1,function(M){return C[M]});tS(o,E)&&(Ho(t,E),g&&Vy(t,s),fo(t))}else mc(t,s.classes)},nS=function(t){return{width:Qu(t),height:$s(t)}},Ak=function(t,n,o,s){Aa(n,"max-height"),Aa(n,"max-width");var d=nS(n);return Km(n,s.preference,t,d,o,s.bounds)},N1=function(t,n){var o=n.classes;mc(t,o.off),Cv(t,o.on)},aS=function(t,n,o){var s=o.maxHeightFunction;s(t,n.maxHeight)},oS=function(t,n,o){var s=o.maxWidthFunction;s(t,n.maxWidth)},Uy=function(t,n,o){var s=Gf(o.origin,n);o.transition.each(function(d){Np(t,o.origin,s,d,n,o.lastPlacement)}),Fd(t,s)},P1=function(t,n){z1(t,n.placement)},hu=function(t,n){qg(t,Math.floor(n))},Ym=ue(function(t,n){hu(t,n),Is(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Zm=ue(function(t,n){hu(t,n)}),Ok=function(t,n,o){return t[n]===void 0?o:t[n]},iS=function(t,n,o,s,d,m,g,k){var C=Ok(g,"maxHeightFunction",Ym()),E=Ok(g,"maxWidthFunction",at),M=t.anchorBox,P=t.origin,q={bounds:Jx(P,m),origin:P,preference:s,maxHeightFunction:C,maxWidthFunction:E,lastPlacement:d,transition:k};return Pp(M,n,o,q)},Pp=function(t,n,o,s){var d=Ak(t,n,o,s);return Uy(n,d,s),P1(n,d),N1(n,d),aS(n,d,s),oS(n,d,s),{layout:d.layout,placement:d.placement}},Fp=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Bv=function(t,n,o,s){s===void 0&&(s=1);var d=t*s,m=n*s,g=function(C){return gt(o,C).getOr([])},k=function(C,E,M){var P=nr(Fp,M);return{offset:Qa(C,E),classesOn:Pr(M,g),classesOff:Pr(P,g)}};return{southeast:function(){return k(-t,n,["top","alignLeft"])},southwest:function(){return k(t,n,["top","alignRight"])},south:function(){return k(-t/2,n,["top","alignCentre"])},northeast:function(){return k(-t,-n,["bottom","alignLeft"])},northwest:function(){return k(t,-n,["bottom","alignRight"])},north:function(){return k(-t/2,-n,["bottom","alignCentre"])},east:function(){return k(t,-n/2,["valignCentre","left"])},west:function(){return k(-t,-n/2,["valignCentre","right"])},insetNortheast:function(){return k(d,m,["top","alignLeft","inset"])},insetNorthwest:function(){return k(-d,m,["top","alignRight","inset"])},insetNorth:function(){return k(-d/2,m,["top","alignCentre","inset"])},insetSoutheast:function(){return k(d,-m,["bottom","alignLeft","inset"])},insetSouthwest:function(){return k(-d,-m,["bottom","alignRight","inset"])},insetSouth:function(){return k(-d/2,-m,["bottom","alignCentre","inset"])},insetEast:function(){return k(-d,-m/2,["valignCentre","right","inset"])},insetWest:function(){return k(d,-m/2,["valignCentre","left","inset"])}}},jy=function(){return Bv(0,0,{})},Ip=Je,F1=function(t,n){return function(o){return uS(o)==="rtl"?n:t}},uS=function(t){return Vo(t,"direction")==="rtl"?"rtl":"ltr"},af;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(af||(af={}));var Wy="data-alloy-vertical-dir",sS=function(t){return Hm(t,function(n){return Gt(n)&&bo(n,"data-alloy-vertical-dir")===af.BottomToTop})},Id=function(){return Us("layouts",[zt("onLtr"),zt("onRtl"),Oa("onBottomLtr"),Oa("onBottomRtl")])},$d=function(t,n,o,s,d,m,g){var k=g.map(sS).getOr(!1),C=n.layouts.map(function(Z){return Z.onLtr(t)}),E=n.layouts.map(function(Z){return Z.onRtl(t)}),M=k?n.layouts.bind(function(Z){return Z.onBottomLtr.map(function(ne){return ne(t)})}).or(C).getOr(d):C.getOr(o),P=k?n.layouts.bind(function(Z){return Z.onBottomRtl.map(function(ne){return ne(t)})}).or(E).getOr(m):E.getOr(s),q=F1(M,P);return q(t)},cS=function(t,n,o){var s=n.hotspot,d=qm(o,s.element),m=$d(t.element,n,My(),By(),Pd(),Dy(),O.some(n.hotspot.element));return O.some(Ip({anchorBox:d,bubble:n.bubble.getOr(jy()),overrides:n.overrides,layouts:m,placer:O.none()}))},qy=[zt("hotspot"),Oa("bubble"),Fe("overrides",{}),Id(),uo("placement",cS)],Gy=function(t,n,o){var s=Fy(o,n.x,n.y),d=Ei(s.left,s.top,n.width,n.height),m=$d(t.element,n,C1(),Av(),C1(),Av(),O.none());return O.some(Ip({anchorBox:d,bubble:n.bubble,overrides:n.overrides,layouts:m,placer:O.none()}))},Ky=[zt("x"),zt("y"),Fe("height",0),Fe("width",0),Fe("bubble",jy()),Fe("overrides",{}),Id(),uo("placement",Gy)],Ji=uc.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Rk=function(t){return t.fold(Je,function(n,o,s){return n.translate(-o,-s)})},I1=function(t){return t.fold(Je,Je)},Dk=function(t){return Pe(t,function(n,o){return n.translate(o.left,o.top)},Qa(0,0))},Mk=function(t){var n=$t(t,Rk);return Dk(n)},zl=function(t){var n=$t(t,I1);return Dk(n)},Kf=Ji.screen,Bk=Ji.absolute,Nk=function(t,n,o){var s=tc(o.root).dom,d=function(m){var g=go(m),k=go(t.element);return va(g,k)};return O.from(s.frameElement).map(rr.fromDom).filter(d).map(Ju)},$1=function(t,n,o){var s=go(t.element),d=Ls(s),m=Nk(t,n,o).getOr(d);return Bk(m,d.left,d.top)},Xy=function(t,n,o,s){var d=Kf(Qa(t,n));return O.some(ac(d,o,s))},Pk=function(t,n,o,s,d){return t.map(function(m){var g=[n,m.point],k=tl(s,function(){return zl(g)},function(){return zl(g)},function(){return Mk(g)}),C=ti(k.left,k.top,m.width,m.height),E=o.showAbove?Pd():My(),M=o.showAbove?Dy():By(),P=$d(d,o,E,M,E,M,O.none());return Ip({anchorBox:C,bubble:o.bubble.getOr(jy()),overrides:o.overrides,layouts:P,placer:O.none()})})},Jm=function(t,n,o){var s=$1(t,o,n);return n.node.filter(tn).bind(function(d){var m=d.dom.getBoundingClientRect(),g=Xy(m.left,m.top,m.width,m.height),k=n.node.getOr(t.element);return Pk(g,s,n,o,k)})},lS=[zt("node"),zt("root"),Oa("bubble"),Id(),Fe("overrides",{}),Fe("showAbove",!1),uo("placement",Jm)],$p="\uFEFF",fS="",Qm=function(t,n,o,s){return{start:t,soffset:n,finish:o,foffset:s}},Nv={create:Qm},L1=uc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Fk=function(t,n,o,s){return t.fold(n,o,s)},dS=function(t){return t.fold(Je,Je,Je)},Ik=L1.before,$k=L1.on,H1=L1.after,vS={before:Ik,on:$k,after:H1,cata:Fk,getStart:dS},Yy=uc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),mS=function(t){return Yy.exact(t.start,t.soffset,t.finish,t.foffset)},Lp=function(t){return t.match({domRange:function(n){return rr.fromDom(n.startContainer)},relative:function(n,o){return vS.getStart(n)},exact:function(n,o,s,d){return n}})},hS=Yy.domRange,pS=Yy.relative,gS=Yy.exact,Zy=function(t){var n=Lp(t);return tc(n)},yS=Nv.create,eh={domRange:hS,relative:pS,exact:gS,exactFromRange:mS,getWin:Zy,range:yS},Lk=function(t,n){n.fold(function(o){t.setStartBefore(o.dom)},function(o,s){t.setStart(o.dom,s)},function(o){t.setStartAfter(o.dom)})},bS=function(t,n){n.fold(function(o){t.setEndBefore(o.dom)},function(o,s){t.setEnd(o.dom,s)},function(o){t.setEndAfter(o.dom)})},V1=function(t,n,o){var s=t.document.createRange();return Lk(s,n),bS(s,o),s},Hk=function(t,n,o,s,d){var m=t.document.createRange();return m.setStart(n.dom,o),m.setEnd(s.dom,d),m},U1=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},Vk=function(t){var n=t.getClientRects(),o=n.length>0?n[0]:t.getBoundingClientRect();return o.width>0||o.height>0?O.some(o).map(U1):O.none()},Uk=function(t){var n=t.getBoundingClientRect();return n.width>0||n.height>0?O.some(n).map(U1):O.none()},th=uc.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),j1=function(t,n,o){return n(rr.fromDom(o.startContainer),o.startOffset,rr.fromDom(o.endContainer),o.endOffset)},W1=function(t,n){return n.match({domRange:function(o){return{ltr:ue(o),rtl:O.none}},relative:function(o,s){return{ltr:hn(function(){return V1(t,o,s)}),rtl:hn(function(){return O.some(V1(t,s,o))})}},exact:function(o,s,d,m){return{ltr:hn(function(){return Hk(t,o,s,d,m)}),rtl:hn(function(){return O.some(Hk(t,d,m,o,s))})}}})},_S=function(t,n){var o=n.ltr();if(o.collapsed){var s=n.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return th.rtl(rr.fromDom(d.endContainer),d.endOffset,rr.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return j1(t,th.ltr,o)})}else return j1(t,th.ltr,o)},wS=function(t,n){var o=W1(t,n);return _S(t,o)},q1=function(t,n){var o=wS(t,n);return o.match({ltr:function(s,d,m,g){var k=t.document.createRange();return k.setStart(s.dom,d),k.setEnd(m.dom,g),k},rtl:function(s,d,m,g){var k=t.document.createRange();return k.setStart(m.dom,g),k.setEnd(s.dom,d),k}})};th.ltr,th.rtl;var kS=function(t,n){var o=function(m){if(!t(m))throw new Error("Can only get "+n+" value of a "+n+" node");return s(m).getOr("")},s=function(m){return t(m)?O.from(m.dom.nodeValue):O.none()},d=function(m,g){if(!t(m))throw new Error("Can only set raw "+n+" value of a "+n+" node");m.dom.nodeValue=g};return{get:o,getOption:s,set:d}},jk=kS(mr,"text"),Ld=function(t){return jk.get(t)},rh=function(t){return jk.getOption(t)},Wk=function(t){return Te(t)==="img"?1:rh(t).fold(function(){return x(t).length},function(n){return n.length})},CS=function(t){return rh(t).filter(function(n){return n.trim().length!==0||n.indexOf(fS)>-1}).isSome()},qk=["img","br"],xS=function(t){var n=CS(t);return n||dn(qk,Te(t))},G1=function(t){return nh(t,xS)},nh=function(t,n){var o=function(s){for(var d=x(s),m=d.length-1;m>=0;m--){var g=d[m];if(n(g))return O.some(g);var k=o(g);if(k.isSome())return k}return O.none()};return o(t)},Uu=function(t,n){return Zu(n,t)},K1=function(t,n,o,s){var d=go(t),m=d.dom.createRange();return m.setStart(t.dom,n),m.setEnd(o.dom,s),m},ah=function(t,n,o,s){var d=K1(t,n,o,s),m=va(t,o)&&n===s;return d.collapsed&&!m},Pv=function(t){return O.from(t.getSelection())},Jy=function(t){if(t.rangeCount>0){var n=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return O.some(Nv.create(rr.fromDom(n.startContainer),n.startOffset,rr.fromDom(o.endContainer),o.endOffset))}else return O.none()},SS=function(t){if(t.anchorNode===null||t.focusNode===null)return Jy(t);var n=rr.fromDom(t.anchorNode),o=rr.fromDom(t.focusNode);return ah(n,t.anchorOffset,o,t.focusOffset)?O.some(Nv.create(n,t.anchorOffset,o,t.focusOffset)):Jy(t)},Gk=function(t){return Pv(t).filter(function(n){return n.rangeCount>0}).bind(SS)},X1=function(t,n){var o=q1(t,n);return Vk(o)},Es=function(t,n){var o=q1(t,n);return Uk(o)},Hp=function(t,n){return{element:t,offset:n}},TS=function(t,n){var o=x(t);if(o.length===0)return Hp(t,n);if(n<o.length)return Hp(o[n],0);var s=o[o.length-1],d=mr(s)?Ld(s).length:x(s).length;return Hp(s,d)},Fv=function(t,n){return mr(t)?Hp(t,n):TS(t,n)},Hd=function(t,n){var o=n.getSelection.getOrThunk(function(){return function(){return Gk(t)}});return o().map(function(s){var d=Fv(s.start,s.soffset),m=Fv(s.finish,s.foffset);return eh.range(d.element,d.offset,m.element,m.offset)})},oh=function(t,n,o){var s=tc(n.root).dom,d=$1(t,o,n),m=Hd(s,n).bind(function(C){var E=Es(s,eh.exactFromRange(C)).orThunk(function(){var M=rr.fromText($p);Uo(C.start,M);var P=X1(s,eh.exact(M,0,M,1));return bs(M),P});return E.bind(function(M){return Xy(M.left,M.top,M.width,M.height)})}),g=Hd(s,n).bind(function(C){return Gt(C.start)?O.some(C.start):ml(C.start)}),k=g.getOr(t.element);return Pk(m,d,n,o,k)},Vd=[Oa("getSelection"),zt("root"),Oa("bubble"),Id(),Fe("overrides",{}),Fe("showAbove",!1),uo("placement",oh)],Al="link-layout",Ol=function(t){return t.x+t.width},Qy=function(t,n){return t.x-n.width},eb=function(t,n){return t.y-n.height+t.height},Y1=function(t){return t.y},ih=function(t,n,o){return Li(Ol(t),Y1(t),o.southeast(),Ey(),"southeast",Di(t,{left:0,top:2}),Al)},uh=function(t,n,o){return Li(Qy(t,n),Y1(t),o.southwest(),p1(),"southwest",Di(t,{right:1,top:2}),Al)},sh=function(t,n,o){return Li(Ol(t),eb(t,n),o.northeast(),g1(),"northeast",Di(t,{left:0,bottom:3}),Al)},Bu=function(t,n,o){return Li(Qy(t,n),eb(t,n),o.northwest(),zv(),"northwest",Di(t,{right:1,bottom:3}),Al)},ch=function(){return[ih,uh,sh,Bu]},lh=function(){return[uh,ih,Bu,sh]},tb=function(t,n,o){var s=qm(o,n.item.element),d=$d(t.element,n,ch(),lh(),ch(),lh(),O.none());return O.some(Ip({anchorBox:s,bubble:jy(),overrides:n.overrides,layouts:d,placer:O.none()}))},ES=[zt("item"),Id(),Fe("overrides",{}),uo("placement",tb)],Z1=Tc("type",{selection:Vd,node:lS,hotspot:qy,submenu:ES,makeshift:Ky}),rb=[Ou("classes",ri),ic("mode","all",["all","layout","placement"])],pu=[Fe("useFixed",Ue),Oa("getBounds")],zS=[ks("anchor",Z1),Us("transition",rb)],of=function(){var t=document.documentElement;return S1(0,0,t.clientWidth,t.clientHeight)},nb=function(t){var n=Ju(t.element),o=t.element.dom.getBoundingClientRect();return Iy(n.left,n.top,o.width,o.height)},J1=function(t,n,o,s,d,m,g){var k=$y(o.anchorBox,n);return iS(k,d.element,o.bubble,o.layouts,m,s,o.overrides,g)},fh=function(t,n,o,s,d){Q1(t,n,o,s,d,O.none())},Q1=function(t,n,o,s,d,m){var g=m.map(si);return Vp(t,n,o,s,d,g)},Vp=function(t,n,o,s,d,m){var g=Ua("placement.info",Kr(zS),d),k=g.anchor,C=s.element,E=o.get(s.uid);Sk(function(){vn(C,"position","fixed");var M=ui(C,"visibility");vn(C,"visibility","hidden");var P=n.useFixed()?of():nb(t),q=k.placement,Z=m.map(ue).or(n.getBounds);q(t,k,P).each(function(ne){var me=ne.placer.getOr(J1),Re=me(t,P,ne,Z,s,E,g.transition);o.set(s.uid,Re)}),M.fold(function(){Aa(C,"visibility")},function(ne){vn(C,"visibility",ne)}),ui(C,"left").isNone()&&ui(C,"top").isNone()&&ui(C,"right").isNone()&&ui(C,"bottom").isNone()&&ua(ui(C,"position"),"fixed")&&Aa(C,"position")},C)},AS=function(t,n,o){return n.useFixed()?"fixed":"absolute"},Kk=function(t,n,o,s){var d=s.element;Qe(["position","left","right","top","bottom"],function(m){return Aa(d,m)}),O1(d),o.clear(s.uid)},Xk=Object.freeze({__proto__:null,position:fh,positionWithin:Q1,positionWithinBounds:Vp,getMode:AS,reset:Kk}),OS=function(){var t={},n=function(d,m){t[d]=m},o=function(d){return gt(t,d)},s=function(d){Ae(d)?delete t[d]:t={}};return Du({readState:function(){return t},clear:s,set:n,get:o})},dh=Object.freeze({__proto__:null,init:OS}),Zo=Mi({fields:pu,name:"positioning",active:Py,apis:Xk,state:dh}),ab=function(t){Sa(t,Mm());var n=t.components();Qe(n,ab)},ob=function(t){var n=t.components();Qe(n,ob),Sa(t,js())},e0=function(t,n){Eu(t.element,n.element)},Yk=function(t){Qe(t.components(),function(n){return bs(n.element)}),zo(t.element),t.syncComponents()},t0=function(t,n){var o=t.components();Yk(t);var s=nr(o,n);Qe(s,function(d){ab(d),t.getSystem().removeFromWorld(d)}),Qe(n,function(d){d.getSystem().isConnected()?e0(t,d):(t.getSystem().addToWorld(d),e0(t,d),tn(t.element)&&ob(d)),t.syncComponents()})},Iv=function(t,n){ib(t,n,Eu)},ib=function(t,n,o){t.getSystem().addToWorld(n),o(t.element,n.element),tn(t.element)&&ob(n),t.syncComponents()},zs=function(t){ab(t),bs(t.element),t.getSystem().removeFromWorld(t)},Rl=function(t){var n=yo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});zs(t),n.each(function(o){o.syncComponents()})},ub=function(t){var n=t.components();Qe(n,zs),zo(t.element),t.syncComponents()},Xf=function(t,n){Dl(t,n,Eu)},rl=function(t,n){Dl(t,n,Of)},Dl=function(t,n,o){o(t,n.element);var s=x(n.element);Qe(s,function(d){n.getByDom(d).each(ob)})},ju=function(t){var n=x(t.element);Qe(n,function(o){t.getByDom(o).each(ab)}),bs(t.element)},Rc=function(t,n,o,s){o.get().each(function(g){ub(t)});var d=n.getAttachPoint(t);Iv(d,t);var m=t.getSystem().build(s);return Iv(t,m),o.set(m),m},vh=function(t,n,o,s){var d=Rc(t,n,o,s);return n.onOpen(t,d),d},uf=function(t,n,o,s){return o.get().map(function(){return Rc(t,n,o,s)})},$v=function(t,n,o,s,d){t2(t,n),vh(t,n,o,s),d(),r2(t,n)},Zk=function(t,n,o){o.get().each(function(s){ub(t),Rl(t),n.onClose(t,s),o.clear()})},Jk=function(t,n,o){return o.isOpen()},RS=function(t,n,o,s){return Jk(t,n,o)&&o.get().exists(function(d){return n.isPartOf(t,d,s)})},DS=function(t,n,o){return o.get()},Qk=function(t,n,o,s){ui(t.element,n).fold(function(){Xi(t.element,o)},function(d){Fn(t.element,o,d)}),vn(t.element,n,s)},e2=function(t,n,o){No(t.element,o).fold(function(){return Aa(t.element,n)},function(s){return vn(t.element,n,s)})},t2=function(t,n,o){var s=n.getAttachPoint(t);vn(t.element,"position",Zo.getMode(s)),Qk(t,"visibility",n.cloakVisibilityAttr,"hidden")},MS=function(t){return fa(["top","left","right","bottom"],function(n){return ui(t,n).isSome()})},r2=function(t,n,o){MS(t.element)||Aa(t.element,"position"),e2(t,"visibility",n.cloakVisibilityAttr)},BS=Object.freeze({__proto__:null,cloak:t2,decloak:r2,open:vh,openWhileCloaked:$v,close:Zk,isOpen:Jk,isPartOf:RS,getState:DS,setContent:uf}),n2=function(t,n){return ro([Bt(gp(),function(o,s){Zk(o,t,n)})])},a2=Object.freeze({__proto__:null,events:n2}),r0=[Ra("onOpen"),Ra("onClose"),zt("isPartOf"),zt("getAttachPoint"),Fe("cloakVisibilityAttr","data-precloak-visibility")],o2=function(){var t=Yo(),n=ue("not-implemented");return Du({readState:n,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},NS=Object.freeze({__proto__:null,init:o2}),ma=Mi({fields:r0,name:"sandboxing",active:a2,apis:BS,state:NS}),Lv=ue("dismiss.popups"),mh=ue("reposition.popups"),n0=ue("mouse.released"),PS=Hs([Fe("isExtraPart",Ue),Us("fireEventInstead",[Fe("event",Jc())])]),As=function(t){var n,o=Ua("Dismissal",PS,t);return n={},n[Lv()]={schema:Hs([zt("target")]),onReceive:function(s,d){if(ma.isOpen(s)){var m=ma.isPartOf(s,d.target)||o.isExtraPart(s,d.target);m||o.fireEventInstead.fold(function(){return ma.close(s)},function(g){return Sa(s,g.event)})}}},n},FS=Hs([Us("fireEventInstead",[Fe("event",Ru())]),Lu("doReposition")]),Hv=function(t){var n,o=Ua("Reposition",FS,t);return n={},n[mh()]={onReceive:function(s){ma.isOpen(s)&&o.fireEventInstead.fold(function(){return o.doReposition(s)},function(d){return Sa(s,d.event)})}},n},Ud=function(t,n,o){n.store.manager.onLoad(t,n,o)},sb=function(t,n,o){n.store.manager.onUnload(t,n,o)},cb=function(t,n,o,s){n.store.manager.setValue(t,n,o,s)},IS=function(t,n,o){return n.store.manager.getValue(t,n,o)},i2=function(t,n,o){return o},lb=Object.freeze({__proto__:null,onLoad:Ud,onUnload:sb,setValue:cb,getValue:IS,getState:i2}),a0=function(t,n){var o=t.resetOnDom?[Bn(function(s,d){Ud(s,t,n)}),fc(function(s,d){sb(s,t,n)})]:[Oo(t,n,Ud)];return ro(o)},hh=Object.freeze({__proto__:null,events:a0}),fb=function(){var t=Qr(null),n=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},s=function(){t.set(null)};return Du({set:t.set,get:t.get,isNotSet:o,clear:s,readState:n})},$S=function(){var t=at;return Du({readState:t})},sf=function(){var t=Qr({}),n=Qr({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:n.get()}},s=function(){t.set({}),n.set({})},d=function(g){return gt(t.get(),g).orThunk(function(){return gt(n.get(),g)})},m=function(g){var k=t.get(),C=n.get(),E={},M={};Qe(g,function(P){E[P.value]=P,gt(P,"meta").each(function(q){gt(q,"text").each(function(Z){M[Z]=P})})}),t.set(J(J({},k),E)),n.set(J(J({},C),M))};return Du({readState:o,lookup:d,update:m,clear:s})},o0=function(t){return t.store.manager.state(t)},i0=Object.freeze({__proto__:null,memory:fb,dataset:sf,manual:$S,init:o0}),ph=function(t,n,o,s){var d=n.store;o.update([s]),d.setValue(t,s),n.onSetValue(t,s)},u0=function(t,n,o){var s=n.store,d=s.getDataKey(t);return o.lookup(d).getOrThunk(function(){return s.getFallbackEntry(d)})},Up=function(t,n,o){var s=n.store;s.initialValue.each(function(d){ph(t,n,o,d)})},u2=function(t,n,o){o.clear()},LS=[Oa("initialValue"),zt("getFallbackEntry"),zt("getDataKey"),zt("setValue"),uo("manager",{setValue:ph,getValue:u0,onLoad:Up,onUnload:u2,state:sf})],cf=function(t,n,o){return n.store.getValue(t)},Gs=function(t,n,o,s){n.store.setValue(t,s),n.onSetValue(t,s)},gu=function(t,n,o){n.store.initialValue.each(function(s){n.store.setValue(t,s)})},HS=[zt("getValue"),Fe("setValue",at),Oa("initialValue"),uo("manager",{setValue:Gs,getValue:cf,onLoad:gu,onUnload:at,state:du.init})],s0=function(t,n,o,s){o.set(s),n.onSetValue(t,s)},gh=function(t,n,o){return o.get()},c0=function(t,n,o){n.store.initialValue.each(function(s){o.isNotSet()&&o.set(s)})},jp=function(t,n,o){o.clear()},l0=[Oa("initialValue"),uo("manager",{setValue:s0,getValue:gh,onLoad:c0,onUnload:jp,state:fb})],VS=[rs("store",{mode:"memory"},Tc("mode",{memory:l0,manual:HS,dataset:LS})),Ra("onSetValue"),Fe("resetOnDom",!1)],gr=Mi({fields:VS,name:"representing",active:hh,apis:lb,extra:{setValueFrom:function(t,n){var o=gr.getValue(n);gr.setValue(t,o)}},state:i0}),Bi=function(t,n){return H_(t,{},$t(n,function(o){return Tm(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([ts("dump",Je)]))},yh=function(t){return t.dump},Qi=function(t,n){return J(J({},cr(n)),t.dump)},Dc={field:Bi,augment:Qi,get:yh},f0="placeholder",Wp=uc.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),db=function(t){return dr(t,"uiType")},vb=function(t,n,o,s){return t.exists(function(d){return d!==o.owner})?Wp.single(!0,ue(o)):gt(s,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+In(s)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(d){return d.replace()})},mb=function(t,n,o,s){return db(o)&&o.uiType===f0?vb(t,n,o,s):Wp.single(!1,ue(o))},jd=function(t,n,o,s){var d=mb(t,n,o,s);return d.fold(function(m,g){var k=db(o)?g(n,o.config,o.validated):g(n),C=gt(k,"components").getOr([]),E=Pr(C,function(M){return jd(t,n,M,s)});return[J(J({},k),{components:E})]},function(m,g){if(db(o)){var k=g(n,o.config,o.validated),C=o.validated.preprocess.getOr(Je);return C(k)}else return g(n)})},qp=function(t,n,o,s){return Pr(o,function(d){return jd(t,n,d,s)})},d0=function(t,n){var o=!1,s=function(){return o},d=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,n},m=function(){return n.fold(function(g,k){return g},function(g,k){return g})};return{name:ue(t),required:m,used:s,replace:d}},v0=function(t,n,o,s){var d=kn(s,function(g,k){return d0(k,g)}),m=qp(t,n,o,d);return Rn(d,function(g){if(g.used()===!1&&g.required())throw new Error("Placeholder: "+g.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(n.components,null,2))}),m},m0=Wp.single,US=Wp.multiple,s2=ue(f0),Yf=uc.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),lf=Fe("factory",{sketch:Je}),Vv=Fe("schema",[]),bh=zt("name"),h0=zi("pname","pname",sa(function(t){return"<alloy."+Nr(t.name)+">"}),Gc()),hb=ts("schema",function(){return[Oa("preprocess")]}),ff=Fe("defaults",ue({})),nl=Fe("overrides",ue({})),Wd=Kr([lf,Vv,bh,h0,ff,nl]),qd=Kr([lf,Vv,bh,ff,nl]),Uv=Kr([lf,Vv,bh,h0,ff,nl]),_h=Kr([lf,hb,bh,zt("unit"),h0,ff,nl]),p0=function(t){return t.fold(O.some,O.none,O.some,O.some)},g0=function(t){var n=function(o){return o.name};return t.fold(n,n,n,n)},y0=function(t){return t.fold(Je,Je,Je,Je)},pb=function(t,n){return function(o){var s=Ua("Converting part type",n,o);return t(s)}},yu=pb(Yf.required,Wd),pc=pb(Yf.external,qd),Mc=pb(Yf.optional,Uv),df=pb(Yf.group,_h),wh=ue("entirety"),gb=Object.freeze({__proto__:null,required:yu,external:pc,optional:Mc,group:df,asNamedPart:p0,name:g0,asCommon:y0,original:wh}),Gd=function(t,n,o,s){return _t(n.defaults(t,o,s),o,{uid:t.partUids[n.name]},n.overrides(t,o,s))},jv=function(t,n,o){var s={},d={};return Qe(o,function(m){m.fold(function(g){s[g.pname]=m0(!0,function(k,C,E){return g.factory.sketch(Gd(k,g,C,E))})},function(g){var k=n.parts[g.name];d[g.name]=ue(g.factory.sketch(Gd(n,g,k[wh()]),k))},function(g){s[g.pname]=m0(!1,function(k,C,E){return g.factory.sketch(Gd(k,g,C,E))})},function(g){s[g.pname]=US(!0,function(k,C,E){var M=k[g.name];return $t(M,function(P){return g.factory.sketch(_t(g.defaults(k,P,E),P,g.overrides(k,P)))})})})}),{internals:ue(s),externals:ue(d)}},Wv=function(t,n){var o={};return Qe(n,function(s){p0(s).each(function(d){var m=jS(t,d.pname);o[d.name]=function(g){var k=Ua("Part: "+d.name+" in "+t,Kr(d.schema),g);return J(J({},m),{config:g,validated:k})}})}),o},jS=function(t,n){return{uiType:s2(),owner:t,name:n}},b0=function(t,n,o){return{uiType:s2(),owner:t,name:n,config:o,validated:{}}},c2=function(t){return Pr(t,function(n){return n.fold(O.none,O.some,O.none,O.none).map(function(o){return ql(o.name,o.schema.concat([Nd(wh())]))}).toArray()})},l2=function(t){return $t(t,g0)},_0=function(t,n,o){return jv(t,n,o)},w0=function(t,n,o){return v0(O.some(t),n,n.components,o)},Za=function(t,n,o){var s=n.partUids[o];return t.getSystem().getByUid(s).toOptional()},vf=function(t,n,o){return Za(t,n,o).getOrDie("Could not find part: "+o)},f2=function(t,n,o){var s={},d=n.partUids,m=t.getSystem();return Qe(o,function(g){s[g]=ue(m.getByUid(d[g]))}),s},d2=function(t,n){var o=t.getSystem();return kn(n.partUids,function(s,d){return ue(o.getByUid(s))})},v2=function(t){return In(t.partUids)},yb=function(t,n,o){var s={},d=n.partUids,m=t.getSystem();return Qe(o,function(g){s[g]=ue(m.getByUid(d[g]).getOrDie())}),s},k0=function(t,n){var o=l2(n);return $f($t(o,function(s){return{key:s,value:t+"-"+s}}))},Gp=function(t){return zi("partUids","partUids",cu(function(n){return k0(n.uid,t)}),Gc())},on=Object.freeze({__proto__:null,generate:Wv,generateOne:b0,schemas:c2,names:l2,substitutes:_0,components:w0,defaultUids:k0,defaultUidsSchema:Gp,getAllParts:d2,getAllPartNames:v2,getPart:Za,getPartOrDie:vf,getParts:f2,getPartsOrDie:yb}),WS=function(t,n){var o=t.length>0?[ql("parts",t)]:[];return o.concat([zt("uid"),Fe("dom",{}),Fe("components",[]),Nd("originalSpec"),Fe("debug.sketcher",{})]).concat(n)},C0=function(t,n,o,s,d){var m=WS(s,d);return Ua(t+" [SpecSchema]",Hs(m.concat(n)),o)},m2=function(t,n,o,s){var d=h2(s),m=C0(t,n,d,[],[]);return o(m,d)},x0=function(t,n,o,s,d){var m=h2(d),g=c2(o),k=Gp(o),C=C0(t,n,m,g,[k]),E=_0(t,C,o),M=w0(t,C,E.internals());return s(C,M,m,E.externals())},qS=function(t){return dr(t,"uid")},h2=function(t){return qS(t)?t:J(J({},t),{uid:zd("uid")})},S0=function(t){return t.uid!==void 0},T0=Hs([zt("name"),zt("factory"),zt("configFields"),Fe("apis",{}),Fe("extraApis",{})]),GS=Hs([zt("name"),zt("factory"),zt("configFields"),zt("partFields"),Fe("apis",{}),Fe("extraApis",{})]),gc=function(t){var n=Ua("Sketcher for "+t.name,T0,t),o=function(m){return m2(n.name,n.configFields,n.factory,m)},s=kn(n.apis,Fo),d=kn(n.extraApis,function(m,g){return _v(m,g)});return J(J({name:n.name,configFields:n.configFields,sketch:o},s),d)},ls=function(t){var n=Ua("Sketcher for "+t.name,GS,t),o=function(g){return x0(n.name,n.configFields,n.partFields,n.factory,g)},s=Wv(n.name,n.partFields),d=kn(n.apis,Fo),m=kn(n.extraApis,function(g,k){return _v(g,k)});return J(J({name:n.name,partFields:n.partFields,configFields:n.configFields,sketch:o,parts:s},d),m)},mf=function(t){return Te(t)==="input"&&bo(t,"type")!=="radio"||Te(t)==="textarea"},KS=function(t,n,o){return n.find(t)},XS=Object.freeze({__proto__:null,getCurrent:KS}),E0=[zt("find")],aa=Mi({fields:E0,name:"composing",apis:XS}),YS=["input","button","textarea","select"],bb=function(t,n,o){var s=n.disabled()?z0:Kd;s(t,n)},_b=function(t,n){return n.useNative===!0&&dn(YS,Te(t.element))},wb=function(t){return Wg(t.element,"disabled")},Kp=function(t){Fn(t.element,"disabled","disabled")},Zf=function(t){Xi(t.element,"disabled")},Xp=function(t){return bo(t.element,"aria-disabled")==="true"},ZS=function(t){Fn(t.element,"aria-disabled","true")},p2=function(t){Fn(t.element,"aria-disabled","false")},z0=function(t,n,o){n.disableClass.each(function(d){Ai(t.element,d)});var s=_b(t,n)?Kp:ZS;s(t),n.onDisabled(t)},Kd=function(t,n,o){n.disableClass.each(function(d){yi(t.element,d)});var s=_b(t,n)?Zf:p2;s(t),n.onEnabled(t)},kb=function(t,n){return _b(t,n)?wb(t):Xp(t)},g2=function(t,n,o,s){var d=s?z0:Kd;d(t,n)},JS=Object.freeze({__proto__:null,enable:Kd,disable:z0,isDisabled:kb,onLoad:bb,set:g2}),QS=function(t,n){return el({classes:n.disabled()?n.disableClass.toArray():[]})},e8=function(t,n){return ro([t1(sc(),function(o,s){return kb(o,t)}),Oo(t,n,bb)])},qv=Object.freeze({__proto__:null,exhibit:QS,events:e8}),A0=[lo("disabled",Ue),Fe("useNative",!0),Oa("disableClass"),Ra("onDisabled"),Ra("onEnabled")],Jr=Mi({fields:A0,name:"disabling",active:qv,apis:JS}),y2=function(t,n,o,s){var d=Uu(t.element,"."+n.highlightClass);Qe(d,function(m){fa(s,function(g){return g.element===m})||(yi(m,n.highlightClass),t.getSystem().getByDom(m).each(function(g){n.onDehighlight(t,g),Sa(g,ay())}))})},b2=function(t,n,o){return y2(t,n,o,[])},t8=function(t,n,o,s){O0(t,n,o,s)&&(yi(s.element,n.highlightClass),n.onDehighlight(t,s),Sa(s,ay()))},Yp=function(t,n,o,s){y2(t,n,o,[s]),O0(t,n,o,s)||(Ai(s.element,n.highlightClass),n.onHighlight(t,s),Sa(s,e1()))},Wu=function(t,n,o){D0(t,n).each(function(s){Yp(t,n,o,s)})},Zp=function(t,n,o){M0(t,n).each(function(s){Yp(t,n,o,s)})},r8=function(t,n,o,s){w2(t,n,o,s).fold(function(d){throw d},function(d){Yp(t,n,o,d)})},_2=function(t,n,o,s){var d=k2(t,n),m=Nt(d,s);m.each(function(g){Yp(t,n,o,g)})},O0=function(t,n,o,s){return as(s.element,n.highlightClass)},R0=function(t,n,o){return Oi(t.element,"."+n.highlightClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},w2=function(t,n,o,s){var d=Uu(t.element,"."+n.itemClass);return O.from(d[s]).fold(function(){return $n.error(new Error("No element found with index "+s))},t.getSystem().getByDom)},D0=function(t,n,o){return Oi(t.element,"."+n.itemClass).bind(function(s){return t.getSystem().getByDom(s).toOptional()})},M0=function(t,n,o){var s=Uu(t.element,"."+n.itemClass),d=s.length>0?O.some(s[s.length-1]):O.none();return d.bind(function(m){return t.getSystem().getByDom(m).toOptional()})},Jf=function(t,n,o,s){var d=Uu(t.element,"."+n.itemClass),m=fr(d,function(g){return as(g,n.highlightClass)});return m.bind(function(g){var k=mu(g,s,0,d.length-1);return t.getSystem().getByDom(d[k]).toOptional()})},n8=function(t,n,o){return Jf(t,n,o,-1)},a8=function(t,n,o){return Jf(t,n,o,1)},k2=function(t,n,o){var s=Uu(t.element,"."+n.itemClass);return Kn($t(s,function(d){return t.getSystem().getByDom(d).toOptional()}))},o8=Object.freeze({__proto__:null,dehighlightAll:b2,dehighlight:t8,highlight:Yp,highlightFirst:Wu,highlightLast:Zp,highlightAt:r8,highlightBy:_2,isHighlighted:O0,getHighlighted:R0,getFirst:D0,getLast:M0,getPrevious:n8,getNext:a8,getCandidates:k2}),Jp=[zt("highlightClass"),zt("itemClass"),Ra("onHighlight"),Ra("onDehighlight")],Na=Mi({fields:Jp,name:"highlighting",apis:o8}),Cb=[8],Qf=[9],al=[13],Xd=[27],Os=[32],xb=[37],Gv=[38],kh=[39],Yd=[40],i8=function(t,n,o){var s=st(t.slice(0,n)),d=st(t.slice(n+1));return Nt(s.concat(d),o)},C2=function(t,n,o){var s=st(t.slice(0,n));return Nt(s,o)},u8=function(t,n,o){var s=t.slice(0,n),d=t.slice(n+1);return Nt(d.concat(s),o)},s8=function(t,n,o){var s=t.slice(n+1);return Nt(s,o)},Jn=function(t){return function(n){var o=n.raw;return dn(t,o.which)}},ol=function(t){return function(n){return ut(t,function(o){return o(n)})}},Ch=function(t){var n=t.raw;return n.shiftKey===!0},x2=function(t){var n=t.raw;return n.ctrlKey===!0},Qp=Ge(Ch),ha=function(t,n){return{matches:t,classification:n}},S2=function(t,n){var o=Nt(t,function(s){return s.matches(n)});return o.map(function(s){return s.classification})},T2=function(t,n,o){var s=n.exists(function(d){return o.exists(function(m){return va(m,d)})});s||en(t,ny(),{prevFocus:n,newFocus:o})},eg=function(){var t=function(o){return El(o.element)},n=function(o,s){var d=t(o);o.getSystem().triggerFocus(s,o.element);var m=t(o);T2(o,d,m)};return{get:t,set:n}},E2=function(){var t=function(o){return Na.getHighlighted(o).map(function(s){return s.element})},n=function(o,s){var d=t(o);o.getSystem().getByDom(s).fold(at,function(g){Na.highlight(o,g)});var m=t(o);T2(o,d,m)};return{get:t,set:n}},tg;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(tg||(tg={}));var Kv=function(t,n,o,s,d){var m=function(){return t.concat([Fe("focusManager",eg()),rs("focusInside","onFocus",Sm(function(E){return dn(["onFocus","onEnterOrSpace","onApi"],E)?$n.value(E):$n.error("Invalid value for focusInside")})),uo("handler",C),uo("state",n),uo("sendFocusIn",d)])},g=function(E,M,P,q,Z){var ne=P(E,M,q,Z);return S2(ne,M.event).bind(function(me){return me(E,M,q,Z)})},k=function(E,M){var P=E.focusInside!==tg.OnFocusMode?O.none():d(E).map(function(ne){return Bt(wd(),function(me,Re){ne(me,E,M),Re.stop()})}),q=function(ne,me){var Re=Jn(Os.concat(al))(me.event);E.focusInside===tg.OnEnterOrSpaceMode&&Re&&tk(ne,me)&&d(E).each(function(de){de(ne,E,M),me.stop()})},Z=[Bt(Qg(),function(ne,me){g(ne,me,o,E,M).fold(function(){q(ne,me)},function(Re){me.stop()})}),Bt(K_(),function(ne,me){g(ne,me,s,E,M).each(function(Re){me.stop()})})];return ro(P.toArray().concat(Z))},C={schema:m,processKey:g,toEvents:k};return C},B0=function(t){var n=[Oa("onEscape"),Oa("onEnter"),Fe("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Fe("firstTabstop",0),Fe("useTabstopAt",U),Oa("visibilitySelector")].concat([t]),o=function(me,Re){var de=me.visibilitySelector.bind(function(Ne){return Oc(Re,Ne)}).getOr(Re);return pi(de)>0},s=function(me,Re){var de=Uu(me.element,Re.selector),Ne=qe(de,function(mt){return o(Re,mt)});return O.from(Ne[Re.firstTabstop])},d=function(me,Re){return Re.focusManager.get(me).bind(function(de){return Oc(de,Re.selector)})},m=function(me,Re){return o(me,Re)&&me.useTabstopAt(Re)},g=function(me,Re,de){s(me,Re).each(function(Ne){Re.focusManager.set(me,Ne)})},k=function(me,Re,de,Ne,mt){return mt(Re,de,function(ft){return m(Ne,ft)}).fold(function(){return Ne.cyclic?O.some(!0):O.none()},function(ft){return Ne.focusManager.set(me,ft),O.some(!0)})},C=function(me,Re,de,Ne){var mt=Uu(me.element,de.selector);return d(me,de).bind(function(ft){var Be=fr(mt,Le(va,ft));return Be.bind(function(it){return k(me,mt,it,de,Ne)})})},E=function(me,Re,de){var Ne=de.cyclic?i8:C2;return C(me,Re,de,Ne)},M=function(me,Re,de){var Ne=de.cyclic?u8:s8;return C(me,Re,de,Ne)},P=function(me,Re,de){return de.onEnter.bind(function(Ne){return Ne(me,Re)})},q=function(me,Re,de){return de.onEscape.bind(function(Ne){return Ne(me,Re)})},Z=ue([ha(ol([Ch,Jn(Qf)]),E),ha(Jn(Qf),M),ha(Jn(Xd),q),ha(ol([Qp,Jn(al)]),P)]),ne=ue([]);return Kv(n,du.init,Z,ne,function(){return O.some(g)})},N0=B0(ts("cyclic",Ue)),z2=B0(ts("cyclic",U)),A2=function(t,n,o){return oy(t,o,sc()),O.some(!0)},Zd=function(t,n,o){var s=mf(o)&&Jn(Os)(n.event);return s?O.none():A2(t,n,o)},Xv=function(t,n){return O.some(!0)},P0=[Fe("execute",Zd),Fe("useSpace",!1),Fe("useEnter",!0),Fe("useControlEnter",!1),Fe("useDown",!1)],O2=function(t,n,o){return o.execute(t,n,t.element)},Sb=function(t,n,o,s){var d=o.useSpace&&!mf(t.element)?Os:[],m=o.useEnter?al:[],g=o.useDown?Yd:[],k=d.concat(m).concat(g);return[ha(Jn(k),O2)].concat(o.useControlEnter?[ha(ol([x2,Jn(al)]),O2)]:[])},c8=function(t,n,o,s){return o.useSpace&&!mf(t.element)?[ha(Jn(Os),Xv)]:[]},xh=Kv(P0,du.init,Sb,c8,function(){return O.none()}),F0=function(){var t=Yo(),n=function(d,m){t.set({numRows:d,numColumns:m})},o=function(){return t.get().map(function(d){return d.numRows})},s=function(){return t.get().map(function(d){return d.numColumns})};return Du({readState:function(){return t.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:n,getNumRows:o,getNumColumns:s})},I0=function(t){return t.state(t)},R2=Object.freeze({__proto__:null,flatgrid:F0,init:I0}),$0=function(t){return function(n,o,s,d){var m=t(n.element);return H0(m,n,o,s,d)}},Tb=function(t,n){var o=F1(t,n);return $0(o)},Eb=function(t,n){var o=F1(n,t);return $0(o)},L0=function(t){return function(n,o,s,d){return H0(t,n,o,s,d)}},H0=function(t,n,o,s,d){var m=s.focusManager.get(n).bind(function(g){return t(n.element,g,s,d)});return m.map(function(g){return s.focusManager.set(n,g),!0})},D2=L0,Yv=L0,Sh=L0,M2=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},B2=function(t){return!M2(t.dom)},zb=function(t,n){return fr(t,n).map(function(o){return{index:o,candidates:t}})},N2=function(t,n,o){var s=function(g){return va(g,n)},d=Uu(t,o),m=qe(d,B2);return zb(m,s)},P2=function(t,n){return fr(t,function(o){return va(n,o)})},V0=function(t,n,o,s){var d=Math.floor(n/o),m=n%o;return s(d,m).bind(function(g){var k=g.row*o+g.column;return k>=0&&k<t.length?O.some(t[k]):O.none()})},F2=function(t,n,o,s,d){return V0(t,n,s,function(m,g){var k=m===o-1,C=k?t.length-m*s:s,E=mu(g,d,0,C-1);return O.some({row:m,column:E})})},I2=function(t,n,o,s,d){return V0(t,n,s,function(m,g){var k=mu(m,d,0,o-1),C=k===o-1,E=C?t.length-k*s:s,M=qs(g,0,E-1);return O.some({row:k,column:M})})},$2=function(t,n,o,s){return F2(t,n,o,s,1)},l8=function(t,n,o,s){return F2(t,n,o,s,-1)},L2=function(t,n,o,s){return I2(t,n,o,s,-1)},U0=function(t,n,o,s){return I2(t,n,o,s,1)},Th=[zt("selector"),Fe("execute",Zd),Ri("onEscape"),Fe("captureTab",!1),Sy()],f8=function(t,n,o){Oi(t.element,n.selector).each(function(s){n.focusManager.set(t,s)})},H2=function(t,n){return n.focusManager.get(t).bind(function(o){return Oc(o,n.selector)})},V2=function(t,n,o,s){return H2(t,o).bind(function(d){return o.execute(t,n,d)})},Bc=function(t){return function(n,o,s,d){return N2(n,o,s.selector).bind(function(m){return t(m.candidates,m.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},U2=function(t,n,o){return o.captureTab?O.some(!0):O.none()},j2=function(t,n,o){return o.onEscape(t,n)},Ab=Bc(l8),Ob=Bc($2),j0=Bc(L2),Zv=Bc(U0),Eh=ue([ha(Jn(xb),Tb(Ab,Ob)),ha(Jn(kh),Eb(Ab,Ob)),ha(Jn(Gv),D2(j0)),ha(Jn(Yd),Yv(Zv)),ha(ol([Ch,Jn(Qf)]),U2),ha(ol([Qp,Jn(Qf)]),U2),ha(Jn(Xd),j2),ha(Jn(Os.concat(al)),V2)]),W2=ue([ha(Jn(Os),Xv)]),q2=Kv(Th,F0,Eh,W2,function(){return O.some(f8)}),Rb=function(t,n,o,s){var d=function(g){return Te(g)==="button"&&bo(g,"disabled")==="disabled"},m=function(g,k,C){var E=mu(k,s,0,C.length-1);return E===g?O.none():d(C[E])?m(g,E,C):O.from(C[E])};return N2(t,o,n).bind(function(g){var k=g.index,C=g.candidates;return m(k,k,C)})},d8=[zt("selector"),Fe("getInitial",O.none),Fe("execute",Zd),Ri("onEscape"),Fe("executeOnMove",!1),Fe("allowVertical",!0)],Db=function(t,n){return n.focusManager.get(t).bind(function(o){return Oc(o,n.selector)})},rg=function(t,n,o){return Db(t,o).bind(function(s){return o.execute(t,n,s)})},Mb=function(t,n,o){n.getInitial(t).orThunk(function(){return Oi(t.element,n.selector)}).each(function(s){n.focusManager.set(t,s)})},G2=function(t,n,o){return Rb(t,o.selector,n,-1)},Bb=function(t,n,o){return Rb(t,o.selector,n,1)},Nc=function(t){return function(n,o,s,d){return t(n,o,s,d).bind(function(){return s.executeOnMove?rg(n,o,s):O.some(!0)})}},v8=function(t,n,o){return o.onEscape(t,n)},W0=function(t,n,o,s){var d=xb.concat(o.allowVertical?Gv:[]),m=kh.concat(o.allowVertical?Yd:[]);return[ha(Jn(d),Nc(Tb(G2,Bb))),ha(Jn(m),Nc(Eb(G2,Bb))),ha(Jn(al),rg),ha(Jn(Os),rg),ha(Jn(Xd),v8)]},q0=ue([ha(Jn(Os),Xv)]),Nb=Kv(d8,du.init,W0,q0,function(){return O.some(Mb)}),zh=function(t,n,o){return O.from(t[n]).bind(function(s){return O.from(s[o]).map(function(d){return{rowIndex:n,columnIndex:o,cell:d}})})},Pb=function(t,n,o,s){var d=t[n],m=d.length,g=mu(o,s,0,m-1);return zh(t,n,g)},G0=function(t,n,o,s){var d=mu(o,s,0,t.length-1),m=t[d].length,g=qs(n,0,m-1);return zh(t,d,g)},K2=function(t,n,o,s){var d=t[n],m=d.length,g=qs(o+s,0,m-1);return zh(t,n,g)},X2=function(t,n,o,s){var d=qs(o+s,0,t.length-1),m=t[d].length,g=qs(n,0,m-1);return zh(t,d,g)},Fb=function(t,n,o){return Pb(t,n,o,1)},m8=function(t,n,o){return Pb(t,n,o,-1)},Y2=function(t,n,o){return G0(t,o,n,-1)},h8=function(t,n,o){return G0(t,o,n,1)},p8=function(t,n,o){return K2(t,n,o,-1)},Jv=function(t,n,o){return K2(t,n,o,1)},g8=function(t,n,o){return X2(t,o,n,-1)},y8=function(t,n,o){return X2(t,o,n,1)},b8=[ql("selectors",[zt("row"),zt("cell")]),Fe("cycles",!0),Fe("previousSelector",O.none),Fe("execute",Zd)],K0=function(t,n,o){var s=n.previousSelector(t).orThunk(function(){var d=n.selectors;return Oi(t.element,d.cell)});s.each(function(d){n.focusManager.set(t,d)})},X0=function(t,n,o){return El(t.element).bind(function(s){return o.execute(t,n,s)})},Z2=function(t,n){return $t(t,function(o){return Uu(o,n.selectors.cell)})},ng=function(t,n){return function(o,s,d){var m=d.cycles?t:n;return Oc(s,d.selectors.row).bind(function(g){var k=Uu(g,d.selectors.cell);return P2(k,s).bind(function(C){var E=Uu(o,d.selectors.row);return P2(E,g).bind(function(M){var P=Z2(E,d);return m(P,M,C).map(function(q){return q.cell})})})})}},Y0=ng(m8,p8),Qv=ng(Fb,Jv),J2=ng(Y2,g8),ag=ng(h8,y8),Ah=ue([ha(Jn(xb),Tb(Y0,Qv)),ha(Jn(kh),Eb(Y0,Qv)),ha(Jn(Gv),D2(J2)),ha(Jn(Yd),Yv(ag)),ha(Jn(Os.concat(al)),X0)]),Q2=ue([ha(Jn(Os),Xv)]),_8=Kv(b8,du.init,Ah,Q2,function(){return O.some(K0)}),w8=[zt("selector"),Fe("execute",Zd),Fe("moveOnTab",!1)],e3=function(t,n,o){return o.focusManager.get(t).bind(function(s){return o.execute(t,n,s)})},og=function(t,n,o){Oi(t.element,n.selector).each(function(s){n.focusManager.set(t,s)})},ig=function(t,n,o){return Rb(t,o.selector,n,-1)},ug=function(t,n,o){return Rb(t,o.selector,n,1)},t3=function(t,n,o,s){return o.moveOnTab?Sh(ig)(t,n,o,s):O.none()},Rs=function(t,n,o,s){return o.moveOnTab?Sh(ug)(t,n,o,s):O.none()},r3=ue([ha(Jn(Gv),Sh(ig)),ha(Jn(Yd),Sh(ug)),ha(ol([Ch,Jn(Qf)]),t3),ha(ol([Qp,Jn(Qf)]),Rs),ha(Jn(al),e3),ha(Jn(Os),e3)]),Ml=ue([ha(Jn(Os),Xv)]),k8=Kv(w8,du.init,r3,Ml,function(){return O.some(og)}),n3=[Ri("onSpace"),Ri("onEnter"),Ri("onShiftEnter"),Ri("onLeft"),Ri("onRight"),Ri("onTab"),Ri("onShiftTab"),Ri("onUp"),Ri("onDown"),Ri("onEscape"),Fe("stopSpaceKeyup",!1),Oa("focusIn")],Oh=function(t,n,o){return[ha(Jn(Os),o.onSpace),ha(ol([Qp,Jn(al)]),o.onEnter),ha(ol([Ch,Jn(al)]),o.onShiftEnter),ha(ol([Ch,Jn(Qf)]),o.onShiftTab),ha(ol([Qp,Jn(Qf)]),o.onTab),ha(Jn(Gv),o.onUp),ha(Jn(Yd),o.onDown),ha(Jn(xb),o.onLeft),ha(Jn(kh),o.onRight),ha(Jn(Os),o.onSpace),ha(Jn(Xd),o.onEscape)]},Rh=function(t,n,o){return o.stopSpaceKeyup?[ha(Jn(Os),Xv)]:[]},a3=Kv(n3,du.init,Oh,Rh,function(t){return t.focusIn}),o3=N0.schema(),Jd=z2.schema(),Qd=Nb.schema(),Z0=q2.schema(),C8=_8.schema(),em=xh.schema(),x8=k8.schema(),i3=a3.schema(),sg=Object.freeze({__proto__:null,acyclic:o3,cyclic:Jd,flow:Qd,flatgrid:Z0,matrix:C8,execution:em,menu:x8,special:i3}),u3=function(t){return un(t,"setGridSize")},jr=Rv({branchKey:"mode",branches:sg,name:"keying",active:{events:function(t,n){var o=t.handler;return o.toEvents(t,n)}},apis:{focusIn:function(t,n,o){n.sendFocusIn(n).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(s){s(t,n,o)})},setGridSize:function(t,n,o,s,d){u3(o)?o.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:R2}),cg=function(t,n,o,s){Sk(function(){var d=$t(s,t.getSystem().build);t0(t,d)},t.element)},lg=function(t,n,o,s){var d=t.getSystem().build(s);ib(t,d,o)},J0=function(t,n,o,s){lg(t,n,Eu,s)},s3=function(t,n,o,s){lg(t,n,Rf,s)},Ib=function(t,n,o,s){var d=fg(t),m=Nt(d,function(g){return va(s.element,g.element)});m.each(Rl)},fg=function(t,n){return t.components()},Q0=function(t,n,o,s,d){var m=fg(t);return O.from(m[s]).map(function(g){return Ib(t,n,o,g),d.each(function(k){lg(t,n,function(C,E){gl(C,E,s)},k)}),g})},c3=function(t,n,o,s,d){var m=fg(t);return fr(m,s).bind(function(g){return Q0(t,n,o,g,d)})},S8=Object.freeze({__proto__:null,append:J0,prepend:s3,remove:Ib,replaceAt:Q0,replaceBy:c3,set:cg,contents:fg}),yn=Mi({fields:[],name:"replacing",apis:S8}),$b=function(t,n){var o=ro(n);return Mi({fields:[zt("enabled")],name:t,active:{events:ue(o)}})},Nn=function(t,n){var o=$b(t,n);return{key:t,value:{config:{},me:o,configAsRaw:ue({}),initialConfig:{},state:du}}},l3=function(t,n){n.ignore||(Tl(t.element),n.onFocus(t))},f3=function(t,n){n.ignore||Op(t.element)},ew=function(t){return Rp(t.element)},tm=Object.freeze({__proto__:null,focus:l3,blur:f3,isFocused:ew}),Lb=function(t,n){var o=n.ignore?{}:{attributes:{tabindex:"-1"}};return el(o)},dg=function(t){return ro([Bt(wd(),function(n,o){l3(n,t),o.stop()})].concat(t.stopMousedown?[Bt(Zc(),function(n,o){o.event.prevent()})]:[]))},Hb=Object.freeze({__proto__:null,exhibit:Lb,events:dg}),tw=[Ra("onFocus"),Fe("stopMousedown",!1),Fe("ignore",!1)],bn=Mi({fields:tw,name:"focusing",active:Hb,apis:tm}),T8=function(t){var n=function(){var o=Qr(t),s=function(){return o.get()},d=function(k){return o.set(k)},m=function(){return o.set(t)},g=function(){return o.get()};return{get:s,set:d,clear:m,readState:g}};return{init:n}},d3=function(t,n,o){var s=n.aria;s.update(t,s,o.get())},Vb=function(t,n,o){n.toggleClass.each(function(s){o.get()?Ai(t.element,s):yi(t.element,s)})},hf=function(t,n,o){Ub(t,n,o,!o.get())},v3=function(t,n,o){o.set(!0),Vb(t,n,o),d3(t,n,o)},vg=function(t,n,o){o.set(!1),Vb(t,n,o),d3(t,n,o)},Ub=function(t,n,o,s){var d=s?v3:vg;d(t,n,o)},m3=function(t,n,o){return o.get()},h3=function(t,n,o){Ub(t,n,o,n.selected)},E8=Object.freeze({__proto__:null,onLoad:h3,toggle:hf,isOn:m3,on:v3,off:vg,set:Ub}),z8=function(){return el({})},A8=function(t,n){var o=Ov(t,n,hf),s=Oo(t,n,h3);return ro(Xt([t.toggleOnExecute?[o]:[],[s]]))},O8=Object.freeze({__proto__:null,exhibit:z8,events:A8}),R8=function(t,n,o){Fn(t.element,"aria-pressed",o),n.syncWithExpanded&&rw(t,n,o)},p3=function(t,n,o){Fn(t.element,"aria-selected",o)},D8=function(t,n,o){Fn(t.element,"aria-checked",o)},rw=function(t,n,o){Fn(t.element,"aria-expanded",o)},Dh=[Fe("selected",!1),Oa("toggleClass"),Fe("toggleOnExecute",!0),rs("aria",{mode:"none"},Tc("mode",{pressed:[Fe("syncWithExpanded",!1),uo("update",R8)],checked:[uo("update",D8)],expanded:[uo("update",rw)],selected:[uo("update",p3)],none:[uo("update",at)]}))],ca=Mi({fields:Dh,name:"toggling",active:O8,apis:E8,state:T8(!1)}),jb=function(){var t=function(n,o){o.stop(),lc(n)};return[Bt(Rm(),t),Bt(kd(),t),yv(Xl()),yv(Zc())]},Wb=function(t){var n=function(o){return Ws(function(s,d){o(s),d.stop()})};return ro(Xt([t.map(n).toArray(),jb()]))},g3="alloy.item-hover",y3="alloy.item-focus",b3=function(t){(El(t.element).isNone()||bn.isFocused(t))&&(bn.isFocused(t)||bn.focus(t),en(t,g3,{item:t}))},nw=function(t){en(t,y3,{item:t})},aw=ue(g3),u=ue(y3),l=function(t){return{dom:t.dom,domModification:J(J({},t.domModification),{attributes:J(J(J({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Dc.augment(t.itemBehaviours,[t.toggling.fold(ca.revoke,function(n){return ca.config(J({aria:{mode:"checked"}},n))}),bn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(n){nw(n)}}),jr.config({mode:"execution"}),gr.config({store:{mode:"memory",initialValue:t.data}}),Nn("item-type-events",It(It([],jb(),!0),[Bt(Lf(),b3),Bt(hv(),bn.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},v=[zt("data"),zt("components"),zt("dom"),Fe("hasSubmenu",!1),Oa("toggling"),Dc.field("itemBehaviours",[ca,bn,jr,gr]),Fe("ignoreFocus",!1),Fe("domModification",{}),uo("builder",l),Fe("eventOrder",{})],p=function(t){return{dom:t.dom,components:t.components,events:ro([Bm(hv())])}},b=[zt("dom"),zt("components"),uo("builder",p)],S=ue("item-widget"),D=ue([yu({name:"widget",overrides:function(t){return{behaviours:cr([gr.config({store:{mode:"manual",getValue:function(n){return t.data},setValue:at}})])}}})]),$=function(t){var n=_0(S(),t,D()),o=w0(S(),t,n.internals()),s=function(m){return Za(m,t,"widget").map(function(g){return jr.focusIn(g),g})},d=function(m,g){return mf(g.event.target)?O.none():function(){return t.autofocus&&g.setSource(m.element),O.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:ro([Ws(function(m,g){s(m).each(function(k){g.stop()})}),Bt(Lf(),b3),Bt(hv(),function(m,g){t.autofocus?s(m):bn.focus(m)})]),behaviours:Dc.augment(t.widgetBehaviours,[gr.config({store:{mode:"memory",initialValue:t.data}}),bn.config({ignore:t.ignoreFocus,onFocus:function(m){nw(m)}}),jr.config({mode:"special",focusIn:t.autofocus?function(m){s(m)}:xk(),onLeft:d,onRight:d,onEscape:function(m,g){return!bn.isFocused(m)&&!t.autofocus?(bn.focus(m),O.some(!0)):(t.autofocus&&g.setSource(m.element),O.none())}})])}},Q=[zt("uid"),zt("data"),zt("components"),zt("dom"),Fe("autofocus",!1),Fe("ignoreFocus",!1),Dc.field("widgetBehaviours",[gr,bn,jr]),Fe("domModification",{}),Gp(D()),uo("builder",$)],fe=Tc("type",{widget:Q,item:v,separator:b}),Oe=function(t,n){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:n.initSize.numColumns,numRows:n.initSize.numRows},focusManager:t.focusManager}},yt=function(t,n){return{mode:"matrix",selectors:{row:n.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},Ht=function(t,n){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:n.moveOnTab,focusManager:t.focusManager}},Rt=ue([df({factory:{sketch:function(t){var n=Ua("menu.spec item",fe,t);return n.builder(n)}},name:"items",unit:"item",defaults:function(t,n){return dr(n,"uid")?n:J(J({},n),{uid:zd("item")})},overrides:function(t,n){return{type:n.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),pt=ue([zt("value"),zt("items"),zt("dom"),zt("components"),Fe("eventOrder",{}),Bi("menuBehaviours",[Na,gr,aa,jr]),rs("movement",{mode:"menu",moveOnTab:!0},Tc("mode",{grid:[Sy(),uo("config",Oe)],matrix:[uo("config",yt),zt("rowSelector")],menu:[Fe("moveOnTab",!0),uo("config",Ht)]})),jx(),Fe("fakeFocus",!1),Fe("focusManager",eg()),Ra("onHighlight")]),or=ue("alloy.menu-focus"),lr=function(t,n,o,s){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Qi(t.menuBehaviours,[Na.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),gr.config({store:{mode:"memory",initialValue:t.value}}),aa.config({find:O.some}),jr.config(t.movement.config(t,t.movement))]),events:ro([Bt(u(),function(d,m){var g=m.event;d.getSystem().getByDom(g.target).each(function(k){Na.highlight(d,k),m.stop(),en(d,or(),{menu:d,item:k})})}),Bt(aw(),function(d,m){var g=m.event.item;Na.highlight(d,g)})]),components:n,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},Wr=ls({name:"Menu",configFields:pt(),partFields:Rt(),factory:lr}),pa=function(t){return Ka(t,function(n,o){return{k:n,v:o}})},Xr=function(t,n,o,s){return gt(o,s).bind(function(d){return gt(t,d).bind(function(m){var g=Xr(t,n,o,m);return O.some([m].concat(g))})}).getOr([])},_n=function(t,n){var o={};Rn(t,function(g,k){Qe(g,function(C){o[C]=k})});var s=n,d=pa(n),m=kn(d,function(g,k){return[k].concat(Xr(o,s,d,k))});return kn(o,function(g){return gt(m,g).getOr([g])})},oa=function(){var t=Qr({}),n=Qr({}),o=Qr({}),s=Yo(),d=Qr({}),m=function(){t.set({}),n.set({}),o.set({}),s.clear()},g=function(){return s.get().isNone()},k=function(Be,it){var xt;n.set(J(J({},n.get()),(xt={},xt[Be]={type:"prepared",menu:it},xt)))},C=function(Be,it,xt,yr){s.set(Be),t.set(xt),n.set(it),d.set(yr);var Dt=_n(yr,xt);o.set(Dt)},E=function(Be){return Ke(t.get(),function(it,xt){return it===Be})},M=function(Be,it,xt){return me(Be).bind(function(yr){return E(Be).bind(function(Dt){return it(Dt).map(function(_r){return{triggeredMenu:yr,triggeringItem:_r,triggeringPath:xt}})})})},P=function(Be,it){var xt=qe(de(Be).toArray(),function(yr){return me(yr).isSome()});return gt(o.get(),Be).bind(function(yr){var Dt=st(xt.concat(yr)),_r=Pr(Dt,function(Pt,Ct){return M(Pt,it,Dt.slice(0,Ct+1)).fold(function(){return ua(s.get(),Pt)?[]:[O.none()]},function(ar){return[O.some(ar)]})});return Sn(_r)})},q=function(Be){return gt(t.get(),Be).map(function(it){var xt=gt(o.get(),Be).getOr([]);return[it].concat(xt)})},Z=function(Be){return gt(o.get(),Be).bind(function(it){return it.length>1?O.some(it.slice(1)):O.none()})},ne=function(Be){return gt(o.get(),Be)},me=function(Be){return Re(Be).bind(Qn)},Re=function(Be){return gt(n.get(),Be)},de=function(Be){return gt(t.get(),Be)},Ne=function(Be){var it=d.get();return nr(In(it),Be)},mt=function(){return s.get().bind(me)},ft=function(){return n.get()};return{setMenuBuilt:k,setContents:C,expand:q,refresh:ne,collapse:Z,lookupMenu:Re,lookupItem:de,otherMenus:Ne,getPrimary:mt,getMenus:ft,clear:m,isClear:g,getTriggeringPath:P}},Qn=function(t){return t.type==="prepared"?O.some(t.menu):O.none()},_i={init:oa,extractPreparedMenu:Qn},eu=function(t,n){var o=Yo(),s=function(Ot,Ar,Ur){return kn(Ur,function(ia,Ha){var po=function(){return Wr.sketch(J(J({},ia),{value:Ha,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?E2():eg()}))};return Ha===Ar?{type:"prepared",menu:Ot.getSystem().build(po())}:{type:"notbuilt",nbMenu:po}})},d=_i.init(),m=function(Ot){var Ar=s(Ot,t.data.primary,t.data.menus),Ur=C();return d.setContents(t.data.primary,Ar,t.data.expansions,Ur),d.getPrimary()},g=function(Ot){return gr.getValue(Ot).value},k=function(Ot,Ar,Ur){return Zn(Ar,function(ia){if(!ia.getSystem().isConnected())return O.none();var Ha=Na.getCandidates(ia);return Nt(Ha,function(po){return g(po)===Ur})})},C=function(Ot){return kn(t.data.menus,function(Ar,Ur){return Pr(Ar.items,function(ia){return ia.type==="separator"?[]:[ia.data.value]})})},E=function(Ot,Ar){Na.highlight(Ot,Ar),Na.getHighlighted(Ar).orThunk(function(){return Na.getFirst(Ar)}).each(function(Ur){oy(Ot,Ur.element,hv())})},M=function(Ot,Ar){return Kn($t(Ar,function(Ur){return Ot.lookupMenu(Ur).bind(function(ia){return ia.type==="prepared"?O.some(ia.menu):O.none()})}))},P=function(Ot,Ar,Ur){var ia=M(Ar,Ar.otherMenus(Ur));Qe(ia,function(Ha){mc(Ha.element,[t.markers.backgroundMenu]),t.stayInDom||yn.remove(Ot,Ha)})},q=function(Ot){return o.get().getOrThunk(function(){var Ar={},Ur=Uu(Ot.element,"."+t.markers.item),ia=qe(Ur,function(Ha){return bo(Ha,"aria-haspopup")==="true"});return Qe(ia,function(Ha){Ot.getSystem().getByDom(Ha).each(function(po){var Ko=g(po);Ar[Ko]=po})}),o.set(Ar),Ar})},Z=function(Ot,Ar){var Ur=q(Ot);Rn(Ur,function(ia,Ha){var po=dn(Ar,Ha);Fn(ia.element,"aria-expanded",po)})},ne=function(Ot,Ar,Ur){return O.from(Ur[0]).bind(function(ia){return Ar.lookupMenu(ia).bind(function(Ha){if(Ha.type==="notbuilt")return O.none();var po=Ha.menu,Ko=M(Ar,Ur.slice(1));return Qe(Ko,function(Vc){Ai(Vc.element,t.markers.backgroundMenu)}),tn(po.element)||yn.append(Ot,hc(po)),mc(po.element,[t.markers.backgroundMenu]),E(Ot,po),P(Ot,Ar,Ur),O.some(po)})})},me;(function(Ot){Ot[Ot.HighlightSubmenu=0]="HighlightSubmenu",Ot[Ot.HighlightParent=1]="HighlightParent"})(me||(me={}));var Re=function(Ot,Ar,Ur){if(Ur.type==="notbuilt"){var ia=Ot.getSystem().build(Ur.nbMenu());return d.setMenuBuilt(Ar,ia),ia}else return Ur.menu},de=function(Ot,Ar,Ur){if(Ur===void 0&&(Ur=me.HighlightSubmenu),Ar.hasConfigured(Jr)&&Jr.isDisabled(Ar))return O.some(Ar);var ia=g(Ar);return d.expand(ia).bind(function(Ha){return Z(Ot,Ha),O.from(Ha[0]).bind(function(po){return d.lookupMenu(po).bind(function(Ko){var Vc=Re(Ot,po,Ko);return tn(Vc.element)||yn.append(Ot,hc(Vc)),t.onOpenSubmenu(Ot,Ar,Vc,st(Ha)),Ur===me.HighlightSubmenu?(Na.highlightFirst(Vc),ne(Ot,d,Ha)):(Na.dehighlightAll(Vc),O.some(Ar))})})})},Ne=function(Ot,Ar){var Ur=g(Ar);return d.collapse(Ur).bind(function(ia){return Z(Ot,ia),ne(Ot,d,ia).map(function(Ha){return t.onCollapseMenu(Ot,Ar,Ha),Ha})})},mt=function(Ot,Ar){var Ur=g(Ar);return d.refresh(Ur).bind(function(ia){return Z(Ot,ia),ne(Ot,d,ia)})},ft=function(Ot,Ar){return mf(Ar.element)?O.none():de(Ot,Ar,me.HighlightSubmenu)},Be=function(Ot,Ar){return mf(Ar.element)?O.none():Ne(Ot,Ar)},it=function(Ot,Ar){return Ne(Ot,Ar).orThunk(function(){return t.onEscape(Ot,Ar).map(function(){return Ot})})},xt=function(Ot){return function(Ar,Ur){return Oc(Ur.getSource(),"."+t.markers.item).bind(function(ia){return Ar.getSystem().getByDom(ia).toOptional().bind(function(Ha){return Ot(Ar,Ha).map(U)})})}},yr=ro([Bt(or(),function(Ot,Ar){var Ur=Ar.event.item;d.lookupItem(g(Ur)).each(function(){var ia=Ar.event.menu;Na.highlight(Ot,ia);var Ha=g(Ar.event.item);d.refresh(Ha).each(function(po){return P(Ot,d,po)})})}),Ws(function(Ot,Ar){var Ur=Ar.event.target;Ot.getSystem().getByDom(Ur).each(function(ia){var Ha=g(ia);Ha.indexOf("collapse-item")===0&&Ne(Ot,ia),de(Ot,ia,me.HighlightSubmenu).fold(function(){t.onExecute(Ot,ia)},at)})}),Bn(function(Ot,Ar){m(Ot).each(function(Ur){yn.append(Ot,hc(Ur)),t.onOpenMenu(Ot,Ur),t.highlightImmediately&&E(Ot,Ur)})})].concat(t.navigateOnHover?[Bt(aw(),function(Ot,Ar){var Ur=Ar.event.item;mt(Ot,Ur),de(Ot,Ur,me.HighlightParent),t.onHover(Ot,Ur)})]:[])),Dt=function(Ot){return Na.getHighlighted(Ot).bind(Na.getHighlighted)},_r=function(Ot){Dt(Ot).each(function(Ar){Ne(Ot,Ar)})},Pt=function(Ot){d.getPrimary().each(function(Ar){E(Ot,Ar)})},Ct=function(Ot){return O.from(Ot.components()[0]).filter(function(Ar){return bo(Ar.element,"role")==="menu"})},ar=function(Ot){var Ar=d.getPrimary().bind(function(Ur){return Dt(Ot).bind(function(ia){var Ha=g(ia),po=Mt(d.getMenus()),Ko=Kn($t(po,_i.extractPreparedMenu));return d.getTriggeringPath(Ha,function(Vc){return k(Ot,Ko,Vc)})}).map(function(ia){return{primary:Ur,triggeringPath:ia}})});Ar.fold(function(){Ct(Ot).each(function(Ur){t.onRepositionMenu(Ot,Ur,[])})},function(Ur){var ia=Ur.primary,Ha=Ur.triggeringPath;t.onRepositionMenu(Ot,ia,Ha)})},Fr={collapseMenu:_r,highlightPrimary:Pt,repositionMenus:ar};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Qi(t.tmenuBehaviours,[jr.config({mode:"special",onRight:xt(ft),onLeft:xt(Be),onEscape:xt(it),focusIn:function(Ot,Ar){d.getPrimary().each(function(Ur){oy(Ot,Ur.element,hv())})}}),Na.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),aa.config({find:function(Ot){return Na.getHighlighted(Ot)}}),yn.config({})]),eventOrder:t.eventOrder,apis:Fr,events:yr}},fs=ue("collapse-item"),_a=function(t,n,o){return{primary:t,menus:n,expansions:o}},An=function(t,n){return{primary:t,menus:Gl(t,n),expansions:{}}},la=function(t){return{value:Nr(fs()),meta:{text:t}}},ja=gc({name:"TieredMenu",configFields:[Ss("onExecute"),Ss("onEscape"),is("onOpenMenu"),is("onOpenSubmenu"),Ra("onRepositionMenu"),Ra("onCollapseMenu"),Fe("highlightImmediately",!0),ql("data",[zt("primary"),zt("menus"),zt("expansions")]),Fe("fakeFocus",!1),Ra("onHighlight"),Ra("onHover"),Tv(),zt("dom"),Fe("navigateOnHover",!0),Fe("stayInDom",!1),Bi("tmenuBehaviours",[jr,Na,aa,yn]),Fe("eventOrder",{})],apis:{collapseMenu:function(t,n){t.collapseMenu(n)},highlightPrimary:function(t,n){t.highlightPrimary(n)},repositionMenus:function(t,n){t.repositionMenus(n)}},factory:eu,extraApis:{tieredData:_a,singleData:An,collapseItem:la}}),qo=function(t,n,o,s,d){var m=function(){return t.lazySink(n)},g=s.type==="horizontal"?{layouts:{onLtr:function(){return My()},onRtl:function(){return By()}}}:{},k=function(E){return E.length===2},C=function(E){return k(E)?g:{}};return ja.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return ma.close(n),t.onEscape.map(function(E){return E(n)}),O.some(!0)},onExecute:function(){return O.some(!0)},onOpenMenu:function(E,M){Zo.positionWithinBounds(m().getOrDie(),M,o,d())},onOpenSubmenu:function(E,M,P,q){var Z=m().getOrDie();Zo.position(Z,P,{anchor:J({type:"submenu",item:M},C(q))})},onRepositionMenu:function(E,M,P){var q=m().getOrDie();Zo.positionWithinBounds(q,M,o,d()),Qe(P,function(Z){var ne=C(Z.triggeringPath);Zo.position(q,Z.triggeredMenu,{anchor:J({type:"submenu",item:Z.triggeringItem},ne)})})}})},pf=function(t,n){var o=function(Z,ne){var me=t.getRelated(Z);return me.exists(function(Re){return Sv(Re,ne)})},s=function(Z,ne){ma.setContent(Z,ne)},d=function(Z,ne,me){m(Z,ne,me,O.none())},m=function(Z,ne,me,Re){g(Z,ne,me,function(){return Re.map(function(de){return si(de)})})},g=function(Z,ne,me,Re){var de=t.lazySink(Z).getOrDie();ma.openWhileCloaked(Z,ne,function(){return Zo.positionWithinBounds(de,Z,me,Re())}),gr.setValue(Z,O.some({mode:"position",config:me,getBounds:Re}))},k=function(Z,ne,me){C(Z,ne,me,O.none)},C=function(Z,ne,me,Re){var de=qo(t,Z,ne,me,Re);ma.open(Z,de),gr.setValue(Z,O.some({mode:"menu",menu:de}))},E=function(Z){ma.isOpen(Z)&&(gr.setValue(Z,O.none()),ma.close(Z))},M=function(Z){return ma.getState(Z)},P=function(Z){ma.isOpen(Z)&&gr.getValue(Z).each(function(ne){switch(ne.mode){case"menu":ma.getState(Z).each(ja.repositionMenus);break;case"position":var me=t.lazySink(Z).getOrDie();Zo.positionWithinBounds(me,Z,ne.config,ne.getBounds());break}})},q={setContent:s,showAt:d,showWithin:m,showWithinBounds:g,showMenuAt:k,showMenuWithinBounds:C,hide:E,getContent:M,reposition:P,isOpen:ma.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Qi(t.inlineBehaviours,[ma.config({isPartOf:function(Z,ne,me){return Sv(ne,me)||o(Z,me)},getAttachPoint:function(Z){return t.lazySink(Z).getOrDie()},onOpen:function(Z){t.onShow(Z)},onClose:function(Z){t.onHide(Z)}}),gr.config({store:{mode:"memory",initialValue:O.none()}}),Hu.config({channels:J(J({},As(J({isExtraPart:n.isExtraPart},t.fireDismissalEventInstead.map(function(Z){return{fireEventInstead:{event:Z.event}}}).getOr({})))),Hv(J(J({},t.fireRepositionEventInstead.map(function(Z){return{fireEventInstead:{event:Z.event}}}).getOr({})),{doReposition:P})))})]),eventOrder:t.eventOrder,apis:q}},Ga=gc({name:"InlineView",configFields:[zt("lazySink"),Ra("onShow"),Ra("onHide"),bd("onEscape"),Bi("inlineBehaviours",[ma,gr,Hu]),Us("fireDismissalEventInstead",[Fe("event",Jc())]),Us("fireRepositionEventInstead",[Fe("event",Ru())]),Fe("getRelated",O.none),Fe("isExtraPart",Ue),Fe("eventOrder",O.none)],factory:pf,apis:{showAt:function(t,n,o,s){t.showAt(n,o,s)},showWithin:function(t,n,o,s,d){t.showWithin(n,o,s,d)},showWithinBounds:function(t,n,o,s,d){t.showWithinBounds(n,o,s,d)},showMenuAt:function(t,n,o,s){t.showMenuAt(n,o,s)},showMenuWithinBounds:function(t,n,o,s,d){t.showMenuWithinBounds(n,o,s,d)},hide:function(t,n){t.hide(n)},isOpen:function(t,n){return t.isOpen(n)},getContent:function(t,n){return t.getContent(n)},setContent:function(t,n,o){t.setContent(n,o)},reposition:function(t,n){t.reposition(n)}}}),Pc="layout-inset",bu=function(t){return t.x},mg=function(t,n){return t.x+t.width/2-n.width/2},ev=function(t,n){return t.x+t.width-n.width},Bl=function(t){return t.y},Fc=function(t,n){return t.y+t.height-n.height},il=function(t,n){return t.y+t.height/2-n.height/2},hg=function(t,n,o){return Li(ev(t,n),Fc(t,n),o.insetSouthwest(),zv(),"southwest",Di(t,{right:0,bottom:3}),Pc)},rm=function(t,n,o){return Li(bu(t),Fc(t,n),o.insetSoutheast(),g1(),"southeast",Di(t,{left:1,bottom:3}),Pc)},pg=function(t,n,o){return Li(ev(t,n),Bl(t),o.insetNorthwest(),p1(),"northwest",Di(t,{right:0,top:2}),Pc)},nm=function(t,n,o){return Li(bu(t),Bl(t),o.insetNortheast(),Ey(),"northeast",Di(t,{left:1,top:2}),Pc)},Nl=function(t,n,o){return Li(mg(t,n),Bl(t),o.insetNorth(),Sp(),"north",Di(t,{top:2}),Pc)},Mh=function(t,n,o){return Li(mg(t,n),Fc(t,n),o.insetSouth(),y1(),"south",Di(t,{bottom:3}),Pc)},qb=function(t,n,o){return Li(ev(t,n),il(t,n),o.insetEast(),Um(),"east",Di(t,{right:0}),Pc)},_3=function(t,n,o){return Li(bu(t),il(t,n),o.insetWest(),b1(),"west",Di(t,{left:1}),Pc)},gg=function(t){switch(t){case"north":return Nl;case"northeast":return nm;case"northwest":return pg;case"south":return Mh;case"southeast":return rm;case"southwest":return hg;case"east":return qb;case"west":return _3}},M8=function(t,n,o,s,d){var m=A1(s).map(gg).getOr(Nl);return m(t,n,o,s,d)},B8=function(t){switch(t){case"north":return Mh;case"northeast":return rm;case"northwest":return hg;case"south":return Nl;case"southeast":return nm;case"southwest":return pg;case"east":return _3;case"west":return qb}},KD=function(t,n,o,s,d){var m=A1(s).map(B8).getOr(Nl);return m(t,n,o,s,d)},ed=tinymce.util.Tools.resolve("tinymce.util.Delay"),XD=function(t){var n=Wb(t.action),o=t.dom.tag,s=function(m){return gt(t.dom,"attributes").bind(function(g){return gt(g,m)})},d=function(){if(o==="button"){var m=s("type").getOr("button"),g=s("role").map(function(C){return{role:C}}).getOr({});return J({type:m},g)}else{var k=s("role").getOr("button");return{role:k}}};return{uid:t.uid,dom:t.dom,components:t.components,events:n,behaviours:Dc.augment(t.buttonBehaviours,[bn.config({}),jr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},Ks=gc({name:"Button",factory:XD,configFields:[Fe("uid",void 0),zt("dom"),Fe("components",[]),Dc.field("buttonBehaviours",[bn,jr]),Oa("action"),Oa("role"),Fe("eventOrder",{})]}),YD=function(t){var n=t.dom.attributes!==void 0?t.dom.attributes:[];return Pe(n,function(o,s){var d;return s.name==="class"?o:J(J({},o),(d={},d[s.name]=s.value,d))},{})},ZD=function(t){return Array.prototype.slice.call(t.dom.classList,0)},am=function(t){var n=rr.fromHtml(t),o=x(n),s=YD(n),d=ZD(n),m=o.length===0?{}:{innerHtml:Yl(n)};return J({tag:Te(n),classes:d,attributes:s},m)},$a=function(t){var n=S0(t)&&un(t,"uid")?t.uid:zd("memento"),o=function(m){return m.getSystem().getByUid(n).getOrDie()},s=function(m){return m.getSystem().getByUid(n).toOptional()},d=function(){return J(J({},t),{uid:n})};return{get:o,getOpt:s,asSpec:d}};function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Bh(t)}function N8(t,n){return N8=Object.setPrototypeOf||function(s,d){return s.__proto__=d,s},N8(t,n)}function JD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yg(t,n,o){return JD()?yg=Reflect.construct:yg=function(d,m,g){var k=[null];k.push.apply(k,m);var C=Function.bind.apply(d,k),E=new C;return g&&N8(E,g.prototype),E},yg.apply(null,arguments)}function td(t){return QD(t)||P8(t)||e6(t)||t6()}function QD(t){if(Array.isArray(t))return F8(t)}function P8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e6(t,n){if(t){if(typeof t=="string")return F8(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return F8(t,n)}}function F8(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,s=new Array(n);o<n;o++)s[o]=t[o];return s}function t6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var r6=Object.hasOwnProperty,Sz=Object.setPrototypeOf,n6=Object.isFrozen,a6=Object.getPrototypeOf,o6=Object.getOwnPropertyDescriptor,Ic=Object.freeze,tv=Object.seal,i6=Object.create,Tz=typeof Reflect<"u"&&Reflect,Gb=Tz.apply,I8=Tz.construct;Gb||(Gb=function(n,o,s){return n.apply(o,s)}),Ic||(Ic=function(n){return n}),tv||(tv=function(n){return n}),I8||(I8=function(n,o){return yg(n,td(o))});var u6=rd(Array.prototype.forEach),Ez=rd(Array.prototype.pop),Kb=rd(Array.prototype.push),w3=rd(String.prototype.toLowerCase),s6=rd(String.prototype.match),Nh=rd(String.prototype.replace),c6=rd(String.prototype.indexOf),l6=rd(String.prototype.trim),Xs=rd(RegExp.prototype.test),$8=f6(TypeError);function rd(t){return function(n){for(var o=arguments.length,s=new Array(o>1?o-1:0),d=1;d<o;d++)s[d-1]=arguments[d];return Gb(t,n,s)}}function f6(t){return function(){for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return I8(t,o)}}function no(t,n){Sz&&Sz(t,null);for(var o=n.length;o--;){var s=n[o];if(typeof s=="string"){var d=w3(s);d!==s&&(n6(n)||(n[o]=d),s=d)}t[s]=!0}return t}function bg(t){var n=i6(null),o;for(o in t)Gb(r6,t,[o])&&(n[o]=t[o]);return n}function k3(t,n){for(;t!==null;){var o=o6(t,n);if(o){if(o.get)return rd(o.get);if(typeof o.value=="function")return rd(o.value)}t=a6(t)}function s(d){return console.warn("fallback value for",d),null}return s}var zz=Ic(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),L8=Ic(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),H8=Ic(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),d6=Ic(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),V8=Ic(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U8=Ic(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Az=Ic(["#text"]),Oz=Ic(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),j8=Ic(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),C3=Ic(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),x3=Ic(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W8=tv(/\{\{[\w\W]*|[\w\W]*\}\}/gm),v6=tv(/<%[\w\W]*|[\w\W]*%>/gm),m6=tv(/^data-[\-\w.\u00B7-\uFFFF]/),h6=tv(/^aria-[\-\w]+$/),p6=tv(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),g6=tv(/^(?:\w+script|data):/i),Rz=tv(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),y6=tv(/^html$/i),q8=function(){return typeof window>"u"?null:window},G8=function(n,o){if(Bh(n)!=="object"||typeof n.createPolicy!="function")return null;var s=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(s=o.currentScript.getAttribute(d));var m="dompurify"+(s?"#"+s:"");try{return n.createPolicy(m,{createHTML:function(k){return k}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function K8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:q8(),n=function(dt){return K8(dt)};if(n.version="2.3.8",n.removed=[],!t||!t.document||t.document.nodeType!==9)return n.isSupported=!1,n;var o=t.document,s=t.document,d=t.DocumentFragment,m=t.HTMLTemplateElement,g=t.Node,k=t.Element,C=t.NodeFilter,E=t.NamedNodeMap,M=E===void 0?t.NamedNodeMap||t.MozNamedAttrMap:E,P=t.HTMLFormElement,q=t.DOMParser,Z=t.trustedTypes,ne=k.prototype,me=k3(ne,"cloneNode"),Re=k3(ne,"nextSibling"),de=k3(ne,"childNodes"),Ne=k3(ne,"parentNode");if(typeof m=="function"){var mt=s.createElement("template");mt.content&&mt.content.ownerDocument&&(s=mt.content.ownerDocument)}var ft=G8(Z,o),Be=ft?ft.createHTML(""):"",it=s,xt=it.implementation,yr=it.createNodeIterator,Dt=it.createDocumentFragment,_r=it.getElementsByTagName,Pt=o.importNode,Ct={};try{Ct=bg(s).documentMode?s.documentMode:{}}catch{}var ar={};n.isSupported=typeof Ne=="function"&&xt&&typeof xt.createHTMLDocument<"u"&&Ct!==9;var Fr=W8,Ot=v6,Ar=m6,Ur=h6,ia=g6,Ha=Rz,po=p6,Ko=null,Vc=no({},[].concat(td(zz),td(L8),td(H8),td(V8),td(Az))),ps=null,vx=no({},[].concat(td(Oz),td(j8),td(C3),td(x3))),au=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ig=null,$g=null,Vw=!0,Lg=!0,Uw=!1,Qs=!1,md=!1,Ms=!1,jw=!1,tp=!1,D_=!1,ou=!1,hm=!0,rp=!0,Hg=!1,hd={},np=null,xr=no({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Hn=null,Wa=no({},["audio","video","img","source","image","track"]),$o=null,ec=no({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Bs="http://www.w3.org/1998/Math/MathML",Uc="http://www.w3.org/2000/svg",$l="http://www.w3.org/1999/xhtml",M_=$l,Ww=!1,B_,EF=["application/xhtml+xml","text/html"],zF="text/html",Vg,N_=null,Iq=s.createElement("form"),iL=function(dt){return dt instanceof RegExp||dt instanceof Function},AF=function(dt){N_&&N_===dt||((!dt||Bh(dt)!=="object")&&(dt={}),dt=bg(dt),Ko="ALLOWED_TAGS"in dt?no({},dt.ALLOWED_TAGS):Vc,ps="ALLOWED_ATTR"in dt?no({},dt.ALLOWED_ATTR):vx,$o="ADD_URI_SAFE_ATTR"in dt?no(bg(ec),dt.ADD_URI_SAFE_ATTR):ec,Hn="ADD_DATA_URI_TAGS"in dt?no(bg(Wa),dt.ADD_DATA_URI_TAGS):Wa,np="FORBID_CONTENTS"in dt?no({},dt.FORBID_CONTENTS):xr,Ig="FORBID_TAGS"in dt?no({},dt.FORBID_TAGS):{},$g="FORBID_ATTR"in dt?no({},dt.FORBID_ATTR):{},hd="USE_PROFILES"in dt?dt.USE_PROFILES:!1,Vw=dt.ALLOW_ARIA_ATTR!==!1,Lg=dt.ALLOW_DATA_ATTR!==!1,Uw=dt.ALLOW_UNKNOWN_PROTOCOLS||!1,Qs=dt.SAFE_FOR_TEMPLATES||!1,md=dt.WHOLE_DOCUMENT||!1,tp=dt.RETURN_DOM||!1,D_=dt.RETURN_DOM_FRAGMENT||!1,ou=dt.RETURN_TRUSTED_TYPE||!1,jw=dt.FORCE_BODY||!1,hm=dt.SANITIZE_DOM!==!1,rp=dt.KEEP_CONTENT!==!1,Hg=dt.IN_PLACE||!1,po=dt.ALLOWED_URI_REGEXP||po,M_=dt.NAMESPACE||$l,dt.CUSTOM_ELEMENT_HANDLING&&iL(dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(au.tagNameCheck=dt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&iL(dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(au.attributeNameCheck=dt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),dt.CUSTOM_ELEMENT_HANDLING&&typeof dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(au.allowCustomizedBuiltInElements=dt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),B_=EF.indexOf(dt.PARSER_MEDIA_TYPE)===-1?B_=zF:B_=dt.PARSER_MEDIA_TYPE,Vg=B_==="application/xhtml+xml"?function(Lr){return Lr}:w3,Qs&&(Lg=!1),D_&&(tp=!0),hd&&(Ko=no({},td(Az)),ps=[],hd.html===!0&&(no(Ko,zz),no(ps,Oz)),hd.svg===!0&&(no(Ko,L8),no(ps,j8),no(ps,x3)),hd.svgFilters===!0&&(no(Ko,H8),no(ps,j8),no(ps,x3)),hd.mathMl===!0&&(no(Ko,V8),no(ps,C3),no(ps,x3))),dt.ADD_TAGS&&(Ko===Vc&&(Ko=bg(Ko)),no(Ko,dt.ADD_TAGS)),dt.ADD_ATTR&&(ps===vx&&(ps=bg(ps)),no(ps,dt.ADD_ATTR)),dt.ADD_URI_SAFE_ATTR&&no($o,dt.ADD_URI_SAFE_ATTR),dt.FORBID_CONTENTS&&(np===xr&&(np=bg(np)),no(np,dt.FORBID_CONTENTS)),rp&&(Ko["#text"]=!0),md&&no(Ko,["html","head","body"]),Ko.table&&(no(Ko,["tbody"]),delete Ig.tbody),Ic&&Ic(dt),N_=dt)},uL=no({},["mi","mo","mn","ms","mtext"]),sL=no({},["foreignobject","desc","title","annotation-xml"]),$q=no({},["title","style","font","a","script"]),BD=no({},L8);no(BD,H8),no(BD,d6);var OF=no({},V8);no(OF,U8);var Lq=function(dt){var Lr=Ne(dt);(!Lr||!Lr.tagName)&&(Lr={namespaceURI:$l,tagName:"template"});var Pn=w3(dt.tagName),ki=w3(Lr.tagName);return dt.namespaceURI===Uc?Lr.namespaceURI===$l?Pn==="svg":Lr.namespaceURI===Bs?Pn==="svg"&&(ki==="annotation-xml"||uL[ki]):!!BD[Pn]:dt.namespaceURI===Bs?Lr.namespaceURI===$l?Pn==="math":Lr.namespaceURI===Uc?Pn==="math"&&sL[ki]:!!OF[Pn]:dt.namespaceURI===$l?Lr.namespaceURI===Uc&&!sL[ki]||Lr.namespaceURI===Bs&&!uL[ki]?!1:!OF[Pn]&&($q[Pn]||!BD[Pn]):!1},Ug=function(dt){Kb(n.removed,{element:dt});try{dt.parentNode.removeChild(dt)}catch{try{dt.outerHTML=Be}catch{dt.remove()}}},cL=function(dt,Lr){try{Kb(n.removed,{attribute:Lr.getAttributeNode(dt),from:Lr})}catch{Kb(n.removed,{attribute:null,from:Lr})}if(Lr.removeAttribute(dt),dt==="is"&&!ps[dt])if(tp||D_)try{Ug(Lr)}catch{}else try{Lr.setAttribute(dt,"")}catch{}},lL=function(dt){var Lr,Pn;if(jw)dt="<remove></remove>"+dt;else{var ki=s6(dt,/^[\r\n\t ]+/);Pn=ki&&ki[0]}B_==="application/xhtml+xml"&&(dt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+dt+"</body></html>");var Sf=ft?ft.createHTML(dt):dt;if(M_===$l)try{Lr=new q().parseFromString(Sf,B_)}catch{}if(!Lr||!Lr.documentElement){Lr=xt.createDocument(M_,"template",null);try{Lr.documentElement.innerHTML=Ww?"":Sf}catch{}}var dl=Lr.body||Lr.documentElement;return dt&&Pn&&dl.insertBefore(s.createTextNode(Pn),dl.childNodes[0]||null),M_===$l?_r.call(Lr,md?"html":"body")[0]:md?Lr.documentElement:dl},fL=function(dt){return yr.call(dt.ownerDocument||dt,dt,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},Hq=function(dt){return dt instanceof P&&(typeof dt.nodeName!="string"||typeof dt.textContent!="string"||typeof dt.removeChild!="function"||!(dt.attributes instanceof M)||typeof dt.removeAttribute!="function"||typeof dt.setAttribute!="function"||typeof dt.namespaceURI!="string"||typeof dt.insertBefore!="function")},wz=function(dt){return Bh(g)==="object"?dt instanceof g:dt&&Bh(dt)==="object"&&typeof dt.nodeType=="number"&&typeof dt.nodeName=="string"},jg=function(dt,Lr,Pn){ar[dt]&&u6(ar[dt],function(ki){ki.call(n,Lr,Pn,N_)})},dL=function(dt){var Lr;if(jg("beforeSanitizeElements",dt,null),Hq(dt)||Xs(/[\u0080-\uFFFF]/,dt.nodeName))return Ug(dt),!0;var Pn=Vg(dt.nodeName);if(jg("uponSanitizeElement",dt,{tagName:Pn,allowedTags:Ko}),dt.hasChildNodes()&&!wz(dt.firstElementChild)&&(!wz(dt.content)||!wz(dt.content.firstElementChild))&&Xs(/<[/\w]/g,dt.innerHTML)&&Xs(/<[/\w]/g,dt.textContent)||Pn==="select"&&Xs(/<template/i,dt.innerHTML))return Ug(dt),!0;if(!Ko[Pn]||Ig[Pn]){if(!Ig[Pn]&&mL(Pn)&&(au.tagNameCheck instanceof RegExp&&Xs(au.tagNameCheck,Pn)||au.tagNameCheck instanceof Function&&au.tagNameCheck(Pn)))return!1;if(rp&&!np[Pn]){var ki=Ne(dt)||dt.parentNode,Sf=de(dt)||dt.childNodes;if(Sf&&ki)for(var dl=Sf.length,jc=dl-1;jc>=0;--jc)ki.insertBefore(me(Sf[jc],!0),Re(dt))}return Ug(dt),!0}return dt instanceof k&&!Lq(dt)||(Pn==="noscript"||Pn==="noembed")&&Xs(/<\/no(script|embed)/i,dt.innerHTML)?(Ug(dt),!0):(Qs&&dt.nodeType===3&&(Lr=dt.textContent,Lr=Nh(Lr,Fr," "),Lr=Nh(Lr,Ot," "),dt.textContent!==Lr&&(Kb(n.removed,{element:dt.cloneNode()}),dt.textContent=Lr)),jg("afterSanitizeElements",dt,null),!1)},vL=function(dt,Lr,Pn){if(hm&&(Lr==="id"||Lr==="name")&&(Pn in s||Pn in Iq))return!1;if(!(Lg&&!$g[Lr]&&Xs(Ar,Lr))){if(!(Vw&&Xs(Ur,Lr))){if(!ps[Lr]||$g[Lr]){if(!(mL(dt)&&(au.tagNameCheck instanceof RegExp&&Xs(au.tagNameCheck,dt)||au.tagNameCheck instanceof Function&&au.tagNameCheck(dt))&&(au.attributeNameCheck instanceof RegExp&&Xs(au.attributeNameCheck,Lr)||au.attributeNameCheck instanceof Function&&au.attributeNameCheck(Lr))||Lr==="is"&&au.allowCustomizedBuiltInElements&&(au.tagNameCheck instanceof RegExp&&Xs(au.tagNameCheck,Pn)||au.tagNameCheck instanceof Function&&au.tagNameCheck(Pn))))return!1}else if(!$o[Lr]){if(!Xs(po,Nh(Pn,Ha,""))){if(!((Lr==="src"||Lr==="xlink:href"||Lr==="href")&&dt!=="script"&&c6(Pn,"data:")===0&&Hn[dt])){if(!(Uw&&!Xs(ia,Nh(Pn,Ha,"")))){if(Pn)return!1}}}}}}return!0},mL=function(dt){return dt.indexOf("-")>0},hL=function(dt){var Lr,Pn,ki,Sf;jg("beforeSanitizeAttributes",dt,null);var dl=dt.attributes;if(dl){var jc={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ps};for(Sf=dl.length;Sf--;){Lr=dl[Sf];var ND=Lr,Ll=ND.name,pL=ND.namespaceURI;if(Pn=Ll==="value"?Lr.value:l6(Lr.value),ki=Vg(Ll),jc.attrName=ki,jc.attrValue=Pn,jc.keepAttr=!0,jc.forceKeepAttr=void 0,jg("uponSanitizeAttribute",dt,jc),Pn=jc.attrValue,!jc.forceKeepAttr&&(cL(Ll,dt),!!jc.keepAttr)){if(Xs(/\/>/i,Pn)){cL(Ll,dt);continue}Qs&&(Pn=Nh(Pn,Fr," "),Pn=Nh(Pn,Ot," "));var Uq=Vg(dt.nodeName);if(vL(Uq,ki,Pn))try{pL?dt.setAttributeNS(pL,Ll,Pn):dt.setAttribute(Ll,Pn),Ez(n.removed)}catch{}}}jg("afterSanitizeAttributes",dt,null)}},Vq=function ta(dt){var Lr,Pn=fL(dt);for(jg("beforeSanitizeShadowDOM",dt,null);Lr=Pn.nextNode();)jg("uponSanitizeShadowNode",Lr,null),!dL(Lr)&&(Lr.content instanceof d&&ta(Lr.content),hL(Lr));jg("afterSanitizeShadowDOM",dt,null)};return n.sanitize=function(ta,dt){var Lr,Pn,ki,Sf,dl;if(Ww=!ta,Ww&&(ta="<!-->"),typeof ta!="string"&&!wz(ta)){if(typeof ta.toString!="function")throw $8("toString is not a function");if(ta=ta.toString(),typeof ta!="string")throw $8("dirty is not a string, aborting")}if(!n.isSupported){if(Bh(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof ta=="string")return t.toStaticHTML(ta);if(wz(ta))return t.toStaticHTML(ta.outerHTML)}return ta}if(Ms||AF(dt),n.removed=[],typeof ta=="string"&&(Hg=!1),Hg){if(ta.nodeName){var jc=Vg(ta.nodeName);if(!Ko[jc]||Ig[jc])throw $8("root node is forbidden and cannot be sanitized in-place")}}else if(ta instanceof g)Lr=lL("<!---->"),Pn=Lr.ownerDocument.importNode(ta,!0),Pn.nodeType===1&&Pn.nodeName==="BODY"||Pn.nodeName==="HTML"?Lr=Pn:Lr.appendChild(Pn);else{if(!tp&&!Qs&&!md&&ta.indexOf("<")===-1)return ft&&ou?ft.createHTML(ta):ta;if(Lr=lL(ta),!Lr)return tp?null:ou?Be:""}Lr&&jw&&Ug(Lr.firstChild);for(var ND=fL(Hg?ta:Lr);ki=ND.nextNode();)ki.nodeType===3&&ki===Sf||dL(ki)||(ki.content instanceof d&&Vq(ki.content),hL(ki),Sf=ki);if(Sf=null,Hg)return ta;if(tp){if(D_)for(dl=Dt.call(Lr.ownerDocument);Lr.firstChild;)dl.appendChild(Lr.firstChild);else dl=Lr;return ps.shadowroot&&(dl=Pt.call(o,dl,!0)),dl}var Ll=md?Lr.outerHTML:Lr.innerHTML;return md&&Ko["!doctype"]&&Lr.ownerDocument&&Lr.ownerDocument.doctype&&Lr.ownerDocument.doctype.name&&Xs(y6,Lr.ownerDocument.doctype.name)&&(Ll="<!DOCTYPE "+Lr.ownerDocument.doctype.name+`>
`+Ll),Qs&&(Ll=Nh(Ll,Fr," "),Ll=Nh(Ll,Ot," ")),ft&&ou?ft.createHTML(Ll):Ll},n.setConfig=function(ta){AF(ta),Ms=!0},n.clearConfig=function(){N_=null,Ms=!1},n.isValidAttribute=function(ta,dt,Lr){N_||AF({});var Pn=Vg(ta),ki=Vg(dt);return vL(Pn,ki,Lr)},n.addHook=function(ta,dt){typeof dt=="function"&&(ar[ta]=ar[ta]||[],Kb(ar[ta],dt))},n.removeHook=function(ta){if(ar[ta])return Ez(ar[ta])},n.removeHooks=function(ta){ar[ta]&&(ar[ta]=[])},n.removeAllHooks=function(){ar={}},n}var X8=K8(),S3=function(t){return X8().sanitize(t)},gf=tinymce.util.Tools.resolve("tinymce.util.I18n"),rv={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},T3="temporary-placeholder",Y8=function(t){return function(){return gt(t,T3).getOr("!not found!")}},Z8=function(t,n){var o=t.toLowerCase();if(gf.isRtl()){var s=Gi(o,"-rtl");return dr(n,s)?s:o}else return o},Dz=function(t,n){return gt(n,Z8(t,n))},Mz=function(t,n){var o=n();return Dz(t,o).getOrThunk(Y8(o))},Xb=function(t,n,o){var s=n();return Dz(t,s).or(o).getOrThunk(Y8(s))},Bz=function(t){return gf.isRtl()?dr(rv,t):!1},J8=function(){return Nn("add-focusable",[Bn(function(t){v1(t.element,"svg").each(function(n){return Fn(n,"focusable","false")})})])},Nz=function(t,n,o,s){var d,m,g=Bz(n)?["tox-icon--flip"]:[],k=gt(o,Z8(n,o)).or(s).getOrThunk(Y8(o));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(g),innerHtml:k},behaviours:cr(It(It([],(m=t.behaviours)!==null&&m!==void 0?m:[],!0),[J8()],!1))}},yf=function(t,n,o,s){return s===void 0&&(s=O.none()),Nz(n,t,o(),s)},Pz=function(t,n,o){var s=o(),d=Nt(t,function(m){return dr(s,Z8(m,s))});return Nz(n,d.getOr(T3),s,O.none())},Q8={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},b6=function(t){var n=$a({dom:am("<p>"+S3(t.translationProvider(t.text))+"</p>"),behaviours:cr([yn.config({})])}),o=function(Z){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+Z+"%"}}}},s=function(Z){return{dom:{tag:"div",classes:["tox-text"],innerHtml:Z+"%"}}},d=$a({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},s(0)],behaviours:cr([yn.config({})])}),m=function(Z,ne){Z.getSystem().isConnected()&&d.getOpt(Z).each(function(me){yn.set(me,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(ne)]},s(ne)])})},g=function(Z,ne){if(Z.getSystem().isConnected()){var me=n.get(Z);yn.set(me,[vu(ne)])}},k={updateProgress:m,updateText:g},C=Xt([t.icon.toArray(),t.level.toArray(),t.level.bind(function(Z){return O.from(Q8[Z])}).toArray()]),E=$a(Ks.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[yf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(Z){t.onAction(Z)}})),M=Pz(C,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),P={dom:{tag:"div",classes:["tox-notification__body"]},components:[n.asSpec()],behaviours:cr([yn.config({})])},q=[M,P];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(Z){return["tox-notification","tox-notification--in","tox-notification--"+Z]}).getOr(["tox-notification","tox-notification--in"])},behaviours:cr([bn.config({}),Nn("notification-events",[Bt(Ec(),function(Z){E.getOpt(Z).each(bn.focus)})])]),components:q.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[E.asSpec()]:[]),apis:k}},ow=gc({name:"Notification",factory:b6,configFields:[Oa("level"),zt("progress"),zt("icon"),zt("onAction"),zt("text"),zt("iconProvider"),zt("translationProvider"),to("closeButton",!0)],apis:{updateProgress:function(t,n,o){t.updateProgress(n,o)},updateText:function(t,n,o){t.updateText(n,o)}}});function eT(t,n,o){var s=n.backstage.shared,d=function(E){switch(E){case"bc-bc":return Mh;case"tc-tc":return Nl;case"tc-bc":return Ts;case"bc-tc":default:return bi}},m=function(E){E.length>0&&Qe(E,function(M,P){P===0?M.moveRel(null,"banner"):M.moveRel(E[P-1].getEl(),"bc-tc")})},g=function(E,M){var P=!E.closeButton&&E.timeout&&(E.timeout>0||E.timeout<0),q=function(){M(),Ga.hide(ne)},Z=wo(ow.sketch({text:E.text,level:dn(["success","error","warning","warn","info"],E.type)?E.type:void 0,progress:E.progressBar===!0,icon:O.from(E.icon),closeButton:!P,onAction:q,iconProvider:s.providers.icons,translationProvider:s.providers.translate})),ne=wo(Ga.sketch(J({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:s.getSink,fireDismissalEventInstead:{}},s.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(ne),E.timeout>0&&ed.setTimeout(function(){q()},E.timeout);var me=function(){var Re=si(rr.fromDom(t.getContentAreaContainer())),de=su(),Ne=qs(de.x,Re.x,Re.right),mt=qs(de.y,Re.y,Re.bottom),ft=Math.max(Re.right,de.right),Be=Math.max(Re.bottom,de.bottom);return O.some(Ei(Ne,mt,ft-Ne,Be-mt))};return{close:q,moveTo:function(Re,de){Ga.showAt(ne,hc(Z),{anchor:{type:"makeshift",x:Re,y:de}})},moveRel:function(Re,de){var Ne=hc(Z),mt={maxHeightFunction:Zm()};if(de!=="banner"&&Ae(Re)){var ft=d(de),Be={type:"node",root:Ia(),node:O.some(rr.fromDom(Re)),overrides:mt,layouts:{onRtl:function(){return[ft]},onLtr:function(){return[ft]}}};Ga.showWithinBounds(ne,Ne,{anchor:Be},me)}else{var it=J(J({},s.anchors.banner()),{overrides:mt});Ga.showWithinBounds(ne,Ne,{anchor:it},me)}},text:function(Re){ow.updateText(Z,Re)},settings:E,getEl:function(){return Z.element.dom},progressBar:{value:function(Re){ow.updateProgress(Z,Re)}}}},k=function(E){E.close()},C=function(E){return E.settings};return{open:g,close:k,reposition:m,getArgs:C}}var _6=function(t,n){var o=null,s=function(){xe(o)||(clearTimeout(o),o=null)},d=function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];xe(o)&&(o=setTimeout(function(){o=null,t.apply(null,m)},n))};return{cancel:s,throttle:d}},E3=function(t,n){var o=null,s=function(){xe(o)||(clearTimeout(o),o=null)},d=function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];s(),o=setTimeout(function(){o=null,t.apply(null,m)},n)};return{cancel:s,throttle:d}},Fz=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),w6=function(t,n){return t.isBlock(n)||dn(["BR","IMG","HR","INPUT"],n.nodeName)||t.getContentEditable(n)==="false"},Iz=function(t,n,o,s,d){var m=Fz(t,function(g){return w6(t,g)});return O.from(m.backwards(n,o,s,d))},k6="[data-mce-autocompleter]",C6=function(t,n){return z3(rr.fromDom(t.selection.getNode())).getOrThunk(function(){var o=rr.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Eu(o,rr.fromDom(n.extractContents())),n.insertNode(o.dom),yo(o).each(function(s){return s.dom.normalize()}),G1(o).map(function(s){t.selection.setCursorLocation(s.dom,Wk(s))}),o})},z3=function(t){return Oc(t,k6)},x6=function(t){return t.collapsed&&t.startContainer.nodeType===3},$z=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},Lz=function(t){return t!==""&&` \f
\r	\v`.indexOf(t)!==-1},Yb=function(t,n){return t.substring(n.length)},Hz=function(t,n,o){var s;for(s=n-1;s>=0;s--){var d=t.charAt(s);if(Lz(d))return O.none();if(d===o)break}return O.some(s)},Vz=function(t,n,o,s){if(s===void 0&&(s=0),!x6(n))return O.none();var d=function(g,k,C){return Hz(C,k,o).getOr(k)},m=t.getParent(n.startContainer,t.isBlock)||t.getRoot();return Iz(t,n.startContainer,n.startOffset,d,m).bind(function(g){var k=n.cloneRange();if(k.setStart(g.container,g.offset),k.setEnd(n.endContainer,n.endOffset),k.collapsed)return O.none();var C=$z(k),E=C.lastIndexOf(o);return E!==0||Yb(C,o).length<s?O.none():O.some({text:Yb(C,o),range:k,triggerChar:o})})},tT=function(t,n,o,s){return s===void 0&&(s=0),z3(rr.fromDom(n.startContainer)).fold(function(){return Vz(t,n,o,s)},function(d){var m=t.createRng();m.selectNode(d.dom);var g=$z(m);return O.some({range:m,text:Yb(g,o),triggerChar:o})})},S6=function(t,n){n.on("keypress compositionend",t.onKeypress.throttle),n.on("remove",t.onKeypress.cancel);var o=function(s,d){en(s,Qg(),{raw:d})};n.on("keydown",function(s){var d=function(){return t.getView().bind(Na.getHighlighted)};s.which===8&&t.onKeypress.throttle(s),t.isActive()&&(s.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?s.which===13?(d().each(lc),s.preventDefault()):s.which===40?(d().fold(function(){t.getView().each(Na.highlightFirst)},function(m){o(m,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(m){o(m,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&t.cancelIfNecessary())}),n.on("NodeChange",function(s){t.isActive()&&!t.isProcessingAction()&&z3(rr.fromDom(s.element)).isNone()&&t.cancelIfNecessary()})},rT={setup:S6},_g=tinymce.util.Tools.resolve("tinymce.util.Promise"),A3=function(t,n){return{container:t,offset:n}},Uz=function(t){return t.nodeType===ge},jz=function(t){return t.nodeType===Fi},Wz=function(t){if(Uz(t))return A3(t,t.data.length);var n=t.childNodes;return n.length>0?Wz(n[n.length-1]):A3(t,n.length)},O3=function(t,n){var o=t.childNodes;return o.length>0&&n<o.length?O3(o[n],0):o.length>0&&jz(t)&&o.length===n?Wz(o[o.length-1]):A3(t,n)},T6=function(t,n){return Iz(t,n.container,n.offset,function(o,s){return s===0?-1:s},t.getRoot()).filter(function(o){var s=o.container.data.charAt(o.offset-1);return!Lz(s)}).isSome()},qz=function(t){return function(n){var o=O3(n.startContainer,n.startOffset);return!T6(t,o)}},Gz=function(t,n,o){return Zn(o.triggerChars,function(s){return tT(t,n,s)})},iw=function(t,n){var o=n(),s=t.selection.getRng();return Gz(t.dom,s,o).bind(function(d){return Kz(t,n,d)})},Kz=function(t,n,o,s){s===void 0&&(s={});var d=n(),m=t.selection.getRng(),g=m.startContainer.nodeValue,k=qe(d.lookupByChar(o.triggerChar),function(E){return o.text.length>=E.minChars&&E.matches.getOrThunk(function(){return qz(t.dom)})(o.range,g,o.text)});if(k.length===0)return O.none();var C=_g.all($t(k,function(E){var M=E.fetch(o.text,E.maxResults,s);return M.then(function(P){return{matchText:o.text,items:P,columns:E.columns,onAction:E.onAction,highlightOn:E.highlightOn}})}));return O.some({lookupData:C,context:o})},R3=Kr([gn("type"),co("text")]),Zb=function(t){return Po("separatormenuitem",R3,t)},E6=Kr([Fe("type","autocompleteitem"),Fe("active",!1),Fe("disabled",!1),Fe("meta",{}),gn("value"),co("text"),co("icon")]),Xz=Kr([gn("type"),gn("ch"),Cs("minChars",1),Fe("columns",1),Cs("maxResults",10),bd("matches"),Lu("fetch"),Lu("onAction"),If("highlightOn",[],ri)]),Yz=function(t){return Po("Autocompleter.Separator",R3,t)},Zz=function(t){return Po("Autocompleter.Item",E6,t)},nT=function(t){return Po("Autocompleter",Xz,t)},Jb=[to("disabled",!1),co("tooltip"),co("icon"),co("text"),lo("onSetup",function(){return at})],z6=Kr([gn("type"),Lu("onAction")].concat(Jb)),Jz=function(t){return Po("toolbarbutton",z6,t)},Qb=[to("active",!1)].concat(Jb),A6=Kr(Qb.concat([gn("type"),Lu("onAction")])),aT=function(t){return Po("ToggleButton",A6,t)},wg=[lo("predicate",Ue),ic("scope","node",["node","editor"]),ic("position","selection",["node","selection","line"])],O6=Jb.concat([Fe("type","contextformbutton"),Fe("primary",!1),Lu("onAction"),ts("original",Je)]),R6=Qb.concat([Fe("type","contextformbutton"),Fe("primary",!1),Lu("onAction"),ts("original",Je)]),D6=Jb.concat([Fe("type","contextformbutton")]),Qz=Qb.concat([Fe("type","contextformtogglebutton")]),e4=Tc("type",{contextformbutton:O6,contextformtogglebutton:R6}),M6=Kr([Fe("type","contextform"),lo("initValue",ue("")),co("label"),Ou("commands",e4),wl("launch",Tc("type",{contextformbutton:D6,contextformtogglebutton:Qz}))].concat(wg)),B6=function(t){return Po("ContextForm",M6,t)},N6=Kr([Fe("type","contexttoolbar"),gn("items")].concat(wg)),P6=function(t){return Po("ContextToolbar",N6,t)},F6=function(t){var n={};return Qe(t,function(o){n[o]={}}),In(n)},D3=function(t){var n=t.ui.registry.getAll().popups,o=kn(n,function(g){return nT(g).fold(function(k){throw new Error(yd(k))},Je)}),s=F6(Co(o,function(g){return g.ch})),d=Mt(o),m=function(g){return qe(d,function(k){return k.ch===g})};return{dataset:o,triggerChars:s,lookupByChar:m}},oT;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(oT||(oT={}));var nd=oT,uw="tox-menu-nav__js",M3="tox-collection__item",iT="tox-swatch",t4={normal:uw,color:iT},uT="tox-collection__item--enabled",r4="tox-collection__group-heading",sT="tox-collection__item-icon",cT="tox-collection__item-label",I6="tox-collection__item-accessory",n4="tox-collection__item-caret",$6="tox-collection__item-checkmark",kg="tox-collection__item--active",B3="tox-collection__item-container",a4="tox-collection__item-container--column",o4="tox-collection__item-container--row",i4="tox-collection__item-container--align-right",L6="tox-collection__item-container--align-left",H6="tox-collection__item-container--valign-top",V6="tox-collection__item-container--valign-middle",u4="tox-collection__item-container--valign-bottom",lT=function(t){return gt(t4,t).getOr(uw)},s4=function(t){return t==="color"?"tox-swatches":"tox-menu"},fT=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:s4(t),tieredMenu:"tox-tiered-menu"}},e_=function(t){var n=fT(t);return{backgroundMenu:n.backgroundMenu,selectedMenu:n.selectedMenu,menu:n.menu,selectedItem:n.selectedItem,item:lT(t)}},U6=function(t,n,o){var s=fT(o);return{tag:"div",classes:Xt([[s.menu,"tox-menu-"+n+"-column"],t?[s.hasIcons]:[]])}},j6=[Wr.parts.items({})],N3=function(t,n,o){var s=fT(o),d={tag:"div",classes:Xt([[s.tieredMenu]])};return{dom:d,markers:e_(o)}},dT=function(t,n){return function(o){var s=Xa(o,n);return $t(s,function(d){return{dom:t,components:d}})}},W6=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Wr.parts.items({preprocess:t!=="auto"?dT({tag:"div",classes:["tox-swatches__row"]},t):Je})]}]}},q6=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Wr.parts.items({preprocess:dT({tag:"div",classes:["tox-collection__group"]},t)})]}},c4=function(t,n){var o=[],s=[];return Qe(t,function(d,m){n(d,m)?(s.length>0&&o.push(s),s=[],dr(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&o.push(s),$t(o,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},vT=function(t,n,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Wr.parts.items({preprocess:function(s){return t!=="auto"&&t>1?dT({tag:"div",classes:["tox-collection__group"]},t)(s):c4(s,function(d,m){return n[m].type==="separator"})}})]}},G6=function(t,n){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Wr.parts.items({preprocess:function(o){return c4(o,function(s,d){return t[d].type==="separator"})}})]}},sw=function(t){return fa(t,function(n){return"icon"in n&&n.icon!==void 0})},om=function(t){return console.error(yd(t)),console.log(t),O.none()},K6=function(t,n,o,s,d){var m=G6(o);return{value:t,dom:m.dom,components:m.components,items:o}},mT=function(t,n,o,s,d){if(d==="color"){var m=W6(s);return{value:t,dom:m.dom,components:m.components,items:o}}if(d==="normal"&&s==="auto"){var m=vT(s,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(d==="normal"&&s===1){var m=vT(1,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(d==="normal"){var m=vT(s,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(d==="listpreview"&&s!=="auto"){var m=q6(s);return{value:t,dom:m.dom,components:m.components,items:o}}return{value:t,dom:U6(n,s,d),components:j6,items:o}},X6=[gn("type"),gn("src"),co("alt"),If("classes",[],ri)],Y6=Kr(X6),Z6=[gn("type"),gn("text"),co("name"),If("classes",["tox-collection__item-label"],ri)],P3=Kr(Z6),hT=Xw(function(){return Zg("type",{cardimage:Y6,cardtext:P3,cardcontainer:J6})}),J6=Kr([gn("type"),Em("direction","horizontal"),Em("align","left"),Em("valign","middle"),Ou("items",hT)]),t_=[to("disabled",!1),co("text"),co("shortcut"),zi("value","value",sa(function(){return Nr("menuitem-value")}),Gc()),Fe("meta",{})],Q6=Kr([gn("type"),co("label"),Ou("items",hT),lo("onSetup",function(){return at}),lo("onAction",at)].concat(t_)),e5=function(t){return Po("cardmenuitem",Q6,t)},t5=Kr([gn("type"),to("active",!1),co("icon")].concat(t_)),pT=function(t){return Po("choicemenuitem",t5,t)},gT=[gn("type"),gn("fancytype"),lo("onAction",at)],l4=[Fe("initData",{})].concat(gT),r5=[H_("initData",{},[to("allowCustomColors",!0),Vs("colors",Gc())])].concat(gT),f4=Tc("fancytype",{inserttable:l4,colorswatch:r5}),n5=function(t){return Po("fancymenuitem",f4,t)},a5=Kr([gn("type"),lo("onSetup",function(){return at}),lo("onAction",at),co("icon")].concat(t_)),o5=function(t){return Po("menuitem",a5,t)},i5=Kr([gn("type"),Lu("getSubmenuItems"),lo("onSetup",function(){return at}),co("icon")].concat(t_)),u5=function(t){return Po("nestedmenuitem",i5,t)},s5=Kr([gn("type"),co("icon"),to("active",!1),lo("onSetup",function(){return at}),Lu("onAction")].concat(t_)),c5=function(t){return Po("togglemenuitem",s5,t)},yT=function(t,n,o){var s=Uu(t.element,"."+o);if(s.length>0){var d=fr(s,function(m){var g=m.dom.getBoundingClientRect().top,k=s[0].dom.getBoundingClientRect().top;return Math.abs(g-k)>n}).getOr(s.length);return O.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return O.none()},d4=function(t,n){return cr([Nn(t,n)])},l5=function(t){return d4(Nr("unnamed-events"),t)},r_={namedEvents:d4,unnamedEvents:l5},F3=Nr("tooltip.exclusive"),Cg=Nr("tooltip.show"),n_=Nr("tooltip.hide"),v4=function(t,n,o){t.getSystem().broadcastOn([F3],{})},f5=function(t,n,o,s){o.getTooltip().each(function(d){d.getSystem().isConnected()&&yn.set(d,s)})},I3=Object.freeze({__proto__:null,hideAllExclusive:v4,setComponents:f5}),bT=function(t,n){var o=function(d){n.getTooltip().each(function(m){Rl(m),t.onHide(d,m),n.clearTooltip()}),n.clearTimer()},s=function(d){if(!n.isShowing()){v4(d);var m=t.lazySink(d).getOrDie(),g=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:ro(t.mode==="normal"?[Bt(Lf(),function(k){Sa(d,Cg)}),Bt(q_(),function(k){Sa(d,n_)})]:[]),behaviours:cr([yn.config({})])});n.setTooltip(g),Iv(m,g),t.onShow(d,g),Zo.position(m,g,{anchor:t.anchor(d)})}};return ro(Xt([[Bt(Cg,function(d){n.resetTimer(function(){s(d)},t.delay)}),Bt(n_,function(d){n.resetTimer(function(){o(d)},t.delay)}),Bt(zc(),function(d,m){var g=m;g.universal||dn(g.channels,F3)&&o(d)}),fc(function(d){o(d)})],t.mode==="normal"?[Bt(Ec(),function(d){Sa(d,Cg)}),Bt(Y_(),function(d){Sa(d,n_)}),Bt(Lf(),function(d){Sa(d,Cg)}),Bt(q_(),function(d){Sa(d,n_)})]:[Bt(e1(),function(d,m){Sa(d,Cg)}),Bt(ay(),function(d){Sa(d,n_)})]]))},$3=Object.freeze({__proto__:null,events:bT}),m4=[zt("lazySink"),zt("tooltipDom"),Fe("exclusive",!0),Fe("tooltipComponents",[]),Fe("delay",300),ic("mode","normal",["normal","follow-highlight"]),Fe("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:ue([bi,Ts,Mu,us,Hi,ss]),onRtl:ue([bi,Ts,Mu,us,Hi,ss])}}}),Ra("onHide"),Ra("onShow")],d5=function(){var t=Yo(),n=Yo(),o=function(){t.on(clearTimeout)},s=function(m,g){o(),t.set(setTimeout(m,g))},d=ue("not-implemented");return Du({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:o,resetTimer:s,readState:d})},v5=Object.freeze({__proto__:null,init:d5}),h4=Mi({fields:m4,name:"tooltipping",active:$3,state:v5,apis:I3}),m5=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},cw=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),h5=tinymce.util.Tools.resolve("tinymce.EditorManager"),p5=function(t){var n=t.getParam("skin"),o=t.getParam("skin_url");if(n!==!1){var s=n||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=h5.baseURL+"/skins/ui/"+s}return o},g5=function(t){return t.getParam("readonly",!1,"boolean")},y5=function(t){return t.getParam("skin")===!1},p4=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},g4=function(t){return t.getParam("width",cw.DOM.getStyle(t.getElement(),"width"))},y4=function(t){return O.from(t.getParam("min_width")).filter(er)},b4=function(t){return O.from(t.getParam("min_height")).filter(er)},L3=function(t){return O.from(t.getParam("max_width")).filter(er)},_4=function(t){return O.from(t.getParam("max_height")).filter(er)},b5=function(t){return O.from(t.getParam("style_formats")).filter(He)},im=function(t){return t.getParam("style_formats_merge",!1,"boolean")},_5=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},w5=function(t){return t.getParam("content_langs",void 0,"array")},_T=function(t){return t.getParam("removed_menuitems","")},Vi=function(t){return t.getParam("menubar",!0,"boolean")!==!1},wT=function(t){var n=t.getParam("toolbar",!0),o=n===!0,s=ee(n),d=He(n)&&n.length>0;return!H3(t)&&(d||s||o)},w4=function(t){var n=oe(9,function(s){return t.getParam("toolbar"+(s+1),!1,"string")}),o=qe(n,function(s){return typeof s=="string"});return o.length>0?O.some(o):O.none()},H3=function(t){return w4(t).fold(function(){var n=t.getParam("toolbar",[],"string[]");return n.length>0},U)},ul;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(ul||(ul={}));var lw=function(t){return t.getParam("toolbar_mode","","string")},xg;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(xg||(xg={}));var k5=function(t){return t.getParam("toolbar_groups",{},"object")},k4=function(t){return t.getParam("toolbar_location",xg.auto,"string")},C4=function(t){return k4(t)===xg.bottom},C5=function(t){return t.getParam("fixed_toolbar_container","","string")},x5=function(t){return t.getParam("fixed_toolbar_container_target")},S5=function(t){return t.getParam("toolbar_persist",!1,"boolean")},x4=function(t){if(!t.inline)return O.none();var n=C5(t);if(n.length>0)return Oi(Ia(),n);var o=x5(t);return Ae(o)?O.some(rr.fromDom(o)):O.none()},V3=function(t){return t.inline&&x4(t).isSome()},S4=function(t){var n=x4(t);return n.getOrThunk(function(){return ir(Zr(rr.fromDom(t.getElement())))})},T4=function(t){return t.inline&&!Vi(t)&&!wT(t)&&!H3(t)},U3=function(t){var n=t.getParam("toolbar_sticky",!1,"boolean");return(n||t.inline)&&!V3(t)&&!T4(t)},T5=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},E5=function(t){return t.getParam("draggable_modal",!1,"boolean")},z5=function(t){var n=t.getParam("menu");return n?kn(n,function(o){return J(J({},o),{items:o.items})}):{}},A5=function(t){return t.getParam("menubar")},O5=function(t){return t.getParam("toolbar",!0)},R5=function(t){return t.getParam("file_picker_callback")},D5=function(t){return t.getParam("file_picker_types")},M5=function(t){return t.getParam("file_browser_callback_types")},B5=function(t){return t.getParam("typeahead_urls")===!1},E4=function(t){return t.getParam("anchor_top","#top")},N5=function(t){return t.getParam("anchor_bottom","#bottom")},P5=function(t){var n=t.getParam("file_picker_validator_handler",void 0,"function");return n===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):n},kT="silver.readonly",z4=Kr([xx("readonly")]),a_=function(t,n){var o=t.outerContainer,s=o.element;n&&(t.mothership.broadcastOn([Lv()],{target:s}),t.uiMothership.broadcastOn([Lv()],{target:s})),t.mothership.broadcastOn([kT],{readonly:n}),t.uiMothership.broadcastOn([kT],{readonly:n})},A4=function(t,n){t.on("init",function(){t.mode.isReadOnly()&&a_(n,!0)}),t.on("SwitchMode",function(){return a_(n,t.mode.isReadOnly())}),g5(t)&&t.setMode("readonly")},Ui=function(){var t;return Hu.config({channels:(t={},t[kT]={schema:z4,onReceive:function(n,o){Jr.set(n,o.readonly)}},t)})},F5=function(t){return Jr.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},O4=function(t){return Jr.config({disabled:t})},I5=function(t){return Jr.config({disabled:t,disableClass:"tox-tbtn--disabled"})},R4=function(t){return Jr.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Pl={item:F5,button:O4,splitButton:I5,toolbarButton:R4},j3=function(t,n){var o=t.getApi(n);return function(s){s(o)}},o_=function(t,n){return Bn(function(o){var s=j3(t,o);s(function(d){var m=t.onSetup(d);tt(m)&&n.set(m)})})},fw=function(t,n){return fc(function(o){return j3(t,o)(n.get())})},CT,$5=function(t,n){return Ws(function(o,s){j3(t,o)(t.onAction),!t.triggersSubmenu&&n===nd.CLOSE_ON_EXECUTE&&(Sa(o,gp()),s.stop())})},L5=(CT={},CT[sc()]=["disabling","alloy.base.behaviour","toggling","item-events"],CT),i_=Kn,u_=function(t,n,o,s){var d=Qr(at);return{type:"item",dom:n.dom,components:i_(n.optComponents),data:t.data,eventOrder:L5,hasSubmenu:t.triggersSubmenu,itemBehaviours:cr([Nn("item-events",[$5(t,o),o_(t,d),fw(t,d)]),Pl.item(function(){return t.disabled||s.isDisabled()}),Ui(),yn.config({})].concat(t.itemBehaviours))}},Ph=function(t){return{value:t.value,meta:J({text:t.text.getOr("")},t.meta)}},W3=tinymce.util.Tools.resolve("tinymce.Env"),H5=function(t){var n={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},s=W3.mac?n:o,d=t.split("+"),m=$t(d,function(g){var k=g.toLowerCase().trim();return dr(s,k)?s[k]:g});return W3.mac?m.join(""):m.join("+")},q3=function(t,n,o){return o===void 0&&(o=[sT]),yf(t,{tag:"div",classes:o},n)},D4=function(t){return{dom:{tag:"div",classes:[cT]},components:[vu(gf.translate(t))]}},M4=function(t,n){return{dom:{tag:"div",classes:n,innerHtml:t}}},xT=function(t,n){return{dom:{tag:"div",classes:[cT]},components:[{dom:{tag:t.tag,styles:t.styles},components:[vu(gf.translate(n))]}]}},V5=function(t){return{dom:{tag:"div",classes:[I6],innerHtml:H5(t)}}},B4=function(t){return q3("checkmark",t,[$6])},U5=function(t){return q3("chevron-right",t,[n4])},j5=function(t){return q3("chevron-down",t,[n4])},ST=function(t,n){var o=t.direction==="vertical"?a4:o4,s=t.align==="left"?L6:i4,d=function(){switch(t.valign){case"top":return H6;case"middle":return V6;case"bottom":return u4}};return{dom:{tag:"div",classes:[B3,o,s,d()]},components:n}},W5=function(t,n,o){return{dom:{tag:"img",classes:n,attributes:{src:t,alt:o.getOr("")}}}},TT=function(t,n,o){var s="custom",d="remove",m=t.ariaLabel,g=t.value,k=t.iconContent.map(function(E){return Xb(E,n.icons,o)}),C=function(){var E=iT,M=k.getOr(""),P=m.map(function(Z){return{title:n.translate(Z)}}).getOr({}),q={tag:"div",attributes:P,classes:[E]};return g===s?J(J({},q),{tag:"button",classes:It(It([],q.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:M}):g===d?J(J({},q),{classes:It(It([],q.classes,!0),["tox-swatch--remove"],!1),innerHtml:M}):J(J({},q),{attributes:J(J({},q.attributes),{"data-mce-color":g}),styles:{"background-color":g}})};return{dom:C(),optComponents:[]}},N4=function(t){var n=t.map(function(o){return{attributes:{title:gf.translate(o)}}}).getOr({});return J({tag:"div",classes:[uw,M3]},n)},P4=function(t,n,o,s){var d={tag:"div",classes:[sT]},m=function(q){return yf(q,d,n.icons,s)},g=function(){return O.some({dom:d})},k=o?t.iconContent.map(m).orThunk(g):O.none(),C=t.checkMark,E=O.from(t.meta).fold(function(){return D4},function(q){return dr(q,"style")?Le(xT,q.style):D4}),M=t.htmlContent.fold(function(){return t.textContent.map(E)},function(q){return O.some(M4(q,[cT]))}),P={dom:N4(t.ariaLabel),optComponents:[k,M,t.shortcutContent.map(V5),C,t.caret]};return P},dw=function(t,n,o,s){return s===void 0&&(s=O.none()),t.presets==="color"?TT(t,n,s):P4(t,n,o,s)},s_=function(t,n){return gt(t,"tooltipWorker").map(function(o){return[h4.config({lazySink:n.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{type:"submenu",item:s,overrides:{maxHeightFunction:Zm}}},mode:"follow-highlight",onShow:function(s,d){o(function(m){h4.setComponents(s,[by({element:rr.fromDom(m)})])})}})]}).getOr([])},q5=function(t){return cw.DOM.encode(t)},F4=function(t,n){var o=gf.translate(t),s=q5(o);if(n.length>0){var d=new RegExp(m5(n),"gi");return s.replace(d,function(m){return'<span class="tox-autocompleter-highlight">'+m+"</span>"})}else return s},G5=function(t,n,o,s,d,m,g,k){k===void 0&&(k=!0);var C=dw({presets:s,textContent:O.none(),htmlContent:o?t.text.map(function(E){return F4(E,n)}):O.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:O.none(),checkMark:O.none(),caret:O.none(),value:t.value},g.providers,k,t.icon);return u_({data:Ph(t),disabled:t.disabled,getApi:ue({}),onAction:function(E){return d(t.value,t.meta)},onSetup:ue(at),triggersSubmenu:!1,itemBehaviours:s_(t.meta,g)},C,m,g.providers)},I4=function(t,n){return $t(t,function(o){switch(o.type){case"cardcontainer":return ST(o,I4(o.items,n));case"cardimage":return W5(o.src,o.classes,o.alt);case"cardtext":var s=o.name.exists(function(m){return dn(n.cardText.highlightOn,m)}),d=s?O.from(n.cardText.matchText).getOr(""):"";return M4(F4(o.text,d),o.classes)}})},K5=function(t,n,o,s){var d=function(g){return{isDisabled:function(){return Jr.isDisabled(g)},setDisabled:function(k){Jr.set(g,k),Qe(Uu(g.element,"*"),function(C){g.getSystem().getByDom(C).each(function(E){E.hasConfigured(Jr)&&Jr.set(E,k)})})}}},m={dom:N4(t.label),optComponents:[O.some({dom:{tag:"div",classes:[B3,o4]},components:I4(t.items,s)})]};return u_({data:Ph(J({text:O.none()},t)),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:O.from(s.itemBehaviours).getOr([])},m,n,o.providers)},X5=function(t,n,o,s,d,m,g,k){k===void 0&&(k=!0);var C=function(M){return{setActive:function(P){ca.set(M,P)},isActive:function(){return ca.isOn(M)},isDisabled:function(){return Jr.isDisabled(M)},setDisabled:function(P){return Jr.set(M,P)}}},E=dw({presets:o,textContent:n?t.text:O.none(),htmlContent:O.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:n?t.shortcut:O.none(),checkMark:n?O.some(B4(g.icons)):O.none(),caret:O.none(),value:t.value},g,k);return _t(u_({data:Ph(t),disabled:t.disabled,getApi:C,onAction:function(M){return s(t.value)},onSetup:function(M){return M.setActive(d),at},triggersSubmenu:!1,itemBehaviours:[]},E,m,g),{toggling:{toggleClass:uT,toggleOnExecute:!1,selected:t.active}})},ET=Wv(S(),D()),$4=function(t){return{value:t}},L4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,H4=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,V4=function(t){return L4.test(t)||H4.test(t)},Y5=function(t){return Lo(t,"#").toUpperCase()},Z5=function(t){return V4(t)?O.some({value:Y5(t)}):O.none()},Fh=function(t){var n=t.value.replace(L4,function(o,s,d,m){return s+s+d+d+m+m});return{value:n}},J5=function(t){var n=Fh(t),o=H4.exec(n.value);return o===null?["FFFFFF","FF","FF","FF"]:o},zT=function(t){var n=t.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},vw=function(t){var n=zT(t.red)+zT(t.green)+zT(t.blue);return $4(n)},G3=Math.min,U4=Math.max,c_=Math.round,Q5=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,AT=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,um=function(t,n,o,s){return{red:t,green:n,blue:o,alpha:s}},K3=function(t){var n=parseInt(t,10);return n.toString()===t&&n>=0&&n<=255},OT=function(t){var n,o,s,d=(t.hue||0)%360,m=t.saturation/100,g=t.value/100;if(m=U4(0,G3(m,1)),g=U4(0,G3(g,1)),m===0)return n=o=s=c_(255*g),um(n,o,s,1);var k=d/60,C=g*m,E=C*(1-Math.abs(k%2-1)),M=g-C;switch(Math.floor(k)){case 0:n=C,o=E,s=0;break;case 1:n=E,o=C,s=0;break;case 2:n=0,o=C,s=E;break;case 3:n=0,o=E,s=C;break;case 4:n=E,o=0,s=C;break;case 5:n=C,o=0,s=E;break;default:n=o=s=0}return n=c_(255*(n+M)),o=c_(255*(o+M)),s=c_(255*(s+M)),um(n,o,s,1)},mw=function(t){var n=J5(t),o=parseInt(n[1],16),s=parseInt(n[2],16),d=parseInt(n[3],16);return um(o,s,d,1)},X3=function(t,n,o,s){var d=parseInt(t,10),m=parseInt(n,10),g=parseInt(o,10),k=parseFloat(s);return um(d,m,g,k)},j4=function(t){if(t==="transparent")return O.some(um(0,0,0,0));var n=Q5.exec(t);if(n!==null)return O.some(X3(n[1],n[2],n[3],"1"));var o=AT.exec(t);return o!==null?O.some(X3(o[1],o[2],o[3],o[4])):O.none()},W4=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},q4=um(255,0,0,1),eM=function(t){return t.fire("SkinLoaded")},tM=function(t,n){return t.fire("SkinLoadError",n)},rM=function(t){return t.fire("ResizeEditor")},RT=function(t,n){return t.fire("ResizeContent",n)},nM=function(t,n){return t.fire("ScrollContent",n)},aM=function(t,n){return t.fire("TextColorChange",n)},hw=function(t,n,o){return{hue:t,saturation:n,value:o}},DT=function(t){var n=0,o=0,s=0,d=t.red/255,m=t.green/255,g=t.blue/255,k=Math.min(d,Math.min(m,g)),C=Math.max(d,Math.max(m,g));if(k===C)return s=k,hw(0,0,s*100);var E=d===k?m-g:g===k?d-m:g-d;return n=d===k?3:g===k?1:5,n=60*(n-E/(C-k)),o=(C-k)/C,s=C,hw(Math.round(n),Math.round(o*100),Math.round(s*100))},oM=function(t){return DT(mw(t))},MT=function(t){return vw(OT(t))},iM=function(t){return Z5(t).orThunk(function(){return j4(t).map(vw)}).getOrThunk(function(){var n=document.createElement("canvas");n.height=1,n.width=1;var o=n.getContext("2d");o.clearRect(0,0,n.width,n.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var s=o.getImageData(0,0,1,1).data,d=s[0],m=s[1],g=s[2],k=s[3];return vw(um(d,m,g,k))})},Y3=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Z3="tinymce-custom-colors";function J3(t){var n=Y3.getItem(Z3),o=ee(n)?JSON.parse(n):[],s=function(C){var E=t-C.length;return E<0?C.slice(0,t):C},d=s(o),m=function(C){vo(d,C).each(g),d.unshift(C),d.length>t&&d.pop(),Y3.setItem(Z3,JSON.stringify(d))},g=function(C){d.splice(C,1)},k=function(){return d.slice(0)};return{add:m,state:k}}var tu="choiceitem",Q3=[{type:tu,text:"Light Green",value:"#BFEDD2"},{type:tu,text:"Light Yellow",value:"#FBEEB8"},{type:tu,text:"Light Red",value:"#F8CAC6"},{type:tu,text:"Light Purple",value:"#ECCAFA"},{type:tu,text:"Light Blue",value:"#C2E0F4"},{type:tu,text:"Green",value:"#2DC26B"},{type:tu,text:"Yellow",value:"#F1C40F"},{type:tu,text:"Red",value:"#E03E2D"},{type:tu,text:"Purple",value:"#B96AD9"},{type:tu,text:"Blue",value:"#3598DB"},{type:tu,text:"Dark Turquoise",value:"#169179"},{type:tu,text:"Orange",value:"#E67E23"},{type:tu,text:"Dark Red",value:"#BA372A"},{type:tu,text:"Dark Purple",value:"#843FA1"},{type:tu,text:"Dark Blue",value:"#236FA1"},{type:tu,text:"Light Gray",value:"#ECF0F1"},{type:tu,text:"Medium Gray",value:"#CED4D9"},{type:tu,text:"Gray",value:"#95A5A6"},{type:tu,text:"Dark Gray",value:"#7E8C8D"},{type:tu,text:"Navy Blue",value:"#34495E"},{type:tu,text:"Black",value:"#000000"},{type:tu,text:"White",value:"#ffffff"}],G4=J3(10),uM=function(t){for(var n=[],o=0;o<t.length;o+=2)n.push({text:t[o+1],value:"#"+iM(t[o]).value,type:"choiceitem"});return n},sM=function(t,n){return t.getParam("color_cols",n,"number")},K4=function(t){return t.getParam("custom_colors")!==!1},cM=function(t){return t.getParam("color_map")},BT=function(t){var n=cM(t);return n!==void 0?uM(n):Q3},X4=function(){return $t(G4.state(),function(t){return{type:tu,text:t,value:t}})},Y4=function(t){G4.add(t)},NT="#000000",lM=function(t,n){var o;return t.dom.getParents(t.selection.getStart(),function(s){var d;(d=s.style[n==="forecolor"?"color":"background-color"])&&(o=o||d)}),O.from(o)},fM=function(t,n,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(n,{value:o}),t.nodeChanged()})},dM=function(t,n){t.undoManager.transact(function(){t.focus(),t.formatter.remove(n,{value:null},null,!0),t.nodeChanged()})},vM=function(t){t.addCommand("mceApplyTextcolor",function(n,o){fM(t,n,o)}),t.addCommand("mceRemoveTextcolor",function(n){dM(t,n)})},mM=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},eC=function(t){var n=BT(t),o=mM(n.length);return sM(t,o)},Z4=function(t){var n="choiceitem",o={type:n,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:n,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,s]:[o]},tC=function(t,n,o,s){if(o==="custom"){var d=tA(t);d(function(m){m.each(function(g){Y4(g),t.execCommand("mceApplyTextcolor",n,g),s(g)})},NT)}else o==="remove"?(s(""),t.execCommand("mceRemoveTextcolor",n)):(s(o),t.execCommand("mceApplyTextcolor",n,o))},J4=function(t,n){return t.concat(X4().concat(Z4(n)))},Q4=function(t,n){return function(o){o(J4(t,n))}},PT=function(t,n,o){var s=n==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(s,o)},l_=function(t,n,o,s,d){t.ui.registry.addSplitButton(n,{tooltip:s,presets:"color",icon:n==="forecolor"?"text-color":"highlight-bg-color",select:function(m){var g=lM(t,o);return g.bind(function(k){return j4(k).map(function(C){var E=vw(C).value;return ra(m.toLowerCase(),E)})}).getOr(!1)},columns:eC(t),fetch:Q4(BT(t),K4(t)),onAction:function(m){tC(t,o,d.get(),at)},onItemAction:function(m,g){tC(t,o,g,function(k){d.set(k),aM(t,{name:n,color:k})})},onSetup:function(m){PT(m,n,d.get());var g=function(k){k.name===n&&PT(m,k.name,k.color)};return t.on("TextColorChange",g),function(){t.off("TextColorChange",g)}}})},eA=function(t,n,o,s){t.ui.registry.addNestedMenuItem(n,{text:s,icon:n==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){tC(t,o,d.value,at)}}]}})},tA=function(t){return function(n,o){var s=!1,d=function(k){var C=k.getData(),E=C.colorpicker;s?(n(O.from(E)),k.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",E]))},m=function(k,C){C.name==="hex-valid"&&(s=C.value)},g={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:g,onAction:m,onSubmit:d,onClose:at,onCancel:function(){n(O.none())}})}},hM=function(t){vM(t);var n=Qr(NT),o=Qr(NT);l_(t,"forecolor","forecolor","Text color",n),l_(t,"backcolor","hilitecolor","Background color",o),eA(t,"forecolor","forecolor","Text color"),eA(t,"backcolor","hilitecolor","Background color")},f_=function(t,n,o,s,d,m,g,k){var C=sw(n),E=d!=="color"?"normal":"color",M=pM(n,o,s,E,m,g,k);return mT(t,C,M,s,d)},pM=function(t,n,o,s,d,m,g){return Kn($t(t,function(k){return k.type==="choiceitem"?pT(k).fold(om,function(C){return O.some(X5(C,o===1,s,n,m(k.value),d,g,sw(t)))}):O.none()}))},rC=function(t,n){var o=e_(n);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var s=n==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},rA=function(t,n){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:n==="color"?".tox-swatches__row":".tox-collection__group",cell:n==="color"?"."+iT:"."+M3}}},gM=function(t,n){var o=yM(t,n),s=n.colorinput.getColorCols(),d="color",m=f_(Nr("menu-value"),o,function(k){t.onAction({value:k})},s,d,nd.CLOSE_ON_EXECUTE,Ue,n.shared.providers),g=J(J({},m),{markers:e_(d),movement:rC(s,d)});return{type:"widget",data:{value:Nr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ET.widget(Wr.sketch(g))]}},yM=function(t,n){var o=t.initData.allowCustomColors&&n.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return J4(n.colorinput.getColors(),o)},function(s){return s.concat(Z4(o))})},nA=Nr("cell-over"),aA=Nr("cell-execute"),bM=function(t,n,o){var s,d=function(k){return en(k,nA,{row:t,col:n})},m=function(k){return en(k,aA,{row:t,col:n})},g=function(k,C){C.stop(),m(k)};return wo({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=o,s)},behaviours:cr([Nn("insert-table-picker-cell",[Bt(Lf(),bn.focus),Bt(sc(),m),Bt(Rm(),g),Bt(kd(),g)]),ca.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),bn.config({onFocus:d})])})},_M=function(t,n,o){for(var s=[],d=0;d<n;d++){for(var m=[],g=0;g<o;g++)m.push(bM(d,g,t));s.push(m)}return s},wM=function(t,n,o,s,d){for(var m=0;m<s;m++)for(var g=0;g<d;g++)ca.set(t[m][g],m<=n&&g<=o)},kM=function(t){return Pr(t,function(n){return $t(n,hc)})},oA=function(t,n){return vu(n+"x"+t)},Sg=function(t){var n=10,o=10,s=Nr("size-label"),d=_M(s,n,o),m=oA(0,0),g=$a({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[m],behaviours:cr([yn.config({})])});return{type:"widget",data:{value:Nr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ET.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:kM(d).concat(g.asSpec()),behaviours:cr([Nn("insert-table-picker",[Bn(function(k){yn.set(g.get(k),[m])}),xd(nA,function(k,C,E){var M=E.event,P=M.row,q=M.col;wM(d,P,q,n,o),yn.set(g.get(k),[oA(P+1,q+1)])}),xd(aA,function(k,C,E){var M=E.event,P=M.row,q=M.col;t.onAction({numRows:P+1,numColumns:q+1}),Sa(k,gp())})]),jr.config({initSize:{numRows:n,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},CM={inserttable:Sg,colorswatch:gM},xM=function(t,n){return gt(CM,t.fancytype).map(function(o){return o(t,n)})},SM=function(t,n,o,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var m=d?j5(o.icons):U5(o.icons),g=function(C){return{isDisabled:function(){return Jr.isDisabled(C)},setDisabled:function(E){return Jr.set(C,E)}}},k=dw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,caret:O.some(m),checkMark:O.none(),shortcutContent:t.shortcut},o,s);return u_({data:Ph(t),getApi:g,disabled:t.disabled,onAction:at,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},k,n,o)},TM=function(t,n,o,s){s===void 0&&(s=!0);var d=function(g){return{isDisabled:function(){return Jr.isDisabled(g)},setDisabled:function(k){return Jr.set(g,k)}}},m=dw({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,caret:O.none(),checkMark:O.none(),shortcutContent:t.shortcut},o,s);return u_({data:Ph(t),getApi:d,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,n,o)},nC=function(t){var n=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:J({tag:"div",classes:[M3,r4]},n),components:[]}},iA=function(t,n,o,s){s===void 0&&(s=!0);var d=function(g){return{setActive:function(k){ca.set(g,k)},isActive:function(){return ca.isOn(g)},isDisabled:function(){return Jr.isDisabled(g)},setDisabled:function(k){return Jr.set(g,k)}}},m=dw({iconContent:t.icon,textContent:t.text,htmlContent:O.none(),ariaLabel:t.text,checkMark:O.some(B4(o.icons)),caret:O.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,s);return _t(u_({data:Ph(t),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,n,o),{toggling:{toggleClass:uT,toggleOnExecute:!1,selected:t.active}})},uA=G5,sA=nC,EM=TM,zM=SM,AM=iA,OM=xM,RM=K5,pw;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(pw||(pw={}));var cA=function(t,n,o,s,d){var m=o.shared.providers,g=function(k){return d?J(J({},k),{shortcut:O.none(),icon:k.text.isSome()?O.none():k.icon}):k};switch(t.type){case"menuitem":return o5(t).fold(om,function(k){return O.some(EM(g(k),n,m,s))});case"nestedmenuitem":return u5(t).fold(om,function(k){return O.some(zM(g(k),n,m,s,d))});case"togglemenuitem":return c5(t).fold(om,function(k){return O.some(AM(g(k),n,m,s))});case"separator":return Zb(t).fold(om,function(k){return O.some(sA(k))});case"fancymenuitem":return n5(t).fold(om,function(k){return OM(g(k),o)});default:return console.error("Unknown item in general menu",t),O.none()}},DM=function(t,n,o,s,d,m,g){var k=s===1,C=!k||sw(t);return Kn($t(t,function(E){switch(E.type){case"separator":return Yz(E).fold(om,function(M){return O.some(sA(M))});case"cardmenuitem":return e5(E).fold(om,function(M){return O.some(RM(J(J({},M),{onAction:function(P){M.onAction(P),o(M.value,M.meta)}}),d,m,{itemBehaviours:s_(M.meta,m),cardText:{matchText:n,highlightOn:g}}))});case"autocompleteitem":default:return Zz(E).fold(om,function(M){return O.some(uA(M,n,k,"normal",o,d,m,C))})}}))},lA=function(t,n,o,s,d){var m=sw(n),g=Kn($t(n,function(C){var E=function(P){return d?!dr(P,"text"):m},M=function(P){return cA(P,o,s,E(P),d)};return C.type==="nestedmenuitem"&&C.getSubmenuItems().length<=0?M(J(J({},C),{disabled:!0})):M(C)})),k=d?K6:mT;return k(t,m,g,1,"normal")},fA=function(t){return ja.singleData(t.value,t)},dA=function(t,n,o,s){var d=o===pw.ContentFocus?E2():eg(),m=rC(n,s),g=e_(s);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:g.selectedItem,item:g.item},movement:m,fakeFocus:o===pw.ContentFocus,focusManager:d,menuBehaviours:r_.unnamedEvents(n!=="auto"?[]:[Bn(function(k,C){yT(k,4,g.item).each(function(E){var M=E.numColumns,P=E.numRows;jr.setGridSize(k,P,M)})})])}},ad=function(t,n){var o=Yo(),s=Qr(!1),d=wo(Ga.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:cr([Nn("dismissAutocompleter",[Bt(Jc(),function(){return C()})])]),lazySink:n.getSink})),m=function(){return Ga.isOpen(d)},g=function(){return o.get().isSome()},k=function(){g()&&Ga.hide(d)},C=function(){if(g()){var de=o.get().map(function(Ne){return Ne.element});z3(de.getOr(rr.fromDom(t.selection.getNode()))).each(pm),k(),o.clear(),s.set(!1)}},E=hn(function(){return D3(t)}),M=function(de,Ne){var mt=Zn(Ne,function(ft){return O.from(ft.columns)}).getOr(1);return Pr(Ne,function(ft){var Be=ft.items;return DM(Be,ft.matchText,function(it,xt){var yr=t.selection.getRng();tT(t.dom,yr,de).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Dt){var _r=Dt.range,Pt={hide:function(){C()},reload:function(Ct){k(),ne(Ct)}};s.set(!0),ft.onAction(Pt,_r,it,xt),s.set(!1)})},mt,nd.BUBBLE_TO_SANDBOX,n,ft.highlightOn)})},P=function(de){if(!g()){var Ne=C6(t,de.range);o.set({triggerChar:de.triggerChar,element:Ne,matchLength:de.text.length}),s.set(!1)}},q=function(de,Ne,mt,ft){de.matchLength=Ne.text.length;var Be=Zn(mt,function(it){return O.from(it.columns)}).getOr(1);Ga.showAt(d,Wr.sketch(dA(mT("autocompleter-value",!0,ft,Be,"normal"),Be,pw.ContentFocus,"normal")),{anchor:{type:"node",root:rr.fromDom(t.getBody()),node:O.from(de.element)}}),Ga.getContent(d).each(Na.highlightFirst)},Z=function(de){return o.get().map(function(Ne){return tT(t.dom,t.selection.getRng(),Ne.triggerChar).bind(function(mt){return Kz(t,E,mt,de)})}).getOrThunk(function(){return iw(t,E)})},ne=function(de){Z(de).fold(C,function(Ne){P(Ne.context),Ne.lookupData.then(function(mt){o.get().map(function(ft){var Be=Ne.context;if(ft.triggerChar===Be.triggerChar){var it=M(Be.triggerChar,mt);it.length>0?q(ft,Be,mt,it):Be.text.length-ft.matchLength>=10?C():k()}})})})},me=E3(function(de){de.which!==27&&ne()},50),Re={onKeypress:me,cancelIfNecessary:C,isMenuOpen:m,isActive:g,isProcessingAction:s.get,getView:function(){return Ga.getContent(d)}};t.hasPlugin("rtc")===!1&&rT.setup(Re,t)},Ih={register:ad},gw=function(t,n,o){return Oc(t,n,o).isSome()},FT=function(t,n){var o=null,s=function(){for(var m=[],g=0;g<arguments.length;g++)m[g]=arguments[g];o=setTimeout(function(){t.apply(null,m),o=null},n)},d=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:d,schedule:s}},IT=5,aC=400,vA=function(t){var n=t.raw;return n.touches===void 0||n.touches.length!==1?O.none():O.some(n.touches[0])},$T=function(t,n){var o=Math.abs(t.clientX-n.x),s=Math.abs(t.clientY-n.y);return o>IT||s>IT},LT=function(t){var n=Yo(),o=Qr(!1),s=FT(function(E){t.triggerEvent(ty(),E),o.set(!0)},aC),d=function(E){return vA(E).each(function(M){s.cancel();var P={x:M.clientX,y:M.clientY,target:E.target};s.schedule(E),o.set(!1),n.set(P)}),O.none()},m=function(E){return s.cancel(),vA(E).each(function(M){n.on(function(P){$T(M,P)&&n.clear()})}),O.none()},g=function(E){s.cancel();var M=function(P){return va(P.target,E.target)};return n.get().filter(M).map(function(P){return o.get()?(E.prevent(),!1):t.triggerEvent(kd(),E)})},k=$f([{key:Xl(),value:d},{key:Yc(),value:m},{key:_d(),value:g}]),C=function(E,M){return gt(k,M).bind(function(P){return P(E)})};return{fireIfReady:C}},HT=function(t){var n=t.raw;return n.which===Cb[0]&&!dn(["input","textarea"],Te(t.target))&&!gw(t.target,'[contenteditable="true"]')},mA=function(){return Zt().browser.isFirefox()},MM=function(t,n){return mA()?Hy(t,"focus",n):ni(t,"focusin",n)},BM=function(t,n){return mA()?Hy(t,"blur",n):ni(t,"focusout",n)},oC=function(t,n){var o=J({stopBackspace:!0},n),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=LT(o),m=$t(s.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(Z){return ni(t,Z,function(ne){d.fireIfReady(ne,Z).each(function(Re){Re&&ne.kill()});var me=o.triggerEvent(Z,ne);me&&ne.kill()})}),g=Yo(),k=ni(t,"paste",function(Z){d.fireIfReady(Z,"paste").each(function(me){me&&Z.kill()});var ne=o.triggerEvent("paste",Z);ne&&Z.kill(),g.set(setTimeout(function(){o.triggerEvent(Z_(),Z)},0))}),C=ni(t,"keydown",function(Z){var ne=o.triggerEvent("keydown",Z);ne?Z.kill():o.stopBackspace&&HT(Z)&&Z.prevent()}),E=MM(t,function(Z){var ne=o.triggerEvent("focusin",Z);ne&&Z.kill()}),M=Yo(),P=BM(t,function(Z){var ne=o.triggerEvent("focusout",Z);ne&&Z.kill(),M.set(setTimeout(function(){o.triggerEvent(Y_(),Z)},0))}),q=function(){Qe(m,function(Z){Z.unbind()}),C.unbind(),E.unbind(),P.unbind(),k.unbind(),g.on(clearTimeout),M.on(clearTimeout)};return{unbind:q}},hA=function(t,n){var o=gt(t,"target").getOr(n);return Qr(o)},NM=function(t,n){var o=Qr(!1),s=Qr(!1),d=function(){o.set(!0)},m=function(){s.set(!0)};return{stop:d,cut:m,isStopped:o.get,isCut:s.get,event:t,setSource:n.set,getSource:n.get}},PM=function(t){var n=Qr(!1),o=function(){n.set(!0)};return{stop:o,cut:at,isStopped:n.get,isCut:Ue,event:t,setSource:ce("Cannot set source of a broadcasted event"),getSource:ce("Cannot get source of a broadcasted event")}},d_=uc.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),pA=function(t,n,o,s,d,m){var g=t(n,s),k=NM(o,d);return g.fold(function(){return m.logEventNoHandlers(n,s),d_.complete()},function(C){var E=C.descHandler,M=s1(E);return M(k),k.isStopped()?(m.logEventStopped(n,C.element,E.purpose),d_.stopped()):k.isCut()?(m.logEventCut(n,C.element,E.purpose),d_.complete()):yo(C.element).fold(function(){return m.logNoParent(n,C.element,E.purpose),d_.complete()},function(P){return m.logEventResponse(n,C.element,E.purpose),d_.resume(P)})})},VT=function(t,n,o,s,d,m){return pA(t,n,o,s,d,m).fold(U,function(g){return VT(t,n,o,g,d,m)},Ue)},FM=function(t,n,o,s,d){var m=hA(o,s);return pA(t,n,o,s,m,d)},IM=function(t,n,o){var s=PM(n);return Qe(t,function(d){var m=d.descHandler,g=s1(m);g(s)}),s.isStopped()},gA=function(t,n,o,s){return yA(t,n,o,o.target,s)},yA=function(t,n,o,s,d){var m=hA(o,s);return VT(t,n,o,s,m,d)},$M=function(t,n){return{element:t,descHandler:n}},bA=function(t,n){return{id:t,descHandler:n}},_A=function(){var t={},n=function(g,k,C){Rn(C,function(E,M){var P=t[M]!==void 0?t[M]:{};P[k]=u1(E,g),t[M]=P})},o=function(g,k){return Ed(k).bind(function(C){return gt(g,C)}).map(function(C){return $M(k,C)})},s=function(g){return gt(t,g).map(function(k){return Co(k,function(C,E){return bA(E,C)})}).getOr([])},d=function(g,k,C){return gt(t,k).bind(function(E){return zm(C,function(M){return o(E,M)},g)})},m=function(g){Rn(t,function(k,C){dr(k,g)&&delete k[g]})};return{registerId:n,unregisterId:m,filterByType:s,find:d}},LM=function(){var t=_A(),n={},o=function(E){var M=E.element;return Ed(M).getOrThunk(function(){return uk("uid-",E.element)})},s=function(E,M){var P=n[M];if(P===E)m(E);else throw new Error('The tagId "'+M+'" is already used by: '+ns(P.element)+`
Cannot use it for: `+ns(E.element)+`
The conflicting element is`+(tn(P.element)?" ":" not ")+"already in the DOM")},d=function(E){var M=o(E);un(n,M)&&s(E,M);var P=[E];t.registerId(P,M,E.events),n[M]=E},m=function(E){Ed(E.element).each(function(M){delete n[M],t.unregisterId(M)})},g=function(E){return t.filterByType(E)},k=function(E,M,P){return t.find(E,M,P)},C=function(E){return gt(n,E)};return{find:k,filter:g,register:d,unregister:m,getById:C}},HM=function(t){var n=t.dom,o=n.attributes,s=X(n,["attributes"]);return{uid:t.uid,dom:J({tag:"div",attributes:J({role:"presentation"},o)},s),components:t.components,behaviours:yh(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},ds=gc({name:"Container",factory:HM,configFields:[Fe("components",[]),Bi("containerBehaviours",[]),Fe("events",{}),Fe("domModification",{}),Fe("eventOrder",{})]}),wA=function(t){var n=function(de){return yo(t.element).fold(U,function(Ne){return va(de,Ne)})},o=LM(),s=function(de,Ne){return o.find(n,de,Ne)},d=oC(t.element,{triggerEvent:function(de,Ne){return h1(de,Ne.target,function(mt){return gA(s,de,Ne,mt)})}}),m={debugInfo:ue("real"),triggerEvent:function(de,Ne,mt){h1(de,Ne,function(ft){return yA(s,de,mt,Ne,ft)})},triggerFocus:function(de,Ne){Ed(de).fold(function(){Tl(de)},function(mt){h1(wd(),de,function(ft){return FM(s,wd(),{originator:Ne,kill:at,prevent:at,target:de},de,ft),!1})})},triggerEscape:function(de,Ne){m.triggerEvent("keydown",de.element,Ne.event)},getByUid:function(de){return me(de)},getByDom:function(de){return Re(de)},build:wo,addToGui:function(de){C(de)},removeFromGui:function(de){E(de)},addToWorld:function(de){g(de)},removeFromWorld:function(de){k(de)},broadcast:function(de){q(de)},broadcastOn:function(de,Ne){Z(de,Ne)},broadcastEvent:function(de,Ne){ne(de,Ne)},isConnected:U},g=function(de){de.connect(m),mr(de.element)||(o.register(de),Qe(de.components(),g),m.triggerEvent(pv(),de.element,{target:de.element}))},k=function(de){mr(de.element)||(Qe(de.components(),k),o.unregister(de)),de.disconnect()},C=function(de){Iv(t,de)},E=function(de){Rl(de)},M=function(){d.unbind(),bs(t.element)},P=function(de){var Ne=o.filter(zc());Qe(Ne,function(mt){var ft=mt.descHandler,Be=s1(ft);Be(de)})},q=function(de){P({universal:!0,data:de})},Z=function(de,Ne){P({universal:!1,channels:de,data:Ne})},ne=function(de,Ne){var mt=o.filter(de);return IM(mt,Ne)},me=function(de){return o.getById(de).fold(function(){return $n.error(new Error('Could not find component with uid: "'+de+'" in system.'))},$n.value)},Re=function(de){var Ne=Ed(de).getOr("not found");return me(Ne)};return g(t),{root:t,element:t.element,destroy:M,add:C,remove:E,getByUid:me,getByDom:Re,addToWorld:g,removeFromWorld:k,broadcast:q,broadcastOn:Z,broadcastEvent:ne}},VM=function(t,n){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:$t(t.items,n.interpreter)}},iC=ue([Fe("prefix","form-field"),Bi("fieldBehaviours",[aa,gr])]),Ys=ue([Mc({schema:[zt("dom")],name:"label"}),Mc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[zt("text")],name:"aria-descriptor"}),yu({factory:{sketch:function(t){var n=U_(t,["factory"]);return t.factory.sketch(n)}},schema:[zt("factory")],name:"field"})]),kA=function(t,n,o,s){var d=Qi(t.fieldBehaviours,[aa.config({find:function(k){return Za(k,t,"field")}}),gr.config({store:{mode:"manual",getValue:function(k){return aa.getCurrent(k).bind(gr.getValue)},setValue:function(k,C){aa.getCurrent(k).each(function(E){gr.setValue(E,C)})}}})]),m=ro([Bn(function(k,C){var E=f2(k,t,["label","field","aria-descriptor"]);E.field().each(function(M){var P=Nr(t.prefix);E.label().each(function(q){Fn(q.element,"for",P),Fn(M.element,"id",P)}),E["aria-descriptor"]().each(function(q){var Z=Nr(t.prefix);Fn(q.element,"id",Z),Fn(M.element,"aria-describedby",Z)})})})]),g={getField:function(k){return Za(k,t,"field")},getLabel:function(k){return Za(k,t,"label")}};return{uid:t.uid,dom:t.dom,components:n,behaviours:d,events:m,apis:g}},Da=ls({name:"FormField",configFields:iC(),partFields:Ys(),factory:kA,apis:{getField:function(t,n){return t.getField(n)},getLabel:function(t,n){return t.getLabel(n)}}}),UM=function(t,n){return el({attributes:$f([{key:n.tabAttr,value:"true"}])})},jM=Object.freeze({__proto__:null,exhibit:UM}),WM=[Fe("tabAttr","data-alloy-tabstop")],ai=Mi({fields:WM,name:"tabstopping",active:jM}),CA=tinymce.util.Tools.resolve("tinymce.html.Entities"),yw=function(t,n,o,s){var d=xA(t,n,o,s);return Da.sketch(d)},qM=function(t,n){return yw(t,n,[],[])},xA=function(t,n,o,s){return{dom:UT(o),components:t.toArray().concat([n]),fieldBehaviours:cr(s)}},GM=function(){return UT([])},UT=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},sm=function(t,n){return Da.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}})},$c=Nr("form-component-change"),bw=Nr("form-close"),Tg=Nr("form-cancel"),nv=Nr("form-action"),_w=Nr("form-submit"),jT=Nr("form-block"),WT=Nr("form-unblock"),$h=Nr("form-tabchange"),SA=Nr("form-resize"),KM=function(t,n){var o,s=t.label.map(function(P){return sm(P,n)}),d=function(P){return function(q,Z){Oc(Z.event.target,"[data-collection-item-value]").each(function(ne){P(q,Z,ne,bo(ne,"data-collection-item-value"))})}},m=function(P,q){var Z=$t(q,function(Re){var de=gf.translate(Re.text),Ne=t.columns===1?'<div class="tox-collection__item-label">'+de+"</div>":"",mt='<div class="tox-collection__item-icon">'+Re.icon+"</div>",ft={_:" "," - ":" ","-":" "},Be=de.replace(/\_| \- |\-/g,function(xt){return ft[xt]}),it=n.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+it+'" tabindex="-1" data-collection-item-value="'+CA.encodeAllRaw(Re.value)+'" title="'+Be+'" aria-label="'+Be+'">'+mt+Ne+"</div>"}),ne=t.columns!=="auto"&&t.columns>1?Xa(Z,t.columns):[Z],me=$t(ne,function(Re){return'<div class="tox-collection__group">'+Re.join("")+"</div>"});Vf(P.element,me.join(""))},g=d(function(P,q,Z,ne){q.stop(),n.isDisabled()||en(P,nv,{name:t.name,value:ne})}),k=[Bt(Lf(),d(function(P,q,Z){Tl(Z)})),Bt(Rm(),g),Bt(kd(),g),Bt(Ec(),d(function(P,q,Z){Oi(P.element,"."+kg).each(function(ne){yi(ne,kg)}),Ai(Z,kg)})),Bt(lu(),d(function(P){Oi(P.element,"."+kg).each(function(q){yi(q,kg)})})),Ws(d(function(P,q,Z,ne){en(P,nv,{name:t.name,value:ne})}))],C=function(P,q){return $t(Uu(P.element,".tox-collection__item"),q)},E=Da.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Je},behaviours:cr([Jr.config({disabled:n.isDisabled,onDisabled:function(P){C(P,function(q){Ai(q,"tox-collection__item--state-disabled"),Fn(q,"aria-disabled",!0)})},onEnabled:function(P){C(P,function(q){yi(q,"tox-collection__item--state-disabled"),Xi(q,"aria-disabled")})}}),Ui(),yn.config({}),gr.config({store:{mode:"memory",initialValue:[]},onSetValue:function(P,q){m(P,q),t.columns==="auto"&&yT(P,5,"tox-collection__item").each(function(Z){var ne=Z.numRows,me=Z.numColumns;jr.setGridSize(P,ne,me)}),Sa(P,SA)}}),ai.config({}),jr.config(rA(t.columns,"normal")),Nn("collection-events",k)]),eventOrder:(o={},o[sc()]=["disabling","alloy.base.behaviour","collection-events"],o)}),M=["tox-form__group--collection"];return yw(s,E,M,[])},cm=ue([Oa("data"),Fe("inputAttributes",{}),Fe("inputStyles",{}),Fe("tag","input"),Fe("inputClasses",[]),Ra("onSetValue"),Fe("styles",{}),Fe("eventOrder",{}),Bi("inputBehaviours",[gr,bn]),Fe("selectOnFocus",!0)]),TA=function(t){return cr([bn.config({onFocus:t.selectOnFocus?function(n){var o=n.element,s=ef(o);o.dom.setSelectionRange(0,s.length)}:at})])},XM=function(t){return J(J({},TA(t)),Qi(t.inputBehaviours,[gr.config({store:J(J({mode:"manual"},t.data.map(function(n){return{initialValue:n}}).getOr({})),{getValue:function(n){return ef(n.element)},setValue:function(n,o){var s=ef(n.element);s!==o&&$m(n.element,o)}}),onSetValue:t.onSetValue})]))},sl=function(t){return{tag:t.tag,attributes:J({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},EA=function(t,n){return{uid:t.uid,dom:sl(t),components:[],behaviours:XM(t),eventOrder:t.eventOrder}},v_=gc({name:"Input",configFields:cm(),factory:EA}),zA={},AA={exports:zA};(function(t,n,o,s){(function(d,m){typeof n=="object"&&typeof o<"u"?o.exports=m():(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=m())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof hx<"u"?hx:typeof self<"u"?self:{},m={exports:{}};(function(E){(function(M){var P=setTimeout;function q(){}function Z(Be,it){return function(){Be.apply(it,arguments)}}function ne(Be){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Be!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],ft(Be,this)}function me(Be,it){for(;Be._state===3;)Be=Be._value;if(Be._state===0){Be._deferreds.push(it);return}Be._handled=!0,ne._immediateFn(function(){var xt=Be._state===1?it.onFulfilled:it.onRejected;if(xt===null){(Be._state===1?Re:de)(it.promise,Be._value);return}var yr;try{yr=xt(Be._value)}catch(Dt){de(it.promise,Dt);return}Re(it.promise,yr)})}function Re(Be,it){try{if(it===Be)throw new TypeError("A promise cannot be resolved with itself.");if(it&&(typeof it=="object"||typeof it=="function")){var xt=it.then;if(it instanceof ne){Be._state=3,Be._value=it,Ne(Be);return}else if(typeof xt=="function"){ft(Z(xt,it),Be);return}}Be._state=1,Be._value=it,Ne(Be)}catch(yr){de(Be,yr)}}function de(Be,it){Be._state=2,Be._value=it,Ne(Be)}function Ne(Be){Be._state===2&&Be._deferreds.length===0&&ne._immediateFn(function(){Be._handled||ne._unhandledRejectionFn(Be._value)});for(var it=0,xt=Be._deferreds.length;it<xt;it++)me(Be,Be._deferreds[it]);Be._deferreds=null}function mt(Be,it,xt){this.onFulfilled=typeof Be=="function"?Be:null,this.onRejected=typeof it=="function"?it:null,this.promise=xt}function ft(Be,it){var xt=!1;try{Be(function(yr){xt||(xt=!0,Re(it,yr))},function(yr){xt||(xt=!0,de(it,yr))})}catch(yr){if(xt)return;xt=!0,de(it,yr)}}ne.prototype.catch=function(Be){return this.then(null,Be)},ne.prototype.then=function(Be,it){var xt=new this.constructor(q);return me(this,new mt(Be,it,xt)),xt},ne.all=function(Be){var it=Array.prototype.slice.call(Be);return new ne(function(xt,yr){if(it.length===0)return xt([]);var Dt=it.length;function _r(Ct,ar){try{if(ar&&(typeof ar=="object"||typeof ar=="function")){var Fr=ar.then;if(typeof Fr=="function"){Fr.call(ar,function(Ot){_r(Ct,Ot)},yr);return}}it[Ct]=ar,--Dt===0&&xt(it)}catch(Ot){yr(Ot)}}for(var Pt=0;Pt<it.length;Pt++)_r(Pt,it[Pt])})},ne.resolve=function(Be){return Be&&typeof Be=="object"&&Be.constructor===ne?Be:new ne(function(it){it(Be)})},ne.reject=function(Be){return new ne(function(it,xt){xt(Be)})},ne.race=function(Be){return new ne(function(it,xt){for(var yr=0,Dt=Be.length;yr<Dt;yr++)Be[yr].then(it,xt)})},ne._immediateFn=typeof setImmediate=="function"?function(Be){setImmediate(Be)}:function(Be){P(Be,0)},ne._unhandledRejectionFn=function(it){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",it)},ne._setImmediateFn=function(it){ne._immediateFn=it},ne._setUnhandledRejectionFn=function(it){ne._unhandledRejectionFn=it},E.exports?E.exports=ne:M.Promise||(M.Promise=ne)})(d)})(m);var g=m.exports,k=function(){return typeof window<"u"?window:Function("return this;")()}(),C={boltExport:k.Promise||g};return C})})(void 0,zA,AA);var bf=AA.exports.boltExport,qT=function(t){var n=O.none(),o=[],s=function(E){return qT(function(M){d(function(P){M(E(P))})})},d=function(E){g()?C(E):o.push(E)},m=function(E){g()||(n=O.some(E),k(o),o=[])},g=function(){return n.isSome()},k=function(E){Qe(E,C)},C=function(E){n.each(function(M){setTimeout(function(){E(M)},0)})};return t(m),{get:d,map:s,isReady:g}},OA=function(t){return qT(function(n){n(t)})},YM={nu:qT,pure:OA},ZM=function(t){setTimeout(function(){throw t},0)},m_=function(t){var n=function(C){t().then(C,ZM)},o=function(C){return m_(function(){return t().then(C)})},s=function(C){return m_(function(){return t().then(function(E){return C(E).toPromise()})})},d=function(C){return m_(function(){return t().then(function(){return C.toPromise()})})},m=function(){return YM.nu(n)},g=function(){var C=null;return m_(function(){return C===null&&(C=t()),C})},k=t;return{map:o,bind:s,anonBind:d,toLazy:m,toCached:g,toPromise:k,get:n}},GT=function(t){return m_(function(){return new bf(t)})},JM=function(t){return m_(function(){return bf.resolve(t)})},qu={nu:GT,pure:JM},QM=["input","textarea"],RA=function(t){var n=Te(t);return dn(QM,n)},DA=function(t,n){var o=n.getRoot(t).getOr(t.element);yi(o,n.invalidClass),n.notify.each(function(s){RA(t.element)&&Fn(t.element,"aria-invalid",!1),s.getContainer(t).each(function(d){Vf(d,s.validHtml)}),s.onValid(t)})},MA=function(t,n,o,s){var d=n.getRoot(t).getOr(t.element);Ai(d,n.invalidClass),n.notify.each(function(m){RA(t.element)&&Fn(t.element,"aria-invalid",!0),m.getContainer(t).each(function(g){Vf(g,s)}),m.onInvalid(t,s)})},BA=function(t,n,o){return n.validator.fold(function(){return qu.pure($n.value(!0))},function(s){return s.validate(t)})},uC=function(t,n,o){return n.notify.each(function(s){s.onValidate(t)}),BA(t,n).map(function(s){return t.getSystem().isConnected()?s.fold(function(d){return MA(t,n,o,d),$n.error(d)},function(d){return DA(t,n),$n.value(d)}):$n.error("No longer in system")})},NA=function(t,n){var o=n.getRoot(t).getOr(t.element);return as(o,n.invalidClass)},eB=Object.freeze({__proto__:null,markValid:DA,markInvalid:MA,query:BA,run:uC,isInvalid:NA}),tB=function(t,n){return t.validator.map(function(o){return ro([Bt(o.onEvent,function(s){uC(s,t,n).get(Je)})].concat(o.validateOnLoad?[Bn(function(s){uC(s,t,n).get(at)})]:[]))}).getOr({})},rB=Object.freeze({__proto__:null,events:tB}),nB=[zt("invalidClass"),Fe("getRoot",O.none),Us("notify",[Fe("aria","alert"),Fe("getContainer",O.none),Fe("validHtml",""),Ra("onValid"),Ra("onInvalid"),Ra("onValidate")]),Us("validator",[zt("validate"),Fe("onEvent","input"),Fe("validateOnLoad",!0)])],av=Mi({fields:nB,name:"invalidating",active:rB,apis:eB,extra:{validation:function(t){return function(n){var o=gr.getValue(n);return qu.pure(t(o))}}}}),PA=function(t,n,o,s){return o.getOrCreate(t,n,s)},FA=Object.freeze({__proto__:null,getCoupled:PA}),IA=[ks("others",Au($n.value,Gc()))],sC=function(){var t={},n=function(s,d,m){var g=In(d.others);if(g)return gt(t,m).getOrThunk(function(){var k=gt(d.others,m).getOrDie("No information found for coupled component: "+m),C=k(s),E=s.getSystem().build(C);return t[m]=E,E});throw new Error("Cannot find coupled component: "+m+". Known coupled components: "+JSON.stringify(g,null,2))},o=ue({});return Du({readState:o,getOrCreate:n})},aB=Object.freeze({__proto__:null,init:sC}),li=Mi({fields:IA,name:"coupling",apis:FA,state:aB}),$A=ue("sink"),LA=ue(Mc({name:$A(),overrides:ue({dom:{tag:"div"},behaviours:cr([Zo.config({useFixed:U})]),events:ro([yv(Qg()),yv(Zc()),yv(Rm())])})})),od;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(od||(od={}));var HA=function(t,n){var o=t.getHotspot(n).getOr(n),s="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:s,hotspot:o,overrides:d}},function(m){return{type:s,hotspot:o,overrides:d,layouts:m}})},cC=function(t,n,o){var s=t.fetch;return s(o).map(n)},oB=function(t,n,o,s,d,m,g){var k=cC(t,n,s),C=XT(s,t);return k.map(function(E){return E.bind(function(M){return O.from(ja.sketch(J(J({},m.menu()),{uid:zd(""),data:M,highlightImmediately:g===od.HighlightFirst,onOpenMenu:function(P,q){var Z=C().getOrDie();Zo.position(Z,q,{anchor:o}),ma.decloak(d)},onOpenSubmenu:function(P,q,Z){var ne=C().getOrDie();Zo.position(ne,Z,{anchor:{type:"submenu",item:q}}),ma.decloak(d)},onRepositionMenu:function(P,q,Z){var ne=C().getOrDie();Zo.position(ne,q,{anchor:o}),Qe(Z,function(me){Zo.position(ne,me.triggeredMenu,{anchor:{type:"submenu",item:me.triggeringItem}})})},onEscape:function(){return bn.focus(s),ma.close(d),O.some(!0)}})))})})},KT=function(t,n,o,s,d,m,g){var k=HA(t,o),C=oB(t,n,k,o,s,d,g);return C.map(function(E){return E.fold(function(){ma.isOpen(s)&&ma.close(s)},function(M){ma.cloak(s),ma.open(s,M),m(s)}),s})},lm=function(t,n,o,s,d,m,g){return ma.close(s),qu.pure(s)},h_=function(t,n,o,s,d,m){var g=li.getCoupled(o,"sandbox"),k=ma.isOpen(g),C=k?lm:KT;return C(t,n,o,g,s,d,m)},p_=function(t,n,o){var s=aa.getCurrent(n).getOr(n),d=Tu(t.element);o?vn(s.element,"min-width",d+"px"):pl(s.element,d)},XT=function(t,n){return t.getSystem().getByUid(n.uid+"-"+$A()).map(function(o){return function(){return $n.value(o)}}).getOrThunk(function(){return n.lazySink.fold(function(){return function(){return $n.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},lC=function(t){ma.getState(t).each(function(n){ja.repositionMenus(n)})},YT=function(t,n,o){var s=xv(),d=function(k,C){var E=HA(t,n);s.link(n.element),t.matchWidth&&p_(E.hotspot,C,t.useMinWidth),t.onOpen(E,k,C),o!==void 0&&o.onOpen!==void 0&&o.onOpen(k,C)},m=function(k,C){s.unlink(n.element),o!==void 0&&o.onClose!==void 0&&o.onClose(k,C)},g=XT(n,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:Dc.augment(t.sandboxBehaviours,[gr.config({store:{mode:"memory",initialValue:n}}),ma.config({onOpen:d,onClose:m,isPartOf:function(k,C,E){return Sv(C,E)||Sv(n,E)},getAttachPoint:function(){return g().getOrDie()}}),aa.config({find:function(k){return ma.getState(k).bind(function(C){return aa.getCurrent(C)})}}),Hu.config({channels:J(J({},As({isExtraPart:Ue})),Hv({doReposition:lC}))})])}},VA=function(t){var n=li.getCoupled(t,"sandbox");lC(n)},ZT=function(){return[Fe("sandboxClasses",[]),Dc.field("sandboxBehaviours",[aa,Hu,ma,gr])]},UA=ue([zt("dom"),zt("fetch"),Ra("onOpen"),Ri("onExecute"),Fe("getHotspot",O.some),Fe("getAnchorOverrides",ue({})),Id(),Bi("dropdownBehaviours",[ca,li,jr,bn]),zt("toggleClass"),Fe("eventOrder",{}),Oa("lazySink"),Fe("matchWidth",!1),Fe("useMinWidth",!1),Oa("role")].concat(ZT())),iB=ue([pc({schema:[Tv()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),LA()]),fC=function(t,n,o,s){var d,m=function(M){return gt(t.dom,"attributes").bind(function(P){return gt(P,M)})},g=function(M){ma.getState(M).each(function(P){ja.highlightPrimary(P)})},k=function(M){var P=g;h_(t,Je,M,s,P,od.HighlightFirst).get(at)},C={expand:function(M){ca.isOn(M)||h_(t,Je,M,s,at,od.HighlightNone).get(at)},open:function(M){ca.isOn(M)||h_(t,Je,M,s,at,od.HighlightFirst).get(at)},isOpen:ca.isOn,close:function(M){ca.isOn(M)&&h_(t,Je,M,s,at,od.HighlightFirst).get(at)},repositionMenus:function(M){ca.isOn(M)&&VA(M)}},E=function(M,P){return lc(M),O.some(!0)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.dropdownBehaviours,[ca.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),li.config({others:{sandbox:function(M){return YT(t,M,{onOpen:function(){return ca.on(M)},onClose:function(){return ca.off(M)}})}}}),jr.config({mode:"special",onSpace:E,onEnter:E,onDown:function(M,P){if(_f.isOpen(M)){var q=li.getCoupled(M,"sandbox");g(q)}else _f.open(M);return O.some(!0)},onEscape:function(M,P){return _f.isOpen(M)?(_f.close(M),O.some(!0)):O.none()}}),bn.config({})]),events:Wb(O.some(k)),eventOrder:J(J({},t.eventOrder),(d={},d[sc()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:C,domModification:{attributes:J(J({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(M){return{role:M}})),t.dom.tag==="button"?{type:m("type").getOr("button")}:{})}}},_f=ls({name:"Dropdown",configFields:UA(),partFields:iB(),factory:fC,apis:{open:function(t,n){return t.open(n)},expand:function(t,n){return t.expand(n)},close:function(t,n){return t.close(n)},isOpen:function(t,n){return t.isOpen(n)},repositionMenus:function(t,n){return t.repositionMenus(n)}}}),cl=function(){return el({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},uB=function(){return ro([t1(Rx(),U)])},sB=Object.freeze({__proto__:null,events:uB,exhibit:cl}),g_=Mi({fields:[],name:"unselecting",active:sB}),jA=function(t,n){return _f.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:cr([Pl.button(n.providers.isDisabled),Ui(),g_.config({}),ai.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:n.getSink,fetch:function(o){return qu.nu(function(s){return t.fetch(s)}).map(function(s){return O.from(fA(_t(f_(Nr("menu-value"),s,function(d){t.onItemAction(o,d)},t.columns,t.presets,nd.CLOSE_ON_EXECUTE,Ue,n.providers),{movement:rC(t.columns,t.presets)})))})},parts:{menu:N3(!1,1,t.presets)}})},WA=Nr("color-input-change"),qA=Nr("color-swatch-change"),GA=Nr("color-picker-cancel"),cB=function(t,n,o){var s=Da.parts.field({factory:v_,inputClasses:["tox-textfield"],onSetValue:function(C){return av.run(C).get(at)},inputBehaviours:cr([Jr.config({disabled:n.providers.isDisabled}),Ui(),ai.config({}),av.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(C){return yo(C.element)},notify:{onValid:function(C){var E=gr.getValue(C);en(C,WA,{color:E})}},validator:{validateOnLoad:!1,validate:function(C){var E=gr.getValue(C);if(E.length===0)return qu.pure($n.value(!0));var M=rr.fromTag("span");vn(M,"background-color",E);var P=ui(M,"background-color").fold(function(){return $n.error("blah")},function(q){return $n.value(E)});return qu.pure(P)}}})]),selectOnFocus:!1}),d=t.label.map(function(C){return sm(C,n.providers)}),m=function(C,E){en(C,qA,{value:E})},g=function(C,E){k.getOpt(C).each(function(M){E==="custom"?o.colorPicker(function(P){P.fold(function(){return Sa(M,GA)},function(q){m(M,q),Y4(q)})},"#ffffff"):E==="remove"?m(M,""):m(M,E)})},k=$a(jA({dom:{tag:"span",attributes:{"aria-label":n.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Hi,Mu,bi]},onLtr:function(){return[Mu,Hi,bi]}},components:[],fetch:Q4(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:g},n));return Da.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,k.asSpec()]}]),fieldBehaviours:cr([Nn("form-field-events",[Bt(WA,function(C,E){k.getOpt(C).each(function(M){vn(M.element,"background-color",E.event.color)}),en(C,$c,{name:t.name})}),Bt(qA,function(C,E){Da.getField(C).each(function(M){gr.setValue(M,E.event.value),aa.getCurrent(C).each(bn.focus)})}),Bt(GA,function(C,E){Da.getField(C).each(function(M){aa.getCurrent(C).each(bn.focus)})})])])})},lB=Mc({schema:[zt("dom")],name:"label"}),Lh=function(t){return Mc({name:""+t+"-edge",overrides:function(n){var o=n.model.manager.edgeActions[t];return o.fold(function(){return{}},function(s){return{events:ro([r1(Xl(),function(d,m,g){return s(d,g)},[n]),r1(Zc(),function(d,m,g){return s(d,g)},[n]),r1(vv(),function(d,m,g){g.mouseIsDown.get()&&s(d,g)},[n])])}})}})},fB=Lh("top-left"),KA=Lh("top"),dB=Lh("top-right"),vB=Lh("right"),mB=Lh("bottom-right"),XA=Lh("bottom"),dC=Lh("bottom-left"),hB=Lh("left"),vC=yu({name:"thumb",defaults:ue({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:ro([gv(Xl(),t,"spectrum"),gv(Yc(),t,"spectrum"),gv(_d(),t,"spectrum"),gv(Zc(),t,"spectrum"),gv(vv(),t,"spectrum"),gv(G_(),t,"spectrum")])}}}),y_=yu({schema:[ts("mouseIsDown",function(){return Qr(!1)})],name:"spectrum",overrides:function(t){var n=t.model,o=n.manager,s=function(d,m){return o.getValueFromEvent(m).map(function(g){return o.setValueFrom(d,t,g)})};return{behaviours:cr([jr.config({mode:"special",onLeft:function(d){return o.onLeft(d,t)},onRight:function(d){return o.onRight(d,t)},onUp:function(d){return o.onUp(d,t)},onDown:function(d){return o.onDown(d,t)}}),bn.config({})]),events:ro([Bt(Xl(),s),Bt(Yc(),s),Bt(Zc(),s),Bt(vv(),function(d,m){t.mouseIsDown.get()&&s(d,m)})])}}}),YA=[lB,hB,vB,KA,XA,fB,dB,dC,mB,vC,y_],ZA="slider.change.value",b_=ue(ZA),pB=function(t){return t.type.indexOf("touch")!==-1},JT=function(t){var n=t.event.raw;if(pB(n)){var o=n;return o.touches!==void 0&&o.touches.length===1?O.some(o.touches[0]).map(function(d){return Qa(d.clientX,d.clientY)}):O.none()}else{var s=n;return s.clientX!==void 0?O.some(s).map(function(d){return Qa(d.clientX,d.clientY)}):O.none()}},mC="top",gB="right",yB="bottom",JA="left",Hh=function(t){return t.model.minX},fm=function(t){return t.model.minY},ww=function(t){return t.model.minX-1},Gu=function(t){return t.model.minY-1},Vh=function(t){return t.model.maxX},Eg=function(t){return t.model.maxY},hC=function(t){return t.model.maxX+1},kw=function(t){return t.model.maxY+1},QA=function(t,n,o){return n(t)-o(t)},QT=function(t){return QA(t,Vh,Hh)},eE=function(t){return QA(t,Eg,fm)},tE=function(t){return QT(t)/2},id=function(t){return eE(t)/2},Uh=function(t){return t.stepSize},rE=function(t){return t.snapToGrid},Cw=function(t){return t.snapStart},pC=function(t){return t.rounded},gC=function(t,n){return t[n+"-edge"]!==void 0},eO=function(t){return gC(t,JA)},tO=function(t){return gC(t,gB)},rO=function(t){return gC(t,mC)},nO=function(t){return gC(t,yB)},ud=function(t){return t.model.value.get()},aO=function(t){return{x:t}},nE=function(t){return{y:t}},jh=function(t,n){return{x:t,y:n}},Nu=function(t,n){en(t,b_(),{value:n})},yC=function(t,n){Nu(t,jh(ww(n),Gu(n)))},bB=function(t,n){Nu(t,nE(Gu(n)))},_B=function(t,n){Nu(t,jh(tE(n),Gu(n)))},oO=function(t,n){Nu(t,jh(hC(n),Gu(n)))},iO=function(t,n){Nu(t,aO(hC(n)))},aE=function(t,n){Nu(t,jh(hC(n),id(n)))},uO=function(t,n){Nu(t,jh(hC(n),kw(n)))},xw=function(t,n){Nu(t,nE(kw(n)))},Sw=function(t,n){Nu(t,jh(tE(n),kw(n)))},wB=function(t,n){Nu(t,jh(ww(n),kw(n)))},kB=function(t,n){Nu(t,aO(ww(n)))},CB=function(t,n){Nu(t,jh(ww(n),id(n)))},oE=function(t,n,o,s){return t<n?t:t>o?o:t===n?n-1:Math.max(n,t-s)},iE=function(t,n,o,s){return t>o?t:t<n?n:t===o?o+1:Math.min(o,t+s)},sO=function(t,n,o){return Math.max(n,Math.min(o,t))},xB=function(t,n,o,s,d){return d.fold(function(){var m=t-n,g=Math.round(m/s)*s;return sO(n+g,n-1,o+1)},function(m){var g=(t-m)%s,k=Math.round(g/s),C=Math.floor((t-m)/s),E=Math.floor((o-m)/s),M=Math.min(E,C+k),P=m+M*s;return Math.max(m,P)})},uE=function(t,n,o){return Math.min(o,Math.max(t,n))-n},Wh=function(t){var n=t.min,o=t.max,s=t.range,d=t.value,m=t.step,g=t.snap,k=t.snapStart,C=t.rounded,E=t.hasMinEdge,M=t.hasMaxEdge,P=t.minBound,q=t.maxBound,Z=t.screenRange,ne=E?n-1:n,me=M?o+1:o;if(d<P)return ne;if(d>q)return me;var Re=uE(d,P,q),de=sO(Re/Z*s+n,ne,me);return g&&de>=n&&de<=o?xB(de,n,o,m,k):C?Math.round(de):de},cO=function(t){var n=t.min,o=t.max,s=t.range,d=t.value,m=t.hasMinEdge,g=t.hasMaxEdge,k=t.maxBound,C=t.maxOffset,E=t.centerMinEdge,M=t.centerMaxEdge;return d<n?m?0:E:d>o?g?k:M:(d-n)/s*C},bC="top",lO="right",fO="bottom",sE="left",SB="width",TB="height",sd=function(t){return t.element.dom.getBoundingClientRect()},ll=function(t,n){return t[n]},_C=function(t){var n=sd(t);return ll(n,sE)},cE=function(t){var n=sd(t);return ll(n,lO)},__=function(t){var n=sd(t);return ll(n,bC)},wC=function(t){var n=sd(t);return ll(n,fO)},lE=function(t){var n=sd(t);return ll(n,SB)},dO=function(t){var n=sd(t);return ll(n,TB)},vO=function(t,n,o){return(t+n)/2-o},Tw=function(t,n){var o=sd(t),s=sd(n),d=ll(o,sE),m=ll(o,lO),g=ll(s,sE);return vO(d,m,g)},fE=function(t,n){var o=sd(t),s=sd(n),d=ll(o,bC),m=ll(o,fO),g=ll(s,bC);return vO(d,m,g)},kC=function(t,n){en(t,b_(),{value:n})},CC=function(t){return{x:t}},dE=function(t,n,o){var s={min:Hh(n),max:Vh(n),range:QT(n),value:o,step:Uh(n),snap:rE(n),snapStart:Cw(n),rounded:pC(n),hasMinEdge:eO(n),hasMaxEdge:tO(n),minBound:_C(t),maxBound:cE(t),screenRange:lE(t)};return Wh(s)},EB=function(t,n,o){var s=dE(t,n,o),d=CC(s);return kC(t,d),s},dm=function(t,n){var o=Hh(n);kC(t,CC(o))},vE=function(t,n){var o=Vh(n);kC(t,CC(o))},mO=function(t,n,o){var s=t>0?iE:oE,d=s(ud(o).x,Hh(o),Vh(o),Uh(o));return kC(n,CC(d)),O.some(d)},mE=function(t){return function(n,o){return mO(t,n,o).map(U)}},hE=function(t){var n=JT(t);return n.map(function(o){return o.left})},hO=function(t,n,o,s,d){var m=0,g=lE(t),k=s.bind(function(M){return O.some(Tw(M,t))}).getOr(m),C=d.bind(function(M){return O.some(Tw(M,t))}).getOr(g),E={min:Hh(n),max:Vh(n),range:QT(n),value:o,hasMinEdge:eO(n),hasMaxEdge:tO(n),minBound:_C(t),minOffset:m,maxBound:cE(t),maxOffset:g,centerMinEdge:k,centerMaxEdge:C};return cO(E)},w_=function(t,n,o,s,d,m){var g=hO(n,m,o,s,d);return _C(n)-_C(t)+g},pO=function(t,n,o,s){var d=ud(o),m=w_(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),g=Tu(n.element)/2;vn(n.element,"left",m-g+"px")},gO=mE(-1),zB=mE(1),AB=O.none,OB=O.none,RB={"top-left":O.none(),top:O.none(),"top-right":O.none(),right:O.some(iO),"bottom-right":O.none(),bottom:O.none(),"bottom-left":O.none(),left:O.some(kB)},yO=Object.freeze({__proto__:null,setValueFrom:EB,setToMin:dm,setToMax:vE,findValueOfOffset:dE,getValueFromEvent:hE,findPositionOfValue:w_,setPositionFromValue:pO,onLeft:gO,onRight:zB,onUp:AB,onDown:OB,edgeActions:RB}),Ew=function(t,n){en(t,b_(),{value:n})},xC=function(t){return{y:t}},pE=function(t,n,o){var s={min:fm(n),max:Eg(n),range:eE(n),value:o,step:Uh(n),snap:rE(n),snapStart:Cw(n),rounded:pC(n),hasMinEdge:rO(n),hasMaxEdge:nO(n),minBound:__(t),maxBound:wC(t),screenRange:dO(t)};return Wh(s)},DB=function(t,n,o){var s=pE(t,n,o),d=xC(s);return Ew(t,d),s},SC=function(t,n){var o=fm(n);Ew(t,xC(o))},MB=function(t,n){var o=Eg(n);Ew(t,xC(o))},BB=function(t,n,o){var s=t>0?iE:oE,d=s(ud(o).y,fm(o),Eg(o),Uh(o));return Ew(n,xC(d)),O.some(d)},gE=function(t){return function(n,o){return BB(t,n,o).map(U)}},bO=function(t){var n=JT(t);return n.map(function(o){return o.top})},NB=function(t,n,o,s,d){var m=0,g=dO(t),k=s.bind(function(M){return O.some(fE(M,t))}).getOr(m),C=d.bind(function(M){return O.some(fE(M,t))}).getOr(g),E={min:fm(n),max:Eg(n),range:eE(n),value:o,hasMinEdge:rO(n),hasMaxEdge:nO(n),minBound:__(t),minOffset:m,maxBound:wC(t),maxOffset:g,centerMinEdge:k,centerMaxEdge:C};return cO(E)},yE=function(t,n,o,s,d,m){var g=NB(n,m,o,s,d);return __(n)-__(t)+g},TC=function(t,n,o,s){var d=ud(o),m=yE(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),g=pi(n.element)/2;vn(n.element,"top",m-g+"px")},PB=O.none,FB=O.none,IB=gE(-1),$B=gE(1),EC={"top-left":O.none(),top:O.some(bB),"top-right":O.none(),right:O.none(),"bottom-right":O.none(),bottom:O.some(xw),"bottom-left":O.none(),left:O.none()},bE=Object.freeze({__proto__:null,setValueFrom:DB,setToMin:SC,setToMax:MB,findValueOfOffset:pE,getValueFromEvent:bO,findPositionOfValue:yE,setPositionFromValue:TC,onLeft:PB,onRight:FB,onUp:IB,onDown:$B,edgeActions:EC}),zC=function(t,n){en(t,b_(),{value:n})},AC=function(t,n){return{x:t,y:n}},OC=function(t,n,o){var s=dE(t,n,o.left),d=pE(t,n,o.top),m=AC(s,d);return zC(t,m),m},LB=function(t,n,o,s){var d=t>0?iE:oE,m=n?ud(s).x:d(ud(s).x,Hh(s),Vh(s),Uh(s)),g=n?d(ud(s).y,fm(s),Eg(s),Uh(s)):ud(s).y;return zC(o,AC(m,g)),O.some(m)},k_=function(t,n){return function(o,s){return LB(t,n,o,s).map(U)}},_O=function(t,n){var o=Hh(n),s=fm(n);zC(t,AC(o,s))},HB=function(t,n){var o=Vh(n),s=Eg(n);zC(t,AC(o,s))},VB=function(t){return JT(t)},wO=function(t,n,o,s){var d=ud(o),m=w_(t,s.getSpectrum(t),d.x,s.getLeftEdge(t),s.getRightEdge(t),o),g=yE(t,s.getSpectrum(t),d.y,s.getTopEdge(t),s.getBottomEdge(t),o),k=Tu(n.element)/2,C=pi(n.element)/2;vn(n.element,"left",m-k+"px"),vn(n.element,"top",g-C+"px")},kO=k_(-1,!1),UB=k_(1,!1),CO=k_(-1,!0),xO=k_(1,!0),SO={"top-left":O.some(yC),top:O.some(_B),"top-right":O.some(oO),right:O.some(aE),"bottom-right":O.some(uO),bottom:O.some(Sw),"bottom-left":O.some(wB),left:O.some(CB)},TO=Object.freeze({__proto__:null,setValueFrom:OC,setToMin:_O,setToMax:HB,getValueFromEvent:VB,setPositionFromValue:wO,onLeft:kO,onRight:UB,onUp:CO,onDown:xO,edgeActions:SO}),jB=[Fe("stepSize",1),Fe("onChange",at),Fe("onChoose",at),Fe("onInit",at),Fe("onDragStart",at),Fe("onDragEnd",at),Fe("snapToGrid",!1),Fe("rounded",!0),Oa("snapStart"),ks("model",Tc("mode",{x:[Fe("minX",0),Fe("maxX",100),ts("value",function(t){return Qr(t.mode.minX)}),zt("getInitialValue"),uo("manager",yO)],y:[Fe("minY",0),Fe("maxY",100),ts("value",function(t){return Qr(t.mode.minY)}),zt("getInitialValue"),uo("manager",bE)],xy:[Fe("minX",0),Fe("maxX",100),Fe("minY",0),Fe("maxY",100),ts("value",function(t){return Qr({x:t.mode.minX,y:t.mode.minY})}),zt("getInitialValue"),uo("manager",TO)]})),Bi("sliderBehaviours",[jr,gr]),ts("mouseIsDown",function(){return Qr(!1)})],WB=function(t,n,o,s){var d,m=function(Be){return vf(Be,t,"thumb")},g=function(Be){return vf(Be,t,"spectrum")},k=function(Be){return Za(Be,t,"left-edge")},C=function(Be){return Za(Be,t,"right-edge")},E=function(Be){return Za(Be,t,"top-edge")},M=function(Be){return Za(Be,t,"bottom-edge")},P=t.model,q=P.manager,Z=function(Be,it){q.setPositionFromValue(Be,it,t,{getLeftEdge:k,getRightEdge:C,getTopEdge:E,getBottomEdge:M,getSpectrum:g})},ne=function(Be,it){P.value.set(it);var xt=m(Be);Z(Be,xt)},me=function(Be,it){ne(Be,it);var xt=m(Be);return t.onChange(Be,xt,it),O.some(!0)},Re=function(Be){q.setToMin(Be,t)},de=function(Be){q.setToMax(Be,t)},Ne=function(Be){var it=function(){Za(Be,t,"thumb").each(function(yr){var Dt=P.value.get();t.onChoose(Be,yr,Dt)})},xt=t.mouseIsDown.get();t.mouseIsDown.set(!1),xt&&it()},mt=function(Be,it){it.stop(),t.mouseIsDown.set(!0),t.onDragStart(Be,m(Be))},ft=function(Be,it){it.stop(),t.onDragEnd(Be,m(Be)),Ne(Be)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.sliderBehaviours,[jr.config({mode:"special",focusIn:function(Be){return Za(Be,t,"spectrum").map(jr.focusIn).map(U)}}),gr.config({store:{mode:"manual",getValue:function(Be){return P.value.get()}}}),Hu.config({channels:(d={},d[n0()]={onReceive:Ne},d)})]),events:ro([Bt(b_(),function(Be,it){me(Be,it.event.value)}),Bn(function(Be,it){var xt=P.getInitialValue();P.value.set(xt);var yr=m(Be);Z(Be,yr);var Dt=g(Be);t.onInit(Be,yr,Dt,P.value.get())}),Bt(Xl(),mt),Bt(_d(),ft),Bt(Zc(),mt),Bt(G_(),ft)]),apis:{resetToMin:Re,resetToMax:de,setValue:ne,refresh:Z},domModification:{styles:{position:"relative"}}}},wf=ls({name:"Slider",configFields:jB,partFields:YA,factory:WB,apis:{setValue:function(t,n,o){t.setValue(n,o)},resetToMin:function(t,n){t.resetToMin(n)},resetToMax:function(t,n){t.resetToMax(n)},refresh:function(t,n){t.refresh(n)}}}),RC=Nr("rgb-hex-update"),EO=Nr("slider-update"),_E=Nr("palette-update"),qB=function(t,n){var o=wf.parts.spectrum({dom:{tag:"div",classes:[n("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=wf.parts.thumb({dom:{tag:"div",classes:[n("hue-slider-thumb")],attributes:{role:"presentation"}}});return wf.sketch({dom:{tag:"div",classes:[n("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ue({y:0})},components:[o,s],sliderBehaviours:cr([bn.config({})]),onChange:function(d,m,g){en(d,EO,{value:g})}})},zO="form",wE=[Bi("formBehaviours",[gr])],AO=function(t){return"<alloy.field."+t+">"},GB=function(t){var n=function(){var m=[],g=function(k,C){return m.push(k),b0(zO,AO(k),C)};return{field:g,record:ue(m)}}(),o=t(n),s=n.record(),d=$t(s,function(m){return yu({name:m,pname:AO(m)})});return x0(zO,wE,d,XB,o)},KB=function(t,n){return t.fold(function(){return $n.error(n)},$n.value)},XB=function(t,n){return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.formBehaviours,[gr.config({store:{mode:"manual",getValue:function(o){var s=d2(o,t);return kn(s,function(d,m){return d().bind(function(g){var k=aa.getCurrent(g);return KB(k,new Error("Cannot find a current component to extract the value from for form part '"+m+"': "+ns(g.element)))}).map(gr.getValue)})},setValue:function(o,s){Rn(s,function(d,m){Za(o,t,m).each(function(g){aa.getCurrent(g).each(function(k){gr.setValue(k,d)})})})}}})]),apis:{getField:function(o,s){return Za(o,t,s).bind(aa.getCurrent)}}}},C_={getField:Fo(function(t,n,o){return t.getField(n,o)}),sketch:GB},OO=Nr("valid-input"),RO=Nr("invalid-input"),kE=Nr("validating-input"),CE="colorcustom.rgb.",YB=function(t,n,o,s){var d=function(q,Z){return av.config({invalidClass:n("invalid"),notify:{onValidate:function(ne){en(ne,kE,{type:q})},onValid:function(ne){en(ne,OO,{type:q,value:gr.getValue(ne)})},onInvalid:function(ne){en(ne,RO,{type:q,value:gr.getValue(ne)})}},validator:{validate:function(ne){var me=gr.getValue(ne),Re=Z(me)?$n.value(!0):$n.error(t("aria.input.invalid"));return qu.pure(Re)},validateOnLoad:!1}})},m=function(q,Z,ne,me,Re){var de=t(CE+"range"),Ne=Da.parts.label({dom:{tag:"label",innerHtml:ne,attributes:{"aria-label":me}}}),mt=Da.parts.field({data:Re,factory:v_,inputAttributes:J({type:"text"},Z==="hex"?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:cr([d(Z,q),ai.config({})]),onSetValue:function(xt){if(av.isInvalid(xt)){var yr=av.run(xt);yr.get(at)}}}),ft=[Ne,mt],Be=Z!=="hex"?[Da.parts["aria-descriptor"]({text:de})]:[],it=ft.concat(Be);return{dom:{tag:"div",attributes:{role:"presentation"}},components:it}},g=function(q,Z){var ne=vw(Z);return C_.getField(q,"hex").each(function(me){bn.isFocused(me)||gr.setValue(q,{hex:ne.value})}),ne},k=function(q,Z){var ne=Z.red,me=Z.green,Re=Z.blue;gr.setValue(q,{red:ne,green:me,blue:Re})},C=$a({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),E=function(q,Z){C.getOpt(q).each(function(ne){vn(ne.element,"background-color","#"+Z.value)})},M=function(){var q={red:Qr(O.some(255)),green:Qr(O.some(255)),blue:Qr(O.some(255)),hex:Qr(O.some("ffffff"))},Z=function(Ct,ar){var Fr=mw(ar);k(Ct,Fr),de(Fr)},ne=function(Ct){return q[Ct].get()},me=function(Ct,ar){q[Ct].set(ar)},Re=function(){return ne("red").bind(function(Ct){return ne("green").bind(function(ar){return ne("blue").map(function(Fr){return um(Ct,ar,Fr,1)})})})},de=function(Ct){var ar=Ct.red,Fr=Ct.green,Ot=Ct.blue;me("red",O.some(ar)),me("green",O.some(Fr)),me("blue",O.some(Ot))},Ne=function(Ct,ar){var Fr=ar.event;Fr.type!=="hex"?me(Fr.type,O.none()):s(Ct)},mt=function(Ct,ar){o(Ct);var Fr=$4(ar);me("hex",O.some(ar));var Ot=mw(Fr);k(Ct,Ot),de(Ot),en(Ct,RC,{hex:Fr}),E(Ct,Fr)},ft=function(Ct,ar,Fr){var Ot=parseInt(Fr,10);me(ar,O.some(Ot)),Re().each(function(Ar){var Ur=g(Ct,Ar);en(Ct,RC,{hex:Ur}),E(Ct,Ur)})},Be=function(Ct){return Ct.type==="hex"},it=function(Ct,ar){var Fr=ar.event;Be(Fr)?mt(Ct,Fr.value):ft(Ct,Fr.type,Fr.value)},xt=function(Ct){return{label:t(CE+Ct+".label"),description:t(CE+Ct+".description")}},yr=xt("red"),Dt=xt("green"),_r=xt("blue"),Pt=xt("hex");return _t(C_.sketch(function(Ct){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Ct.field("red",Da.sketch(m(K3,"red",yr.label,yr.description,255))),Ct.field("green",Da.sketch(m(K3,"green",Dt.label,Dt.description,255))),Ct.field("blue",Da.sketch(m(K3,"blue",_r.label,_r.description,255))),Ct.field("hex",Da.sketch(m(V4,"hex",Pt.label,Pt.description,"ffffff"))),C.asSpec()],formBehaviours:cr([av.config({invalidClass:n("form-invalid")}),Nn("rgb-form-events",[Bt(OO,it),Bt(RO,Ne),Bt(kE,Ne)])])}}),{apis:{updateHex:function(Ct,ar){gr.setValue(Ct,{hex:ar.value}),Z(Ct,ar),E(Ct,ar)}}})},P=gc({factory:M,name:"RgbForm",configFields:[],apis:{updateHex:function(q,Z,ne){q.updateHex(Z,ne)}},extraApis:{}});return P},DO=function(t,n){var o=wf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[n("sv-palette-spectrum")]}}),s=wf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette-thumb")],innerHtml:"<div class="+n("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function(E,M){var P=E.width,q=E.height,Z=E.getContext("2d");if(Z!==null){Z.fillStyle=M,Z.fillRect(0,0,P,q);var ne=Z.createLinearGradient(0,0,P,0);ne.addColorStop(0,"rgba(255,255,255,1)"),ne.addColorStop(1,"rgba(255,255,255,0)"),Z.fillStyle=ne,Z.fillRect(0,0,P,q);var me=Z.createLinearGradient(0,0,0,q);me.addColorStop(0,"rgba(0,0,0,0)"),me.addColorStop(1,"rgba(0,0,0,1)"),Z.fillStyle=me,Z.fillRect(0,0,P,q)}},m=function(E,M){var P=E.components()[0].element.dom,q=hw(M,100,100),Z=OT(q);d(P,W4(Z))},g=function(E,M){var P=DT(mw(M));wf.setValue(E,{x:P.saturation,y:100-P.value})},k=function(E){var M=ue({x:0,y:0}),P=function(ne,me,Re){en(ne,_E,{value:Re})},q=function(ne,me,Re,de){d(Re.element.dom,W4(q4))},Z=cr([aa.config({find:O.some}),bn.config({})]);return wf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette")]},model:{mode:"xy",getInitialValue:M},rounded:!1,components:[o,s],onChange:P,onInit:q,sliderBehaviours:Z})},C=gc({factory:k,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(E,M,P){m(M,P)},setThumb:function(E,M,P){g(M,P)}},extraApis:{}});return C},ZB=function(t,n){var o=function(d){var m=YB(t,n,d.onValidHex,d.onInvalidHex),g=DO(t,n),k=function(it){return(100-it)/100*360},C=function(it){return 100-it/360*100},E={paletteRgba:Qr(q4),paletteHue:Qr(0)},M=$a(qB(t,n)),P=$a(g.sketch({})),q=$a(m.sketch({})),Z=function(it,xt,yr){P.getOpt(it).each(function(Dt){g.setHue(Dt,yr)})},ne=function(it,xt){q.getOpt(it).each(function(yr){m.updateHex(yr,xt)})},me=function(it,xt,yr){M.getOpt(it).each(function(Dt){wf.setValue(Dt,{y:C(yr)})})},Re=function(it,xt){P.getOpt(it).each(function(yr){g.setThumb(yr,xt)})},de=function(it,xt){var yr=mw(it);E.paletteRgba.set(yr),E.paletteHue.set(xt)},Ne=function(it,xt,yr,Dt){de(xt,yr),Qe(Dt,function(_r){_r(it,xt,yr)})},mt=function(){var it=[ne];return function(xt,yr){var Dt=yr.event.value,_r=E.paletteHue.get(),Pt=hw(_r,Dt.x,100-Dt.y),Ct=MT(Pt);Ne(xt,Ct,_r,it)}},ft=function(){var it=[Z,ne];return function(xt,yr){var Dt=k(yr.event.value.y),_r=E.paletteRgba.get(),Pt=DT(_r),Ct=hw(Dt,Pt.saturation,Pt.value),ar=MT(Ct);Ne(xt,ar,Dt,it)}},Be=function(){var it=[Z,me,Re];return function(xt,yr){var Dt=yr.event.hex,_r=oM(Dt);Ne(xt,Dt,_r.hue,it)}};return{uid:d.uid,dom:d.dom,components:[P.asSpec(),M.asSpec(),q.asSpec()],behaviours:cr([Nn("colour-picker-events",[Bt(RC,Be()),Bt(_E,mt()),Bt(EO,ft())]),aa.config({find:function(it){return q.getOpt(it)}}),jr.config({mode:"acyclic"})])}},s=gc({name:"ColourPicker",configFields:[zt("dom"),Fe("onValidHex",at),Fe("onInvalidHex",at)],factory:o});return s},JB=function(){return aa.config({find:O.some})},QB=function(t){return aa.config({find:t.getOpt})},MO=function(t){return aa.config({find:function(n){return _(n.element,t).bind(function(o){return n.getSystem().getByDom(o).toOptional()})}})},cd={self:JB,memento:QB,childAt:MO},eN={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},BO=function(t){return eN[t]},NO=function(t){return BO(t)},PO=function(t){var n=function(g){return"tox-"+g},o=ZB(NO,n),s=function(g){en(g,nv,{name:"hex-valid",value:!0})},d=function(g){en(g,nv,{name:"hex-valid",value:!1})},m=$a(o.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[m.asSpec()],behaviours:cr([gr.config({store:{mode:"manual",getValue:function(g){var k=m.get(g),C=aa.getCurrent(k),E=C.bind(function(M){var P=gr.getValue(M);return P.hex});return E.map(function(M){return"#"+M}).getOr("")},setValue:function(g,k){var C=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,E=C.exec(k),M=m.get(g),P=aa.getCurrent(M);P.fold(function(){console.log("Can not find form")},function(q){gr.setValue(q,{hex:O.from(E[1]).getOr("")}),C_.getField(q,"hex").each(function(Z){Sa(Z,mv())})})}}}),cd.self()])}},tN=tinymce.util.Tools.resolve("tinymce.Resource"),FO=function(t){return dr(t,"init")},IO=function(t){var n=Yo(),o=$a({dom:{tag:t.tag}}),s=Yo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:cr([Nn("custom-editor-events",[Bn(function(d){o.getOpt(d).each(function(m){(FO(t)?t.init(m.element.dom):tN.load(t.scriptId,t.scriptUrl).then(function(g){return g(m.element.dom,t.settings)})).then(function(g){s.on(function(k){g.setValue(k)}),s.clear(),n.set(g)})})})]),gr.config({store:{mode:"manual",getValue:function(){return n.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,m){n.get().fold(function(){s.set(m)},function(g){return g.setValue(m)})}}}),cd.self()]),components:[o.asSpec()]}},qh=tinymce.util.Tools.resolve("tinymce.util.Tools"),rN=Kr([Fe("preprocess",Je),Fe("postprocess",Je)]),nN=function(t,n){var o=Ua("RepresentingConfigs.memento processors",rN,n);return gr.config({store:{mode:"manual",getValue:function(s){var d=t.get(s),m=gr.getValue(d);return o.postprocess(m)},setValue:function(s,d){var m=o.preprocess(d),g=t.get(s);gr.setValue(g,m)}}})},$O=function(t,n,o){return gr.config(_t({store:{mode:"manual",getValue:n,setValue:o}},t.map(function(s){return{store:{initialValue:s}}}).getOr({})))},xE=function(t,n,o){return $O(t,function(s){return n(s.element)},function(s,d){return o(s.element,d)})},aN=function(t){return xE(t,ef,$m)},LO=function(t){return xE(t,Yl,Vf)},oN=function(t){return gr.config({store:{mode:"memory",initialValue:t}})},zg={memento:nN,withElement:xE,withComp:$O,domValue:aN,domHtml:LO,memory:oN},iN="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",wa=function(t,n){var o=qh.explode(n.getSetting("images_file_types",iN,"string")),s=function(d){return fa(o,function(m){return $r(d.name.toLowerCase(),"."+m.toLowerCase())})};return qe(ba(t),s)},x_=function(t,n){var o=function(P,q){q.stop()},s=function(P){return function(q,Z){Qe(P,function(ne){ne(q,Z)})}},d=function(P,q){if(!Jr.isDisabled(P)){var Z=q.event.raw;g(P,Z.dataTransfer.files)}},m=function(P,q){var Z=q.event.raw.target;g(P,Z.files)},g=function(P,q){gr.setValue(P,wa(q,n)),en(P,$c,{name:t.name})},k=$a({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:cr([Nn("input-file-events",[yv(Rm()),yv(kd())])])}),C=function(P){return{uid:P.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:cr([zg.memory([]),cd.self(),Jr.config({}),ca.config({toggleClass:"dragenter",toggleOnExecute:!1}),Nn("dropzone-events",[Bt("dragenter",s([o,ca.toggle])),Bt("dragleave",s([o,ca.toggle])),Bt("dragover",o),Bt("drop",s([o,d])),Bt(Om(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:n.translate("Drop an image here")}},Ks.sketch({dom:{tag:"button",innerHtml:n.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[k.asSpec()],action:function(q){var Z=k.get(q);Z.element.dom.click()},buttonBehaviours:cr([ai.config({}),Pl.button(n.isDisabled),Ui()])})]}]}},E=t.label.map(function(P){return sm(P,n)}),M=Da.parts.field({factory:{sketch:C}});return yw(E,M,["tox-form__group--stretched"],[])},HO=function(t,n){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:$t(t.items,n.interpreter)}},DC=Nr("alloy-fake-before-tabstop"),MC=Nr("alloy-fake-after-tabstop"),VO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:cr([bn.config({ignore:!0}),ai.config({})])}},UO=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[VO([DC]),t,VO([MC])],behaviours:cr([cd.childAt(1)])}},jO=function(t,n){en(t,Qg(),{raw:{which:9,shiftKey:n}})},WO=function(t,n){var o=n.element;as(o,DC)?jO(t,!0):as(o,MC)&&jO(t,!1)},zw=function(t){return gw(t,["."+DC,"."+MC].join(","),Ue)},uN=!(Zt().browser.isIE()||Zt().browser.isEdge()),sN=function(t){var n=Qr("");return{getValue:function(o){return n.get()},setValue:function(o,s){if(t)Fn(o.element,"srcdoc",s);else{Fn(o.element,"src","javascript:''");var d=o.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}n.set(s)}}},cN=function(t,n){var o=uN&&t.sandboxed,s=J(J({},t.label.map(function(C){return{title:C}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),d=sN(o),m=t.label.map(function(C){return sm(C,n)}),g=function(C){return UO({uid:C.uid,dom:{tag:"iframe",attributes:s},behaviours:cr([ai.config({}),bn.config({}),zg.withComp(O.none(),d.getValue,d.setValue)])})},k=Da.parts.field({factory:{sketch:g}});return yw(m,k,["tox-form__group--stretched"],[])},S_=function(t,n){return fN(document.createElement("canvas"),t,n)},lN=function(t){var n=S_(t.width,t.height),o=vm(n);return o.drawImage(t,0,0),n},vm=function(t){return t.getContext("2d")},fN=function(t,n,o){return t.width=n,t.height=o,t},SE=function(t){return t.naturalWidth||t.width},TE=function(t){return t.naturalHeight||t.height},dN=function(t){return new bf(function(n,o){var s=URL.createObjectURL(t),d=new Image,m=function(){d.removeEventListener("load",g),d.removeEventListener("error",k)},g=function(){m(),n(d)},k=function(){m(),o("Unable to load data of type "+t.type+": "+s)};d.addEventListener("load",g),d.addEventListener("error",k),d.src=s,d.complete&&setTimeout(g,0)})},qO=function(t){var n=t.split(","),o=/data:([^;]+)/.exec(n[0]);if(!o)return O.none();for(var s=o[1],d=n[1],m=1024,g=atob(d),k=g.length,C=Math.ceil(k/m),E=new Array(C),M=0;M<C;++M){for(var P=M*m,q=Math.min(P+m,k),Z=new Array(q-P),ne=P,me=0;ne<q;++me,++ne)Z[me]=g[ne].charCodeAt(0);E[M]=new Uint8Array(Z)}return O.some(new Blob(E,{type:s}))},vN=function(t){return new bf(function(n,o){qO(t).fold(function(){o("uri is not base64: "+t)},n)})},GO=function(t,n,o){return n=n||"image/png",tt(HTMLCanvasElement.prototype.toBlob)?new bf(function(s,d){t.toBlob(function(m){m?s(m):d()},n,o)}):vN(t.toDataURL(n,o))},mN=function(t,n,o){return n=n||"image/png",t.toDataURL(n,o)},hN=function(t){return dN(t).then(function(n){gN(n);var o=S_(SE(n),TE(n)),s=vm(o);return s.drawImage(n,0,0),o})},pN=function(t){return new bf(function(n){var o=new FileReader;o.onloadend=function(){n(o.result)},o.readAsDataURL(t)})},gN=function(t){URL.revokeObjectURL(t.src)},EE=function(t,n,o){var s=n.type,d=ue(s),m=function(){return bf.resolve(n)},g=ue(o),k=function(){return o.split(",")[1]},C=function(q,Z){return t.then(function(ne){return GO(ne,q,Z)})},E=function(q,Z){return t.then(function(ne){return mN(ne,q,Z)})},M=function(q,Z){return E(q,Z).then(function(ne){return ne.split(",")[1]})},P=function(){return t.then(lN)};return{getType:d,toBlob:m,toDataURL:g,toBase64:k,toAdjustedBlob:C,toAdjustedDataURL:E,toAdjustedBase64:M,toCanvas:P}},yN=function(t){return pN(t).then(function(n){return EE(hN(t),t,n)})},Gh=function(t,n){return GO(t,n).then(function(o){return EE(bf.resolve(t),o,t.toDataURL())})},bN=function(t){return yN(t)},T_=function(t,n,o){var s=typeof t=="string"?parseFloat(t):t;return s>o?s=o:s<n&&(s=n),s},zE=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},BC=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],AE=function(t,n){for(var o=[],s=new Array(25),d,m=0;m<5;m++){for(var g=0;g<5;g++)o[g]=n[g+m*5];for(var g=0;g<5;g++){d=0;for(var k=0;k<5;k++)d+=t[g+k*5]*o[k];s[g+m*5]=d}}return s},_N=function(t,n){var o;return n=T_(n,-1,1),n*=100,n<0?o=127+n/100*127:(o=n%1,o===0?o=BC[n]:o=BC[Math.floor(n)]*(1-o)+BC[Math.floor(n)+1]*o,o=o*127+127),AE(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},wN=function(t,n){return n=T_(255*n,-255,255),AE(t,[1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1])},kN=function(t,n,o,s){return n=T_(n,0,2),o=T_(o,0,2),s=T_(s,0,2),AE(t,[n,0,0,0,0,0,o,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},OE=function(t,n){return t.toCanvas().then(function(o){return CN(o,t.getType(),n)})},CN=function(t,n,o){var s=vm(t),d=function(g,k){for(var C,E,M,P,q=g.data,Z=k[0],ne=k[1],me=k[2],Re=k[3],de=k[4],Ne=k[5],mt=k[6],ft=k[7],Be=k[8],it=k[9],xt=k[10],yr=k[11],Dt=k[12],_r=k[13],Pt=k[14],Ct=k[15],ar=k[16],Fr=k[17],Ot=k[18],Ar=k[19],Ur=0;Ur<q.length;Ur+=4)C=q[Ur],E=q[Ur+1],M=q[Ur+2],P=q[Ur+3],q[Ur]=C*Z+E*ne+M*me+P*Re+de,q[Ur+1]=C*Ne+E*mt+M*ft+P*Be+it,q[Ur+2]=C*xt+E*yr+M*Dt+P*_r+Pt,q[Ur+3]=C*Ct+E*ar+M*Fr+P*Ot+Ar;return g},m=d(s.getImageData(0,0,t.width,t.height),o);return s.putImageData(m,0,0),Gh(t,n)},Aw=function(t,n){return t.toCanvas().then(function(o){return xN(o,t.getType(),n)})},xN=function(t,n,o){var s=vm(t),d=function(k,C,E){for(var M=function(ar,Fr,Ot){return ar>Ot?ar=Ot:ar<Fr&&(ar=Fr),ar},P=Math.round(Math.sqrt(E.length)),q=Math.floor(P/2),Z=k.data,ne=C.data,me=k.width,Re=k.height,de=0;de<Re;de++)for(var Ne=0;Ne<me;Ne++){for(var mt=0,ft=0,Be=0,it=0;it<P;it++)for(var xt=0;xt<P;xt++){var yr=M(Ne+xt-q,0,me-1),Dt=M(de+it-q,0,Re-1),_r=(Dt*me+yr)*4,Pt=E[it*P+xt];mt+=Z[_r]*Pt,ft+=Z[_r+1]*Pt,Be+=Z[_r+2]*Pt}var Ct=(de*me+Ne)*4;ne[Ct]=M(mt,0,255),ne[Ct+1]=M(ft,0,255),ne[Ct+2]=M(Be,0,255)}return C},m=s.getImageData(0,0,t.width,t.height),g=s.getImageData(0,0,t.width,t.height);return g=d(m,g,o),s.putImageData(g,0,0),Gh(t,n)},RE=function(t){var n=function(o,s,d){for(var m=vm(o),g=new Array(256),k=function(M,P){for(var q=M.data,Z=0;Z<q.length;Z+=4)q[Z]=P[q[Z]],q[Z+1]=P[q[Z+1]],q[Z+2]=P[q[Z+2]];return M},C=0;C<g.length;C++)g[C]=t(C,d);var E=k(m.getImageData(0,0,o.width,o.height),g);return m.putImageData(E,0,0),Gh(o,s)};return function(o,s){return o.toCanvas().then(function(d){return n(d,o.getType(),s)})}},KO=function(t){return function(n,o){return OE(n,t(zE(),o))}},SN=function(t){return function(n){return OE(n,t)}},TN=function(t){return function(n){return Aw(n,t)}},EN=SN([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),XO=KO(wN),YO=KO(_N),zN=function(t,n,o,s){return OE(t,kN(zE(),n,o,s))},NC=TN([0,-1,0,-1,5,-1,0,-1,0]),PC=RE(function(t,n){return Math.pow(t/255,1-n)*255}),ZO=function(t,n,o){var s=SE(t),d=TE(t),m=n/s,g=o/d,k=!1;(m<.5||m>2)&&(m=m<.5?.5:2,k=!0),(g<.5||g>2)&&(g=g<.5?.5:2,k=!0);var C=AN(t,m,g);return k?C.then(function(E){return ZO(E,n,o)}):C},AN=function(t,n,o){return new bf(function(s){var d=SE(t),m=TE(t),g=Math.floor(d*n),k=Math.floor(m*o),C=S_(g,k),E=vm(C);E.drawImage(t,0,0,d,m,0,0,g,k),s(C)})},JO=function(t,n){n===void 0&&(n=2);var o=Math.pow(10,n),s=Math.round(t*o);return Math.ceil(s/o)},ON=function(t,n){return t.toCanvas().then(function(o){return DE(o,t.getType(),n)})},DE=function(t,n,o){var s=o<0?360+o:o,d=s*Math.PI/180,m=t.width,g=t.height,k=Math.sin(d),C=Math.cos(d),E=JO(Math.abs(m*C)+Math.abs(g*k)),M=JO(Math.abs(m*k)+Math.abs(g*C)),P=S_(E,M),q=vm(P);return q.translate(E/2,M/2),q.rotate(d),q.drawImage(t,-m/2,-g/2),Gh(P,n)},ME=function(t,n){return t.toCanvas().then(function(o){return QO(o,t.getType(),n)})},QO=function(t,n,o){var s=S_(t.width,t.height),d=vm(s);return o==="v"?(d.scale(1,-1),d.drawImage(t,0,-s.height)):(d.scale(-1,1),d.drawImage(t,-s.width,0)),Gh(s,n)},RN=function(t,n,o,s,d){return t.toCanvas().then(function(m){return BE(m,t.getType(),n,o,s,d)})},BE=function(t,n,o,s,d,m){var g=S_(d,m),k=vm(g);return k.drawImage(t,-o,-s),Gh(g,n)},DN=function(t,n,o){return t.toCanvas().then(function(s){return ZO(s,n,o).then(function(d){return Gh(d,t.getType())})})},MN=function(t){return EN(t)},eR=function(t){return NC(t)},BN=function(t,n){return PC(t,n)},Ow=function(t,n,o,s){return zN(t,n,o,s)},NN=function(t,n){return XO(t,n)},PN=function(t,n){return YO(t,n)},tR=function(t,n){return ME(t,n)},FN=function(t,n,o,s,d){return RN(t,n,o,s,d)},rR=function(t,n,o){return DN(t,n,o)},nR=function(t,n){return ON(t,n)},aR=function(t,n,o){return yf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},n)},FC=function(t,n){return aR(t,n,[])},oR=function(t,n){return aR(t,n,[yn.config({})])},NE=function(t,n,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[n+"__select-label"]},behaviours:cr([yn.config({})])}},IC,iR=Nr("toolbar.button.execute"),IN=function(t){return Ws(function(n,o){j3(t,n)(function(s){en(n,iR,{buttonApi:s}),t.onAction(s)})})},uR=(IC={},IC[sc()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],IC),Ag=Nr("update-menu-text"),PE=Nr("update-menu-icon"),FE=function(t,n,o){var s=Qr(at),d=t.text.map(function(P){return $a(NE(P,n,o.providers))}),m=t.icon.map(function(P){return $a(oR(P,o.providers.icons))}),g=function(P,q){var Z=gr.getValue(P);return bn.focus(Z),en(Z,"keydown",{raw:q.event.raw}),_f.close(Z),O.some(!0)},k=t.role.fold(function(){return{}},function(P){return{role:P}}),C=t.tooltip.fold(function(){return{}},function(P){var q=o.providers.translate(P);return{title:q,"aria-label":q}}),E=yf("chevron-down",{tag:"div",classes:[n+"__select-chevron"]},o.providers.icons),M=$a(_f.sketch(J(J(J({},t.uid?{uid:t.uid}:{}),k),{dom:{tag:"button",classes:[n,n+"--select"].concat($t(t.classes,function(P){return n+"--"+P})),attributes:J({},C)},components:i_([m.map(function(P){return P.asSpec()}),d.map(function(P){return P.asSpec()}),O.some(E)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:cr(It(It([],t.dropdownBehaviours,!0),[Pl.button(function(){return t.disabled||o.providers.isDisabled()}),Ui(),g_.config({}),yn.config({}),Nn("dropdown-events",[o_(t,s),fw(t,s)]),Nn("menubutton-update-display-text",[Bt(Ag,function(P,q){d.bind(function(Z){return Z.getOpt(P)}).each(function(Z){yn.set(Z,[vu(o.providers.translate(q.event.text))])})}),Bt(PE,function(P,q){m.bind(function(Z){return Z.getOpt(P)}).each(function(Z){yn.set(Z,[oR(q.event.icon,o.providers.icons)])})})])],!1)),eventOrder:_t(uR,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:cr([jr.config({mode:"special",onLeft:g,onRight:g})]),lazySink:o.getSink,toggleClass:n+"--active",parts:{menu:N3(!1,t.columns,t.presets)},fetch:function(P){return qu.nu(Le(t.fetch,P))}})));return M.asSpec()},$N=function(t){return ee(t)},yc=function(t){return t.type==="separator"},LN=function(t){return dr(t,"getSubmenuItems")},IE={type:"separator"},sR=function(t,n){var o=Pe(t,function(s,d){return $N(d)?d===""?s:d==="|"?s.length>0&&!yc(s[s.length-1])?s.concat([IE]):s:dr(n,d.toLowerCase())?s.concat([n[d.toLowerCase()]]):s:s.concat([d])},[]);return o.length>0&&yc(o[o.length-1])&&o.pop(),o},cR=function(t,n){var o=t.getSubmenuItems(),s=Rw(o,n),d=_t(s.menus,Gl(t.value,s.items)),m=_t(s.expansions,Gl(t.value,t.value));return{item:t,menus:d,expansions:m}},$C=function(t,n){return LN(t)?cR(t,n):{item:t,menus:{},expansions:{}}},HN=function(t){if(yc(t))return t;var n=gt(t,"value").getOrThunk(function(){return Nr("generated-menu-item")});return _t({value:n},t)},Rw=function(t,n){var o=sR(ee(t)?t.split(" "):t,n);return be(o,function(s,d){var m=HN(d),g=$C(m,n);return{menus:_t(s.menus,g.menus),items:[g.item].concat(s.items),expansions:_t(s.expansions,g.expansions)}},{menus:{},expansions:{},items:[]})},E_=function(t,n,o,s){var d=Nr("primary-menu"),m=Rw(t,o.shared.providers.menuItems());if(m.items.length===0)return O.none();var g=lA(d,m.items,n,o,s),k=kn(m.menus,function(E,M){return lA(M,E,n,o,!1)}),C=_t(k,Gl(d,g));return O.from(ja.tieredData(d,C,m.expansions))},Dw=function(t){return{isDisabled:function(){return Jr.isDisabled(t)},setDisabled:function(n){return Jr.set(t,n)},setActive:function(n){var o=t.element;n?(Ai(o,"tox-tbtn--enabled"),Fn(o,"aria-pressed",!0)):(yi(o,"tox-tbtn--enabled"),Xi(o,"aria-pressed"))},isActive:function(){return as(t.element,"tox-tbtn--enabled")}}},LC=function(t,n,o,s){return FE({text:t.text,icon:t.icon,tooltip:t.tooltip,role:s,fetch:function(d,m){t.fetch(function(g){m(E_(g,nd.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:Dw,columns:1,presets:"normal",classes:[],dropdownBehaviours:[ai.config({})]},n,o.shared)},Fl=function(t,n,o){var s=function(m){return function(g){var k=!g.isActive();g.setActive(k),m.storage.set(k),o.shared.getSink().each(function(C){n().getOpt(C).each(function(E){Tl(E.element),en(E,nv,{name:m.name,value:m.storage.get()})})})}},d=function(m){return function(g){g.setActive(m.storage.get())}};return function(m){m($t(t,function(g){var k=g.text.fold(function(){return{}},function(C){return{text:C}});return J(J({type:g.type,active:!1},k),{onAction:s(g),onSetup:d(g)})}))}},lR=function(t,n,o,s,d,m){o===void 0&&(o=[]);var g=n.fold(function(){return{}},function(E){return{action:E}}),k=J({buttonBehaviours:cr([Pl.button(function(){return t.disabled||m.isDisabled()}),Ui(),ai.config({}),Nn("button press",[uy("click"),uy("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},g),C=_t(k,{dom:s});return _t(C,{components:d})},$E=function(t,n,o,s){s===void 0&&(s=[]);var d=t.tooltip.map(function(C){return{"aria-label":o.translate(C),title:o.translate(C)}}).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:d},g=t.icon.map(function(C){return FC(C,o.icons)}),k=i_([g]);return lR(t,n,s,m,k,o)},fR=function(t,n,o,s){s===void 0&&(s=[]);var d=$E(t,O.some(n),o,s);return Ks.sketch(d)},dR=function(t,n,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var m=o.translate(t.text),g=t.icon?t.icon.map(function(P){return FC(P,o.icons)}):O.none(),k=g.isSome()?i_([g]):[],C=g.isSome()?{}:{innerHtml:m},E=It(It(It(It([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),g.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),d,!0),M=J(J({tag:"button",classes:E},C),{attributes:{title:m}});return lR(t,n,s,M,k,o)},LE=function(t,n,o,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var m=dR(t,O.some(n),o,s,d);return Ks.sketch(m)},vR=function(t,n){return function(o){n==="custom"?en(o,nv,{name:t,value:{}}):n==="submit"?Sa(o,_w):n==="cancel"?Sa(o,Tg):console.error("Unknown button type: ",n)}},VN=function(t,n){return n==="menu"},UN=function(t,n){return n==="custom"||n==="cancel"||n==="submit"},HC=function(t,n,o){if(VN(t,n)){var s=function(){return g},d=t,m=J(J({},t),{onSetup:function(E){return E.setDisabled(t.disabled),at},fetch:Fl(d.items,s,o)}),g=$a(LC(m,"tox-tbtn",o,O.none()));return g.asSpec()}else if(UN(t,n)){var k=vR(t.name,n),C=J(J({},t),{borderless:!1});return LE(C,k,o.shared.providers,[])}else console.error("Unknown footer button type: ",n)},jN=function(t,n){var o=vR(t.name,"custom");return qM(O.none(),Da.parts.field(J({factory:Ks},dR(t,O.some(o),n,[zg.memory(""),cd.self()]))))},WN=ue([Fe("field1Name","field1"),Fe("field2Name","field2"),is("onLockedChange"),Ev(["lockClass"]),Fe("locked",!1),Dc.field("coupledFieldBehaviours",[aa,gr])]),mR=function(t,n,o){return Za(t,n,o).bind(aa.getCurrent)},HE=function(t,n){return yu({factory:Da,name:t,overrides:function(o){return{fieldBehaviours:cr([Nn("coupled-input-behaviour",[Bt(mv(),function(s){mR(s,o,n).each(function(d){Za(s,o,"lock").each(function(m){ca.isOn(m)&&o.onLockedChange(s,d,m)})})})])])}}})},hR=ue([HE("field1","field2"),HE("field2","field1"),yu({factory:Ks,schema:[zt("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:cr([ca.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),qN=function(t,n,o,s){return{uid:t.uid,dom:t.dom,components:n,behaviours:Dc.augment(t.coupledFieldBehaviours,[aa.config({find:O.some}),gr.config({store:{mode:"manual",getValue:function(d){var m,g=yb(d,t,["field1","field2"]);return m={},m[t.field1Name]=gr.getValue(g.field1()),m[t.field2Name]=gr.getValue(g.field2()),m},setValue:function(d,m){var g=yb(d,t,["field1","field2"]);un(m,t.field1Name)&&gr.setValue(g.field1(),m[t.field1Name]),un(m,t.field2Name)&&gr.setValue(g.field2(),m[t.field2Name])}}})]),apis:{getField1:function(d){return Za(d,t,"field1")},getField2:function(d){return Za(d,t,"field2")},getLock:function(d){return Za(d,t,"lock")}}}},Lc=ls({name:"FormCoupledInputs",configFields:WN(),partFields:hR(),factory:qN,apis:{getField1:function(t,n){return t.getField1(n)},getField2:function(t,n){return t.getField2(n)},getLock:function(t,n){return t.getLock(n)}}}),GN=function(t){var n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(d){return d in n?n[d]:1},s=t.value.toFixed(o(t.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+t.unit},VE=function(t){var n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=n.exec(t);if(o!==null){var s=parseFloat(o[1]),d=o[2];return $n.value({value:s,unit:d})}else return $n.error(t)},pR=function(t,n){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return dr(o,d)};return t.unit===n?O.some(t.value):s(t.unit)&&s(n)?o[t.unit]===o[n]?O.some(t.value):O.some(t.value/o[t.unit]*o[n]):O.none()},UE=function(t){return O.none()},KN=function(t,n){return function(o){return pR(o,n).map(function(s){return{value:s*t,unit:n}})}},XN=function(t,n){var o=VE(t).toOptional(),s=VE(n).toOptional();return xo(o,s,function(d,m){return pR(d,m.unit).map(function(g){return m.value/g}).map(function(g){return KN(g,m.unit)}).getOr(UE)}).getOr(UE)},gR=function(t,n){var o=UE,s=Nr("ratio-event"),d=function(P){return yf(P,{tag:"span",classes:["tox-icon","tox-lock-icon__"+P]},n.icons)},m=Lc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:n.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:cr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ui(),ai.config({})])}),g=function(P){return{dom:{tag:"div",classes:["tox-form__group"]},components:P}},k=function(P){return Da.parts.field({factory:v_,inputClasses:["tox-textfield"],inputBehaviours:cr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ui(),ai.config({}),Nn("size-input-events",[Bt(Ec(),function(q,Z){en(q,s,{isField1:P})}),Bt(Om(),function(q,Z){en(q,$c,{name:t.name})})])]),selectOnFocus:!1})},C=function(P){return{dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(P)}}},E=Lc.parts.field1(g([Da.parts.label(C("Width")),k(!0)])),M=Lc.parts.field2(g([Da.parts.label(C("Height")),k(!1)]));return Lc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[E,M,g([C("&nbsp;"),m])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(P,q,Z){VE(gr.getValue(P)).each(function(ne){o(ne).each(function(me){gr.setValue(q,GN(me))})})},coupledFieldBehaviours:cr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(P){Lc.getField1(P).bind(Da.getField).each(Jr.disable),Lc.getField2(P).bind(Da.getField).each(Jr.disable),Lc.getLock(P).each(Jr.disable)},onEnabled:function(P){Lc.getField1(P).bind(Da.getField).each(Jr.enable),Lc.getField2(P).bind(Da.getField).each(Jr.enable),Lc.getLock(P).each(Jr.enable)}}),Ui(),Nn("size-input-events2",[Bt(s,function(P,q){var Z=q.event.isField1,ne=Z?Lc.getField1(P):Lc.getField2(P),me=Z?Lc.getField2(P):Lc.getField1(P),Re=ne.map(gr.getValue).getOr(""),de=me.map(gr.getValue).getOr("");o=XN(Re,de)})])])})},YN=ue(Nr("undo")),ZN=ue(Nr("redo")),JN=ue(Nr("zoom")),QN=ue(Nr("back")),e7=ue(Nr("apply")),t7=ue(Nr("swap")),r7=ue(Nr("transform")),yR=ue(Nr("temp-transform")),n7=ue(Nr("transform-apply")),vs={undo:YN,redo:ZN,zoom:JN,back:QN,apply:e7,swap:t7,transform:r7,tempTransform:yR,transformApply:n7},bR=ue("save-state"),a7=ue("disable"),o7=ue("enable"),bc={formActionEvent:nv,saveState:bR,disable:a7,enable:o7},i7=function(t,n){var o=function(xr,Hn,Wa,$o){return $a(LE({name:xr,text:xr,disabled:Wa,primary:$o,icon:O.none(),borderless:!1},Hn,n))},s=function(xr,Hn,Wa,$o){return $a(fR({name:xr,icon:O.some(xr),tooltip:O.some(Hn),disabled:$o,primary:!1,borderless:!1},Wa,n))},d=function(xr,Hn){xr.map(function(Wa){var $o=Wa.get(Hn);$o.hasConfigured(Jr)&&Jr.disable($o)})},m=function(xr,Hn){xr.map(function(Wa){var $o=Wa.get(Hn);$o.hasConfigured(Jr)&&Jr.enable($o)})},g={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},k=at,C=function(xr,Hn,Wa){en(xr,Hn,Wa)},E=function(xr){return Sa(xr,bc.disable())},M=function(xr){return Sa(xr,bc.enable())},P=function(xr,Hn){E(xr),C(xr,vs.transform(),{transform:Hn}),M(xr)},q=function(xr,Hn){E(xr),C(xr,vs.tempTransform(),{transform:Hn}),M(xr)},Z=function(xr){return function(){hd.getOpt(xr).each(function(Hn){yn.set(Hn,[rp])})}},ne=function(xr,Hn){E(xr),C(xr,vs.transformApply(),{transform:Hn,swap:Z(xr)}),M(xr)},me=function(){return o("Back",function(xr){return C(xr,vs.back(),{swap:Z(xr)})},!1,!1)},Re=function(){return $a({dom:{tag:"div",classes:["tox-spacer"]},behaviours:cr([Jr.config({})])})},de=function(){return o("Apply",function(xr){return C(xr,vs.apply(),{swap:Z(xr)})},!0,!0)},Ne=function(){return function(xr){var Hn=t.getRect();return FN(xr,Hn.x,Hn.y,Hn.w,Hn.h)}},mt=[me(),Re(),o("Apply",function(xr){var Hn=Ne();ne(xr,Hn),t.hideCrop()},!1,!0)],ft=ds.sketch({dom:g,components:mt.map(function(xr){return xr.asSpec()}),containerBehaviours:cr([Nn("image-tools-crop-buttons-events",[Bt(bc.disable(),function(xr,Hn){d(mt,xr)}),Bt(bc.enable(),function(xr,Hn){m(mt,xr)})])])}),Be=$a(gR({name:"size",label:O.none(),constrain:!0,disabled:!1},n)),it=function(xr,Hn){return function(Wa){return rR(Wa,xr,Hn)}},xt=[me(),Re(),Be,Re(),o("Apply",function(xr){Be.getOpt(xr).each(function(Hn){var Wa=gr.getValue(Hn),$o=parseInt(Wa.width,10),ec=parseInt(Wa.height,10),Bs=it($o,ec);ne(xr,Bs)})},!1,!0)],yr=ds.sketch({dom:g,components:xt.map(function(xr){return xr.asSpec()}),containerBehaviours:cr([Nn("image-tools-resize-buttons-events",[Bt(bc.disable(),function(xr,Hn){d(xt,xr)}),Bt(bc.enable(),function(xr,Hn){m(xt,xr)})])])}),Dt=function(xr,Hn){return function(Wa){return xr(Wa,Hn)}},_r=Dt(tR,"h"),Pt=Dt(tR,"v"),Ct=Dt(nR,-90),ar=Dt(nR,90),Fr=function(xr,Hn){q(xr,Hn)},Ot=[me(),Re(),s("flip-horizontally","Flip horizontally",function(xr){Fr(xr,_r)},!1),s("flip-vertically","Flip vertically",function(xr){Fr(xr,Pt)},!1),s("rotate-left","Rotate counterclockwise",function(xr){Fr(xr,Ct)},!1),s("rotate-right","Rotate clockwise",function(xr){Fr(xr,ar)},!1),Re(),de()],Ar=ds.sketch({dom:g,components:Ot.map(function(xr){return xr.asSpec()}),containerBehaviours:cr([Nn("image-tools-fliprotate-buttons-events",[Bt(bc.disable(),function(xr,Hn){d(Ot,xr)}),Bt(bc.enable(),function(xr,Hn){m(Ot,xr)})])])}),Ur=function(xr,Hn,Wa,$o,ec){var Bs=wf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(xr)}}),Uc=wf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),$l=wf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return $a(wf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Wa,maxX:ec,getInitialValue:ue({x:$o})},components:[Bs,Uc,$l],sliderBehaviours:cr([bn.config({})]),onChoose:Hn}))},ia=function(xr,Hn,Wa,$o,ec){var Bs=function(Uc,$l,M_){var Ww=Dt(Hn,M_.x/100);P(Uc,Ww)};return Ur(xr,Bs,Wa,$o,ec)},Ha=function(xr,Hn,Wa,$o,ec){return[me(),ia(xr,Hn,Wa,$o,ec),de()]},po=function(xr,Hn,Wa,$o,ec){var Bs=Ha(xr,Hn,Wa,$o,ec);return ds.sketch({dom:g,components:Bs.map(function(Uc){return Uc.asSpec()}),containerBehaviours:cr([Nn("image-tools-filter-panel-buttons-events",[Bt(bc.disable(),function(Uc,$l){d(Bs,Uc)}),Bt(bc.enable(),function(Uc,$l){m(Bs,Uc)})])])})},Ko=[me(),Re(),de()],Vc=ds.sketch({dom:g,components:Ko.map(function(xr){return xr.asSpec()})}),ps=po("Brightness",NN,-100,0,100),vx=po("Contrast",PN,-100,0,100),au=po("Gamma",BN,-100,0,100),Ig=function(xr,Hn,Wa){return function($o){return Ow($o,xr,Hn,Wa)}},$g=function(xr){var Hn=function(Wa,$o,ec){var Bs=Vw.getOpt(Wa),Uc=Uw.getOpt(Wa),$l=Lg.getOpt(Wa);Bs.each(function(M_){Uc.each(function(Ww){$l.each(function(B_){var EF=gr.getValue(M_).x/100,zF=gr.getValue(B_).x/100,Vg=gr.getValue(Ww).x/100,N_=Ig(EF,zF,Vg);P(Wa,N_)})})})};return Ur(xr,Hn,0,100,200)},Vw=$g("R"),Lg=$g("G"),Uw=$g("B"),Qs=[me(),Vw,Lg,Uw,de()],md=ds.sketch({dom:g,components:Qs.map(function(xr){return xr.asSpec()})}),Ms=function(xr,Hn,Wa){return function($o){var ec=function(){hd.getOpt($o).each(function(Bs){yn.set(Bs,[xr]),Wa(Bs)})};C($o,vs.swap(),{transform:Hn,swap:ec})}},jw=function(xr){t.showCrop()},tp=function(xr){Be.getOpt(xr).each(function(Hn){var Wa=t.getMeasurements(),$o=Wa.width,ec=Wa.height;gr.setValue(Hn,{width:$o,height:ec})})},D_=O.some(eR),ou=O.some(MN),hm=[s("crop","Crop",Ms(ft,O.none(),jw),!1),s("resize","Resize",Ms(yr,O.none(),tp),!1),s("orientation","Orientation",Ms(Ar,O.none(),k),!1),s("brightness","Brightness",Ms(ps,O.none(),k),!1),s("sharpen","Sharpen",Ms(Vc,D_,k),!1),s("contrast","Contrast",Ms(vx,O.none(),k),!1),s("color-levels","Color levels",Ms(md,O.none(),k),!1),s("gamma","Gamma",Ms(au,O.none(),k),!1),s("invert","Invert",Ms(Vc,ou,k),!1)],rp=ds.sketch({dom:g,components:hm.map(function(xr){return xr.asSpec()})}),Hg=ds.sketch({dom:{tag:"div"},components:[rp],containerBehaviours:cr([yn.config({})])}),hd=$a(Hg),np=function(xr){return hd.getOpt(xr).map(function(Hn){var Wa=Hn.components()[0];return Wa.components()[Wa.components().length-1]})};return{memContainer:hd,getApplyButton:np}},_R=tinymce.util.Tools.resolve("tinymce.geom.Rect"),u7=tinymce.util.Tools.resolve("tinymce.util.Observable"),mm=tinymce.util.Tools.resolve("tinymce.util.VK"),s7=function(t){var n=Math.max,o=t.documentElement,s=t.body,d=n(o.scrollWidth,s.scrollWidth),m=n(o.clientWidth,s.clientWidth),g=n(o.offsetWidth,s.offsetWidth),k=n(o.scrollHeight,s.scrollHeight),C=n(o.clientHeight,s.clientHeight),E=n(o.offsetHeight,s.offsetHeight);return{width:d<g?m:d,height:k<E?C:k}},c7=function(t){return Ae(t.changedTouches)},jE=function(t){if(c7(t))for(var n="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<n.length;o++)t[n[o]]=t.changedTouches[0][n[o]]};function l7(t,n){var o,s,d,m,g=[],k=[],C=(o=n.document)!==null&&o!==void 0?o:document,E=(s=n.root)!==null&&s!==void 0?s:C,M=rr.fromDom(C),P,q,Z,ne=rr.fromDom(E.getElementById((d=n.handle)!==null&&d!==void 0?d:t)),me=function(mt){var ft=mt.raw,Be=s7(C);jE(ft),mt.prevent(),P=ft.button,q=ft.screenX,Z=ft.screenY;var it=Vo(ne,"cursor");m=rr.fromTag("div",C),Is(m,{position:"absolute",top:"0",left:"0",width:Be.width+"px",height:Be.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:it}),Eu(za(M),m),k.push(ni(M,"mousemove",Re),ni(M,"touchmove",Re),ni(M,"mouseup",de),ni(M,"touchend",de)),n.start(ft)},Re=function(mt){var ft=mt.raw;if(jE(ft),ft.button!==P)return de(mt);ft.deltaX=ft.screenX-q,ft.deltaY=ft.screenY-Z,mt.prevent(),n.drag(ft)},de=function(mt){jE(mt.raw),Qe(k,function(ft){return ft.unbind()}),k=[],bs(m),n.stop&&n.stop(mt.raw)},Ne=function(){Qe(k.concat(g),function(mt){return mt.unbind()}),k=[],g=[],Ae(m)&&bs(m)};return g.push(ni(ne,"mousedown",me),ni(ne,"touchstart",me)),{destroy:Ne}}var f7=0,d7=function(t,n,o,s,d){var m,g=[],k="tox-",C=k+"crid-"+f7++,E=rr.fromDom(s),M=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],P=["top","right","bottom","left"],q=function(Dt,_r){return{x:_r.x+Dt.x,y:_r.y+Dt.y,w:_r.w,h:_r.h}},Z=function(Dt,_r){return{x:_r.x-Dt.x,y:_r.y-Dt.y,w:_r.w,h:_r.h}},ne=function(){return Z(o,t)},me=function(Dt,_r,Pt,Ct){var ar=_r.x+Pt*Dt.deltaX,Fr=_r.y+Ct*Dt.deltaY,Ot=Math.max(20,_r.w+Pt*Dt.deltaW),Ar=Math.max(20,_r.h+Ct*Dt.deltaH),Ur=t=_R.clamp({x:ar,y:Fr,w:Ot,h:Ar},o,Dt.name==="move");Ur=Z(o,Ur),yr.fire("updateRect",{rect:Ur}),Be(Ur)},Re=function(){var Dt=function(ar){var Fr;return l7(C,{document:s.ownerDocument,root:Zr(E).dom,handle:C+"-"+ar.name,start:function(){Fr=t},drag:function(Ot){me(ar,Fr,Ot.deltaX,Ot.deltaY)}})},_r=rr.fromTag("div");Fs(_r,{id:C,class:k+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Eu(E,_r),Qe(P,function(ar){Oi(E,"#"+C).each(function(Fr){var Ot=rr.fromTag("div");Fs(Ot,{id:C+"-"+ar,class:k+"croprect-block","data-mce-bogus":"all"}),vn(Ot,"display","none"),Eu(Fr,Ot)})}),Qe(M,function(ar){Oi(E,"#"+C).each(function(Fr){var Ot=rr.fromTag("div");Fs(Ot,{id:C+"-"+ar.name,"aria-label":ar.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:ar.label}),Cv(Ot,[k+"croprect-handle",k+"croprect-handle-"+ar.name]),vn(Ot,"display","none"),Eu(Fr,Ot)})}),m=$t(M,Dt),Ne(t);var Pt=function(ar){Fn(ar.target,"aria-grabbed",ar.raw.type==="focus"?"true":"false")},Ct=function(ar){var Fr;Qe(M,function(Ar){if(bo(ar.target,"id")===C+"-"+Ar.name)return Fr=Ar,!1});var Ot=function(Ar,Ur,ia,Ha,po){Ar.stopPropagation(),Ar.preventDefault(),me(Fr,ia,Ha,po)};switch(ar.raw.keyCode){case mm.LEFT:Ot(ar,Fr,t,-10,0);break;case mm.RIGHT:Ot(ar,Fr,t,10,0);break;case mm.UP:Ot(ar,Fr,t,0,-10);break;case mm.DOWN:Ot(ar,Fr,t,0,10);break;case mm.ENTER:case mm.SPACEBAR:ar.prevent(),d();break}};g.push(ni(E,"focusin",Pt),ni(E,"focusout",Pt),ni(E,"keydown",Ct))},de=function(Dt){var _r=It(It([],$t(M,function(Ct){return"#"+C+"-"+Ct.name}),!0),$t(P,function(Ct){return"#"+C+"-"+Ct}),!0).join(","),Pt=Uu(E,_r);Dt?Qe(Pt,function(Ct){return Aa(Ct,"display")}):Qe(Pt,function(Ct){return vn(Ct,"display","none")})},Ne=function(Dt){var _r=function(Pt,Ct){Oi(E,"#"+C+"-"+Pt).each(function(ar){Is(ar,{left:Ct.x+"px",top:Ct.y+"px",width:Math.max(0,Ct.w)+"px",height:Math.max(0,Ct.h)+"px"})})};Qe(M,function(Pt){Oi(E,"#"+C+"-"+Pt.name).each(function(Ct){Is(Ct,{left:Dt.w*Pt.xMul+Dt.x+"px",top:Dt.h*Pt.yMul+Dt.y+"px"})})}),_r("top",{x:n.x,y:n.y,w:n.w,h:Dt.y-n.y}),_r("right",{x:Dt.x+Dt.w,y:Dt.y,w:n.w-Dt.x-Dt.w+n.x,h:Dt.h}),_r("bottom",{x:n.x,y:Dt.y+Dt.h,w:n.w,h:n.h-Dt.y-Dt.h+n.y}),_r("left",{x:n.x,y:Dt.y,w:Dt.x-n.x,h:Dt.h}),_r("move",Dt)},mt=function(Dt){t=Dt,Ne(t)},ft=function(Dt){n=Dt,Ne(t)},Be=function(Dt){mt(q(o,Dt))},it=function(Dt){o=Dt,Ne(t)},xt=function(){Qe(m,function(Dt){return Dt.destroy()}),m=[],Qe(g,function(Dt){return Dt.unbind()}),g=[]};Re();var yr=J(J({},u7),{toggleVisibility:de,setClampRect:it,setRect:mt,getInnerRect:ne,setInnerRect:Be,setViewPortRect:ft,destroy:xt});return yr},v7={create:d7},wR=function(t){return new _g(function(n){var o=function(){t.removeEventListener("load",o),n(t)};t.complete?n(t):t.addEventListener("load",o)})},m7=function(t){var n=$a({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Qr(1),s=D1(),d=Qr({x:0,y:0,w:1,h:1}),m=Qr({x:0,y:0,w:1,h:1}),g=function(Re,de){ne.getOpt(Re).each(function(Ne){var mt=o.get(),ft=Tu(Ne.element),Be=pi(Ne.element),it=de.dom.naturalWidth*mt,xt=de.dom.naturalHeight*mt,yr=Math.max(0,ft/2-it/2),Dt=Math.max(0,Be/2-xt/2),_r={left:yr.toString()+"px",top:Dt.toString()+"px",width:it.toString()+"px",height:xt.toString()+"px",position:"absolute"};Is(de,_r),n.getOpt(Ne).each(function(Pt){Is(Pt.element,_r)}),s.run(function(Pt){var Ct=d.get();Pt.setRect({x:Ct.x*mt+yr,y:Ct.y*mt+Dt,w:Ct.w*mt,h:Ct.h*mt}),Pt.setClampRect({x:yr,y:Dt,w:it,h:xt}),Pt.setViewPortRect({x:0,y:0,w:ft,h:Be})})})},k=function(Re,de){ne.getOpt(Re).each(function(Ne){var mt=Tu(Ne.element),ft=pi(Ne.element),Be=de.dom.naturalWidth,it=de.dom.naturalHeight,xt=Math.min(mt/Be,ft/it);xt>=1?o.set(1):o.set(xt)})},C=function(Re,de){var Ne=rr.fromTag("img");return Fn(Ne,"src",de),wR(Ne.dom).then(function(){Re.getSystem().isConnected()&&ne.getOpt(Re).map(function(mt){var ft=by({element:Ne});yn.replaceAt(mt,1,O.some(ft));var Be=m.get(),it={x:0,y:0,w:Ne.dom.naturalWidth,h:Ne.dom.naturalHeight};m.set(it);var xt=_R.inflate(it,-20,-20);d.set(xt),(Be.w!==it.w||Be.h!==it.h)&&k(mt,Ne),g(mt,Ne)})})},E=function(Re,de){var Ne=o.get(),mt=de>0?Math.min(2,Ne+.1):Math.max(.1,Ne-.1);o.set(mt),ne.getOpt(Re).each(function(ft){var Be=ft.components()[1].element;g(ft,Be)})},M=function(){s.run(function(Re){Re.toggleVisibility(!0)})},P=function(){s.run(function(Re){Re.toggleVisibility(!1)})},q=function(){return d.get()},Z=ds.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[n.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:cr([Nn("image-panel-crop-events",[Bn(function(Re){ne.getOpt(Re).each(function(de){var Ne=de.element.dom,mt=v7.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Ne,at);mt.toggleVisibility(!1),mt.on("updateRect",function(ft){var Be=ft.rect,it=o.get(),xt={x:Math.round(Be.x/it),y:Math.round(Be.y/it),w:Math.round(Be.w/it),h:Math.round(Be.h/it)};d.set(xt)}),s.set(mt)})}),fc(function(){s.clear()})])])}],containerBehaviours:cr([yn.config({}),Nn("image-panel-events",[Bn(function(Re){C(Re,t)})])])}),ne=$a(Z),me=function(){var Re=m.get();return{width:Re.w,height:Re.h}};return{memContainer:ne,updateSrc:C,zoom:E,showCrop:M,hideCrop:P,getRect:q,getMeasurements:me}},VC=function(t,n,o,s,d){return fR({name:t,icon:O.some(n),disabled:o,tooltip:O.some(t),primary:!1,borderless:!1},s,d)},kR=function(t,n){n?Jr.enable(t):Jr.disable(t)},h7=function(t){var n=function(m,g,k){o.getOpt(m).each(function(C){kR(C,g)}),s.getOpt(m).each(function(C){kR(C,k)})},o=$a(VC("Undo","undo",!0,function(m){en(m,vs.undo(),{direction:1})},t)),s=$a(VC("Redo","redo",!0,function(m){en(m,vs.redo(),{direction:1})},t)),d=ds.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),s.asSpec(),VC("Zoom in","zoom-in",!1,function(m){en(m,vs.zoom(),{direction:1})},t),VC("Zoom out","zoom-out",!1,function(m){en(m,vs.zoom(),{direction:-1})},t)]});return{container:d,updateButtonUndoStates:n}};function p7(){var t=[],n=-1,o=function(k){var C=t.splice(++n);return t.push(k),{state:k,removed:C}},s=function(){if(m())return t[--n]},d=function(){if(g())return t[++n]},m=function(){return n>0},g=function(){return n!==-1&&n<t.length-1};return{data:t,add:o,undo:s,redo:d,canUndo:m,canRedo:g}}var g7=function(t){var n=Qr(t),o=Yo(),s=p7();s.add(t);var d=function(){return n.get()},m=function(Ne){n.set(Ne)},g=function(){return o.get().getOrThunk(n.get)},k=function(Ne){var mt=C(Ne);return P(),o.set(mt),mt.url},C=function(Ne){return{blob:Ne,url:URL.createObjectURL(Ne)}},E=function(Ne){URL.revokeObjectURL(Ne.url)},M=function(Ne){qh.each(Ne,E)},P=function(){o.on(E),o.clear()},q=function(Ne){var mt=C(Ne);m(mt);var ft=s.add(mt).removed;return M(ft),mt.url},Z=function(Ne){var mt=C(Ne);return o.set(mt),mt.url},ne=function(Ne){return o.get().fold(at,function(mt){q(mt.blob),Ne()})},me=function(){var Ne=s.undo();return m(Ne),Ne.url},Re=function(){var Ne=s.redo();return m(Ne),Ne.url},de=function(){var Ne=s.canUndo(),mt=s.canRedo();return{undoEnabled:Ne,redoEnabled:mt}};return{getBlobState:d,setBlobState:m,addBlobState:q,getTempState:g,updateTempState:k,addTempState:Z,applyTempState:ne,destroyTempState:P,undo:me,redo:Re,getHistoryStates:de}},y7=function(t,n){var o=g7(t.currentState),s=function(Pt,Ct){var ar=Ct.event.direction;xt.zoom(Pt,ar)},d=function(Pt){var Ct=o.getHistoryStates();yr.updateButtonUndoStates(Pt,Ct.undoEnabled,Ct.redoEnabled),en(Pt,bc.formActionEvent,{name:bc.saveState(),value:Ct.undoEnabled})},m=function(Pt){yr.updateButtonUndoStates(Pt,!1,!1)},g=function(Pt,Ct){var ar=o.undo();P(Pt,ar).then(function(Fr){M(Pt),d(Pt)})},k=function(Pt,Ct){var ar=o.redo();P(Pt,ar).then(function(Fr){M(Pt),d(Pt)})},C=function(Pt){return Pt.toBlob()},E=function(Pt){en(Pt,bc.formActionEvent,{name:bc.disable(),value:{}})},M=function(Pt){Dt.getApplyButton(Pt).each(function(Ct){Jr.enable(Ct)}),en(Pt,bc.formActionEvent,{name:bc.enable(),value:{}})},P=function(Pt,Ct){return E(Pt),xt.updateSrc(Pt,Ct)},q=function(Pt,Ct,ar,Fr,Ot){E(Pt),bN(Ct).then(ar).then(C).then(Fr).then(function(Ar){return P(Pt,Ar)}).then(function(){d(Pt),Ot(),M(Pt)}).catch(function(Ar){console.log(Ar),Pt.getSystem().isConnected()&&M(Pt)})},Z=function(Pt,Ct,ar){var Fr=o.getBlobState().blob,Ot=function(Ar){return o.updateTempState(Ar)};q(Pt,Fr,Ct,Ot,ar)},ne=function(Pt,Ct){var ar=o.getTempState().blob,Fr=function(Ot){return o.addTempState(Ot)};q(Pt,ar,Ct,Fr,at)},me=function(Pt,Ct,ar){var Fr=o.getBlobState().blob,Ot=function(Ar){var Ur=o.addBlobState(Ar);return de(Pt),Ur};q(Pt,Fr,Ct,Ot,ar)},Re=function(Pt,Ct){var ar=function(){de(Pt);var Fr=Ct.event.swap;Fr()};o.applyTempState(ar)},de=function(Pt){var Ct=o.getBlobState().url;return o.destroyTempState(),d(Pt),Ct},Ne=function(Pt){var Ct=de(Pt);P(Pt,Ct).then(function(ar){M(Pt)})},mt=function(Pt,Ct){Ne(Pt);var ar=Ct.event.swap;ar(),xt.hideCrop()},ft=function(Pt,Ct){return Z(Pt,Ct.event.transform,at)},Be=function(Pt,Ct){return ne(Pt,Ct.event.transform)},it=function(Pt,Ct){return me(Pt,Ct.event.transform,Ct.event.swap)},xt=m7(t.currentState.url),yr=h7(n),Dt=i7(xt,n),_r=function(Pt,Ct){m(Pt);var ar=Ct.event.transform,Fr=Ct.event.swap;ar.fold(function(){Fr()},function(Ot){Z(Pt,Ot,Fr)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Dt.memContainer.asSpec(),xt.memContainer.asSpec(),yr.container],behaviours:cr([gr.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),Nn("image-tools-events",[Bt(vs.undo(),g),Bt(vs.redo(),k),Bt(vs.zoom(),s),Bt(vs.back(),mt),Bt(vs.apply(),Re),Bt(vs.transform(),ft),Bt(vs.tempTransform(),Be),Bt(vs.transformApply(),it),Bt(vs.swap(),_r)]),cd.self()])}},CR=function(t,n){var o={dom:{tag:"label",innerHtml:n.providers.translate(t.label),classes:["tox-label"]}},s=$t(t.items,n.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(s),behaviours:cr([cd.self(),yn.config({}),zg.domHtml(O.none()),jr.config({mode:"acyclic"})])}},WE=function(t){return!dr(t,"items")},xR="data-value",SR=function(t,n,o,s){return $t(o,function(d){return WE(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){gr.setValue(t,d.value),en(t,$c,{name:n}),bn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return SR(t,n,d.items,s)}}})},TR=function(t,n){return Zn(t,function(o){return WE(o)?mo(o.value===n,o):TR(o.items,n)})},b7=function(t,n){var o=n.shared.providers,s=Yn(t.items).filter(WE),d=t.label.map(function(k){return sm(k,o)}),m=Da.parts.field({dom:{},factory:{sketch:function(k){return FE({uid:k.uid,text:s.map(function(C){return C.text}),icon:O.none(),tooltip:t.label,role:O.none(),fetch:function(C,E){var M=SR(C,t.name,t.items,gr.getValue(C));E(E_(M,nd.CLOSE_ON_EXECUTE,n,!1))},onSetup:ue(at),getApi:ue({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[ai.config({}),gr.config({store:{mode:"manual",initialValue:s.map(function(C){return C.value}).getOr(""),getValue:function(C){return bo(C.element,xR)},setValue:function(C,E){TR(t.items,E).each(function(M){Fn(C.element,xR,M.value),en(C,Ag,{text:M.text})})}}})]},"tox-listbox",n.shared)}}}),g={dom:{tag:"div",classes:["tox-listboxfield"]},components:[m]};return Da.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xt([d.toArray(),[g]]),fieldBehaviours:cr([Jr.config({disabled:ue(t.disabled),onDisabled:function(k){Da.getField(k).each(Jr.disable)},onEnabled:function(k){Da.getField(k).each(Jr.enable)}})])})},_7=function(t,n){return{dom:{tag:"div",classes:t.classes},components:$t(t.items,n.shared.interpreter)}},ER=function(t,n){var o=$t(t.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=t.data.map(function(d){return Gl("initialValue",d)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:Qi(t.selectBehaviours,[bn.config({}),gr.config({store:J({mode:"manual",getValue:function(d){return ef(d.element)},setValue:function(d,m){var g=Nt(t.options,function(k){return k.value===m});g.isSome()&&$m(d.element,m)}},s)})])}},Og=gc({name:"HtmlSelect",configFields:[zt("options"),Bi("selectBehaviours",[bn,gr]),Fe("selectClasses",[]),Fe("selectAttributes",{}),Oa("data")],factory:ER}),UC=function(t,n){var o=$t(t.items,function(k){return{text:n.translate(k.text),value:k.value}}),s=t.label.map(function(k){return sm(k,n)}),d=Da.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:Og,selectBehaviours:cr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),ai.config({}),Nn("selectbox-change",[Bt(Om(),function(k,C){en(k,$c,{name:t.name})})])])}),m=t.size>1?O.none():O.some(yf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},n.icons)),g={dom:{tag:"div",classes:["tox-selectfield"]},components:Xt([[d],m.toArray()])};return Da.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Xt([s.toArray(),[g]]),fieldBehaviours:cr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(k){Da.getField(k).each(Jr.disable)},onEnabled:function(k){Da.getField(k).each(Jr.enable)}}),Ui()])})},w7=function(t,n){var o=function(k){return{dom:{tag:"th",innerHtml:n.translate(k)}}},s=function(k){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:$t(k,o)}]}},d=function(k){return{dom:{tag:"td",innerHtml:n.translate(k)}}},m=function(k){return{dom:{tag:"tr"},components:$t(k,d)}},g=function(k){return{dom:{tag:"tbody"},components:$t(k,m)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(t.header),g(t.cells)],behaviours:cr([ai.config({}),bn.config({})])}},zR=function(t,n){var o=t.label.map(function(q){return sm(q,n)}),s=[Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),Ui(),jr.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(q){return Sa(q,_w),O.some(!0)}}),Nn("textfield-change",[Bt(mv(),function(q,Z){en(q,$c,{name:t.name})}),Bt(Z_(),function(q,Z){en(q,$c,{name:t.name})})]),ai.config({})],d=t.validation.map(function(q){return av.config({getRoot:function(Z){return yo(Z.element)},invalidClass:"tox-invalid",validator:{validate:function(Z){var ne=gr.getValue(Z),me=q.validator(ne);return qu.pure(me===!0?$n.value(ne):$n.error(me))},validateOnLoad:q.validateOnLoad}})}).toArray(),m=t.placeholder.fold(ue({}),function(q){return{placeholder:n.translate(q)}}),g=t.inputMode.fold(ue({}),function(q){return{inputmode:q}}),k=J(J({},m),g),C=Da.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:k,inputClasses:[t.classname],inputBehaviours:cr(Xt([s,d])),selectOnFocus:!1,factory:v_}),E=t.flex?["tox-form__group--stretched"]:[],M=E.concat(t.maximized?["tox-form-group--maximize"]:[]),P=[Jr.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(q){Da.getField(q).each(Jr.disable)},onEnabled:function(q){Da.getField(q).each(Jr.enable)}}),Ui()];return yw(o,C,M,P)},qE=function(t,n){return zR({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:O.none(),maximized:t.maximized},n)},k7=function(t,n){return zR({name:t.name,multiline:!0,label:t.label,inputMode:O.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:O.none(),maximized:t.maximized},n)},C7=function(t,n){var o=t.stream.streams,s=o.setup(t,n);return ro([Bt(t.event,s),fc(function(){return n.cancel()})].concat(t.cancelEvent.map(function(d){return[Bt(d,function(){return n.cancel()})]}).getOr([])))},GE=Object.freeze({__proto__:null,events:C7}),KE=function(t){var n=Qr(null),o=function(){return{timer:n.get()!==null?"set":"unset"}},s=function(m){n.set(m)},d=function(){var m=n.get();m!==null&&m.cancel()};return Du({readState:o,setTimer:s,cancel:d})},AR=function(t){return t.stream.streams.state(t)},x7=Object.freeze({__proto__:null,throttle:KE,init:AR}),S7=function(t,n){var o=t.stream,s=E3(t.onStream,o.delay);return n.setTimer(s),function(d,m){s.throttle(d,m),o.stopEvent&&m.stop()}},T7=[ks("stream",Tc("mode",{throttle:[zt("delay"),Fe("stopEvent",!0),uo("streams",{setup:S7,state:KE})]})),Fe("event","input"),Oa("cancelEvent"),is("onStream")],OR=Mi({fields:T7,name:"streaming",active:GE,state:x7}),jC=function(t,n,o){var s=gr.getValue(o);gr.setValue(n,s),RR(n)},XE=function(t,n){var o=t.element,s=ef(o),d=o.dom;bo(o,"type")!=="number"&&n(d,s)},RR=function(t){XE(t,function(n,o){return n.setSelectionRange(o.length,o.length)})},DR=function(t,n){XE(t,function(o,s){return o.setSelectionRange(n,s.length)})},E7=function(t,n,o){if(t.selectsOver){var s=gr.getValue(n),d=t.getDisplayText(s),m=gr.getValue(o),g=t.getDisplayText(m);return g.indexOf(d)===0?O.some(function(){jC(t,n,o),DR(n,d.length)}):O.none()}else return O.none()},YE=ue("alloy.typeahead.itemexecute"),ZE=function(t,n,o,s){var d=function(C,E,M){t.previewing.set(!1);var P=li.getCoupled(C,"sandbox");if(ma.isOpen(P))aa.getCurrent(P).each(function(Z){Na.getHighlighted(Z).fold(function(){M(Z)},function(){ok(P,Z.element,"keydown",E)})});else{var q=function(Z){aa.getCurrent(Z).each(M)};KT(t,g(C),C,P,s,q,od.HighlightFirst).get(at)}},m=TA(t),g=function(C){return function(E){return E.map(function(M){var P=Mt(M.menus),q=Pr(P,function(ne){return qe(ne.items,function(me){return me.type==="item"})}),Z=gr.getState(C);return Z.update($t(q,function(ne){return ne.data})),M})}},k=[bn.config({}),gr.config({onSetValue:t.onSetValue,store:J({mode:"dataset",getDataKey:function(C){return ef(C.element)},getFallbackEntry:function(C){return{value:C,meta:{}}},setValue:function(C,E){$m(C.element,t.model.getDisplayText(E))}},t.initialData.map(function(C){return Gl("initialValue",C)}).getOr({}))}),OR.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(C,E){var M=li.getCoupled(C,"sandbox"),P=bn.isFocused(C);if(P&&ef(C.element).length>=t.minChars){var q=aa.getCurrent(M).bind(function(ne){return Na.getHighlighted(ne).map(gr.getValue)});t.previewing.set(!0);var Z=function(ne){aa.getCurrent(M).each(function(me){q.fold(function(){t.model.selectsOver&&Na.highlightFirst(me)},function(Re){Na.highlightBy(me,function(de){var Ne=gr.getValue(de);return Ne.value===Re.value}),Na.getHighlighted(me).orThunk(function(){return Na.highlightFirst(me),O.none()})})})};KT(t,g(C),C,M,s,Z,od.HighlightFirst).get(at)}},cancelEvent:J_()}),jr.config({mode:"special",onDown:function(C,E){return d(C,E,Na.highlightFirst),O.some(!0)},onEscape:function(C){var E=li.getCoupled(C,"sandbox");return ma.isOpen(E)?(ma.close(E),O.some(!0)):O.none()},onUp:function(C,E){return d(C,E,Na.highlightLast),O.some(!0)},onEnter:function(C){var E=li.getCoupled(C,"sandbox"),M=ma.isOpen(E);if(M&&!t.previewing.get())return aa.getCurrent(E).bind(function(q){return Na.getHighlighted(q)}).map(function(q){return en(C,YE(),{item:q}),!0});var P=gr.getValue(C);return Sa(C,J_()),t.onExecute(E,C,P),M&&ma.close(E),O.some(!0)}}),ca.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),li.config({others:{sandbox:function(C){return YT(t,C,{onOpen:function(){return ca.on(C)},onClose:function(){return ca.off(C)}})}}}),Nn("typeaheadevents",[Ws(function(C){var E=at;h_(t,g(C),C,s,E,od.HighlightFirst).get(at)}),Bt(YE(),function(C,E){var M=li.getCoupled(C,"sandbox");jC(t.model,C,E.event.item),Sa(C,J_()),t.onItemExecute(C,M,E.event.item,gr.getValue(C)),ma.close(M),RR(C)})].concat(t.dismissOnBlur?[Bt(Y_(),function(C){var E=li.getCoupled(C,"sandbox");El(E.element).isNone()&&ma.close(E)})]:[]))];return{uid:t.uid,dom:sl(_t(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:J(J({},m),Qi(t.typeaheadBehaviours,k)),eventOrder:t.eventOrder}},JE=ue([Oa("lazySink"),zt("fetch"),Fe("minChars",5),Fe("responseTime",1e3),Ra("onOpen"),Fe("getHotspot",O.some),Fe("getAnchorOverrides",ue({})),Fe("layouts",O.none()),Fe("eventOrder",{}),H_("model",{},[Fe("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Fe("selectsOver",!0),Fe("populateFromBrowse",!0)]),Ra("onSetValue"),Ri("onExecute"),Ra("onItemExecute"),Fe("inputClasses",[]),Fe("inputAttributes",{}),Fe("inputStyles",{}),Fe("matchWidth",!0),Fe("useMinWidth",!1),Fe("dismissOnBlur",!0),Ev(["openClass"]),Oa("initialData"),Bi("typeaheadBehaviours",[bn,gr,OR,jr,ca,li]),ts("previewing",function(){return Qr(!0)})].concat(cm()).concat(ZT())),Mw=ue([pc({schema:[Tv()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(n,o){t.previewing.get()?n.getSystem().getByUid(t.uid).each(function(s){E7(t.model,s,o).fold(function(){return Na.dehighlight(n,o)},function(d){return d()})}):n.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&jC(t.model,s,o)}),t.previewing.set(!1)},onExecute:function(n,o){return n.getSystem().getByUid(t.uid).toOptional().map(function(s){return en(s,YE(),{item:o}),!0})},onHover:function(n,o){t.previewing.set(!1),n.getSystem().getByUid(t.uid).each(function(s){t.model.populateFromBrowse&&jC(t.model,s,o)})}}}})]),z7=ls({name:"Typeahead",configFields:JE(),partFields:Mw(),factory:ZE}),kf=function(t){var n=function(){return kf(t.toCached())},o=function(C){return kf(t.bind(function(E){return E.fold(function(M){return qu.pure($n.error(M))},function(M){return C(M)})}))},s=function(C){return kf(t.map(function(E){return E.bind(C)}))},d=function(C){return kf(t.map(function(E){return E.map(C)}))},m=function(C){return kf(t.map(function(E){return E.mapError(C)}))},g=function(C,E){return t.map(function(M){return M.fold(C,E)})},k=function(C,E){return kf(qu.nu(function(M){var P=!1,q=setTimeout(function(){P=!0,M($n.error(E()))},C);t.get(function(Z){P||(clearTimeout(q),M(Z))})}))};return J(J({},t),{toCached:n,bindFuture:o,bindResult:s,mapResult:d,mapError:m,foldResult:g,withTimeout:k})},MR=function(t){return kf(qu.nu(t))},BR=function(t){return kf(qu.pure($n.value(t)))},A7=function(t){return kf(qu.pure($n.error(t)))},NR=function(t){return kf(qu.pure(t))},PR=function(t){return kf(t.map($n.value))},FR=function(t){return MR(function(n){t.then(function(o){n($n.value(o))},function(o){n($n.error(o))})})},O7={nu:MR,wrap:kf,pure:BR,value:BR,error:A7,fromResult:NR,fromFuture:PR,fromPromise:FR},R7={type:"separator"},D7=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:at}},QE=function(t,n){return{type:"menuitem",value:n,text:t,meta:{attach:void 0},onAction:at}},M7=function(t){return $t(t,D7)},IR=function(t,n){return qe(n,function(o){return o.type===t})},$R=function(t,n){return M7(IR(t,n))},B7=function(t){return $R("header",t.targets)},N7=function(t){return $R("anchor",t.targets)},P7=function(t){return O.from(t.anchorTop).map(function(n){return QE("<top>",n)}).toArray()},LR=function(t){return O.from(t.anchorBottom).map(function(n){return QE("<bottom>",n)}).toArray()},Rg=function(t){return $t(t,function(n){return QE(n,n)})},HR=function(t){return Pe(t,function(n,o){var s=n.length===0||o.length===0;return s?n.concat(o):n.concat(R7,o)},[])},ez=function(t,n){var o=t.toLowerCase();return qe(n,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return ra(d.toLowerCase(),o)||ra(s.value.toLowerCase(),o)})},F7=function(t,n,o){var s=gr.getValue(n),d=s.meta.text!==void 0?s.meta.text:s.value,m=o.getLinkInformation();return m.fold(function(){return[]},function(g){var k=ez(d,Rg(o.getHistory(t)));return t==="file"?HR([k,ez(d,B7(g)),ez(d,Xt([P7(g),N7(g),LR(g)]))]):k})},VR=Nr("aria-invalid"),UR=function(t,n,o){var s,d=n.shared.providers,m=function(de){var Ne=gr.getValue(de);o.addToHistory(Ne.value,t.filetype)},g=Da.parts.field({factory:z7,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":VR,type:"url"},minChars:0,responseTime:0,fetch:function(de){var Ne=F7(t.filetype,de,o),mt=E_(Ne,nd.BUBBLE_TO_SANDBOX,n,!1);return qu.pure(mt)},getHotspot:function(de){return Z.getOpt(de)},onSetValue:function(de,Ne){de.hasConfigured(av)&&av.run(de).get(at)},typeaheadBehaviours:cr(Xt([o.getValidationHandler().map(function(de){return av.config({getRoot:function(Ne){return yo(Ne.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Ne,mt){E.getOpt(Ne).each(function(ft){Fn(ft.element,"title",d.translate(mt))})}},validator:{validate:function(Ne){var mt=gr.getValue(Ne);return O7.nu(function(ft){de({type:t.filetype,url:mt.value},function(Be){if(Be.status==="invalid"){var it=$n.error(Be.message);ft(it)}else{var xt=$n.value(Be.message);ft(xt)}})})},validateOnLoad:!1}})}).toArray(),[Jr.config({disabled:function(){return t.disabled||d.isDisabled()}}),ai.config({}),Nn("urlinput-events",Xt([t.filetype==="file"?[Bt(mv(),function(de){en(de,$c,{name:t.name})})]:[],[Bt(Om(),function(de){en(de,$c,{name:t.name}),m(de)}),Bt(Z_(),function(de){en(de,$c,{name:t.name}),m(de)})]]))]])),eventOrder:(s={},s[mv()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(de){return de.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:N3(!1,1,"normal")},onExecute:function(de,Ne,mt){en(Ne,_w,{})},onItemExecute:function(de,Ne,mt,ft){m(de),en(de,$c,{name:t.name})}}),k=t.label.map(function(de){return sm(de,d)}),C=function(de,Ne,mt,ft){return ft===void 0&&(ft=de),yf(mt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+de],attributes:J({title:d.translate(ft),"aria-live":"polite"},Ne.fold(function(){return{}},function(Be){return{id:Be}}))},d.icons)},E=$a(C("invalid",O.some(VR),"warning")),M=$a({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[E.asSpec()]}),P=o.getUrlPicker(t.filetype),q=Nr("browser.url.event"),Z=$a({dom:{tag:"div",classes:["tox-control-wrap"]},components:[g,M.asSpec()],behaviours:cr([Jr.config({disabled:function(){return t.disabled||d.isDisabled()}})])}),ne=$a(LE({name:t.name,icon:O.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(de){return Sa(de,q)},d,[],["tox-browse-url"])),me=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Xt([[Z.asSpec()],P.map(function(){return ne.asSpec()}).toArray()])}},Re=function(de){aa.getCurrent(de).each(function(Ne){var mt=gr.getValue(Ne),ft=J({fieldname:t.name},mt);P.each(function(Be){Be(ft).get(function(it){gr.setValue(Ne,it),en(de,$c,{name:t.name})})})})};return Da.sketch({dom:GM(),components:k.toArray().concat([me()]),fieldBehaviours:cr([Jr.config({disabled:function(){return t.disabled||d.isDisabled()},onDisabled:function(de){Da.getField(de).each(Jr.disable),ne.getOpt(de).each(Jr.disable)},onEnabled:function(de){Da.getField(de).each(Jr.enable),ne.getOpt(de).each(Jr.enable)}}),Ui(),Nn("url-input-events",[Bt(q,Re)])])})},I7=function(t,n){return ds.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Ks.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Mz(t.icon,n.icons),attributes:{title:n.translate(t.iconTooltip)}},action:function(o){en(o,nv,{name:"alert-banner",value:t.url})},buttonBehaviours:cr([J8()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:n.translate(t.text)}}]})},$7=function(t,n){var o=gr.config({store:{mode:"manual",getValue:function(C){var E=C.element.dom;return E.checked},setValue:function(C,E){var M=C.element.dom;M.checked=E}}}),s=function(C){return C.element.dom.click(),O.some(!0)},d=Da.parts.field({factory:{sketch:Je},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:cr([cd.self(),Jr.config({disabled:function(){return t.disabled||n.isDisabled()}}),ai.config({}),bn.config({}),o,jr.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),Nn("checkbox-events",[Bt(Om(),function(C,E){en(C,$c,{name:t.name})})])])}),m=Da.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:n.translate(t.label)},behaviours:cr([g_.config({})])}),g=function(C){var E=C==="checked"?"selected":"unselected";return yf(E,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+C]},n.icons)},k=$a({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[g("checked"),g("unchecked")]});return Da.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,k.asSpec(),m],fieldBehaviours:cr([Jr.config({disabled:function(){return t.disabled||n.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(C){Da.getField(C).each(Jr.disable)},onEnabled:function(C){Da.getField(C).each(Jr.enable)}}),Ui()])})},L7=function(t){return t.presets==="presentation"?ds.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):ds.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:cr([ai.config({}),bn.config({})])})},_u=function(t){return function(n,o,s){return gt(o,"name").fold(function(){return t(o,s)},function(d){return n.field(d,t(o,s))})}},H7=function(t){return function(n,o,s){var d=_t(o,{source:"dynamic"});return _u(t)(n,d,s)}},V7={bar:_u(function(t,n){return VM(t,n.shared)}),collection:_u(function(t,n){return KM(t,n.shared.providers)}),alertbanner:_u(function(t,n){return I7(t,n.shared.providers)}),input:_u(function(t,n){return qE(t,n.shared.providers)}),textarea:_u(function(t,n){return k7(t,n.shared.providers)}),label:_u(function(t,n){return CR(t,n.shared)}),iframe:H7(function(t,n){return cN(t,n.shared.providers)}),button:_u(function(t,n){return jN(t,n.shared.providers)}),checkbox:_u(function(t,n){return $7(t,n.shared.providers)}),colorinput:_u(function(t,n){return cB(t,n.shared,n.colorinput)}),colorpicker:_u(PO),dropzone:_u(function(t,n){return x_(t,n.shared.providers)}),grid:_u(function(t,n){return HO(t,n.shared)}),listbox:_u(function(t,n){return b7(t,n)}),selectbox:_u(function(t,n){return UC(t,n.shared.providers)}),sizeinput:_u(function(t,n){return gR(t,n.shared.providers)}),urlinput:_u(function(t,n){return UR(t,n,n.urlinput)}),customeditor:_u(IO),htmlpanel:_u(L7),imagetools:_u(function(t,n){return y7(t,n.shared.providers)}),table:_u(function(t,n){return w7(t,n.shared.providers)}),panel:_u(function(t,n){return _7(t,n)})},U7={field:function(t,n){return n}},jR=function(t,n,o){var s=_t(o,{shared:{interpreter:function(d){return tz(t,d,s)}}});return tz(t,n,s)},tz=function(t,n,o){return gt(V7,n.type).fold(function(){return console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(s){return s(t,n,o)})},j7=function(t,n){var o=U7;return tz(o,t,n)},rz={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},W7=function(t,n,o){var s=12,d={maxHeightFunction:Zm()},m=function(){return{type:"node",root:ir(t()),node:O.from(t()),bubble:Bv(s,s,rz),layouts:{onRtl:function(){return[nm]},onLtr:function(){return[pg]}},overrides:d}},g=function(){return{type:"hotspot",hotspot:n(),bubble:Bv(-12,s,rz),layouts:{onRtl:function(){return[Mu]},onLtr:function(){return[Hi]}},overrides:d}};return function(){return o()?m():g()}},q7=function(t,n,o){var s=function(){return{type:"node",root:ir(t()),node:O.from(t()),layouts:{onRtl:function(){return[Nl]},onLtr:function(){return[Nl]}}}},d=function(){return{type:"hotspot",hotspot:n(),layouts:{onRtl:function(){return[bi]},onLtr:function(){return[bi]}}}};return function(){return o()?s():d()}},G7=function(t,n){return function(){return{type:"selection",root:n(),getSelection:function(){var o=t.selection.getRng();return O.some(eh.range(rr.fromDom(o.startContainer),o.startOffset,rr.fromDom(o.endContainer),o.endOffset))}}}},K7=function(t){return function(n){return{type:"node",root:t(),node:n}}},X7=function(t,n,o){var s=V3(t),d=function(){return rr.fromDom(t.getBody())},m=function(){return rr.fromDom(t.getContentAreaContainer())},g=function(){return s||!o()};return{inlineDialog:W7(m,n,g),banner:q7(m,n,g),cursor:G7(t,d),node:K7(d)}},nz=function(t){return function(n,o){var s=tA(t);s(n,o)}},WR=function(t){return function(){return K4(t)}},Y7=function(t){return function(){return BT(t)}},Z7=function(t){return function(){return eC(t)}},J7=function(t){return{colorPicker:nz(t),hasCustomColors:WR(t),getColors:Y7(t),getColorCols:Z7(t)}},Q7=function(t){return function(){return E5(t)}},eP=function(t){return{isDraggableModal:Q7(t)}},tP=function(t){var n=Qr(C4(t)?"bottom":"top");return{isPositionedAtTop:function(){return n.get()==="top"},getDockingMode:n.get,setDockingMode:n.set}},qR=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],rP=function(t){return dr(t,"items")},nP=function(t){return dr(t,"block")},WC=function(t){return dr(t,"inline")},aP=function(t){return dr(t,"selector")},GR=function(t){return Pe(t,function(n,o){if(rP(o)){var s=GR(o.items);return{customFormats:n.customFormats.concat(s.customFormats),formats:n.formats.concat([{title:o.title,items:s.formats}])}}else if(WC(o)||nP(o)||aP(o)){var d=ee(o.name)?o.name:o.title.toLowerCase(),m="custom-"+d;return{customFormats:n.customFormats.concat([{name:m,format:o}]),formats:n.formats.concat([{title:o.title,format:m,icon:o.icon}])}}else return J(J({},n),{formats:n.formats.concat(o)})},{customFormats:[],formats:[]})},KR=function(t,n){var o=GR(n),s=function(d){Qe(d,function(m){t.formatter.has(m.name)||t.formatter.register(m.name,m.format)})};return t.formatter?s(o.customFormats):t.on("init",function(){s(o.customFormats)}),o.formats},Kh=function(t){return b5(t).map(function(n){var o=KR(t,n);return im(t)?qR.concat(o):o}).getOr(qR)},XR=function(t,n,o){var s={type:"formatter",isSelected:n(t.format),getStylePreview:o(t.format)};return _t(t,s)},qC=function(t,n,o,s){var d=function(C){return XR(C,o,s)},m=function(C){var E={type:"submenu"};return _t(C,E)},g=function(C){var E=ee(C.name)?C.name:Nr(C.title),M="custom-"+E,P={type:"formatter",format:M,isSelected:o(M),getStylePreview:s(M)},q=_t(C,P);return t.formatter.register(E,q),q},k=function(C){return $t(C,function(E){var M=In(E);if(un(E,"items")){var P=k(E.items);return _t(m(E),{getStyleItems:ue(P)})}else return un(E,"format")?d(E):M.length===1&&dn(M,"title")?_t(E,{type:"separator"}):g(E)})};return k(n)},GC=function(t){var n=function(P){return function(){return t.formatter.match(P)}},o=function(P){return function(){var q=t.formatter.get(P);return q!==void 0?O.some({tag:q.length>0&&(q[0].inline||q[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(P))}):O.none()}},s=function(P){var q=P.items;return q!==void 0&&q.length>0?Pr(q,s):[P.format]},d=Qr([]),m=Qr([]),g=Qr([]),k=Qr([]),C=Qr(!1);t.on("PreInit",function(P){var q=Kh(t),Z=qC(t,q,n,o);d.set(Z),m.set(Pr(Z,s))}),t.on("addStyleModifications",function(P){var q=qC(t,P.items,n,o);g.set(q),C.set(P.replace),k.set(Pr(q,s))});var E=function(){var P=C.get()?[]:d.get(),q=g.get();return P.concat(q)},M=function(){var P=C.get()?[]:m.get(),q=k.get();return P.concat(q)};return{getData:E,getFlattenedKeys:M}},oP=function(t){return Ae(t)&&t.nodeType===1},iP=qh.trim,YR=function(t){return function(n){return!!(oP(n)&&(n.contentEditable===t||n.getAttribute("data-mce-contenteditable")===t))}},uP=YR("true"),sP=YR("false"),Xh=function(t,n,o,s,d){return{type:t,title:n,url:o,level:s,attach:d}},ZR=function(t){for(;t=t.parentNode;){var n=t.contentEditable;if(n&&n!=="inherit")return uP(t)}return!1},cP=function(t,n){return $t(Uu(rr.fromDom(n),t),function(o){return o.dom})},JR=function(t){return t.innerText||t.textContent},lP=function(t){return t.id?t.id:Nr("h")},fP=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},dP=function(t){return fP(t)&&KC(t)},QR=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},KC=function(t){return ZR(t)&&!sP(t)},Bw=function(t){return QR(t)&&KC(t)},XC=function(t){return QR(t)?parseInt(t.nodeName.substr(1),10):0},YC=function(t){var n=lP(t),o=function(){t.id=n};return Xh("header",JR(t),"#"+n,XC(t),o)},Dg=function(t){var n=t.id||t.name,o=JR(t);return Xh("anchor",o||"#"+n,"#"+n,0,at)},ZC=function(t){return $t(qe(t,Bw),YC)},vP=function(t){return $t(qe(t,dP),Dg)},eD=function(t){var n=cP("h1,h2,h3,h4,h5,h6,a:not([href])",t);return n},tD=function(t){return iP(t.title).length>0},rD=function(t){var n=eD(t);return qe(ZC(n).concat(vP(n)),tD)},mP={find:rD},Nw="tinymce-url-history",nD=5,aD=function(t){return ee(t)&&/^https?/.test(t)},hP=function(t){return He(t)&&t.length<=nD&&ut(t,aD)},JC=function(t){return pe(t)&&Ke(t,function(n){return!hP(n)}).isNone()},QC=function(){var t=Y3.getItem(Nw);if(t===null)return{};var n;try{n=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+Nw+" was not valid JSON",o),{};throw o}return JC(n)?n:(console.log("Local storage "+Nw+" was not valid format",n),{})},pP=function(t){if(!JC(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Y3.setItem(Nw,JSON.stringify(t))},oD=function(t){var n=QC();return gt(n,t).getOr([])},gP=function(t,n){if(aD(t)){var o=QC(),s=gt(o,n).getOr([]),d=qe(s,function(m){return m!==t});o[n]=[t].concat(d).slice(0,nD),pP(o)}},ex=function(t){return!!t},yP=function(t){return kn(qh.makeMap(t,/[, ]/),ex)},az=function(t){return O.from(R5(t)).filter(tt)},Mg=function(t){var n=O.some(D5(t)).filter(ex),o=O.some(M5(t)).filter(ex),s=n.or(o).map(yP);return az(t).fold(Ue,function(d){return s.fold(U,function(m){return In(m).length>0?m:!1})})},iD=function(t,n){var o=Mg(t);return ye(o)?o?az(t):O.none():o[n]?az(t):O.none()},bP=function(t,n){return iD(t,n).map(function(o){return function(s){return qu.nu(function(d){var m=function(k,C){if(!ee(k))throw new Error("Expected value to be string");if(C!==void 0&&!pe(C))throw new Error("Expected meta to be a object");var E={value:k,meta:C};d(E)},g=J({filetype:n,fieldname:s.fieldname},O.from(s.meta).getOr({}));o.call(t,m,s.value,g)})}})},oz=function(t){return O.from(t).filter(ee).getOrUndefined()},_P=function(t){return B5(t)?O.none():O.some({targets:mP.find(t.getBody()),anchorTop:oz(E4(t)),anchorBottom:oz(N5(t))})},tx=function(t){return O.from(P5(t))},Cf=function(t){return{getHistory:oD,addToHistory:gP,getLinkInformation:function(){return _P(t)},getValidationHandler:function(){return tx(t)},getUrlPicker:function(n){return bP(t,n)}}},wP=function(t,n,o){var s=Qr(!1),d=tP(n),m={shared:{providers:{icons:function(){return n.ui.registry.getAll().icons},menuItems:function(){return n.ui.registry.getAll().menuItems},translate:gf.translate,isDisabled:function(){return n.mode.isReadOnly()||n.ui.isDisabled()},getSetting:n.getParam.bind(n)},interpreter:function(g){return j7(g,m)},anchors:X7(n,o,d.isPositionedAtTop),header:d,getSink:function(){return $n.value(t)}},urlinput:Cf(n),styleselect:GC(n),colorinput:J7(n),dialog:eP(n),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(g){return s.set(g)}};return m},ov=function(t,n,o){var s=function(ft,Be){Qe([n,o],function(it){it.broadcastEvent(ft,Be)})},d=function(ft,Be){Qe([n,o],function(it){it.broadcastOn([ft],Be)})},m=function(ft){return d(Lv(),{target:ft.target})},g=Ap(),k=ni(g,"touchstart",m),C=ni(g,"touchmove",function(ft){return s(ry(),ft)}),E=ni(g,"touchend",function(ft){return s(Dx(),ft)}),M=ni(g,"mousedown",m),P=ni(g,"mouseup",function(ft){ft.raw.button===0&&d(n0(),{target:ft.target})}),q=function(ft){return d(Lv(),{target:rr.fromDom(ft.target)})},Z=function(ft){ft.button===0&&d(n0(),{target:rr.fromDom(ft.target)})},ne=function(){Qe(t.editorManager.get(),function(ft){t!==ft&&ft.fire("DismissPopups",{relatedTarget:t})})},me=function(ft){return s(Q_(),Mv(ft))},Re=function(ft){d(mh(),{}),s(cc(),Mv(ft))},de=function(){return d(mh(),{})},Ne=function(ft){ft.state&&d(Lv(),{target:rr.fromDom(t.getContainer())})},mt=function(ft){d(Lv(),{target:rr.fromDom(ft.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",q),t.on("tap",q),t.on("mouseup",Z),t.on("mousedown",ne),t.on("ScrollWindow",me),t.on("ResizeWindow",Re),t.on("ResizeEditor",de),t.on("AfterProgressState",Ne),t.on("DismissPopups",mt)}),t.on("remove",function(){t.off("click",q),t.off("tap",q),t.off("mouseup",Z),t.off("mousedown",ne),t.off("ScrollWindow",me),t.off("ResizeWindow",Re),t.off("ResizeEditor",de),t.off("AfterProgressState",Ne),t.off("DismissPopups",mt),M.unbind(),k.unbind(),C.unbind(),E.unbind(),P.unbind()}),t.on("detach",function(){ju(n),ju(o),n.destroy(),o.destroy()})},_c=on,Bg=gb,uD=ue([Fe("shell",!1),zt("makeItem"),Fe("setupItem",at),Dc.field("listBehaviours",[yn])]),rx=function(){return{behaviours:cr([yn.config({})])}},Yh=Mc({name:"items",overrides:rx}),wc=ue([Yh]),kP=ue("CustomList"),sD=function(t,n,o,s){var d=function(k,C){g(k).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(E){var M=yn.contents(E),P=C.length,q=P-M.length,Z=q>0?oe(q,function(){return t.makeItem()}):[],ne=M.slice(P);Qe(ne,function(Re){return yn.remove(E,Re)}),Qe(Z,function(Re){return yn.append(E,Re)});var me=yn.contents(E);Qe(me,function(Re,de){t.setupItem(k,Re,C[de],de)})})},m=t.shell?{behaviours:[yn.config({})],components:[]}:{behaviours:[],components:n},g=function(k){return t.shell?O.some(k):Za(k,t,"items")};return{uid:t.uid,dom:t.dom,components:m.components,behaviours:Qi(t.listBehaviours,m.behaviours),apis:{setItems:d}}},iz=ls({name:kP(),configFields:uD(),partFields:wc(),factory:sD,apis:{setItems:function(t,n,o){t.setItems(n,o)}}}),Ng=ue([zt("dom"),Fe("shell",!0),Bi("toolbarBehaviours",[yn])]),CP=function(){return{behaviours:cr([yn.config({})])}},xP=ue([Mc({name:"groups",overrides:CP})]),Zh=function(t,n,o,s){var d=function(k,C){m(k).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(E){yn.set(E,C)})},m=function(k){return t.shell?O.some(k):Za(k,t,"groups")},g=t.shell?{behaviours:[yn.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:g.components,behaviours:Qi(t.toolbarBehaviours,g.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},xf=ls({name:"Toolbar",configFields:Ng(),partFields:xP(),factory:Zh,apis:{setGroups:function(t,n,o){t.setGroups(n,o)}}}),z_=at,nx=Ue,uz=ue([]),SP=Object.freeze({__proto__:null,setup:z_,isDocked:nx,getBehaviours:uz}),cD=function(t){var n=ua(ui(t,"position"),"fixed"),o=n?O.none():ys(t);return o.orThunk(function(){var s=rr.fromTag("span");return yo(t).bind(function(d){Eu(d,s);var m=ys(s);return bs(s),m})})},lD=function(t){return cD(t).map(Ju).getOrThunk(function(){return Qa(0,0)})},sz=uc.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),A_=function(t,n){var o=t.element;Ai(o,n.transitionClass),yi(o,n.fadeOutClass),Ai(o,n.fadeInClass),n.onShow(t)},TP=function(t,n){var o=t.element;Ai(o,n.transitionClass),yi(o,n.fadeInClass),Ai(o,n.fadeOutClass),n.onHide(t)},EP=function(t,n){return t.y<n.bottom&&t.bottom>n.y},zP=function(t,n){return t.y>=n.y},AP=function(t,n){return t.bottom<=n.bottom},fD=function(t,n,o){return ut(t,function(s){switch(s){case"bottom":return AP(n,o);case"top":return zP(n,o)}})},Pw=function(t,n){return n.getInitialPos().map(function(o){return Ei(o.bounds.x,o.bounds.y,Tu(t),pi(t))})},OP=function(t,n,o){o.setInitialPos({style:Tf(t),position:Vo(t,"position")||"static",bounds:n})},cz=function(t,n,o){return o.getInitialPos().bind(function(s){switch(o.clearInitialPos(),s.position){case"static":return O.some(sz.static());case"absolute":var d=cD(t).map(si).getOrThunk(function(){return si(Ia())});return O.some(sz.absolute(Vu("absolute",gt(s.style,"left").map(function(m){return n.x-d.x}),gt(s.style,"top").map(function(m){return n.y-d.y}),gt(s.style,"right").map(function(m){return d.right-n.right}),gt(s.style,"bottom").map(function(m){return d.bottom-n.bottom}))));default:return O.none()}})},lz=function(t,n,o){return Pw(t,o).filter(function(s){return fD(o.getModes(),s,n)}).bind(function(s){return cz(t,s,o)})},dD=function(t,n,o){var s=si(t);if(fD(o.getModes(),s,n))return O.none();OP(t,s,o);var d=su(),m=s.x-d.x,g=n.y-d.y,k=d.bottom-n.bottom,C=s.y<=n.y;return O.some(sz.fixed(Vu("fixed",O.some(m),C?O.some(g):O.none(),O.none(),C?O.none():O.some(k))))},ax=function(t,n,o){var s=t.element,d=ua(ui(s,"position"),"fixed");return d?lz(s,n,o):dD(s,n,o)},ox=function(t,n){var o=t.element;return Pw(o,n).bind(function(s){return cz(o,s,n)})},Jh=function(t,n,o){o.setDocked(!1),Qe(["left","right","top","bottom","position"],function(s){return Aa(t.element,s)}),n.onUndocked(t)},fz=function(t,n,o,s){var d=s.position==="fixed";o.setDocked(d),Fd(t.element,s);var m=d?n.onDocked:n.onUndocked;m(t)},vD=function(t,n,o,s,d){d===void 0&&(d=!1),n.contextual.each(function(m){m.lazyContext(t).each(function(g){var k=EP(g,s);if(k!==o.isVisible())if(o.setVisible(k),d&&!k)Cv(t.element,[m.fadeOutClass]),m.onHide(t);else{var C=k?A_:TP;C(t,m)}})})},dz=function(t,n,o){var s=n.lazyViewport(t),d=o.isDocked();d&&vD(t,n,o,s),ax(t,s,o).each(function(m){m.fold(function(){return Jh(t,n,o)},function(g){return fz(t,n,o,g)},function(g){vD(t,n,o,s,!0),fz(t,n,o,g)})})},RP=function(t,n,o){var s=t.element;o.setDocked(!1),ox(t,o).each(function(d){d.fold(function(){return Jh(t,n,o)},function(m){return fz(t,n,o,m)},at)}),o.setVisible(!0),n.contextual.each(function(d){mc(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(t)}),O_(t,n,o)},O_=function(t,n,o){t.getSystem().isConnected()&&dz(t,n,o)},vz=function(t,n,o){o.isDocked()&&RP(t,n,o)},DP=function(t,n,o){return o.isDocked()},MP=function(t,n,o,s){return o.setModes(s)},Fw=function(t,n,o){return o.getModes()},mz=Object.freeze({__proto__:null,refresh:O_,reset:vz,isDocked:DP,getModes:Fw,setModes:MP}),BP=function(t,n){return ro([ci(Dm(),function(o,s){t.contextual.each(function(d){if(as(o.element,d.transitionClass)){mc(o.element,[d.transitionClass,d.fadeInClass]);var m=n.isVisible()?d.onShown:d.onHidden;m(o)}s.stop()})}),Bt(Q_(),function(o,s){O_(o,t,n)}),Bt(cc(),function(o,s){vz(o,t,n)})])},NP=Object.freeze({__proto__:null,events:BP}),mD=[Us("contextual",[gn("fadeInClass"),gn("fadeOutClass"),gn("transitionClass"),Lu("lazyContext"),Ra("onShow"),Ra("onShown"),Ra("onHide"),Ra("onHidden")]),lo("lazyViewport",su),If("modes",["top","bottom"],ri),Ra("onDocked"),Ra("onUndocked")],PP=function(t){var n=Qr(!1),o=Qr(!0),s=Yo(),d=Qr(t.modes),m=function(){return"docked:  "+n.get()+", visible: "+o.get()+", modes: "+d.get().join(",")};return Du({isDocked:n.get,setDocked:n.set,getInitialPos:s.get,setInitialPos:s.set,clearInitialPos:s.clear,isVisible:o.get,setVisible:o.set,getModes:d.get,setModes:d.set,readState:m})},FP=Object.freeze({__proto__:null,init:PP}),e=Mi({fields:mD,name:"docking",active:NP,apis:mz,state:FP}),r=ue(Nr("toolbar-height-change")),a={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},i="tox-tinymce--toolbar-sticky-on",c="tox-tinymce--toolbar-sticky-off",f=function(t,n){var o=go(n),s=o.dom.defaultView.innerHeight,d=Ls(o),m=rr.fromDom(t.elm),g=jl(m),k=pi(m),C=g.y,E=C+k,M=Ju(n),P=pi(n),q=M.top,Z=q+P,ne=Math.abs(q-d.top)<2,me=Math.abs(Z-(d.top+s))<2;if(ne&&C<Z)gm(d.left,C-P,o);else if(me&&E>q){var Re=C-s+k+P;gm(d.left,Re,o)}},h=function(t,n){return dn(e.getModes(t),n)},y=function(t){var n=function(s){return $s(s)+(parseInt(Vo(s,"margin-top"),10)||0)+(parseInt(Vo(s,"margin-bottom"),10)||0)},o=t.element;yo(o).each(function(s){var d="padding-"+e.getModes(t)[0];if(e.isDocked(t)){var m=Tu(s);vn(o,"width",m+"px"),vn(s,d,n(o)+"px")}else Aa(o,"width"),Aa(s,d)})},w=function(t,n){n?(yi(t,a.fadeOutClass),Cv(t,[a.transitionClass,a.fadeInClass])):(yi(t,a.fadeInClass),Cv(t,[a.fadeOutClass,a.transitionClass]))},R=function(t,n){var o=rr.fromDom(t.getContainer());n?(Ai(o,i),yi(o,c)):(Ai(o,c),yi(o,i))},L=function(t,n){var o=go(n);cs(o).filter(function(s){return!va(n,s)}).filter(function(s){return va(s,rr.fromDom(o.dom.body))||Su(t,s)}).each(function(){return Tl(n)})},V=function(t,n){return El(t).orThunk(function(){return n().toOptional().bind(function(o){return El(o.element)})})},j=function(t,n,o){t.inline||(n.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(e.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(y)}),t.on("SkinLoaded",function(){o().each(function(s){e.isDocked(s)?e.reset(s):e.refresh(s)})}),t.on("FullscreenStateChanged",function(){o().each(e.reset)})),t.on("AfterScrollIntoView",function(s){o().each(function(d){e.refresh(d);var m=d.element;B2(m)&&f(s,m)})}),t.on("PostRender",function(){R(t,!1)})},re=function(t){return t().map(e.isDocked).getOr(!1)},ae=function(){var t;return[Hu.config({channels:(t={},t[r()]={onReceive:y},t)})]},ie=function(t,n){var o=Yo(),s=n.getSink,d=function(k){s().each(function(C){return k(C.element)})},m=function(k){t.inline||y(k),R(t,e.isDocked(k)),k.getSystem().broadcastOn([mh()],{}),s().each(function(C){return C.getSystem().broadcastOn([mh()],{})})},g=t.inline?[]:ae();return It([bn.config({}),e.config({contextual:J({lazyContext:function(k){var C=$s(k.element),E=t.inline?t.getContentAreaContainer():t.getContainer(),M=si(rr.fromDom(E)),P=M.height-C,q=M.y+(h(k,"top")?0:C);return O.some(Ei(M.x,q,M.width,P))},onShow:function(){d(function(k){return w(k,!0)})},onShown:function(k){d(function(C){return mc(C,[a.transitionClass,a.fadeInClass])}),o.get().each(function(C){L(k.element,C),o.clear()})},onHide:function(k){V(k.element,s).fold(o.clear,o.set),d(function(C){return w(C,!1)})},onHidden:function(){d(function(k){return mc(k,[a.transitionClass])})}},a),lazyViewport:function(k){var C=su(),E=T5(t),M=C.y+(h(k,"top")?E:0),P=C.height-(h(k,"bottom")?E:0);return Ei(C.x,M,C.width,P)},modes:[n.header.getDockingMode()],onDocked:m,onUndocked:m})],g,!0)},se=Object.freeze({__proto__:null,setup:j,isDocked:re,getBehaviours:ie}),we=function(t){var n=t.editor,o=t.sticky?ie:uz;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:cr(o(n,t.sharedBackstage))}},he=Kr([gn("type"),ks("items",fp([L_([gn("name"),Ou("items",ri)]),ri]))].concat(Jb)),Ze=function(t){return Po("GroupToolbarButton",he,t)},Ve=[co("text"),co("tooltip"),co("icon"),Lu("fetch"),lo("onSetup",function(){return at})],Ee=Kr(It([gn("type")],Ve,!0)),nt=function(t){return Po("menubutton",Ee,t)},Tt=Kr([gn("type"),co("tooltip"),co("icon"),co("text"),bd("select"),Lu("fetch"),lo("onSetup",function(){return at}),ic("presets","normal",["normal","color","listpreview"]),Fe("columns",1),Lu("onAction"),Lu("onItemAction")]),Kt=function(t){return Po("SplitButton",Tt,t)},nn=function(t,n){var o=function(d,m){var g=$t(m,function(k){var C={type:"menubutton",text:k.text,fetch:function(M){M(k.getItems())}},E=nt(C).mapError(function(M){return yd(M)}).getOrDie();return LC(E,"tox-mbtn",n.backstage,O.some("menuitem"))});yn.set(d,g)},s={focus:jr.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:cr([yn.config({}),Nn("menubar-events",[Bn(function(d){t.onSetup(d)}),Bt(Lf(),function(d,m){Oi(d.element,".tox-mbtn--active").each(function(g){Oc(m.event.target,".tox-mbtn").each(function(k){va(g,k)||d.getSystem().getByDom(g).each(function(C){d.getSystem().getByDom(k).each(function(E){_f.expand(E),_f.close(C),bn.focus(E)})})})})}),Bt(ny(),function(d,m){m.event.prevFocus.bind(function(g){return d.getSystem().getByDom(g).toOptional()}).each(function(g){m.event.newFocus.bind(function(k){return d.getSystem().getByDom(k).toOptional()}).each(function(k){_f.isOpen(g)&&(_f.expand(k),_f.close(g))})})})]),jr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return t.onEscape(d),O.some(!0)}}),ai.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},Cr=gc({factory:nn,name:"silver.Menubar",configFields:[zt("dom"),zt("uid"),zt("onEscape"),zt("backstage"),Fe("onSetup",at)],apis:{focus:function(t,n){t.focus(n)},setMenus:function(t,n,o){t.setMenus(n,o)}}}),At=function(t,n){return n.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},qr=function(t){return t.dimension.property},Jt=function(t,n){return t.dimension.getDimension(n)},wr=function(t,n){var o=At(t,n);mc(o,[n.shrinkingClass,n.growingClass])},Qt=function(t,n){yi(t.element,n.openClass),Ai(t.element,n.closedClass),vn(t.element,qr(n),"0px"),fo(t.element)},hr=function(t,n){yi(t.element,n.closedClass),Ai(t.element,n.openClass),Aa(t.element,qr(n))},Or=function(t,n,o,s){o.setCollapsed(),vn(t.element,qr(n),Jt(n,t.element)),fo(t.element),wr(t,n),Qt(t,n),n.onStartShrink(t),n.onShrunk(t)},Vt=function(t,n,o,s){var d=s.getOrThunk(function(){return Jt(n,t.element)});o.setCollapsed(),vn(t.element,qr(n),d),fo(t.element);var m=At(t,n);yi(m,n.growingClass),Ai(m,n.shrinkingClass),Qt(t,n),n.onStartShrink(t)},Er=function(t,n,o){var s=Jt(n,t.element),d=s==="0px"?Or:Vt;d(t,n,o,O.some(s))},ea=function(t,n,o){var s=At(t,n),d=as(s,n.shrinkingClass),m=Jt(n,t.element);hr(t,n);var g=Jt(n,t.element),k=function(){vn(t.element,qr(n),m),fo(t.element)},C=function(){Qt(t,n)},E=d?k:C;E(),yi(s,n.shrinkingClass),Ai(s,n.growingClass),hr(t,n),vn(t.element,qr(n),g),o.setExpanded(),n.onStartGrow(t)},Pa=function(t,n,o){if(o.isExpanded()){Aa(t.element,qr(n));var s=Jt(n,t.element);vn(t.element,qr(n),s)}},Ma=function(t,n,o){o.isExpanded()||ea(t,n,o)},wu=function(t,n,o){o.isExpanded()&&Er(t,n,o)},Go=function(t,n,o){o.isExpanded()&&Or(t,n,o)},Ds=function(t,n,o){return o.isExpanded()},Hc=function(t,n,o){return o.isCollapsed()},Ut=function(t,n,o){var s=At(t,n);return as(s,n.growingClass)===!0},ur=function(t,n,o){var s=At(t,n);return as(s,n.shrinkingClass)===!0},Gr=function(t,n,o){return Ut(t,n)||ur(t,n)},ot=function(t,n,o){var s=o.isExpanded()?Er:ea;s(t,n,o)},Yt=Object.freeze({__proto__:null,refresh:Pa,grow:Ma,shrink:wu,immediateShrink:Go,hasGrown:Ds,hasShrunk:Hc,isGrowing:Ut,isShrinking:ur,isTransitioning:Gr,toggleGrow:ot,disableTransitions:wr}),qt=function(t,n,o){var s=n.expanded;return el(s?{classes:[n.openClass],styles:{}}:{classes:[n.closedClass],styles:Gl(n.dimension.property,"0px")})},Yr=function(t,n){return ro([ci(Dm(),function(o,s){var d=s.event.raw;if(d.propertyName===t.dimension.property){wr(o,t),n.isExpanded()&&Aa(o.element,t.dimension.property);var m=n.isExpanded()?t.onGrown:t.onShrunk;m(o)}})])},rn=Object.freeze({__proto__:null,exhibit:qt,events:Yr}),so=[zt("closedClass"),zt("openClass"),zt("shrinkingClass"),zt("growingClass"),Oa("getAnimationRoot"),Ra("onShrunk"),Ra("onStartShrink"),Ra("onGrown"),Ra("onStartGrow"),Fe("expanded",!1),ks("dimension",Tc("property",{width:[uo("property","width"),uo("getDimension",function(t){return Tu(t)+"px"})],height:[uo("property","height"),uo("getDimension",function(t){return pi(t)+"px"})]}))],ru=function(t){var n=Qr(t.expanded),o=function(){return"expanded: "+n.get()};return Du({isExpanded:function(){return n.get()===!0},isCollapsed:function(){return n.get()===!1},setCollapsed:Le(n.set,!1),setExpanded:Le(n.set,!0),readState:o})},ji=Object.freeze({__proto__:null,init:ru}),ms=Mi({fields:so,name:"sliding",active:rn,apis:Yt,state:ji}),hs="container",Zs=[Bi("slotBehaviours",[])],Wi=function(t){return"<alloy.field."+t+">"},fl=function(t){var n=function(){var m=[],g=function(k,C){return m.push(k),b0(hs,Wi(k),C)};return{slot:g,record:ue(m)}}(),o=t(n),s=n.record(),d=$t(s,function(m){return yu({name:m,pname:Wi(m)})});return x0(hs,Zs,d,Js,o)},Js=function(t,n){var o=function(me){return v2(t)},s=function(me,Re){return Za(me,t,Re)},d=function(me,Re){return function(de,Ne){return Za(de,t,Ne).map(function(mt){return me(mt,Ne)}).getOr(Re)}},m=function(me){return function(Re,de){Qe(de,function(Ne){return me(Re,Ne)})}},g=function(me,Re){return bo(me.element,"aria-hidden")!=="true"},k=function(me,Re){if(!g(me)){var de=me.element;Aa(de,"display"),Xi(de,"aria-hidden"),en(me,Hf(),{name:Re,visible:!0})}},C=function(me,Re){if(g(me)){var de=me.element;vn(de,"display","none"),Fn(de,"aria-hidden","true"),en(me,Hf(),{name:Re,visible:!1})}},E=d(g,!1),M=d(C),P=m(M),q=function(me){return P(me,o())},Z=d(k),ne={getSlotNames:o,getSlot:s,isShowing:E,hideSlot:M,hideAllSlots:q,showSlot:Z};return{uid:t.uid,dom:t.dom,components:n,behaviours:yh(t.slotBehaviours),apis:ne}},iv=kn({getSlotNames:function(t,n){return t.getSlotNames(n)},getSlot:function(t,n,o){return t.getSlot(n,o)},isShowing:function(t,n,o){return t.isShowing(n,o)},hideSlot:function(t,n,o){return t.hideSlot(n,o)},hideAllSlots:function(t,n){return t.hideAllSlots(n)},showSlot:function(t,n,o){return t.showSlot(n,o)}},function(t){return Fo(t)}),Fa=J(J({},iv),{sketch:fl}),ko=Kr([co("icon"),co("tooltip"),lo("onShow",at),lo("onHide",at),lo("onSetup",function(){return at})]),nu=function(t){return Po("sidebar",ko,t)},ld=function(t){var n=t.ui.registry.getAll().sidebars;Qe(In(n),function(o){var s=n[o],d=function(){return ua(O.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:s.icon,tooltip:s.tooltip,onAction:function(m){t.execCommand("ToggleSidebar",!1,o),m.setActive(d())},onSetup:function(m){var g=function(){return m.setActive(d())};return t.on("ToggleSidebar",g),function(){t.off("ToggleSidebar",g)}}})})},fd=function(t){return{element:function(){return t.element.dom}}},dd=function(t,n){var o=$t(In(n),function(s){var d=n[s],m=Kc(nu(d));return{name:s,getApi:fd,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return $t(o,function(s){var d=Qr(at);return t.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:r_.unnamedEvents([o_(s,d),fw(s,d),Bt(Hf(),function(m,g){var k=g.event,C=Nt(o,function(E){return E.name===k.name});C.each(function(E){var M=k.visible?E.onShow:E.onHide;M(E.getApi(m))})})])})})},Qh=function(t){return Fa.sketch(function(n){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:dd(n,t),slotBehaviours:r_.unnamedEvents([Bn(function(o){return Fa.hideAllSlots(o)})])}})},hz=function(t,n){var o=aa.getCurrent(t);o.each(function(s){return yn.set(s,[Qh(n)])})},pz=function(t,n){var o=aa.getCurrent(t);o.each(function(s){var d=aa.getCurrent(s);d.each(function(m){ms.hasGrown(s)?Fa.isShowing(m,n)?ms.shrink(s):(Fa.hideAllSlots(m),Fa.showSlot(m,n)):(Fa.hideAllSlots(m),Fa.showSlot(m,n),ms.grow(s))})})},IP=function(t){var n=aa.getCurrent(t);return n.bind(function(o){var s=ms.isGrowing(o)||ms.hasGrown(o);if(s){var d=aa.getCurrent(o);return d.bind(function(m){return Nt(Fa.getSlotNames(m),function(g){return Fa.isShowing(m,g)})})}else return O.none()})},ix=Nr("FixSizeEvent"),ux=Nr("AutoSizeEvent"),$P=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:cr([ai.config({}),bn.config({}),ms.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(n){var o=aa.getCurrent(n);o.each(Fa.hideAllSlots),Sa(n,ux)},onGrown:function(n){Sa(n,ux)},onStartGrow:function(n){en(n,ix,{width:ui(n.element,"width").getOr("")})},onStartShrink:function(n){en(n,ix,{width:Tu(n.element)+"px"})}}),yn.config({}),aa.config({find:function(n){var o=yn.contents(n);return Yn(o)}})])}],behaviours:cr([cd.childAt(0),Nn("sidebar-sliding-events",[Bt(ix,function(n,o){vn(n.element,"width",o.event.width)}),Bt(ux,function(n,o){Aa(n.element,"width")})])])}},hD=function(t,n,o,s){Fn(t.element,"aria-busy",!0);var d=n.getRoot(t).getOr(t),m=cr([jr.config({mode:"special",onTab:function(){return O.some(!0)},onShiftTab:function(){return O.some(!0)}}),bn.config({})]),g=s(d,m),k=d.getSystem().build(g);yn.append(d,hc(k)),k.hasConfigured(jr)&&n.focus&&jr.focusIn(k),o.isBlocked()||n.onBlock(t),o.blockWith(function(){return yn.remove(d,k)})},LP=function(t,n,o){Xi(t.element,"aria-busy"),o.isBlocked()&&n.onUnblock(t),o.clear()},HP=Object.freeze({__proto__:null,block:hD,unblock:LP}),VP=[lo("getRoot",O.none),to("focus",!0),Ra("onBlock"),Ra("onUnblock")],UP=function(){var t=R1(),n=function(o){t.set({destroy:o})};return Du({readState:t.isSet,blockWith:n,clear:t.clear,isBlocked:t.isSet})},Pg=Object.freeze({__proto__:null,init:UP}),uv=Mi({fields:VP,name:"blocking",apis:HP,state:Pg}),Me=function(t){return function(n,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},lt=function(t){return aa.getCurrent(t).each(function(n){return Tl(n.element)})},tr=function(t,n){var o="tabindex",s="data-mce-"+o;O.from(t.iframeElement).map(rr.fromDom).each(function(d){n?(No(d,o).each(function(m){return Fn(d,s,m)}),Fn(d,o,-1)):(Xi(d,o),No(d,s).each(function(m){Fn(d,o,m),Xi(d,s)}))})},pr=function(t,n,o,s){var d=n.element;if(tr(t,o),o)uv.block(n,Me(s)),Aa(d,"display"),Xi(d,"aria-hidden"),t.hasFocus()&&lt(n);else{var m=aa.getCurrent(n).exists(function(g){return Rp(g.element)});uv.unblock(n),vn(d,"display","none"),Fn(d,"aria-hidden","true"),m&&t.focus()}},jn=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:cr([yn.config({}),uv.config({focus:!1}),aa.config({find:function(n){return Yn(n.components())}})]),components:[]}},La=function(t){return t.type==="focusin"},Io=function(t){if(La(t)){var n=t.composed?Yn(t.composedPath()):O.from(t.target);return n.map(rr.fromDom).filter(Gt).exists(function(o){return as(o,"mce-pastebin")})}else return!1},ep=function(t,n,o){var s=Qr(!1),d=Yo(),m=function(k){s.get()&&!Io(k)&&(k.preventDefault(),lt(n()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",m),t.on("BeforeExecCommand",function(k){k.command.toLowerCase()==="mcefocus"&&k.value!==!0&&m(k)})});var g=function(k){k!==s.get()&&(s.set(k),pr(t,n(),k,o.providers),t.fire("AfterProgressState",{state:k}))};t.on("ProgressState",function(k){if(d.on(ed.clearTimeout),er(k.time)){var C=ed.setEditorTimeout(t,function(){return g(k.state)},k.time);d.set(C)}else g(k.state),d.clear()})},f9=function(t,n){var o={len:0,list:[]},s=Pe(t,function(d,m){var g=n(m,d.len);return g.fold(ue(d),function(k){return{len:k.finish,list:d.list.concat([k])}})},o);return s.list},jP=function(t,n,o){return{within:t,extra:n,withinWidth:o}},iI=function(t,n,o){var s=f9(t,function(k,C){var E=o(k);return O.some({element:k,start:C,finish:C+E,width:E})}),d=qe(s,function(k){return k.finish<=n}),m=be(d,function(k,C){return k+C.width},0),g=s.slice(d.length);return{within:d,extra:g,withinWidth:m}},pD=function(t){return $t(t,function(n){return n.element})},d9=function(t,n,o){var s=pD(t.concat(n));return jP(s,[],o)},v9=function(t,n,o,s){var d=pD(t).concat([o]);return jP(d,pD(n),s)},m9=function(t,n,o){return jP(pD(t),[],o)},h9=function(t,n,o){var s=iI(n,t,o);return s.extra.length===0?O.some(s):O.none()},p9=function(t,n,o,s){var d=h9(t,n,o).getOrThunk(function(){return iI(n,t-o(s),o)}),m=d.within,g=d.extra,k=d.withinWidth;return g.length===1&&g[0].width<=o(s)?d9(m,g,k):g.length>=1?v9(m,g,s,k):m9(m,g,k)},uI=function(t,n){var o=$t(n,function(s){return hc(s)});xf.setGroups(t,o)},g9=function(t){return Zn(t,function(n){return El(n.element).bind(function(o){return n.getSystem().getByDom(o).toOptional()})})},sI=function(t,n,o){var s=n.builtGroups.get();if(s.length!==0){var d=vf(t,n,"primary"),m=li.getCoupled(t,"overflowGroup");vn(d.element,"visibility","hidden");var g=s.concat([m]),k=g9(g);o([]),uI(d,g);var C=Tu(d.element),E=p9(C,n.builtGroups.get(),function(M){return Tu(M.element)},m);E.extra.length===0?(yn.remove(d,m),o([])):(uI(d,E.within),o(E.extra)),Aa(d.element,"visibility"),fo(d.element),k.each(bn.focus)}},cI=ue([Bi("splitToolbarBehaviours",[li]),ts("builtGroups",function(){return Qr([])})]),y9=ue([Ev(["overflowToggledClass"]),bd("getOverflowBounds"),zt("lazySink"),ts("overflowGroups",function(){return Qr([])})].concat(cI())),b9=ue([yu({factory:xf,schema:Ng(),name:"primary"}),pc({schema:Ng(),name:"overflow"}),pc({name:"overflow-button"}),pc({name:"overflow-group"})]),WP=ue(function(t,n){uu(t,Math.floor(n))}),_9=ue([Ev(["toggledClass"]),zt("lazySink"),Lu("fetch"),bd("getBounds"),Us("fireDismissalEventInstead",[Fe("event",Jc())]),Id()]),w9=ue([pc({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:cr([ca.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),pc({factory:xf,schema:Ng(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:cr([jr.config({mode:"cyclic",onEscape:function(n){return Za(n,t,"button").each(bn.focus),O.none()}})])}}})]),lI=function(t,n){var o=li.getCoupled(t,"toolbarSandbox");ma.isOpen(o)?ma.close(o):ma.open(o,n.toolbar())},qP=function(t,n,o,s){var d=o.getBounds.map(function(g){return g()}),m=o.lazySink(t).getOrDie();Zo.positionWithinBounds(m,n,{anchor:{type:"hotspot",hotspot:t,layouts:s,overrides:{maxWidthFunction:WP()}}},d)},fI=function(t,n,o,s,d){xf.setGroups(n,d),qP(t,n,o,s),ca.on(t)},k9=function(t,n,o){var s=xv(),d=function(g,k){o.fetch().get(function(C){fI(t,k,o,n.layouts,C),s.link(t.element),jr.focusIn(k)})},m=function(){ca.off(t),bn.focus(t),s.unlink(t.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:cr([jr.config({mode:"special",onEscape:function(g){return ma.close(g),O.some(!0)}}),ma.config({onOpen:d,onClose:m,isPartOf:function(g,k,C){return Sv(k,C)||Sv(t,C)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),Hu.config({channels:J(J({},As(J({isExtraPart:Ue},o.fireDismissalEventInstead.map(function(g){return{fireEventInstead:{event:g.event}}}).getOr({})))),Hv({doReposition:function(){ma.getState(li.getCoupled(t,"toolbarSandbox")).each(function(g){qP(t,g,o,n.layouts)})}}))})])}},C9=function(t,n,o,s){return J(J({},Ks.sketch(J(J({},s.button()),{action:function(d){lI(d,s)},buttonBehaviours:Dc.augment({dump:s.button().buttonBehaviours},[li.config({others:{toolbarSandbox:function(d){return k9(d,o,t)}}})])}))),{apis:{setGroups:function(d,m){ma.getState(li.getCoupled(d,"toolbarSandbox")).each(function(g){fI(d,g,t,o.layouts,m)})},reposition:function(d){ma.getState(li.getCoupled(d,"toolbarSandbox")).each(function(m){qP(d,m,t,o.layouts)})},toggle:function(d){lI(d,s)},getToolbar:function(d){return ma.getState(li.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return ma.isOpen(li.getCoupled(d,"toolbarSandbox"))}}})},Iw=ls({name:"FloatingToolbarButton",factory:C9,configFields:_9(),partFields:w9(),apis:{setGroups:function(t,n,o){t.setGroups(n,o)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},getToolbar:function(t,n){return t.getToolbar(n)},isOpen:function(t,n){return t.isOpen(n)}}}),x9=ue([zt("items"),Ev(["itemSelector"]),Bi("tgroupBehaviours",[jr])]),S9=ue([df({name:"items",unit:"item"})]),T9=function(t,n,o,s){return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.tgroupBehaviours,[jr.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},gD=ls({name:"ToolbarGroup",configFields:x9(),partFields:S9(),factory:T9}),dI=function(t){return $t(t,function(n){return hc(n)})},vI=function(t,n,o){sI(t,o,function(s){o.overflowGroups.set(s),n.getOpt(t).each(function(d){Iw.setGroups(d,dI(s))})})},E9=function(t,n,o,s){var d=$a(Iw.sketch({fetch:function(){return qu.nu(function(m){m(dI(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Hi,Mu]},onRtl:function(){return[Mu,Hi]},onBottomLtr:function(){return[ss,us]},onBottomRtl:function(){return[us,ss]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.splitToolbarBehaviours,[li.config({others:{overflowGroup:function(){return gD.sketch(J(J({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(m,g){t.builtGroups.set($t(g,m.getSystem().build)),vI(m,d,t)},refresh:function(m){return vI(m,d,t)},toggle:function(m){d.getOpt(m).each(function(g){Iw.toggle(g)})},isOpen:function(m){return d.getOpt(m).map(Iw.isOpen).getOr(!1)},reposition:function(m){d.getOpt(m).each(function(g){Iw.reposition(g)})},getOverflow:function(m){return d.getOpt(m).bind(Iw.getToolbar)}},domModification:{attributes:{role:"group"}}}},mI=ls({name:"SplitFloatingToolbar",configFields:y9(),partFields:b9(),factory:E9,apis:{setGroups:function(t,n,o){t.setGroups(n,o)},refresh:function(t,n){t.refresh(n)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)},getOverflow:function(t,n){return t.getOverflow(n)}}}),z9=ue([Ev(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ra("onOpened"),Ra("onClosed")].concat(cI())),A9=ue([yu({factory:xf,schema:Ng(),name:"primary"}),yu({factory:xf,schema:Ng(),name:"overflow",overrides:function(t){return{toolbarBehaviours:cr([ms.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(n){Za(n,t,"overflow-button").each(function(o){ca.off(o),bn.focus(o)}),t.onClosed(n)},onGrown:function(n){jr.focusIn(n),t.onOpened(n)},onStartGrow:function(n){Za(n,t,"overflow-button").each(ca.on)}}),jr.config({mode:"acyclic",onEscape:function(n){return Za(n,t,"overflow-button").each(bn.focus),O.some(!0)}})])}}}),pc({name:"overflow-button",overrides:function(t){return{buttonBehaviours:cr([ca.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),pc({name:"overflow-group"})]),O9=function(t,n){return Za(t,n,"overflow").map(ms.hasGrown).getOr(!1)},hI=function(t,n){Za(t,n,"overflow-button").bind(function(){return Za(t,n,"overflow")}).each(function(o){GP(t,n),ms.toggleGrow(o)})},GP=function(t,n){Za(t,n,"overflow").each(function(o){sI(t,n,function(s){var d=$t(s,function(m){return hc(m)});xf.setGroups(o,d)}),Za(t,n,"overflow-button").each(function(s){ms.hasGrown(o)&&ca.on(s)}),ms.refresh(o)})},R9=function(t,n,o,s){var d="alloy.toolbar.toggle",m=function(g,k){var C=$t(k,g.getSystem().build);t.builtGroups.set(C)};return{uid:t.uid,dom:t.dom,components:n,behaviours:Qi(t.splitToolbarBehaviours,[li.config({others:{overflowGroup:function(g){return gD.sketch(J(J({},s["overflow-group"]()),{items:[Ks.sketch(J(J({},s["overflow-button"]()),{action:function(k){Sa(g,d)}}))]}))}}}),Nn("toolbar-toggle-events",[Bt(d,function(g){hI(g,t)})])]),apis:{setGroups:function(g,k){m(g,k),GP(g,t)},refresh:function(g){return GP(g,t)},toggle:function(g){return hI(g,t)},isOpen:function(g){return O9(g,t)}},domModification:{attributes:{role:"group"}}}},KP=ls({name:"SplitSlidingToolbar",configFields:z9(),partFields:A9(),factory:R9,apis:{setGroups:function(t,n,o){t.setGroups(n,o)},refresh:function(t,n){t.refresh(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)}}}),pI=function(t){var n=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:J({tag:"div",classes:["tox-toolbar__group"]},n),components:[gD.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:cr([ai.config({}),bn.config({})])}},yD=function(t){return gD.sketch(pI(t))},gI=function(t,n){var o=Bn(function(s){var d=$t(t.initGroups,yD);xf.setGroups(s,d)});return cr([Pl.toolbarButton(t.providers.isDisabled),Ui(),jr.config({mode:n,onEscape:t.onEscape,selector:".tox-toolbar__group"}),Nn("toolbar-events",[o])])},yI=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":pI({title:O.none(),items:[]}),"overflow-button":$E({name:"more",icon:O.some("more-drawer"),disabled:!1,tooltip:O.some("More..."),primary:!1,borderless:!1},O.none(),t.providers)},splitToolbarBehaviours:gI(t,n)}},D9=function(t){var n=yI(t),o=4,s=mI.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return mI.sketch(J(J({},n),{lazySink:t.getSink,getOverflowBounds:function(){var d=t.moreDrawerData.lazyHeader().element,m=jl(d),g=ht(d),k=jl(g),C=Math.max(g.dom.scrollHeight,k.height);return Ei(m.x+o,k.y,m.width-o*2,C)},parts:J(J({},n.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},M9=function(t){var n=KP.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=KP.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=yI(t);return KP.sketch(J(J({},s),{components:[n,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([r()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([r()],{type:"closed"})}}))},bD=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return xf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===ul.scrolling?["tox-toolbar--scrolling"]:[])},components:[xf.parts.groups({})],toolbarBehaviours:gI(t,n)})},B9=function(t,n,o){var s={getSocket:function(d){return _c.getPart(d,t,"socket")},setSidebar:function(d,m){_c.getPart(d,t,"sidebar").each(function(g){return hz(g,m)})},toggleSidebar:function(d,m){_c.getPart(d,t,"sidebar").each(function(g){return pz(g,m)})},whichSidebar:function(d){return _c.getPart(d,t,"sidebar").bind(IP).getOrNull()},getHeader:function(d){return _c.getPart(d,t,"header")},getToolbar:function(d){return _c.getPart(d,t,"toolbar")},setToolbar:function(d,m){_c.getPart(d,t,"toolbar").each(function(g){g.getApis().setGroups(g,m)})},setToolbars:function(d,m){_c.getPart(d,t,"multiple-toolbar").each(function(g){iz.setItems(g,m)})},refreshToolbar:function(d){var m=_c.getPart(d,t,"toolbar");m.each(function(g){return g.getApis().refresh(g)})},toggleToolbarDrawer:function(d){_c.getPart(d,t,"toolbar").each(function(m){Ni(m.getApis().toggle,function(g){return g(m)})})},isToolbarDrawerToggled:function(d){return _c.getPart(d,t,"toolbar").bind(function(m){return O.from(m.getApis().isOpen).map(function(g){return g(m)})}).getOr(!1)},getThrobber:function(d){return _c.getPart(d,t,"throbber")},focusToolbar:function(d){var m=_c.getPart(d,t,"toolbar").orThunk(function(){return _c.getPart(d,t,"multiple-toolbar")});m.each(function(g){jr.focusIn(g)})},setMenubar:function(d,m){_c.getPart(d,t,"menubar").each(function(g){Cr.setMenus(g,m)})},focusMenubar:function(d){_c.getPart(d,t,"menubar").each(function(m){Cr.focus(m)})}};return{uid:t.uid,dom:t.dom,components:n,apis:s,behaviours:t.behaviours}},N9=Bg.optional({factory:Cr,name:"menubar",schema:[zt("backstage")]}),P9=function(t){return t.type===ul.sliding?M9:t.type===ul.floating?D9:bD},F9=Bg.optional({factory:{sketch:function(t){return iz.sketch({uid:t.uid,dom:t.dom,listBehaviours:cr([jr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return bD({type:t.type,uid:Nr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),O.some(!0)}})},setupItem:function(n,o,s,d){xf.setGroups(o,s)},shell:!0})}},name:"multiple-toolbar",schema:[zt("dom"),zt("onEscape")]}),I9=Bg.optional({factory:{sketch:function(t){var n=P9(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),O.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return n(o)}},name:"toolbar",schema:[zt("dom"),zt("onEscape"),zt("getSink")]}),$9=Bg.optional({factory:{sketch:we},name:"header",schema:[zt("dom")]}),L9=Bg.optional({name:"socket",schema:[zt("dom")]}),H9=Bg.optional({factory:{sketch:$P},name:"sidebar",schema:[zt("dom")]}),V9=Bg.optional({factory:{sketch:jn},name:"throbber",schema:[zt("dom")]}),wi=ls({name:"OuterContainer",factory:B9,configFields:[zt("dom"),zt("behaviours")],partFields:[$9,N9,I9,F9,L9,H9,V9],apis:{getSocket:function(t,n){return t.getSocket(n)},setSidebar:function(t,n,o){t.setSidebar(n,o)},toggleSidebar:function(t,n,o){t.toggleSidebar(n,o)},whichSidebar:function(t,n){return t.whichSidebar(n)},getHeader:function(t,n){return t.getHeader(n)},getToolbar:function(t,n){return t.getToolbar(n)},setToolbar:function(t,n,o){var s=$t(o,function(d){return yD(d)});t.setToolbar(n,s)},setToolbars:function(t,n,o){var s=$t(o,function(d){return $t(d,yD)});t.setToolbars(n,s)},refreshToolbar:function(t,n){return t.refreshToolbar(n)},toggleToolbarDrawer:function(t,n){t.toggleToolbarDrawer(n)},isToolbarDrawerToggled:function(t,n){return t.isToolbarDrawerToggled(n)},getThrobber:function(t,n){return t.getThrobber(n)},setMenubar:function(t,n,o){t.setMenubar(n,o)},focusMenubar:function(t,n){t.focusMenubar(n)},focusToolbar:function(t,n){t.focusToolbar(n)}}}),U9="file edit view insert format tools table help",bI={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},j9=function(t,n,o){var s=_T(o).split(/[ ,]/);return{text:t.title,getItems:function(){return Pr(t.items,function(d){var m=d.toLowerCase();return m.trim().length===0?[]:fa(s,function(g){return g===m})?[]:m==="separator"||m==="|"?[{type:"separator"}]:n.menuItems[m]?[n.menuItems[m]]:[]})}}},XP=function(t){return typeof t=="string"?t.split(" "):t},_I=function(t,n){var o=J(J({},bI),n.menus),s=In(n.menus).length>0,d=n.menubar===void 0||n.menubar===!0?XP(U9):XP(n.menubar===!1?"":n.menubar),m=qe(d,function(k){var C=dr(bI,k);return s?C||gt(n.menus,k).exists(function(E){return dr(E,"items")}):C}),g=$t(m,function(k){var C=o[k];return j9({title:C.title,items:XP(C.items)},n,t)});return qe(g,function(k){var C=function(E){return E.type!=="separator"};return k.getItems().length>0&&fa(k.getItems(),C)})},wI=function(t){var n=function(){t._skinLoaded=!0,eM(t)};return function(){t.initialized?n():t.on("init",n)}},W9=function(t,n){return function(){return tM(t,{message:n})}},kI=function(t,n,o){return new _g(function(s,d){o.load(n,s,d),t.on("remove",function(){return o.unload(n)})})},q9=function(t,n){var o=n+"/skin.min.css";return kI(t,o,t.ui.styleSheetLoader)},G9=function(t,n){var o=Dr(rr.fromDom(t.getElement()));if(o){var s=n+"/skin.shadowdom.min.css";return kI(t,s,cw.DOM.styleSheetLoader)}else return _g.resolve()},CI=function(t,n){var o=p5(n);o&&n.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),y5(n)===!1&&ee(o)?_g.all([q9(n,o),G9(n,o)]).then(wI(n),W9(n,"Skin could not be loaded")):wI(n)()},K9=Le(CI,!1),X9=Le(CI,!0),_D=function(t,n){return function(o){var s=Xm(),d=function(){o.setActive(t.formatter.match(n));var m=t.formatter.formatChanged(n,o.setActive);s.set(m)};return t.initialized?d():t.once("init",d),function(){t.off("init",d),s.clear()}}},wD=function(t,n,o){return function(s){var d=function(){return o(s)},m=function(){o(s),t.on(n,d)};return t.initialized?m():t.once("init",m),function(){t.off("init",m),t.off(n,d)}}},xI=function(t){return function(n){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,n.format)})}}},vd=function(t,n){return function(){return t.execCommand(n)}},Y9=function(t,n,o){var s=function(k,C,E,M){var P=n.shared.providers.translate(k.title);if(k.type==="separator")return O.some({type:"separator",text:P});if(k.type==="submenu"){var q=Pr(k.getStyleItems(),function(Z){return d(Z,C,M)});return C===0&&q.length<=0?O.none():O.some({type:"nestedmenuitem",text:P,disabled:q.length<=0,getSubmenuItems:function(){return Pr(k.getStyleItems(),function(Z){return d(Z,C,M)})}})}else return O.some(J({type:"togglemenuitem",text:P,icon:k.icon,active:k.isSelected(M),disabled:E,onAction:o.onAction(k)},k.getStylePreview().fold(function(){return{}},function(Z){return{meta:{style:Z}}})))},d=function(k,C,E){var M=k.type==="formatter"&&o.isInvalid(k);return C===0?M?[]:s(k,C,!1,E).toArray():s(k,C,M,E).toArray()},m=function(k){var C=o.getCurrentValue(),E=o.shouldHide?0:1;return Pr(k,function(M){return d(M,E,C)})},g=function(k,C){return function(E,M){var P=C(),q=m(P),Z=E_(q,nd.CLOSE_ON_EXECUTE,k,!1);M(Z)}};return{validateItems:m,getFetch:g}},sx=function(t,n,o){var s=o.dataset,d=s.type==="basic"?function(){return $t(s.data,function(m){return XR(m,o.isSelectedFor,o.getPreviewFor)})}:s.getData;return{items:Y9(t,n,o),getStyleItems:d}},gz=function(t,n,o){var s=sx(t,n,o),d=s.items,m=s.getStyleItems,g=function(C){return{getComponent:ue(C)}},k=wD(t,"NodeChange",function(C){var E=C.getComponent();o.updateText(E)});return FE({text:o.icon.isSome()?O.none():o.text,icon:o.icon,tooltip:O.from(o.tooltip),role:O.none(),fetch:d.getFetch(n,m),onSetup:k,getApi:g,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)},Z9=function(t){return $t(t,function(n){var o=n,s=n,d=n.split("=");return d.length>1&&(o=d[0],s=d[1]),{title:o,format:s}})},J9=function(t){return{type:"basic",data:t}},cx;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(cx||(cx={}));var Q9=function(t,n){return n===cx.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},YP=function(t,n,o,s){var d=t.getParam(n,o,"string"),m=Z9(Q9(d,s));return{type:"basic",data:m}},ZP=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],SI=function(t){var n=function(){return Nt(ZP,function(k){return t.formatter.match(k.format)})},o=function(k){return function(){return t.formatter.match(k)}},s=function(k){return O.none},d=function(k){var C=n(),E=C.fold(ue("left"),function(M){return M.title.toLowerCase()});en(k,PE,{icon:"align-"+E})},m=J9(ZP),g=function(k){return function(){return Nt(ZP,function(C){return C.format===k.format}).each(function(C){return t.execCommand(C.command)})}};return{tooltip:"Align",text:O.none(),icon:O.some("align-left"),isSelectedFor:o,getCurrentValue:O.none,getPreviewFor:s,onAction:g,updateText:d,dataset:m,shouldHide:!1,isInvalid:function(k){return!t.formatter.canApply(k.format)}}},eH=function(t,n){return gz(t,n,SI(t))},tH=function(t,n){var o=sx(t,n,SI(t));t.ui.registry.addNestedMenuItem("align",{text:n.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},rH="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",nH=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],TI=function(t){var n=t.split(/\s*,\s*/);return $t(n,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},aH=function(t){var n=function(){var o=TI(t.toLowerCase());return ut(nH,function(s){return o.indexOf(s.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&n()},EI=function(t){var n="System Font",o=function(){var E=function(ne){return ne?TI(ne)[0]:""},M=t.queryCommandValue("FontName"),P=C.data,q=M?M.toLowerCase():"",Z=Nt(P,function(ne){var me=ne.format;return me.toLowerCase()===q||E(me).toLowerCase()===E(q).toLowerCase()}).orThunk(function(){return mo(aH(q),{title:n,format:q})});return{matchOpt:Z,font:M}},s=function(E){return function(M){return M.exists(function(P){return P.format===E})}},d=function(){var E=o().matchOpt;return E},m=function(E){return function(){return O.some({tag:"div",styles:E.indexOf("dings")===-1?{"font-family":E}:{}})}},g=function(E){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,E.format)})}},k=function(E){var M=o(),P=M.matchOpt,q=M.font,Z=P.fold(ue(q),function(ne){return ne.title});en(E,Ag,{text:Z})},C=YP(t,"font_formats",rH,cx.SemiColon);return{tooltip:"Fonts",text:O.some(n),icon:O.none(),isSelectedFor:s,getCurrentValue:d,getPreviewFor:m,onAction:g,updateText:k,dataset:C,shouldHide:!1,isInvalid:Ue}},oH=function(t,n){return gz(t,n,EI(t))},iH=function(t,n){var o=sx(t,n,EI(t));t.ui.registry.addNestedMenuItem("fontformats",{text:n.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},uH="8pt 10pt 12pt 14pt 18pt 24pt 36pt",sH={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},cH={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},lH=function(t,n){var o=Math.pow(10,n);return Math.round(t*o)/o},fH=function(t,n){return/[0-9.]+px$/.test(t)?lH(parseInt(t,10)*72/96,n||0)+"pt":gt(cH,t).getOr(t)},dH=function(t){return gt(sH,t).getOr("")},zI=function(t){var n=function(){var C=O.none(),E=k.data,M=t.queryCommandValue("FontSize");if(M)for(var P=function(Z){var ne=fH(M,Z),me=dH(ne);C=Nt(E,function(Re){return Re.format===M||Re.format===ne||Re.format===me})},q=3;C.isNone()&&q>=0;q--)P(q);return{matchOpt:C,size:M}},o=function(C){return function(E){return E.exists(function(M){return M.format===C})}},s=function(){var C=n().matchOpt;return C},d=ue(O.none),m=function(C){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,C.format)})}},g=function(C){var E=n(),M=E.matchOpt,P=E.size,q=M.fold(ue(P),function(Z){return Z.title});en(C,Ag,{text:q})},k=YP(t,"fontsize_formats",uH,cx.Space);return{tooltip:"Font sizes",text:O.some("12pt"),icon:O.none(),isSelectedFor:o,getPreviewFor:d,getCurrentValue:s,onAction:m,updateText:g,dataset:k,shouldHide:!1,isInvalid:Ue}},vH=function(t,n){return gz(t,n,zI(t))},mH=function(t,n){var o=sx(t,n,zI(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},AI=function(t,n){var o=n(),s=$t(o,function(d){return d.format});return O.from(t.formatter.closest(s)).bind(function(d){return Nt(o,function(m){return m.format===d})}).orThunk(function(){return mo(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},hH="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",OI=function(t){var n="Paragraph",o=function(g){return function(){return t.formatter.match(g)}},s=function(g){return function(){var k=t.formatter.get(g);return O.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(g))})}},d=function(g){var k=AI(t,function(){return m.data}),C=k.fold(ue(n),function(E){return E.title});en(g,Ag,{text:C})},m=YP(t,"block_formats",hH,cx.SemiColon);return{tooltip:"Blocks",text:O.some(n),icon:O.none(),isSelectedFor:o,getCurrentValue:O.none,getPreviewFor:s,onAction:xI(t),updateText:d,dataset:m,shouldHide:!1,isInvalid:function(g){return!t.formatter.canApply(g.format)}}},pH=function(t,n){return gz(t,n,OI(t))},gH=function(t,n){var o=sx(t,n,OI(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},RI=function(t,n){var o="Paragraph",s=function(g){return function(){return t.formatter.match(g)}},d=function(g){return function(){var k=t.formatter.get(g);return k!==void 0?O.some({tag:k.length>0&&(k[0].inline||k[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(g))}):O.none()}},m=function(g){var k=function(P){var q=P.items;return q!==void 0&&q.length>0?Pr(q,k):[{title:P.title,format:P.format}]},C=Pr(Kh(t),k),E=AI(t,ue(C)),M=E.fold(ue(o),function(P){return P.title});en(g,Ag,{text:M})};return{tooltip:"Formats",text:O.some(o),icon:O.none(),isSelectedFor:s,getCurrentValue:O.none,getPreviewFor:d,onAction:xI(t),updateText:m,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(g){return!t.formatter.canApply(g.format)},dataset:n}},yH=function(t,n){var o=J({type:"advanced"},n.styleselect);return gz(t,n,RI(t,o))},bH=function(t,n){var o=J({type:"advanced"},n.styleselect),s=sx(t,n,RI(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},_H=function(t,n){var o=function(s,d){t.updateState.each(function(m){var g=m(s,d);n.set(g)}),t.renderComponents.each(function(m){var g=m(d,n.get()),k=$t(g,s.getSystem().build);t0(s,k)})};return ro([Bt(zc(),function(s,d){var m=d;if(!m.universal){var g=t.channel;dn(m.channels,g)&&o(s,m.data)}}),Bn(function(s,d){t.initialData.each(function(m){o(s,m)})})])},wH=Object.freeze({__proto__:null,events:_H}),kH=function(t,n,o){return o},CH=Object.freeze({__proto__:null,getState:kH}),xH=[zt("channel"),Oa("renderComponents"),Oa("updateState"),Oa("initialData")],SH=function(){var t=Qr(O.none()),n=function(){return t.set(O.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:n}},TH=Object.freeze({__proto__:null,init:SH}),Il=Mi({fields:xH,name:"reflecting",active:wH,apis:CH,state:TH}),EH=ue([zt("toggleClass"),zt("fetch"),is("onExecute"),Fe("getHotspot",O.some),Fe("getAnchorOverrides",ue({})),Id(),is("onItemExecute"),Oa("lazySink"),zt("dom"),Ra("onOpen"),Bi("splitDropdownBehaviours",[li,jr,bn]),Fe("matchWidth",!1),Fe("useMinWidth",!1),Fe("eventOrder",{}),Oa("role")].concat(ZT())),zH=yu({factory:Ks,schema:[zt("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:cr([bn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each(lc)},buttonBehaviours:cr([ca.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),AH=yu({factory:Ks,schema:[zt("dom")],name:"button",defaults:function(){return{buttonBehaviours:cr([bn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,n)})}}}}),OH=ue([zH,AH,Mc({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[zt("text")],name:"aria-descriptor"}),pc({schema:[Tv()],name:"menu",defaults:function(t){return{onExecute:function(n,o){n.getSystem().getByUid(t.uid).each(function(s){t.onItemExecute(s,n,o)})}}}}),LA()]),RH=function(t,n,o,s){var d,m=function(P){aa.getCurrent(P).each(function(q){Na.highlightFirst(q),jr.focusIn(q)})},g=function(P){var q=m;h_(t,Je,P,s,q,od.HighlightFirst).get(at)},k=function(P){return g(P),O.some(!0)},C=function(P){var q=vf(P,t,"button");return lc(q),O.some(!0)},E=J(J({},ro([Bn(function(P,q){var Z=Za(P,t,"aria-descriptor");Z.each(function(ne){var me=Nr("aria");Fn(ne.element,"id",me),Fn(P.element,"aria-describedby",me)})})])),Wb(O.some(g))),M={repositionMenus:function(P){ca.isOn(P)&&VA(P)}};return{uid:t.uid,dom:t.dom,components:n,apis:M,eventOrder:J(J({},t.eventOrder),(d={},d[sc()]=["disabling","toggling","alloy.base.behaviour"],d)),events:E,behaviours:Qi(t.splitDropdownBehaviours,[li.config({others:{sandbox:function(P){var q=vf(P,t,"arrow"),Z={onOpen:function(){ca.on(q),ca.on(P)},onClose:function(){ca.off(q),ca.off(P)}};return YT(t,P,Z)}}}),jr.config({mode:"special",onSpace:C,onEnter:C,onDown:k}),bn.config({}),ca.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},kD=ls({name:"SplitDropdown",configFields:EH(),partFields:OH(),factory:RH,apis:{repositionMenus:function(t,n){return t.repositionMenus(n)}}}),DH=function(t){return{isDisabled:function(){return Jr.isDisabled(t)},setDisabled:function(n){return Jr.set(t,n)}}},MH=function(t){return{setActive:function(n){ca.set(t,n)},isActive:function(){return ca.isOn(t)},isDisabled:function(){return Jr.isDisabled(t)},setDisabled:function(n){return Jr.set(t,n)}}},DI=function(t,n){return t.map(function(o){return{"aria-label":n.translate(o),title:n.translate(o)}}).getOr({})},MI=Nr("focus-button"),JP=function(t,n,o,s,d,m){var g;return{dom:{tag:"button",classes:["tox-tbtn"].concat(n.isSome()?["tox-tbtn--select"]:[]),attributes:DI(o,m)},components:i_([t.map(function(k){return FC(k,m.icons)}),n.map(function(k){return NE(k,"tox-tbtn",m)})]),eventOrder:(g={},g[Zc()]=["focusing","alloy.base.behaviour","common-button-display-events"],g),buttonBehaviours:cr([Pl.toolbarButton(m.isDisabled),Ui(),Nn("common-button-display-events",[Bt(Zc(),function(k,C){C.event.prevent(),Sa(k,MI)})])].concat(s.map(function(k){return Il.config({channel:k,initialData:{icon:t,text:n},renderComponents:function(C,E){return i_([C.icon.map(function(M){return FC(M,m.icons)}),C.text.map(function(M){return NE(M,"tox-tbtn",m)})])}})}).toArray()).concat(d.getOr([])))}},BH=function(t,n,o,s){var d=n.shared;return Iw.sketch({lazySink:d.getSink,fetch:function(){return qu.nu(function(m){m($t(o(t.items),yD))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:JP(t.icon,t.text,t.tooltip,O.none(),O.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},BI=function(t,n,o){var s=Qr(at),d=JP(t.icon,t.text,t.tooltip,O.none(),O.none(),o);return Ks.sketch({dom:d.dom,components:d.components,eventOrder:uR,buttonBehaviours:cr([Nn("toolbar-button-events",[IN({onAction:t.onAction,getApi:n.getApi}),o_(n,s),fw(n,s)]),Pl.toolbarButton(function(){return t.disabled||o.isDisabled()}),Ui()].concat(n.toolbarButtonBehaviours))})},NH=function(t,n){return NI(t,n,[])},NI=function(t,n,o){return BI(t,{toolbarButtonBehaviours:[].concat(o.length>0?[Nn("toolbarButtonWith",o)]:[]),getApi:DH,onSetup:t.onSetup},n)},PH=function(t,n){return PI(t,n,[])},PI=function(t,n,o){return _t(BI(t,{toolbarButtonBehaviours:[yn.config({}),ca.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[Nn("toolbarToggleButtonWith",o)]:[]),getApi:MH,onSetup:t.onSetup},n))},FH=function(t,n,o){return function(s){return qu.nu(function(d){return n.fetch(d)}).map(function(d){return O.from(fA(_t(f_(Nr("menu-value"),d,function(m){n.onItemAction(t(s),m)},n.columns,n.presets,nd.CLOSE_ON_EXECUTE,n.select.getOr(Ue),o),{movement:rC(n.columns,n.presets),menuBehaviours:r_.unnamedEvents(n.columns!=="auto"?[]:[Bn(function(m,g){yT(m,4,lT(n.presets)).each(function(k){var C=k.numRows,E=k.numColumns;jr.setGridSize(m,C,E)})})])})))})}},IH=function(t,n){var o,s=Nr("channel-update-split-dropdown-display"),d=function(k){return{isDisabled:function(){return Jr.isDisabled(k)},setDisabled:function(C){return Jr.set(k,C)},setIconFill:function(C,E){Oi(k.element,'svg path[id="'+C+'"], rect[id="'+C+'"]').each(function(M){Fn(M,"fill",E)})},setIconStroke:function(C,E){Oi(k.element,'svg path[id="'+C+'"], rect[id="'+C+'"]').each(function(M){Fn(M,"stroke",E)})},setActive:function(C){Fn(k.element,"aria-pressed",C),Oi(k.element,"span").each(function(E){k.getSystem().getByDom(E).each(function(M){return ca.set(M,C)})})},isActive:function(){return Oi(k.element,"span").exists(function(C){return k.getSystem().getByDom(C).exists(ca.isOn)})}}},m=Qr(at),g={getApi:d,onSetup:t.onSetup};return kD.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:J({"aria-pressed":!1},DI(t.tooltip,n.providers))},onExecute:function(k){t.onAction(d(k))},onItemExecute:function(k,C,E){},splitDropdownBehaviours:cr([Pl.splitButton(n.providers.isDisabled),Ui(),Nn("split-dropdown-events",[Bt(MI,bn.focus),o_(g,m),fw(g,m)]),g_.config({})]),eventOrder:(o={},o[js()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:FH(d,t,n.providers),parts:{menu:N3(!1,t.columns,t.presets)},components:[kD.parts.button(JP(t.icon,t.text,O.none(),O.some(s),O.some([ca.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),kD.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Mz("chevron-down",n.providers.icons)},buttonBehaviours:cr([Pl.splitButton(n.providers.isDisabled),Ui(),J8()])}),kD.parts["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})},$H=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],yz=function(t,n){return function(o,s,d){var m=t(o).mapError(function(g){return yd(g)}).getOrDie();return n(m,s,d)}},lx={button:yz(Jz,function(t,n){return NH(t,n.backstage.shared.providers)}),togglebutton:yz(aT,function(t,n){return PH(t,n.backstage.shared.providers)}),menubutton:yz(nt,function(t,n){return LC(t,"tox-tbtn",n.backstage,O.none())}),splitbutton:yz(Kt,function(t,n){return IH(t,n.backstage.shared)}),grouptoolbarbutton:yz(Ze,function(t,n,o){var s,d=o.ui.registry.getAll().buttons,m=function(k){return CD(o,{buttons:d,toolbar:k,allowToolbarGroups:!1},n,O.none())},g=(s={},s[Wy]=n.backstage.shared.header.isPositionedAtTop()?af.TopToBottom:af.BottomToTop,s);switch(lw(o)){case ul.floating:return BH(t,n.backstage,m,g);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,n){return yH(t,n.backstage)},fontsizeSelectButton:function(t,n){return vH(t,n.backstage)},fontSelectButton:function(t,n){return oH(t,n.backstage)},formatButton:function(t,n){return pH(t,n.backstage)},alignMenuButton:function(t,n){return eH(t,n.backstage)}},LH=function(t,n,o){return gt(lx,t.type).fold(function(){return console.error("skipping button defined by",t),O.none()},function(s){return O.some(s(t,n,o))})},FI={styleselect:lx.styleSelectButton,fontsizeselect:lx.fontsizeSelectButton,fontselect:lx.fontSelectButton,formatselect:lx.formatButton,align:lx.alignMenuButton},HH=function(t){var n=$t($H,function(o){var s=qe(o.items,function(d){return dr(t,d)||dr(FI,d)});return{name:o.name,items:s}});return qe(n,function(o){return o.items.length>0})},VH=function(t){var n=t.split("|");return $t(n,function(o){return{items:o.trim().split(" ")}})},UH=function(t){return Xe(t,function(n){return dr(n,"name")&&dr(n,"items")})},jH=function(t){var n=t.toolbar,o=t.buttons;return n===!1?[]:n===void 0||n===!0?HH(o):ee(n)?VH(n):UH(n)?n:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},WH=function(t,n,o,s,d,m){return gt(n,o.toLowerCase()).orThunk(function(){return m.bind(function(g){return Zn(g,function(k){return gt(n,k+o.toLowerCase())})})}).fold(function(){return gt(FI,o.toLowerCase()).map(function(g){return g(t,d)}).orThunk(function(){return O.none()})},function(g){return g.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),O.none()):LH(g,d,t)})},CD=function(t,n,o,s){var d=jH(n),m=$t(d,function(g){var k=Pr(g.items,function(C){return C.trim().length===0?[]:WH(t,n.buttons,C,n.allowToolbarGroups,o,s).toArray()});return{title:O.from(t.translate(g.name)),items:k}});return qe(m,function(g){return g.items.length>0})},II=function(t,n,o,s){var d=n.outerContainer,m=o.toolbar,g=o.buttons;if(Xe(m,ee)){var k=m.map(function(C){var E={toolbar:C,buttons:g,allowToolbarGroups:o.allowToolbarGroups};return CD(t,E,{backstage:s},O.none())});wi.setToolbars(d,k)}else wi.setToolbar(d,CD(t,o,{backstage:s},O.none()))},$I=Zt(),qH=$I.os.isiOS()&&$I.os.version.major<=12,GH=function(t,n){var o=t.dom,s=t.getWin(),d=t.getDoc().documentElement,m=Qr(Qa(s.innerWidth,s.innerHeight)),g=Qr(Qa(d.offsetWidth,d.offsetHeight)),k=function(){var q=m.get();(q.left!==s.innerWidth||q.top!==s.innerHeight)&&(m.set(Qa(s.innerWidth,s.innerHeight)),RT(t))},C=function(){var q=t.getDoc().documentElement,Z=g.get();(Z.left!==q.offsetWidth||Z.top!==q.offsetHeight)&&(g.set(Qa(q.offsetWidth,q.offsetHeight)),RT(t))},E=function(q){return nM(t,q)};o.bind(s,"resize",k),o.bind(s,"scroll",E);var M=Hy(rr.fromDom(t.getBody()),"load",C),P=n.uiMothership.element;t.on("hide",function(){vn(P,"display","none")}),t.on("show",function(){Aa(P,"display")}),t.on("NodeChange",C),t.on("remove",function(){M.unbind(),o.unbind(s,"resize",k),o.unbind(s,"scroll",E),s=null})},KH=function(t,n,o,s,d){var m=Qr(0),g=n.outerContainer;K9(t);var k=rr.fromDom(d.targetNode),C=ir(Zr(k));rl(k,n.mothership),Xf(C,n.uiMothership),t.on("PostRender",function(){II(t,n,o,s),m.set(t.getWin().innerWidth),wi.setMenubar(g,_I(t,o)),wi.setSidebar(g,o.sidebar),GH(t,n)});var E=wi.getSocket(g).getOrDie("Could not find expected socket element");if(qH){Is(E.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var M=_6(function(){t.fire("ScrollContent")},20),P=ni(E.element,"scroll",M.throttle);t.on("remove",P.unbind)}A4(t,n),t.addCommand("ToggleSidebar",function(me,Re){wi.toggleSidebar(g,Re),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return wi.whichSidebar(g)});var q=lw(t),Z=function(){wi.refreshToolbar(n.outerContainer)};(q===ul.sliding||q===ul.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var me=t.getWin().innerWidth;me!==m.get()&&(Z(),m.set(me))});var ne={enable:function(){a_(n,!1)},disable:function(){a_(n,!0)},isDisabled:function(){return Jr.isDisabled(g)}};return{iframeContainer:E.element.dom,editorContainer:g.element.dom,api:ne}},XH=Object.freeze({__proto__:null,render:KH}),QP=function(t){var n=/^[0-9\.]+(|px)$/i;return n.test(""+t)?O.some(parseInt(""+t,10)):O.none()},eF=function(t){return er(t)?t+"px":t},xD=function(t,n,o){var s=n.filter(function(m){return t<m}),d=o.filter(function(m){return t>m});return s.or(d).getOr(t)},YH=function(t){var n=p4(t),o=b4(t),s=_4(t);return QP(n).map(function(d){return xD(d,o,s)})},ZH=function(t){var n=YH(t);return n.getOr(p4(t))},LI=function(t){var n=g4(t),o=y4(t),s=L3(t);return QP(n).map(function(d){return xD(d,o,s)})},JH=function(t){var n=LI(t);return n.getOr(g4(t))},QH=function(t,n,o,s,d){var m=o.uiMothership,g=o.outerContainer,k=cw.DOM,C=V3(t),E=U3(t),M=L3(t).or(LI(t)),P=s.shared.header,q=P.isPositionedAtTop,Z=lw(t),ne=Z===ul.sliding||Z===ul.floating,me=Qr(!1),Re=function(){return me.get()&&!t.removed},de=function(Pt){return ne?Pt.fold(ue(0),function(Ct){return Ct.components().length>1?pi(Ct.components()[1].element):0}):0},Ne=function(Pt){switch(k4(t)){case xg.auto:var Ct=wi.getToolbar(g),ar=de(Ct),Fr=pi(Pt.element)-ar,Ot=si(n),Ar=Ot.y>Fr;if(Ar)return"top";var Ur=ht(n),ia=Math.max(Ur.dom.scrollHeight,pi(Ur)),Ha=Ot.bottom<ia-Fr;if(Ha)return"bottom";var po=su(),Ko=po.bottom<Ot.bottom-Fr;return Ko?"bottom":"top";case xg.bottom:return"bottom";case xg.top:default:return"top"}},mt=function(Pt){var Ct=d.get();e.setModes(Ct,[Pt]),P.setDockingMode(Pt);var ar=q()?af.TopToBottom:af.BottomToTop;Fn(Ct.element,Wy,ar)},ft=function(){var Pt=M.getOrThunk(function(){var Ct=QP(Vo(Ia(),"margin-left")).getOr(0);return Tu(Ia())-Ju(n).left+Ct});vn(d.get().element,"max-width",Pt+"px")},Be=function(){var Pt=wi.getToolbar(g),Ct=de(Pt),ar=si(n),Fr=q()?Math.max(ar.y-pi(d.get().element)+Ct,0):ar.bottom;Is(g.element,{position:"absolute",top:Math.round(Fr)+"px",left:Math.round(ar.x)+"px"})},it=function(){m.broadcastOn([mh()],{})},xt=function(Pt){if(Pt===void 0&&(Pt=!1),!!Re()){if(C||ft(),ne&&wi.refreshToolbar(g),C||Be(),E){var Ct=d.get();Pt?e.reset(Ct):e.refresh(Ct)}it()}},yr=function(Pt){if(Pt===void 0&&(Pt=!0),!(C||!E||!Re())){var Ct=P.getDockingMode(),ar=Ne(d.get());ar!==Ct&&(mt(ar),Pt&&xt(!0))}},Dt=function(){me.set(!0),vn(g.element,"display","flex"),k.addClass(t.getBody(),"mce-edit-focus"),Aa(m.element,"display"),yr(!1),xt()},_r=function(){me.set(!1),o.outerContainer&&(vn(g.element,"display","none"),k.removeClass(t.getBody(),"mce-edit-focus")),vn(m.element,"display","none")};return{isVisible:Re,isPositionedAtTop:q,show:Dt,hide:_r,update:xt,updateMode:yr,repositionPopups:it}},HI=function(t,n){var o=si(t);return{pos:n?o.y:o.bottom,bounds:o}},eV=function(t,n,o,s){var d=Qr(HI(n,o.isPositionedAtTop())),m=function(k){var C=HI(n,o.isPositionedAtTop()),E=C.pos,M=C.bounds,P=d.get(),q=P.pos,Z=P.bounds,ne=M.height!==Z.height||M.width!==Z.width;d.set({pos:E,bounds:M}),ne&&RT(t,k),o.isVisible()&&(q!==E?o.update(!0):ne&&(o.updateMode(),o.repositionPopups()))};s||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(k){ed.requestAnimationFrame(function(){return m(k)})}),t.on("ScrollWindow",function(){return o.updateMode()});var g=Xm();g.set(Hy(rr.fromDom(t.getBody()),"load",m)),t.on("remove",function(){g.clear()})},tV=function(t,n,o,s,d){var m=n.mothership,g=n.uiMothership,k=n.outerContainer,C=Qr(null),E=rr.fromDom(d.targetNode),M=QH(t,E,n,s,C),P=S5(t);X9(t);var q=function(){if(C.get()){M.show();return}C.set(wi.getHeader(k).getOrDie());var ne=S4(t);Xf(ne,m),Xf(ne,g),II(t,n,o,s),wi.setMenubar(k,_I(t,o)),M.show(),eV(t,E,M,P),t.nodeChanged()};t.on("show",q),t.on("hide",M.hide),P||(t.on("focus",q),t.on("blur",M.hide)),t.on("init",function(){(t.hasFocus()||P)&&q()}),A4(t,n);var Z={show:function(){M.show()},hide:function(){M.hide()},enable:function(){a_(n,!1)},disable:function(){a_(n,!0)},isDisabled:function(){return Jr.isDisabled(k)}};return{editorContainer:k.element.dom,api:Z}},rV=Object.freeze({__proto__:null,render:tV}),nV="contexttoolbar-show",VI="contexttoolbar-hide",aV=function(t){return{hide:function(){return Sa(t,gp())},getValue:function(){return gr.getValue(t)}}},UI=function(t,n){return Bt(iR,function(o,s){var d=t.get(o),m=aV(d);n.onAction(m,s.event.buttonApi)})},oV=function(t,n,o){var s=n.original;s.primary;var d=X(s,["primary"]),m=Kc(Jz(J(J({},d),{type:"button",onAction:at})));return NI(m,o.backstage.shared.providers,[UI(t,n)])},iV=function(t,n,o){var s=n.original;s.primary;var d=X(s,["primary"]),m=Kc(aT(J(J({},d),{type:"togglebutton",onAction:at})));return PI(m,o.backstage.shared.providers,[UI(t,n)])},uV=function(t,n,o){var s={backstage:{shared:{providers:o}}};return n.type==="contextformtogglebutton"?iV(t,n,s):oV(t,n,s)},sV=function(t,n,o){var s=$t(n,function(g){return $a(uV(t,g,o))}),d=function(){return $t(s,function(g){return g.asSpec()})},m=function(g){return Zn(n,function(k,C){return k.primary?O.from(s[C]).bind(function(E){return E.getOpt(g)}).filter(Ge(Jr.isDisabled)):O.none()})};return{asSpecs:d,findPrimary:m}},jI=function(t,n){var o=t.label.fold(function(){return{}},function(m){return{"aria-label":m}}),s=$a(v_.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:cr([jr.config({mode:"special",onEnter:function(m){return d.findPrimary(m).map(function(g){return lc(g),!0})},onLeft:function(m,g){return g.cut(),O.none()},onRight:function(m,g){return g.cut(),O.none()}})])})),d=sV(s,t.commands,n);return[{title:O.none(),items:[s.asSpec()]},{title:O.none(),items:d.asSpecs()}]},cV=function(t,n,o){return bD({type:t,uid:Nr("context-toolbar"),initGroups:jI(n,o),onEscape:O.none,cyclicKeying:!0,providers:o})},lV={renderContextForm:cV,buildInitGroups:jI},WI=function(t,n,o){return o===void 0&&(o=.01),n.bottom-t.y>=o&&t.bottom-n.y>=o},fV=function(t){var n=t.getBoundingClientRect();if(n.height<=0&&n.width<=0){var o=le(rr.fromDom(t.startContainer),t.startOffset).element,s=mr(o)?yo(o):O.some(o);return s.filter(Gt).map(function(d){return d.dom.getBoundingClientRect()}).getOr(n)}else return n},tF=function(t){var n=t.selection.getRng(),o=fV(n);if(t.inline){var s=Ls();return Ei(s.left+o.left,s.top+o.top,o.width,o.height)}else{var d=jl(rr.fromDom(t.getBody()));return Ei(d.x+o.left,d.y+o.top,o.width,o.height)}},dV=function(t,n){return n.filter(tn).map(jl).getOrThunk(function(){return tF(t)})},vV=function(t,n,o){var s=Math.max(t.x+o,n.x),d=Math.min(t.right-o,n.right);return{x:s,width:d-s}},mV=function(t,n,o,s,d,m){var g=rr.fromDom(t.getContainer()),k=Oi(g,".tox-editor-header").getOr(g),C=si(k),E=C.y>=n.bottom,M=s&&!E;if(t.inline&&M)return{y:Math.max(C.bottom+m,o.y),bottom:o.bottom};if(t.inline&&!M)return{y:o.y,bottom:Math.min(C.y-m,o.bottom)};var P=d==="line"?si(g):n;return M?{y:Math.max(C.bottom+m,o.y),bottom:Math.min(P.bottom-m,o.bottom)}:{y:Math.max(P.y+m,o.y),bottom:Math.min(C.y-m,o.bottom)}},qI=function(t,n,o,s){s===void 0&&(s=0);var d=Mf(window),m=si(rr.fromDom(t.getContentAreaContainer())),g=Vi(t)||wT(t)||H3(t),k=vV(m,d,s),C=k.x,E=k.width;if(t.inline&&!g)return Ei(C,d.y,E,d.height);var M=n.header.isPositionedAtTop(),P=mV(t,m,d,M,o,s),q=P.y,Z=P.bottom;return Ei(C,q,E,Z-q)},SD=12,GI={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},KI={maxHeightFunction:Zm(),maxWidthFunction:WP()},hV=function(t,n){var o=t.selection.getRng(),s=le(rr.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&va(s.element,n)},pV=function(t,n,o){var s=ui(t,"position");vn(t,"position",n);var d=o(t);return s.each(function(m){return vn(t,"position",m)}),d},XI=function(t){return t==="node"},gV=function(t,n,o,s,d){var m=tF(t),g=s.lastElement().exists(function(E){return va(o,E)});if(hV(t,o))return g?M8:Nl;if(g)return pV(n,s.getMode(),function(){var E=WI(m,si(n));return E&&!s.isReposition()?KD:M8});var k=s.getMode()==="fixed"?d.y+Ls().top:d.y,C=pi(n)+SD;return k+C<=m.y?Nl:Mh},yV=function(t,n,o,s){var d=function(C){return function(E,M,P,q,Z){var ne=gV(t,q,C,o,Z),me=J(J({},E),{y:Z.y,height:Z.height});return J(J({},ne(me,M,P,q,Z)),{alwaysFit:!0})}},m=function(C){return XI(s)?[d(C)]:[]},g={onLtr:function(C){return[Ts,bi,us,Mu,ss,Hi].concat(m(C))},onRtl:function(C){return[Ts,bi,ss,Hi,us,Mu].concat(m(C))}},k={onLtr:function(C){return[bi,Mu,Hi,us,ss,Ts].concat(m(C))},onRtl:function(C){return[bi,Hi,Mu,ss,us,Ts].concat(m(C))}};return n?k:g},bV=function(t,n,o,s){return n==="line"?{bubble:Bv(SD,0,GI),layouts:{onLtr:function(){return[Oy]},onRtl:function(){return[Ry]}},overrides:KI}:{bubble:Bv(0,SD,GI,1/SD),layouts:yV(t,o,s,n),overrides:KI}},rF=function(t,n){var o=qe(n,function(g){return g.predicate(t.dom)}),s=rt(o,function(g){return g.type==="contexttoolbar"}),d=s.pass,m=s.fail;return{contextToolbars:d,contextForms:m}},_V=function(t){if(t.length<=1)return t;var n=function(k){return fa(t,function(C){return C.position===k})},o=function(k){return qe(t,function(C){return C.position===k})},s=n("selection"),d=n("node");if(s||d)if(d&&s){var m=o("node"),g=$t(o("selection"),function(k){return J(J({},k),{position:"node"})});return m.concat(g)}else return o(s?"selection":"node");else return o("line")},wV=function(t){if(t.length<=1)return t;var n=function(s){return Nt(t,function(d){return d.position===s})},o=n("selection").orThunk(function(){return n("node")}).orThunk(function(){return n("line")}).map(function(s){return s.position});return o.fold(function(){return[]},function(s){return qe(t,function(d){return d.position===s})})},kV=function(t,n,o){var s=rF(t,n);if(s.contextForms.length>0)return O.some({elem:t,toolbars:[s.contextForms[0]]});var d=rF(t,o);if(d.contextForms.length>0)return O.some({elem:t,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var m=_V(s.contextToolbars.concat(d.contextToolbars));return O.some({elem:t,toolbars:m})}else return O.none()},CV=function(t,n,o){return t(n)?O.none():pp(n,function(s){if(Gt(s)){var d=rF(s,o.inNodeScope),m=d.contextToolbars,g=d.contextForms,k=g.length>0?g:wV(m);return k.length>0?O.some({elem:s,toolbars:k}):O.none()}else return O.none()},t)},xV=function(t,n){var o=rr.fromDom(n.getBody()),s=function(g){return va(g,o)},d=function(g){return!s(g)&&!Su(o,g)},m=rr.fromDom(n.selection.getNode());return d(m)?O.none():kV(m,t.inNodeScope,t.inEditorScope).orThunk(function(){return CV(s,m,t)})},SV=function(t,n){var o={},s=[],d=[],m={},g={},k=function(M,P){var q=Kc(B6(P));o[M]=q,q.launch.map(function(Z){m["form:"+M]=J(J({},P.launch),{type:Z.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){n(q)}})}),q.scope==="editor"?d.push(q):s.push(q),g[M]=q},C=function(M,P){P6(P).each(function(q){P.scope==="editor"?d.push(q):s.push(q),g[M]=q})},E=In(t);return Qe(E,function(M){var P=t[M];P.type==="contextform"?k(M,P):P.type==="contexttoolbar"&&C(M,P)}),{forms:o,inNodeScope:s,inEditorScope:d,lookupTable:g,formNavigators:m}},YI=Nr("forward-slide"),ZI=Nr("backward-slide"),nF=Nr("change-slide-event"),aF="tox-pop--resizing",TV=function(t){var n=Qr([]);return Ga.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){n.set([]),Ga.getContent(o).each(function(s){Aa(s.element,"visibility")}),yi(o.element,aF),Aa(o.element,"width")},inlineBehaviours:cr([Nn("context-toolbar-events",[ci(Dm(),function(o,s){s.event.raw.propertyName==="width"&&(yi(o.element,aF),Aa(o.element,"width"))}),Bt(nF,function(o,s){var d=o.element;Aa(d,"width");var m=Tu(d);Ga.setContent(o,s.event.contents),Ai(d,aF);var g=Tu(d);vn(d,"width",m+"px"),Ga.getContent(o).each(function(k){s.event.focus.bind(function(C){return Tl(C),El(d)}).orThunk(function(){return jr.focusIn(k),cs(Zr(d))})}),ed.setTimeout(function(){vn(o.element,"width",g+"px")},0)}),Bt(YI,function(o,s){Ga.getContent(o).each(function(d){n.set(n.get().concat([{bar:d,focus:cs(Zr(o.element))}]))}),en(o,nF,{contents:s.event.forwardContents,focus:O.none()})}),Bt(ZI,function(o,s){Ta(n.get()).each(function(d){n.set(n.get().slice(0,n.get().length-1)),en(o,nF,{contents:hc(d.bar),focus:d.focus})})})]),jr.config({mode:"special",onEscape:function(o){return Ta(n.get()).fold(function(){return t.onEscape()},function(s){return Sa(o,ZI),O.some(!0)})}})]),lazySink:function(){return $n.value(t.sink)}})},oF="tox-pop--transition",EV=function(t,n,o,s){var d=s.backstage,m=d.shared,g=Zt().deviceType.isTouch,k=Yo(),C=Yo(),E=Yo(),M=wo(TV({sink:o,onEscape:function(){return t.focus(),O.some(!0)}})),P=function(){var Dt=E.get().getOr("node"),_r=XI(Dt)?1:0;return qI(t,m,Dt,_r)},q=function(){return!t.removed&&!(g()&&d.isContextMenuOpen())},Z=function(Dt){return ua(xo(Dt,k.get(),va),!0)},ne=function(){if(q()){var Dt=P(),_r=ua(E.get(),"node")?dV(t,k.get()):tF(t);return Dt.height<=0||!WI(_r,Dt)}else return!0},me=function(){k.clear(),C.clear(),E.clear(),Ga.hide(M)},Re=function(){if(Ga.isOpen(M)){var Dt=M.element;Aa(Dt,"display"),ne()?vn(Dt,"display","none"):(C.set(0),Ga.reposition(M))}},de=function(Dt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Dt],behaviours:cr([jr.config({mode:"acyclic"}),Nn("pop-dialog-wrap-events",[Bn(function(_r){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return jr.focusIn(_r)})}),fc(function(_r){t.shortcuts.remove("ctrl+F9")})])])}},Ne=hn(function(){return SV(n,function(Dt){var _r=Be([Dt]);en(M,YI,{forwardContents:de(_r)})})}),mt=function(Dt,_r){return CD(t,{buttons:Dt,toolbar:_r.items,allowToolbarGroups:!1},s,O.some(["form:"]))},ft=function(Dt,_r){return lV.buildInitGroups(Dt,_r)},Be=function(Dt){var _r=t.ui.registry.getAll().buttons,Pt=Ne(),Ct=J(J({},_r),Pt.formNavigators),ar=lw(t)===ul.scrolling?ul.scrolling:ul.default,Fr=Xt($t(Dt,function(Ot){return Ot.type==="contexttoolbar"?mt(Ct,Ot):ft(Ot,m.providers)}));return bD({type:ar,uid:Nr("context-toolbar"),initGroups:Fr,onEscape:O.none,cyclicKeying:!0,providers:m.providers})},it=function(Dt,_r){var Pt=Dt==="node"?m.anchors.node(_r):m.anchors.cursor(),Ct=bV(t,Dt,g(),{lastElement:k.get,isReposition:function(){return ua(C.get(),0)},getMode:function(){return Zo.getMode(o)}});return _t(Pt,Ct)},xt=function(Dt,_r){if(yr.cancel(),!!q()){var Pt=Be(Dt),Ct=Dt[0].position,ar=it(Ct,_r);E.set(Ct),C.set(1);var Fr=M.element;Aa(Fr,"display"),Z(_r)||(yi(Fr,oF),Zo.reset(o,M)),Ga.showWithinBounds(M,de(Pt),{anchor:ar,transition:{classes:[oF],mode:"placement"}},function(){return O.some(P())}),_r.fold(k.clear,k.set),ne()&&vn(Fr,"display","none")}},yr=E3(function(){if(!(!t.hasFocus()||t.removed))if(as(M.element,oF))yr.throttle();else{var Dt=Ne();xV(Dt,t).fold(me,function(_r){xt(_r.toolbars,O.some(_r.elem))})}},17);t.on("init",function(){t.on("remove",me),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Re),t.on("click keyup focus SetContent",yr.throttle),t.on(VI,me),t.on(nV,function(Dt){var _r=Ne();gt(_r.lookupTable,Dt.toolbarKey).each(function(Pt){xt([Pt],mo(Dt.target!==t,Dt.target)),Ga.getContent(M).each(jr.focusIn)})}),t.on("focusout",function(Dt){ed.setEditorTimeout(t,function(){El(o.element).isNone()&&El(M.element).isNone()&&me()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&me()}),t.on("AfterProgressState",function(Dt){Dt.state?me():t.hasFocus()&&yr.throttle()}),t.on("NodeChange",function(Dt){El(M.element).fold(yr.throttle,at)})})},zV=function(t){var n=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Qe(n,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:vd(t,o.cmd),onSetup:_D(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:vd(t,"JustifyNone")})},AV={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},OV=function(){var t="[0-9]+",n="[+-]?"+t,o="[eE]"+n,s="\\.",d=function(k){return"(?:"+k+")?"},m=["Infinity",t+s+d(t)+d(o),s+t+d(o),t+d(o)].join("|"),g="[+-]?(?:"+m+")";return new RegExp("^("+g+")(.*)$")}(),RV=function(t,n){return fa(n,function(o){return fa(AV[o],function(s){return t===s})})},DV=function(t,n){var o=O.from(OV.exec(t));return o.bind(function(s){var d=Number(s[1]),m=s[2];return RV(m,n)?O.some({value:d,unit:m}):O.none()})},MV=function(t,n){return DV(t,n).map(function(o){var s=o.value,d=o.unit;return s+d})},JI=function(t,n){var o=function(){var s=n.getOptions(t),d=n.getCurrent(t).map(n.hash),m=Yo();return $t(s,function(g){return{type:"togglemenuitem",text:n.display(g),onSetup:function(k){var C=function(M){M&&(m.on(function(P){return P.setActive(!1)}),m.set(k)),k.setActive(M)};C(ua(d,n.hash(g)));var E=n.watcher(t,g,C);return function(){m.clear(),E()}},onAction:function(){return n.setCurrent(t,g)}}})};t.ui.registry.addMenuButton(n.name,{tooltip:n.text,icon:n.icon,fetch:function(s){return s(o())},onSetup:n.onToolbarSetup}),t.ui.registry.addNestedMenuItem(n.name,{type:"nestedmenuitem",text:n.text,getSubmenuItems:o,onSetup:n.onMenuSetup})},BV={name:"lineheight",text:"Line height",icon:"line-height",getOptions:_5,hash:function(t){return MV(t,["fixed","relative","empty"]).getOr(t)},display:Je,watcher:function(t,n,o){return t.formatter.formatChanged("lineheight",o,!1,{value:n}).unbind},getCurrent:function(t){return O.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,n){return t.execCommand("LineHeight",!1,n)}},NV=function(t){var n=O.from(w5(t));return n.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:ue(o),hash:function(s){return jt(s.customCode)?s.code:s.code+"/"+s.customCode},display:function(s){return s.title},watcher:function(s,d,m){return s.formatter.formatChanged("lang",m,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(s){var d=rr.fromDom(s.selection.getNode());return zm(d,function(m){return O.some(m).filter(Gt).bind(function(g){var k=No(g,"lang");return k.map(function(C){var E=No(g,"data-mce-lang").getOrUndefined();return{code:C,customCode:E,title:""}})})})},setCurrent:function(s,d){return s.execCommand("Lang",!1,d)},onToolbarSetup:function(s){var d=Xm();return s.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",s.setActive,!0)),d.clear}}})},PV=function(t){JI(t,BV),NV(t).each(function(n){return JI(t,n)})},FV=function(t,n){tH(t,n),iH(t,n),bH(t,n),gH(t,n),mH(t,n)},IV=function(t){return wD(t,"NodeChange",function(n){n.setDisabled(!t.queryCommandState("outdent"))})},$V=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:IV(t),onAction:vd(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:vd(t,"indent")})},LV=function(t){$V(t)},iF=function(t,n){return function(){t.execCommand("mceToggleFormat",!1,n)}},HV=function(t){qh.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){t.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:_D(t,s.name),onAction:iF(t,s.name)})});for(var n=1;n<=6;n++){var o="h"+n;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+n,onSetup:_D(t,o),onAction:iF(t,o)})}},VV=function(t){qh.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(n){t.ui.registry.addButton(n.name,{tooltip:n.text,icon:n.icon,onAction:vd(t,n.action)})})},UV=function(t){qh.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(n){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onAction:vd(t,n.action),onSetup:_D(t,n.name)})})},jV=function(t){HV(t),VV(t),UV(t)},WV=function(t){qh.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(n){t.ui.registry.addMenuItem(n.name,{text:n.text,icon:n.icon,shortcut:n.shortcut,onAction:vd(t,n.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:iF(t,"code")})},qV=function(t){jV(t),WV(t)},TD=function(t,n){return wD(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[n]())})},GV=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:TD(t,"hasUndo"),onAction:vd(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:TD(t,"hasRedo"),onAction:vd(t,"redo")})},KV=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:TD(t,"hasUndo"),onAction:vd(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:TD(t,"hasRedo"),onAction:vd(t,"redo")})},XV=function(t){GV(t),KV(t)},YV=function(t){return wD(t,"VisualAid",function(n){n.setActive(t.hasVisual)})},ZV=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:YV(t),onAction:vd(t,"mceToggleVisualAid")})},JV=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:vd(t,"mceToggleVisualAid")})},QV=function(t){JV(t),ZV(t)},eU=function(t,n){zV(t),qV(t),FV(t,n),XV(t),hM(t),QV(t),LV(t),PV(t)},bz=function(t,n){return{type:"makeshift",x:t,y:n}},tU=function(t,n,o){return bz(t.x+n,t.y+o)},QI=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},rU=function(t){if(QI(t)){var n=t.touches[0];return bz(n.pageX,n.pageY)}else return bz(t.pageX,t.pageY)},nU=function(t){if(QI(t)){var n=t.touches[0];return bz(n.clientX,n.clientY)}else return bz(t.clientX,t.clientY)},aU=function(t,n){var o=cw.DOM.getPos(t);return tU(n,o.x,o.y)},oU=function(t,n){return n.type==="contextmenu"||n.type==="longpress"?t.inline?rU(n):aU(t.getContentAreaContainer(),nU(n)):e$(t)},e$=function(t){return{type:"selection",root:rr.fromDom(t.selection.getNode())}},iU=function(t){return{type:"node",node:O.some(rr.fromDom(t.selection.getNode())),root:rr.fromDom(t.getBody())}},t$=function(t,n,o){switch(o){case"node":return iU(t);case"point":return oU(t,n);case"selection":return e$(t)}},uU=function(t,n,o,s,d,m){var g=o(),k=t$(t,n,m);E_(g,nd.CLOSE_ON_EXECUTE,s,!1).map(function(C){n.preventDefault(),Ga.showMenuAt(d,{anchor:k},{menu:{markers:e_("normal")},data:C})})},sU={onLtr:function(){return[bi,Mu,Hi,us,ss,Ts,Nl,Mh,nm,rm,pg,hg]},onRtl:function(){return[bi,Hi,Mu,ss,us,Ts,Nl,Mh,pg,hg,nm,rm]}},cU=12,lU={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},fU=function(t,n){var o=t.selection;if(o.isCollapsed()||n.touches.length<1)return!1;var s=n.touches[0],d=o.getRng(),m=X1(t.getWin(),eh.domRange(d));return m.exists(function(g){return g.left<=s.clientX&&g.right>=s.clientX&&g.top<=s.clientY&&g.bottom>=s.clientY})},dU=function(t){var n=t.selection.getRng(),o=function(){ed.setEditorTimeout(t,function(){t.selection.setRng(n)},10),m()};t.once("touchend",o);var s=function(g){g.preventDefault(),g.stopImmediatePropagation()};t.on("mousedown",s,!0);var d=function(){return m()};t.once("longpresscancel",d);var m=function(){t.off("touchend",o),t.off("longpresscancel",d),t.off("mousedown",s)}},vU=function(t,n,o){var s=t$(t,n,o),d=o==="point"?cU:0;return J({bubble:Bv(0,d,lU),layouts:sU,overrides:{maxWidthFunction:WP(),maxHeightFunction:Zm()}},s)},mU=function(t,n,o,s,d,m,g){var k=vU(t,n,m);E_(o,nd.CLOSE_ON_EXECUTE,s,!0).map(function(C){n.preventDefault(),Ga.showMenuWithinBounds(d,{anchor:k},{menu:{markers:e_("normal"),highlightImmediately:g},data:C,type:"horizontal"},function(){return O.some(qI(t,s.shared,m==="node"?"node":"selection"))}),t.fire(VI)})},hU=function(t,n,o,s,d,m){var g=Zt(),k=g.os.isiOS(),C=g.os.isOSX(),E=g.os.isAndroid(),M=g.deviceType.isTouch(),P=function(){return!(E||k||C&&M)},q=function(){var ne=o();mU(t,n,ne,s,d,m,P())};if((C||k)&&m!=="node"){var Z=function(){dU(t),q()};fU(t,n)?Z():(t.once("selectionchange",Z),t.once("touchend",function(){return t.off("selectionchange",Z)}))}else q()},r$=function(t){return typeof t=="string"?t.split(/[ ,]/):t},n$=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},pU=function(t,n,o){var s=t.ui.registry.getAll().contextMenus;return O.from(t.getParam(n)).map(r$).getOrThunk(function(){return qe(r$(o),function(d){return dr(s,d)})})},gU=function(t){return t.getParam("contextmenu")===!1},yU=function(t){return pU(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},bU=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},a$=function(t){return ee(t)?t==="|":t.type==="separator"},uF={type:"separator"},o$=function(t){var n=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(ee(t))return t;switch(t.type){case"separator":return uF;case"submenu":return J(J({type:"nestedmenuitem"},n(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return ee(o)?o:$t(o,o$)}});default:return J(J({type:"menuitem"},n(t)),{onAction:_e(t.onAction)})}},i$=function(t,n){if(n.length===0)return t;var o=Ta(t).filter(function(d){return!a$(d)}),s=o.fold(function(){return[]},function(d){return[uF]});return t.concat(s).concat(n).concat([uF])},_U=function(t,n,o){var s=Pe(n,function(d,m){return gt(t,m.toLowerCase()).map(function(g){var k=g.update(o);if(ee(k))return i$(d,k.split(" "));if(k.length>0){var C=$t(k,o$);return i$(d,C)}else return d}).getOrThunk(function(){return d.concat([m])})},[]);return s.length>0&&a$(s[s.length-1])&&s.pop(),s},wU=function(t,n){return n.ctrlKey&&!n$(t)},u$=function(t,n){return n.type!=="longpress"&&(n.button!==2||n.target===t.getBody()&&n.pointerType==="")},s$=function(t,n){return u$(t,n)?t.selection.getStart(!0):n.target},kU=function(t,n){var o=bU(t),s=u$(t,n)?"selection":"point";if(vi(o)){var d=s$(t,n),m=gw(rr.fromDom(d),o);return m?"node":s}else return s},CU=function(t,n,o){var s=Zt(),d=s.deviceType.isTouch,m=wo(Ga.sketch({dom:{tag:"div"},lazySink:n,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:cr([Nn("dismissContextMenu",[Bt(Jc(),function(C,E){ma.close(C),t.focus()})])])})),g=function(C){return Ga.hide(m)},k=function(C){if(n$(t)&&C.preventDefault(),!(wU(t,C)||gU(t))){var E=kU(t,C),M=function(){var q=s$(t,C),Z=t.ui.registry.getAll(),ne=yU(t);return _U(Z.contextMenus,ne,q)},P=d()?hU:uU;P(t,C,M,o,m,E)}};t.on("init",function(){var C="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(C,g),t.on("longpress contextmenu",k)})},sF=uc.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),ED=function(t){return function(n){return n.translate(-t.left,-t.top)}},zD=function(t){return function(n){return n.translate(t.left,t.top)}},Fg=function(t){return function(n,o){return Pe(t,function(s,d){return d(s)},Qa(n,o))}},AD=function(t,n,o){return t.fold(Fg([zD(o),ED(n)]),Fg([ED(n)]),Fg([]))},fx=function(t,n,o){return t.fold(Fg([zD(o)]),Fg([]),Fg([zD(n)]))},c$=function(t,n,o){return t.fold(Fg([]),Fg([ED(o)]),Fg([zD(n),ED(o)]))},xU=function(t,n,o,s,d,m){var g=fx(t,d,m),k=fx(n,d,m);return Math.abs(g.left-k.left)<=o&&Math.abs(g.top-k.top)<=s},SU=function(t,n,o,s,d,m){var g=fx(t,d,m),k=fx(n,d,m),C=Math.abs(g.left-k.left),E=Math.abs(g.top-k.top);return Qa(C,E)},l$=function(t,n,o){var s=t.fold(function(d,m){return{position:O.some("absolute"),left:O.some(d+"px"),top:O.some(m+"px")}},function(d,m){return{position:O.some("absolute"),left:O.some(d-o.left+"px"),top:O.some(m-o.top+"px")}},function(d,m){return{position:O.some("fixed"),left:O.some(d+"px"),top:O.some(m+"px")}});return J({right:O.none(),bottom:O.none()},s)},TU=function(t,n,o){return t.fold(function(s,d){return OD(s+n,d+o)},function(s,d){return R_(s+n,d+o)},function(s,d){return $w(s+n,d+o)})},cF=function(t,n,o,s){var d=function(m,g){return function(k,C){var E=m(n,o,s);return g(k.getOr(E.left),C.getOr(E.top))}};return t.fold(d(c$,OD),d(fx,R_),d(AD,$w))},OD=sF.offset,R_=sF.absolute,$w=sF.fixed,f$=function(t,n){var o=bo(t,n);return jt(o)?NaN:parseInt(o,10)},EU=function(t,n){var o=t.element,s=f$(o,n.leftAttr),d=f$(o,n.topAttr);return isNaN(s)||isNaN(d)?O.none():O.some(Qa(s,d))},zU=function(t,n,o){var s=t.element;Fn(s,n.leftAttr,o.left+"px"),Fn(s,n.topAttr,o.top+"px")},AU=function(t,n){var o=t.element;Xi(o,n.leftAttr),Xi(o,n.topAttr)},OU=function(t,n,o,s){return EU(t,n).fold(function(){return o},function(d){return $w(d.left+s.left,d.top+s.top)})},RU=function(t,n,o,s,d,m){var g=OU(t,n,o,s),k=n.mustSnap?MU(t,n,g,d,m):BU(t,n,g,d,m),C=AD(g,d,m);return zU(t,n,C),k.fold(function(){return{coord:$w(C.left,C.top),extra:O.none()}},function(E){return{coord:E.output,extra:E.extra}})},DU=function(t,n){AU(t,n)},d$=function(t,n,o,s){return Zn(t,function(d){var m=d.sensor,g=xU(n,m,d.range.left,d.range.top,o,s);return g?O.some({output:cF(d.output,n,o,s),extra:d.extra}):O.none()})},MU=function(t,n,o,s,d){var m=n.getSnapPoints(t),g=d$(m,o,s,d);return g.orThunk(function(){var k=Pe(m,function(C,E){var M=E.sensor,P=SU(o,M,E.range.left,E.range.top,s,d);return C.deltas.fold(function(){return{deltas:O.some(P),snap:O.some(E)}},function(q){var Z=(P.left+P.top)/2,ne=(q.left+q.top)/2;return Z<=ne?{deltas:O.some(P),snap:O.some(E)}:C})},{deltas:O.none(),snap:O.none()});return k.snap.map(function(C){return{output:cF(C.output,o,s,d),extra:C.extra}})})},BU=function(t,n,o,s,d){var m=n.getSnapPoints(t);return d$(m,o,s,d)},NU=function(t,n,o){return{coord:cF(t.output,t.output,n,o),extra:t.extra}},PU=function(t,n,o,s){var d=n.getTarget(t.element);if(n.repositionTarget){var m=go(t.element),g=Ls(m),k=lD(d),C=NU(s,g,k),E=l$(C.coord,g,k);Ho(d,E)}},FU=Object.freeze({__proto__:null,snapTo:PU}),lF="data-initial-z-index",IU=function(t){yo(t.element).filter(Gt).each(function(n){No(n,lF).fold(function(){return Aa(n,"z-index")},function(o){return vn(n,"z-index",o)}),Xi(n,lF)})},$U=function(t){yo(t.element).filter(Gt).each(function(n){ui(n,"z-index").each(function(o){Fn(n,lF,o)}),vn(n,"z-index",Vo(t.element,"z-index"))})},v$=function(t,n){t.getSystem().addToGui(n),$U(n)},LU=function(t){IU(t),t.getSystem().removeFromGui(t)},m$=function(t,n,o){return t.getSystem().build(ds.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[n]},events:o}))},HU=Us("snaps",[zt("getSnapPoints"),Ra("onSensor"),zt("leftAttr"),zt("topAttr"),Fe("lazyViewport",su),Fe("mustSnap",!1)]),fF=[Fe("useFixed",Ue),zt("blockerClass"),Fe("getTarget",Je),Fe("onDrag",at),Fe("repositionTarget",!0),Fe("onDrop",at),lo("getBounds",su),HU],VU=function(t){return di(ui(t,"left"),ui(t,"top"),ui(t,"position"),function(n,o,s){var d=s==="fixed"?$w:OD;return d(parseInt(n,10),parseInt(o,10))}).getOrThunk(function(){var n=Ju(t);return R_(n.left,n.top)})},UU=function(t,n,o,s,d){var m=d.bounds,g=fx(n,o,s),k=qs(g.left,m.x,m.x+m.width-d.width),C=qs(g.top,m.y,m.y+m.height-d.height),E=R_(k,C);return n.fold(function(){var M=c$(E,o,s);return OD(M.left,M.top)},ue(E),function(){var M=AD(E,o,s);return $w(M.left,M.top)})},jU=function(t,n,o,s,d,m,g){var k=n.fold(function(){var C=TU(o,m.left,m.top),E=AD(C,s,d);return $w(E.left,E.top)},function(C){var E=RU(t,C,o,m,s,d);return E.extra.each(function(M){C.onSensor(t,M)}),E.coord});return UU(t,k,s,d,g)},WU=function(t,n,o,s){var d=n.getTarget(t.element);if(n.repositionTarget){var m=go(t.element),g=Ls(m),k=lD(d),C=VU(d),E=jU(t,n.snaps,C,g,k,s,o),M=l$(E,g,k);Ho(d,M)}n.onDrag(t,d,s)},h$=function(t,n){return{bounds:t.getBounds(),height:$s(n.element),width:Qu(n.element)}},dF=function(t,n,o,s,d){var m=o.update(s,d),g=o.getStartData().getOrThunk(function(){return h$(n,t)});m.each(function(k){WU(t,n,g,k)})},p$=function(t,n,o,s){n.each(LU),o.snaps.each(function(m){DU(t,m)});var d=o.getTarget(t.element);s.reset(),o.onDrop(t,d)},vF=function(t){return function(n,o){var s=function(d){o.setStartData(h$(n,d))};return ro(It([Bt(Q_(),function(d){o.getStartData().each(function(){return s(d)})})],t(n,o,s),!0))}},qU=function(t){return ro([Bt(Zc(),t.forceDrop),Bt(G_(),t.drop),Bt(vv(),function(n,o){t.move(o.event)}),Bt(q_(),t.delayDrop)])},GU=function(t){return O.from(Qa(t.x,t.y))},KU=function(t,n){return Qa(n.left-t.left,n.top-t.top)},XU=Object.freeze({__proto__:null,getData:GU,getDelta:KU}),g$=function(t,n,o){return[Bt(Zc(),function(s,d){var m=d.event.raw;if(m.button===0){d.stop();var g=function(){return p$(s,O.some(E),t,n)},k=FT(g,200),C={drop:g,delayDrop:k.schedule,forceDrop:g,move:function(P){k.cancel(),dF(s,t,n,XU,P)}},E=m$(s,t.blockerClass,qU(C)),M=function(){o(s),v$(s,E)};M()}})]},YU=It(It([],fF,!0),[uo("dragger",{handlers:vF(g$)})],!1),ZU=function(t){return ro([Bt(Xl(),t.forceDrop),Bt(_d(),t.drop),Bt(nk(),t.drop),Bt(Yc(),function(n,o){t.move(o.event)})])},JU=function(t){var n=t[0];return O.some(Qa(n.clientX,n.clientY))},QU=function(t){var n=t.raw,o=n.touches;return o.length===1?JU(o):O.none()},ej=function(t,n){return Qa(n.left-t.left,n.top-t.top)},y$=Object.freeze({__proto__:null,getData:QU,getDelta:ej}),b$=function(t,n,o){var s=Yo(),d=function(m){p$(m,s.get(),t,n),s.clear()};return[Bt(Xl(),function(m,g){g.stop();var k=function(){return d(m)},C={drop:k,delayDrop:at,forceDrop:k,move:function(P){dF(m,t,n,y$,P)}},E=m$(m,t.blockerClass,ZU(C));s.set(E);var M=function(){o(m),v$(m,E)};M()}),Bt(Yc(),function(m,g){g.stop(),dF(m,t,n,y$,g.event)}),Bt(_d(),function(m,g){g.stop(),d(m)}),Bt(nk(),d)]},tj=It(It([],fF,!0),[uo("dragger",{handlers:vF(b$)})],!1),rj=function(t,n,o){return It(It([],g$(t,n,o),!0),b$(t,n,o),!0)},nj=It(It([],fF,!0),[uo("dragger",{handlers:vF(rj)})],!1),aj=YU,oj=tj,ij=nj,uj=Object.freeze({__proto__:null,mouse:aj,touch:oj,mouseOrTouch:ij}),sj=function(){var t=O.none(),n=O.none(),o=function(){t=O.none(),n=O.none()},s=function(C,E){var M=t.map(function(P){return C.getDelta(P,E)});return t=O.some(E),M},d=function(C,E){return C.getData(E).bind(function(M){return s(C,M)})},m=function(C){n=O.some(C)},g=function(){return n},k=ue({});return Du({readState:k,reset:o,update:d,getStartData:g,setStartData:m})},cj=Object.freeze({__proto__:null,init:sj}),Lw=Rv({branchKey:"mode",branches:uj,name:"dragging",active:{events:function(t,n){var o=t.dragger;return o.handlers(t,n)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:O.from(t.extra)}}},state:cj,apis:FU}),mF=40,RD=mF/2,_$=function(t,n,o,s,d,m){return t.fold(function(){return Lw.snap({sensor:R_(o-RD,s-RD),range:Qa(d,m),output:R_(O.some(o),O.some(s)),extra:{td:n}})},function(g){var k=o-RD,C=s-RD,E=mF,M=mF,P=g.element.dom.getBoundingClientRect();return Lw.snap({sensor:R_(k,C),range:Qa(E,M),output:R_(O.some(o-P.width/2),O.some(s-P.height/2)),extra:{td:n}})})},w$=function(t,n,o){var s=function(d,m){return d.exists(function(g){return va(g,m)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,m){var g=m.td;s(n.get(),g)||(n.set(g),o(g))},mustSnap:!0}},k$=function(t){return $a(Ks.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:cr([Lw.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),g_.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},lj=function(t,n){var o=Qr([]),s=Qr([]),d=Qr(!1),m=Yo(),g=Yo(),k=function(xt){var yr=jl(xt);return _$(Z.getOpt(n),xt,yr.x,yr.y,yr.width,yr.height)},C=function(){return $t(o.get(),function(xt){return k(xt)})},E=function(xt){var yr=jl(xt);return _$(ne.getOpt(n),xt,yr.right,yr.bottom,yr.width,yr.height)},M=function(){return $t(s.get(),function(xt){return E(xt)})},P=w$(C,m,function(xt){g.get().each(function(yr){t.fire("TableSelectorChange",{start:xt,finish:yr})})}),q=w$(M,g,function(xt){m.get().each(function(yr){t.fire("TableSelectorChange",{start:yr,finish:xt})})}),Z=k$(P),ne=k$(q),me=wo(Z.asSpec()),Re=wo(ne.asSpec()),de=function(xt,yr,Dt,_r){var Pt=yr.dom.getBoundingClientRect();Aa(xt.element,"display");var Ct=tc(rr.fromDom(t.getBody())).dom.innerHeight,ar=Dt(Pt),Fr=_r(Pt,Ct);(ar||Fr)&&vn(xt.element,"display","none")},Ne=function(xt,yr,Dt,_r){var Pt=Dt(yr);Lw.snapTo(xt,Pt);var Ct=function(Fr){return Fr[_r]<0},ar=function(Fr,Ot){return Fr[_r]>Ot};de(xt,yr,Ct,ar)},mt=function(xt){return Ne(me,xt,k,"top")},ft=function(){return m.get().each(mt)},Be=function(xt){return Ne(Re,xt,E,"bottom")},it=function(){return g.get().each(Be)};Zt().deviceType.isTouch()&&(t.on("TableSelectionChange",function(xt){d.get()||(Iv(n,me),Iv(n,Re),d.set(!0)),m.set(xt.start),g.set(xt.finish),xt.otherCells.each(function(yr){o.set(yr.upOrLeftCells),s.set(yr.downOrRightCells),mt(xt.start),Be(xt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){ft(),it()}),t.on("TableSelectionClear",function(){d.get()&&(Rl(me),Rl(Re),d.set(!1)),m.clear(),g.clear()}))},fj=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},dj=function(t,n,o){n.delimiter||(n.delimiter="");var s=function(m){var g=m||[],k=$t(g,function(E,M){return Ks.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":M,"tab-index":-1,"aria-level":M+1},innerHtml:E.name},action:function(P){t.focus(),t.selection.select(E.element),t.nodeChanged()},buttonBehaviours:cr([Pl.button(o.isDisabled),Ui()])})}),C={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+n.delimiter+" "}};return Pe(k.slice(1),function(E,M){var P=E;return P.push(C),P.push(M),P},[k[0]])},d=function(m){for(var g=[],k=m.length;k-- >0;){var C=m[k];if(C.nodeType===1&&!fj(C)){var E=t.fire("ResolveName",{name:C.nodeName.toLowerCase(),target:C});if(E.isDefaultPrevented()||g.push({name:E.name,element:C}),E.isPropagationStopped())break}}return g};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:cr([jr.config({mode:"flow",selector:"div[role=button]"}),Jr.config({disabled:o.isDisabled}),Ui(),ai.config({}),yn.config({}),Nn("elementPathEvents",[Bn(function(m,g){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return jr.focusIn(m)}),t.on("NodeChange",function(k){var C=d(k.parents);C.length>0?yn.set(m,s(C)):yn.set(m,[])})})])]),components:[]}},Hw;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Hw||(Hw={}));var vj=function(t,n,o,s,d){var m={};return m.height=xD(s+n.top,b4(t),_4(t)),o===Hw.Both&&(m.width=xD(d+n.left,y4(t),L3(t))),m},C$=function(t,n,o){var s=rr.fromDom(t.getContainer()),d=vj(t,n,o,pi(s),Tu(s));Rn(d,function(m,g){return vn(s,g,eF(m))}),rM(t)},mj=function(t){var n=!t.hasPlugin("autoresize"),o=t.getParam("resize",n);return o===!1?Hw.None:o==="both"?Hw.Both:Hw.Vertical},DD=function(t,n,o,s){var d=20,m=Qa(o*d,s*d);return C$(t,m,n),O.some(!0)},hj=function(t,n){var o=mj(t);return o===Hw.None?O.none():O.some(yf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:n.translate("Resize")},behaviours:[Lw.config({mode:"mouse",repositionTarget:!1,onDrag:function(s,d,m){return C$(t,m,o)},blockerClass:"tox-blocker"}),jr.config({mode:"special",onLeft:function(){return DD(t,o,-1,0)},onRight:function(){return DD(t,o,1,0)},onUp:function(){return DD(t,o,0,-1)},onDown:function(){return DD(t,o,0,1)}}),ai.config({}),bn.config({})]},n.icons))},pj=function(t,n){var o,s=function(d,m,g){return yn.set(d,[vu(n.translate(["{0} "+g,m[g]]))])};return Ks.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:cr([Pl.button(n.isDisabled),Ui(),ai.config({}),yn.config({}),gr.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Nn("wordcount-events",[Ws(function(d){var m=gr.getValue(d),g=m.mode==="words"?"characters":"words";gr.setValue(d,{mode:g,count:m.count}),s(d,m.count,g)}),Bn(function(d){t.on("wordCountUpdate",function(m){var g=gr.getValue(d).mode;gr.setValue(d,{mode:g,count:m.wordCount}),s(d,m.wordCount,g)})})])]),eventOrder:(o={},o[sc()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},gj=function(t,n){var o=function(){var m=gf.translate(["Powered by {0}","Tiny"]),g='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+m+'">'+m+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:g}}},s=function(){var m=[];return t.getParam("elementpath",!0,"boolean")&&m.push(dj(t,{},n)),t.hasPlugin("wordcount")&&m.push(pj(t,n)),t.getParam("branding",!0,"boolean")&&m.push(o()),m.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:m}]:[]},d=function(){var m=s(),g=hj(t,n);return m.concat(g.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},yj=function(t){var n,o=t.inline,s=o?rV:XH,d=U3(t)?se:SP,m=O.none(),g=Zt(),k=g.browser.isIE(),C=k?["tox-platform-ie"]:[],E=g.deviceType.isTouch(),M="tox-platform-touch",P=E?[M]:[],q=C4(t),Z=S4(t),ne=gf.isRtl()?{attributes:{dir:"rtl"}}:{},me={attributes:(n={},n[Wy]=q?af.BottomToTop:af.TopToBottom,n)},Re=function(){return m.bind(wi.getHeader)},de=function(){return d.isDocked(Re)},Ne=function(){vn(Ms.element,"width",document.body.clientWidth+"px")},mt=function(){var ou=va(Ia(),Z)&&Vo(Z,"display")==="grid",hm={dom:J({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(C).concat(P)},ne),behaviours:cr([Zo.config({useFixed:function(){return de()}})])},rp={dom:{styles:{width:document.body.clientWidth+"px"}},events:ro([Bt(cc(),Ne)])};return _t(hm,ou?rp:{})},ft=wo(mt()),Be=function(){return $n.value(ft)},it=$a({dom:{tag:"div",classes:["tox-anchorbar"]}}),xt=function(){return m.bind(function(ou){return it.getOpt(ou)}).getOrDie("Could not find a anchor bar element")},yr=function(){return m.bind(function(ou){return wi.getToolbar(ou)}).getOrDie("Could not find more toolbar element")},Dt=function(){return m.bind(function(ou){return wi.getThrobber(ou)}).getOrDie("Could not find throbber element")},_r=wP(ft,t,xt),Pt=wi.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:_r,onEscape:function(){t.focus()}}),Ct=lw(t),ar=wi.parts.toolbar(J({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Be,providers:_r.shared.providers,onEscape:function(){t.focus()},type:Ct,lazyToolbar:yr,lazyHeader:function(){return Re().getOrDie("Could not find header element")}},me)),Fr=wi.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:_r.shared.providers,onEscape:function(){t.focus()},type:Ct}),Ot=wi.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Ar=wi.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Ur=wi.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:_r}),ia=t.getParam("statusbar",!0,"boolean"),Ha=ia&&!o?O.some(gj(t,_r.shared.providers)):O.none(),po={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Ot,Ar]},Ko=H3(t),Vc=wT(t),ps=Vi(t),vx=function(){return Ko?[Fr]:Vc?[ar]:[]},au=wi.parts.header({dom:J({tag:"div",classes:["tox-editor-header"]},me),components:Xt([ps?[Pt]:[],vx(),V3(t)?[]:[it.asSpec()]]),sticky:U3(t),editor:t,sharedBackstage:_r.shared}),Ig=Xt([q?[]:[au],o?[]:[po],q?[au]:[]]),$g={dom:{tag:"div",classes:["tox-editor-container"]},components:Ig},Vw=Xt([[$g],o?[]:Ha.toArray(),[Ur]]),Lg=T4(t),Uw=J(J({role:"application"},gf.isRtl()?{dir:"rtl"}:{}),Lg?{"aria-hidden":"true"}:{}),Qs=wo(wi.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(q?["tox-tinymce--toolbar-bottom"]:[]).concat(P).concat(C),styles:J({visibility:"hidden"},Lg?{opacity:"0",border:"0"}:{}),attributes:Uw},components:Vw,behaviours:cr([Ui(),Jr.config({disableClass:"tox-tinymce--disabled"}),jr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));m=O.some(Qs),t.shortcuts.add("alt+F9","focus menubar",function(){wi.focusMenubar(Qs)}),t.shortcuts.add("alt+F10","focus toolbar",function(){wi.focusToolbar(Qs)}),t.addCommand("ToggleToolbarDrawer",function(){wi.toggleToolbarDrawer(Qs)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return wi.isToolbarDrawerToggled(Qs)});var md=wA(Qs),Ms=wA(ft);ov(t,md,Ms);var jw=function(){var ou={broadcastAll:Ms.broadcast,broadcastOn:Ms.broadcastOn,register:at};return{channels:ou}},tp=function(){var ou=eF(ZH(t)),hm=eF(JH(t));return t.inline||(rc("div","width",hm)&&vn(Qs.element,"width",hm),rc("div","height",ou)?vn(Qs.element,"height",ou):vn(Qs.element,"height","200px")),ou},D_=function(){d.setup(t,_r.shared,Re),eU(t,_r),CU(t,Be,_r),ld(t),ep(t,Dt,_r.shared),kn(k5(t),function(Bs,Uc){t.ui.registry.addGroupToolbarButton(Uc,Bs)});var ou=t.ui.registry.getAll(),hm=ou.buttons,rp=ou.menuItems,Hg=ou.contextToolbars,hd=ou.sidebars,np=w4(t),xr={menuItems:rp,menus:z5(t),menubar:A5(t),toolbar:np.getOrThunk(function(){return O5(t)}),allowToolbarGroups:Ct===ul.floating,buttons:hm,sidebar:hd};EV(t,Hg,ft,{backstage:_r}),lj(t,ft);var Hn=t.getElement(),Wa=tp(),$o={mothership:md,uiMothership:Ms,outerContainer:Qs},ec={targetNode:Hn,height:Wa};return s.render(t,$o,xr,_r,ec)};return{mothership:md,uiMothership:Ms,backstage:_r,renderUI:D_,getUi:jw}},bj=function(t,n){var o=O.from(bo(t,"id")).fold(function(){var s=Nr("dialog-describe");return Fn(n,"id",s),s},Je);Fn(t,"aria-describedby",o)},_j=function(t,n){var o=No(t,"id").fold(function(){var s=Nr("dialog-label");return Fn(n,"id",s),s},Je);Fn(t,"aria-labelledby",o)},wj=ue([zt("lazySink"),Oa("dragBlockClass"),lo("getBounds",su),Fe("useTabstopAt",U),Fe("eventOrder",{}),Bi("modalBehaviours",[jr]),Ri("onExecute"),Ss("onEscape")]),hF={sketch:Je},kj=ue([Mc({name:"draghandle",overrides:function(t,n){return{behaviours:cr([Lw.config({mode:"mouse",getTarget:function(o){return wy(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(n,null,2)).message),getBounds:t.getDragBounds})])}}}),yu({schema:[zt("dom")],name:"title"}),yu({factory:hF,schema:[zt("dom")],name:"close"}),yu({factory:hF,schema:[zt("dom")],name:"body"}),Mc({factory:hF,schema:[zt("dom")],name:"footer"}),pc({factory:{sketch:function(t,n){return J(J({},t),{dom:n.dom,components:n.components})}},schema:[Fe("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Fe("components",[])],name:"blocker"})]),Cj=function(t,n,o,s){var d,m=Yo(),g=function(ne){m.set(ne);var me=t.lazySink(ne).getOrDie(),Re=s.blocker(),de=me.getSystem().build(J(J({},Re),{components:Re.components.concat([hc(ne)]),behaviours:cr([bn.config({}),Nn("dialog-blocker-events",[ci(Ec(),function(){jr.focusIn(ne)})])])}));Iv(me,de),jr.focusIn(ne)},k=function(ne){m.clear(),yo(ne.element).each(function(me){ne.getSystem().getByDom(me).each(function(Re){Rl(Re)})})},C=function(ne){return vf(ne,t,"body")},E=function(ne){return vf(ne,t,"footer")},M=function(ne,me){uv.block(ne,me)},P=function(ne){uv.unblock(ne)},q=Nr("modal-events"),Z=J(J({},t.eventOrder),(d={},d[js()]=[q].concat(t.eventOrder["alloy.system.attached"]||[]),d));return{uid:t.uid,dom:t.dom,components:n,apis:{show:g,hide:k,getBody:C,getFooter:E,setIdle:P,setBusy:M},eventOrder:Z,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Qi(t.modalBehaviours,[yn.config({}),jr.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),uv.config({getRoot:m.get}),Nn(q,[Bn(function(ne){_j(ne.element,vf(ne,t,"title").element),bj(ne.element,vf(ne,t,"body").element)})])])}},ku=ls({name:"ModalDialog",configFields:wj(),partFields:kj(),factory:Cj,apis:{show:function(t,n){t.show(n)},hide:function(t,n){t.hide(n)},getBody:function(t,n){return t.getBody(n)},getFooter:function(t,n){return t.getFooter(n)},setBusy:function(t,n,o){t.setBusy(n,o)},setIdle:function(t,n){t.setIdle(n)}}}),xj=Kr([gn("type"),gn("name")].concat(t_)),Sj=Yi,x$=[zi("name","name",sa(function(){return Nr("button-name")}),ri),co("icon"),ic("align","end",["start","end"]),to("primary",!1),to("disabled",!1)],S$=It(It([],x$,!0),[gn("text")],!1),pF=It([oc("type",["submit","cancel","custom"])],S$,!0),Tj=It([oc("type",["menu"]),co("text"),co("tooltip"),co("icon"),Ou("items",xj)],x$,!0),Ej=Tc("type",{submit:pF,cancel:pF,custom:pF,menu:Tj}),zj=[gn("type"),gn("text"),oc("level",["info","warn","error","success"]),gn("icon"),Fe("url","")],Aj=Kr(zj),Oj=function(t){return[gn("type"),t]},Rj=[gn("type"),gn("text"),to("disabled",!1),to("primary",!1),zi("name","name",sa(function(){return Nr("button-name")}),ri),co("icon"),to("borderless",!1)],Dj=Kr(Rj),Mj=[gn("type"),gn("name"),gn("label"),to("disabled",!1)],Bj=Kr(Mj),Nj=Yi,gF=[gn("type"),gn("name")],sv=gF.concat([co("label")]),Pj=sv.concat([Fe("columns","auto")]),Fj=Kr(Pj),Ij=L_([gn("value"),gn("text"),gn("icon")]),$j=sv,Lj=Kr($j),Hj=ri,Vj=sv,Uj=Kr(Vj),jj=ri,Wj=gF.concat([Em("tag","textarea"),gn("scriptId"),gn("scriptUrl"),xs("settings",void 0)]),qj=gF.concat([Em("tag","textarea"),Lu("init")]),Gj=Sm(function(t){return Po("customeditor.old",Hs(qj),t).orThunk(function(){return Po("customeditor.new",Hs(Wj),t)})}),Kj=ri,Xj=sv,Yj=Kr(Xj),Zj=kx(),Jj=function(t){return[gn("type"),Ff("columns"),t]},Qj=[gn("type"),gn("html"),ic("presets","presentation",["presentation","document"])],eW=Kr(Qj),tW=sv.concat([to("sandboxed",!0)]),rW=Kr(tW),nW=ri,aW=sv.concat([ks("currentState",Kr([zt("blob"),gn("url")]))]),oW=Kr(aW),iW=sv.concat([co("inputMode"),co("placeholder"),to("maximized",!1),to("disabled",!1)]),uW=Kr(iW),sW=ri,cW=function(t){return[gn("type"),gn("label"),t]},lW=[gn("text"),gn("value")],fW=[gn("text"),Ou("items",Cx("items",function(){return T$}))],T$=fp([Kr(lW),Kr(fW)]),dW=sv.concat([Ou("items",T$),to("disabled",!1)]),vW=Kr(dW),mW=ri,hW=sv.concat([Xc("items",[gn("text"),gn("value")]),Cs("size",1),to("disabled",!1)]),pW=Kr(hW),gW=ri,yW=sv.concat([to("constrain",!0),to("disabled",!1)]),bW=Kr(yW),E$=Kr([gn("width"),gn("height")]),_W=[gn("type"),Ou("header",ri),Ou("cells",Pf(ri))],wW=Kr(_W),kW=sv.concat([co("placeholder"),to("maximized",!1),to("disabled",!1)]),CW=Kr(kW),xW=ri,SW=sv.concat([ic("filetype","file",["image","media","file"]),Fe("disabled",!1)]),TW=Kr(SW),EW=Kr([gn("value"),Fe("meta",{})]),yF=function(t){return zi("items","items",zn(),Pf(Sm(function(n){return Po("Checking item of "+t,bF,n).fold(function(o){return $n.error(yd(o))},function(o){return $n.value(o)})})))},bF=Xw(function(){return Zg("type",{alertbanner:Aj,bar:Kr(Oj(yF("bar"))),button:Dj,checkbox:Bj,colorinput:Lj,colorpicker:Uj,dropzone:Yj,grid:Kr(Jj(yF("grid"))),iframe:rW,input:uW,listbox:vW,selectbox:pW,sizeinput:bW,textarea:CW,urlinput:TW,customeditor:Gj,htmlpanel:eW,imagetools:oW,collection:Fj,label:Kr(cW(yF("label"))),table:wW,panel:z$})}),zW=[gn("type"),Fe("classes",[]),Ou("items",bF)],z$=Kr(zW),AW=[zi("name","name",sa(function(){return Nr("tab-name")}),ri),gn("title"),Ou("items",bF)],OW=[gn("type"),Xc("tabs",AW)],RW=Kr(OW),DW=S$,MW=Ej,BW=Kr([gn("title"),ks("body",Zg("type",{panel:z$,tabpanel:RW})),Em("size","normal"),Ou("buttons",MW),Fe("initialData",{}),lo("onAction",at),lo("onChange",at),lo("onSubmit",at),lo("onClose",at),lo("onCancel",at),Fe("onTabChange",at)]),NW=function(t){return Po("dialog",BW,t)},PW=Kr(It([oc("type",["cancel","custom"])],DW,!0)),FW=Kr([gn("title"),gn("url"),dv("height"),dv("width"),Vs("buttons",PW),lo("onAction",at),lo("onCancel",at),lo("onClose",at),lo("onMessage",at)]),IW=function(t){return Po("dialog",FW,t)},_F=function(t){return pe(t)?[t].concat(Pr(Mt(t),_F)):He(t)?Pr(t,_F):[]},$W=function(t){return ee(t.type)&&ee(t.name)},LW={checkbox:Nj,colorinput:Hj,colorpicker:jj,dropzone:Zj,input:sW,iframe:nW,sizeinput:E$,selectbox:gW,listbox:mW,size:E$,textarea:xW,urlinput:EW,customeditor:Kj,collection:Ij,togglemenuitem:Sj},HW=function(t){return O.from(LW[t.type])},VW=function(t){return qe(_F(t),$W)},UW=function(t){var n=VW(t),o=Pr(n,function(s){return HW(s).fold(function(){return[]},function(d){return[ks(s.name,d)]})});return Kr(o)},A$=function(t){var n=Kc(NW(t)),o=UW(t),s=t.initialData;return{internalDialog:n,dataValidator:o,initialData:s}},_z={open:function(t,n){var o=A$(n);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,n){var o=Kc(IW(n));return t(o)},redial:function(t){return A$(t)}},O$=function(t){var n=[],o={};return Rn(t,function(s,d){s.fold(function(){n.push(d)},function(m){o[d]=m})}),n.length>0?$n.error(n):$n.value(o)},jW=function(t,n){var o=$a(C_.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:$t(t.items,function(d){return jR(s,d,n)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:cr([jr.config({mode:"acyclic",useTabstopAt:Ge(zw)}),cd.memento(o),zg.memento(o,{postprocess:function(s){return O$(s).fold(function(d){return console.error(d),{}},Je)}})])}},WW=function(t,n){return{uid:t.uid,dom:t.dom,components:t.components,events:Wb(t.action),behaviours:Qi(t.tabButtonBehaviours,[bn.config({}),jr.config({mode:"execution",useSpace:!0,useEnter:!0}),gr.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},qW=gc({name:"TabButton",configFields:[Fe("uid",void 0),zt("value"),zi("dom","dom",cu(function(){return{attributes:{role:"tab",id:Nr("aria"),"aria-selected":"false"}}}),Gc()),Oa("action"),Fe("domModification",{}),Bi("tabButtonBehaviours",[bn,jr,gr]),zt("view")],factory:WW}),GW=ue([zt("tabs"),zt("dom"),Fe("clickToDismiss",!1),Bi("tabbarBehaviours",[Na,jr]),Ev(["tabClass","selectedClass"])]),KW=df({factory:qW,name:"tabs",unit:"tab",overrides:function(t){var n=function(s,d){Na.dehighlight(s,d),en(s,fu(),{tabbar:s,button:d})},o=function(s,d){Na.highlight(s,d),en(s,ak(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(t.uid).getOrDie(),m=Na.isHighlighted(d,s),g=function(){return m&&t.clickToDismiss?n:m?at:o}();g(d,s)},domModification:{classes:[t.markers.tabClass]}}}}),XW=ue([KW]),YW=function(t,n,o,s){return{uid:t.uid,dom:t.dom,components:n,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Qi(t.tabbarBehaviours,[Na.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(d,m){Fn(m.element,"aria-selected","true")},onDehighlight:function(d,m){Fn(m.element,"aria-selected","false")}}),jr.config({mode:"flow",getInitial:function(d){return Na.getHighlighted(d).map(function(m){return m.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},R$=ls({name:"Tabbar",configFields:GW(),partFields:XW(),factory:YW}),ZW=function(t,n){return{uid:t.uid,dom:t.dom,behaviours:Qi(t.tabviewBehaviours,[yn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},JW=gc({name:"Tabview",configFields:[Bi("tabviewBehaviours",[yn])],factory:ZW}),QW=ue([Fe("selectFirst",!0),Ra("onChangeTab"),Ra("onDismissTab"),Fe("tabs",[]),Bi("tabSectionBehaviours",[])]),eq=yu({factory:R$,schema:[zt("dom"),ql("markers",[zt("tabClass"),zt("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),tq=yu({factory:JW,name:"tabview"}),rq=ue([eq,tq]),nq=function(t,n,o,s){var d=function(g){var k=gr.getValue(g);Za(g,t,"tabview").each(function(C){var E=Nt(t.tabs,function(M){return M.value===k});E.each(function(M){var P=M.view();No(g.element,"id").each(function(q){Fn(C.element,"aria-labelledby",q)}),yn.set(C,P),t.onChangeTab(C,g,P)})})},m=function(g,k){Za(g,t,"tabbar").each(function(C){k(C).each(lc)})};return{uid:t.uid,dom:t.dom,components:n,behaviours:yh(t.tabSectionBehaviours),events:ro(Xt([t.selectFirst?[Bn(function(g,k){m(g,Na.getFirst)})]:[],[Bt(ak(),function(g,k){var C=k.event.button;d(C)}),Bt(fu(),function(g,k){var C=k.event.button;t.onDismissTab(g,C)})]])),apis:{getViewItems:function(g){return Za(g,t,"tabview").map(function(k){return yn.contents(k)}).getOr([])},showTab:function(g,k){var C=function(E){var M=Na.getCandidates(E),P=Nt(M,function(q){return gr.getValue(q)===k});return P.filter(function(q){return!Na.isHighlighted(E,q)})};m(g,C)}}}},dx=ls({name:"TabSection",configFields:QW(),partFields:rq(),factory:nq,apis:{getViewItems:function(t,n){return t.getViewItems(n)},showTab:function(t,n,o){t.showTab(n,o)}}}),aq=function(t,n,o){return $t(t,function(s,d){yn.set(o,t[d].view());var m=n.dom.getBoundingClientRect();return yn.set(o,[]),m.height})},oq=function(t){return Yn(wn(t,function(n,o){return n>o?-1:n<o?1:0}))},iq=function(t,n,o){var s=ht(t).dom,d=wy(t,".tox-dialog-wrap").getOr(t),m=Vo(d,"position")==="fixed",g;m?g=Math.max(s.clientHeight,window.innerHeight):g=Math.max(s.offsetHeight,s.scrollHeight);var k=pi(n),C=n.dom.offsetLeft>=o.dom.offsetLeft+Tu(o),E=C?Math.max(pi(o),k):k,M=parseInt(Vo(t,"margin-top"),10)||0,P=parseInt(Vo(t,"margin-bottom"),10)||0,q=pi(t)+M+P,Z=q-E;return g-Z},uq=function(t,n){Yn(t).each(function(o){return dx.showTab(n,o.value)})},D$=function(t,n){vn(t,"height",n+"px"),Zt().browser.isIE()?Aa(t,"flex-basis"):vn(t,"flex-basis",n+"px")},MD=function(t,n,o){wy(t,'[role="dialog"]').each(function(s){Oi(s,'[role="tablist"]').each(function(d){o.get().map(function(m){return vn(n,"height","0"),vn(n,"flex-basis","0"),Math.min(m,iq(s,n,d))}).each(function(m){D$(n,m)})})})},wF=function(t){return Oi(t,'[role="tabpanel"]')},sq=function(t){var n=function(){var s=Yo(),d=[Bn(function(g){var k=g.element;wF(k).each(function(C){vn(C,"visibility","hidden"),g.getSystem().getByDom(C).toOptional().each(function(E){var M=aq(t,C,E),P=oq(M);P.fold(s.clear,s.set)}),MD(k,C,s),Aa(C,"visibility"),uq(t,g),ed.requestAnimationFrame(function(){MD(k,C,s)})})}),Bt(cc(),function(g){var k=g.element;wF(k).each(function(C){MD(k,C,s)})}),Bt(SA,function(g,k){var C=g.element;wF(C).each(function(E){var M=cs(Zr(E));vn(E,"visibility","hidden");var P=ui(E,"height").map(function(ne){return parseInt(ne,10)});Aa(E,"height"),Aa(E,"flex-basis");var q=E.dom.getBoundingClientRect().height,Z=P.forall(function(ne){return q>ne});Z?(s.set(q),MD(C,E,s)):P.each(function(ne){D$(E,ne)}),Aa(E,"visibility"),M.each(Tl)})})],m=!1;return{extraEvents:d,selectFirst:m}}(),o=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:n,naiveTabHeight:o}},M$="send-data-to-section",B$="send-data-to-view",cq=function(t,n){var o=Qr({}),s=function(C){var E=gr.getValue(C),M=O$(E).getOr({}),P=o.get(),q=_t(P,M);o.set(q)},d=function(C){var E=o.get();gr.setValue(C,E)},m=Qr(null),g=$t(t.tabs,function(C){return{value:C.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:n.shared.providers.translate(C.title)},view:function(){return[C_.sketch(function(E){return{dom:{tag:"div",classes:["tox-form"]},components:$t(C.items,function(M){return jR(E,M,n)}),formBehaviours:cr([jr.config({mode:"acyclic",useTabstopAt:Ge(zw)}),Nn("TabView.form.events",[Bn(d),fc(s)]),Hu.config({channels:$f([{key:M$,value:{onReceive:s}},{key:B$,value:{onReceive:d}}])})])}})]}}}),k=sq(g).smartTabHeight;return dx.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(C,E,M){var P=gr.getValue(E);en(C,$h,{name:P,oldName:m.get()}),m.set(P)},tabs:g,components:[dx.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[R$.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:cr([ai.config({})])}),dx.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:k.selectFirst,tabSectionBehaviours:cr([Nn("tabpanel",k.extraEvents),jr.config({mode:"acyclic"}),aa.config({find:function(C){return Yn(dx.getViewItems(C))}}),gr.config({store:{mode:"manual",getValue:function(C){return C.getSystem().broadcastOn([M$],{}),o.get()},setValue:function(C,E){o.set(E),C.getSystem().broadcastOn([B$],{})}}})])})},kF=Nr("update-dialog"),N$=Nr("update-title"),P$=Nr("update-body"),F$=Nr("update-footer"),I$=Nr("body-send-message"),$$=function(t,n,o,s){var d=function(k){switch(k.body.type){case"tabpanel":return[cq(k.body,o)];default:return[jW(k.body,o)]}},m=function(k,C){return O.some({isTabPanel:function(){return C.body.type==="tabpanel"}})},g={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:J(J({},n.map(function(k){return{id:k}}).getOr({})),s?g:{})},components:[],behaviours:cr([cd.childAt(0),Il.config({channel:P$,updateState:m,renderComponents:d,initialData:t})])}},lq=function(t,n,o,s){return $$(t,O.some(n),o,s)},fq=function(t,n){var o=$$(t,O.none(),n,!1);return ku.parts.body(o)},dq=function(t){var n={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[UO({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:cr([ai.config({}),bn.config({})])})]}],behaviours:cr([jr.config({mode:"acyclic",useTabstopAt:Ge(zw)})])};return ku.parts.body(n)},vq=W3.deviceType.isTouch(),L$=function(t,n){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,n]}},H$=function(t,n){return ku.parts.close(Ks.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close")}},action:t,buttonBehaviours:cr([ai.config({})])}))},V$=function(){return ku.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},U$=function(t,n){return ku.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:am("<p>"+S3(n.translate(t))+"</p>")}]}]})},j$=function(t){return ku.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},W$=function(t,n){return[ds.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),ds.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:n})]},CF=function(t){var n,o="tox-dialog",s=o+"-wrap",d=s+"__backdrop",m=o+"__disable-scroll";return ku.sketch({lazySink:t.lazySink,onEscape:function(g){return t.onEscape(g),O.some(!0)},useTabstopAt:function(g){return!zw(g)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:J({position:"relative"},t.extraStyles)},components:It([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:am('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:vq?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:cr(It([bn.config({}),Nn("dialog-events",t.dialogEvents.concat([ci(Ec(),function(g,k){jr.focusIn(g)})])),Nn("scroll-lock",[Bn(function(){Ai(Ia(),m)}),fc(function(){yi(Ia(),m)})])],t.extraBehaviours,!0)),eventOrder:J((n={},n[sc()]=["dialog-events"],n[js()]=["scroll-lock","dialog-events","alloy.base.behaviour"],n[Mm()]=["alloy.base.behaviour","dialog-events","scroll-lock"],n),t.eventOrder)})},q$=function(t){return Ks.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[yf("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(n){Sa(n,Tg)}})},G$=function(t,n,o){var s=function(d){return[vu(o.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:J({},n.map(function(d){return{id:d}}).getOr({}))},components:s(t),behaviours:cr([Il.config({channel:N$,renderComponents:s})])}},K$=function(){return{dom:am('<div class="tox-dialog__draghandle"></div>')}},mq=function(t,n,o){return ds.sketch({dom:am('<div class="tox-dialog__header"></div>'),components:[G$(t,O.some(n),o),K$(),q$(o)],containerBehaviours:cr([Lw.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return Oc(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},hq=function(t,n){var o=ku.parts.title(G$(t,O.none(),n)),s=ku.parts.draghandle(K$()),d=ku.parts.close(q$(n)),m=[o].concat(t.draggable?[s]:[]).concat([d]);return ds.sketch({dom:am('<div class="tox-dialog__header"></div>'),components:m})},X$=function(t,n){return hq({title:n.shared.providers.translate(t),draggable:n.dialog.isDraggableModal()},n.shared.providers)},Y$=function(t,n,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:am('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},Z$=function(t,n,o){return{onClose:function(){return o.closeWindow()},onBlock:function(s){ku.setBusy(t(),function(d,m){return Y$(s.message,m,n)})},onUnblock:function(){ku.setIdle(t())}}},J$=function(t,n,o,s){var d,m=function(g,k){return O.some(k)};return wo(CF(J(J({},t),{lazySink:s.shared.getSink,extraBehaviours:It([Il.config({channel:kF,updateState:m,initialData:n}),zg.memory({})],t.extraBehaviours,!0),onEscape:function(g){Sa(g,Tg)},dialogEvents:o,eventOrder:(d={},d[zc()]=[Il.name(),Hu.name()],d[js()]=["scroll-lock",Il.name(),"messages","dialog-events","alloy.base.behaviour"],d[Mm()]=["alloy.base.behaviour","dialog-events","messages",Il.name(),"scroll-lock"],d)})))},Q$=function(t){var n=function(o){var s=$t(o.items,function(d){var m=Qr(!1);return J(J({},d),{storage:m})});return J(J({},o),{items:s})};return $t(t,function(o){return o.type==="menu"?n(o):o})},eL=function(t){return Pe(t,function(n,o){if(o.type==="menu"){var s=o;return Pe(s.items,function(d,m){return d[m.name]=m.storage,d},n)}return n},{})},tL=function(t,n){return[xd(Ec(),WO),t(bw,function(o,s){n.onClose(),s.onClose()}),t(Tg,function(o,s,d,m){s.onCancel(o),Sa(m,bw)}),Bt(WT,function(o,s){return n.onUnblock()}),Bt(jT,function(o,s){return n.onBlock(s.event)})]},pq=function(t,n){var o=function(d,m){return Bt(d,function(g,k){s(g,function(C,E){m(t(),C,k.event,g)})})},s=function(d,m){Il.getState(d).get().each(function(g){m(g,d)})};return It(It([],tL(o,n),!0),[o(nv,function(d,m,g){m.onAction(d,{name:g.name})})],!1)},gq=function(t,n,o){var s=function(m,g){return Bt(m,function(k,C){d(k,function(E,M){g(t(),E,C.event,k)})})},d=function(m,g){Il.getState(m).get().each(function(k){g(k.internalDialog,m)})};return It(It([],tL(s,n),!0),[s(_w,function(m,g){return g.onSubmit(m)}),s($c,function(m,g,k){g.onChange(m,{name:k.name})}),s(nv,function(m,g,k,C){var E=function(){return jr.focusIn(C)},M=function(Z){return Wg(Z,"disabled")||No(Z,"aria-disabled").exists(function(ne){return ne==="true"})},P=Zr(C.element),q=cs(P);g.onAction(m,{name:k.name,value:k.value}),cs(P).fold(E,function(Z){M(Z)||q.exists(function(ne){return Su(Z,ne)&&M(ne)})?E():o().toOptional().filter(function(ne){return!Su(ne.element,Z)}).each(E)})}),s($h,function(m,g,k){g.onTabChange(m,{newTabName:k.name,oldTabName:k.oldName})}),fc(function(m){var g=t();gr.setValue(m,g.getData())})],!1)},xF={initUrlDialog:pq,initDialog:gq},yq=function(t,n){return HC(t,t.type,n)},bq=function(t,n,o){return Nt(n,function(s){return s.name===o}).bind(function(s){return s.memento.getOpt(t)})},_q=function(t,n){var o=n.map(function(k){return k.footerButtons}).getOr([]),s=rt(o,function(k){return k.align==="start"}),d=function(k,C){return ds.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+k]},components:$t(C,function(E){return E.memento.asSpec()})})},m=d("start",s.pass),g=d("end",s.fail);return[m,g]},rL=function(t,n){var o=function(s,d){var m=$t(d.buttons,function(k){var C=$a(yq(k,n));return{name:k.name,align:k.align,memento:C}}),g=function(k,C){return bq(k,m,C)};return O.some({lookupByName:g,footerButtons:m})};return{dom:am('<div class="tox-dialog__footer"></div>'),components:[],behaviours:cr([Il.config({channel:F$,initialData:t,updateState:o,renderComponents:_q})])}},wq=function(t,n){return rL(t,n)},nL=function(t,n){return ku.parts.footer(rL(t,n))},SF=function(t,n){var o=t.getRoot();if(o.getSystem().isConnected()){var s=aa.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return C_.getField(s,n).fold(function(){var d=t.getFooter(),m=Il.getState(d);return m.get().bind(function(g){return g.lookupByName(s,n)})},function(d){return O.some(d)})}else return O.none()},kq=function(t,n){var o=t.getRoot();return Il.getState(o).get().map(function(s){return Kc(Po("data",s.dataValidator,n))}).getOr(n)},aL=function(t,n,o){var s=function(me){var Re=t.getRoot();Re.getSystem().isConnected()&&me(Re)},d=function(){var me=t.getRoot(),Re=me.getSystem().isConnected()?t.getFormWrapper():me,de=gr.getValue(Re),Ne=kn(o,function(mt){return mt.get()});return J(J({},de),Ne)},m=function(me){s(function(Re){var de=ne.getData(),Ne=J(J({},de),me),mt=kq(t,Ne),ft=t.getFormWrapper();gr.setValue(ft,mt),Rn(o,function(Be,it){dr(Ne,it)&&Be.set(Ne[it])})})},g=function(me){SF(t,me).each(Jr.disable)},k=function(me){SF(t,me).each(Jr.enable)},C=function(me){SF(t,me).each(bn.focus)},E=function(me){if(!ee(me))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(Re){en(Re,jT,{message:me})})},M=function(){s(function(me){Sa(me,WT)})},P=function(me){s(function(Re){var de=t.getBody(),Ne=Il.getState(de);Ne.get().exists(function(mt){return mt.isTabPanel()})&&aa.getCurrent(de).each(function(mt){dx.showTab(mt,me)})})},q=function(me){s(function(Re){var de=n(me);Re.getSystem().broadcastOn([kF],de),Re.getSystem().broadcastOn([N$],de.internalDialog),Re.getSystem().broadcastOn([P$],de.internalDialog),Re.getSystem().broadcastOn([F$],de.internalDialog),ne.setData(de.initialData)})},Z=function(){s(function(me){Sa(me,bw)})},ne={getData:d,setData:m,disable:g,enable:k,focus:C,block:E,unblock:M,showTab:P,redial:q,close:Z};return ne},Cq=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},xq=function(t,n,o){var s=X$(t.internalDialog.title,o),d=fq({body:t.internalDialog.body},o),m=Q$(t.internalDialog.buttons),g=eL(m),k=nL({buttons:m},o),C=xF.initDialog(function(){return Z},Z$(function(){return P},o.shared.providers,n),o.shared.getSink),E=Cq(t.internalDialog.size),M={header:s,body:d,footer:O.some(k),extraClasses:E,extraBehaviours:[],extraStyles:{}},P=J$(M,t,C,o),q=function(){var ne=function(){var me=ku.getBody(P);return aa.getCurrent(me).getOr(me)};return{getRoot:ue(P),getBody:function(){return ku.getBody(P)},getFooter:function(){return ku.getFooter(P)},getFormWrapper:ne}}(),Z=aL(q,n.redial,g);return{dialog:P,instanceApi:Z}},Sq=function(t,n,o,s){var d,m,g=Nr("dialog-label"),k=Nr("dialog-content"),C=function(de,Ne){return O.some(Ne)},E=$a(mq({title:t.internalDialog.title,draggable:!0},g,o.shared.providers)),M=$a(lq({body:t.internalDialog.body},k,o,s)),P=Q$(t.internalDialog.buttons),q=eL(P),Z=$a(wq({buttons:P},o)),ne=xF.initDialog(function(){return Re},{onBlock:function(de){uv.block(me,function(Ne,mt){return Y$(de.message,mt,o.shared.providers)})},onUnblock:function(){uv.unblock(me)},onClose:function(){return n.closeWindow()}},o.shared.getSink),me=wo({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=g,d["aria-describedby"]=k,d)},eventOrder:(m={},m[zc()]=[Il.name(),Hu.name()],m[sc()]=["execute-on-form"],m[js()]=["reflecting","execute-on-form"],m),behaviours:cr([jr.config({mode:"cyclic",onEscape:function(de){return Sa(de,bw),O.some(!0)},useTabstopAt:function(de){return!zw(de)&&(Te(de)!=="button"||bo(de,"disabled")!=="disabled")}}),Il.config({channel:kF,updateState:C,initialData:t}),bn.config({}),Nn("execute-on-form",ne.concat([ci(Ec(),function(de,Ne){jr.focusIn(de)})])),uv.config({getRoot:function(){return O.some(me)}}),yn.config({}),zg.memory({})]),components:[E.asSpec(),M.asSpec(),Z.asSpec()]}),Re=aL({getRoot:ue(me),getFooter:function(){return Z.get(me)},getBody:function(){return M.get(me)},getFormWrapper:function(){var de=M.get(me);return aa.getCurrent(de).getOr(de)}},n.redial,q);return{dialog:me,instanceApi:Re}},TF=tinymce.util.Tools.resolve("tinymce.util.URI"),Tq=function(t){var n=function(g){t.getSystem().isConnected()&&g(t)},o=function(g){if(!ee(g))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n(function(k){en(k,jT,{message:g})})},s=function(){n(function(g){Sa(g,WT)})},d=function(){n(function(g){Sa(g,bw)})},m=function(g){n(function(k){k.getSystem().broadcastOn([I$],g)})};return{block:o,unblock:s,close:d,sendMessage:m}},Eq=["insertContent","setContent","execCommand","close","block","unblock"],oL=function(t){return pe(t)&&Eq.indexOf(t.mceAction)!==-1},zq=function(t){return!oL(t)&&pe(t)&&dr(t,"mceAction")},Aq=function(t,n,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var s=ye(o.ui)?o.ui:!1;t.execCommand(o.cmd,s,o.value);break;case"close":n.close();break;case"block":n.block(o.message);break;case"unblock":n.unblock();break}},Oq=function(t,n,o,s){var d,m=X$(t.title,s),g=dq(t),k=t.buttons.bind(function(Ne){return Ne.length===0?O.none():O.some(nL({buttons:Ne},s))}),C=xF.initUrlDialog(function(){return de},Z$(function(){return Re},s.shared.providers,n)),E=J(J({},t.height.fold(function(){return{}},function(Ne){return{height:Ne+"px","max-height":Ne+"px"}})),t.width.fold(function(){return{}},function(Ne){return{width:Ne+"px","max-width":Ne+"px"}})),M=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],P=new TF(t.url,{base_uri:new TF(window.location.href)}),q=P.protocol+"://"+P.host+(P.port?":"+P.port:""),Z=Xm(),ne=[Nn("messages",[Bn(function(){var Ne=ni(rr.fromDom(window),"message",function(mt){if(P.isSameOrigin(new TF(mt.raw.origin))){var ft=mt.raw.data;oL(ft)?Aq(o,de,ft):zq(ft)&&t.onMessage(de,ft)}});Z.set(Ne)}),fc(Z.clear)]),Hu.config({channels:(d={},d[I$]={onReceive:function(Ne,mt){Oi(Ne.element,"iframe").each(function(ft){var Be=ft.dom.contentWindow;Be.postMessage(mt,q)})}},d)})],me={header:m,body:g,footer:k,extraClasses:M,extraBehaviours:ne,extraStyles:E},Re=J$(me,t,C,s),de=Tq(Re);return{dialog:Re,instanceApi:de}},Rq=function(t){var n=t.backstage.shared,o=function(s,d){var m=function(){ku.hide(E),d()},g=$a(HC({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:O.none()},"cancel",t.backstage)),k=V$(),C=H$(m,n.providers),E=wo(CF({lazySink:function(){return n.getSink()},header:L$(k,C),body:U$(s,n.providers),footer:O.some(j$(W$([],[g.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Bt(Tg,m)],eventOrder:{}}));ku.show(E);var M=g.get(E);bn.focus(M)};return{open:o}},Dq=function(t){var n=t.backstage.shared,o=function(s,d){var m=function(q){ku.hide(M),d(q)},g=$a(HC({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:O.none()},"submit",t.backstage)),k=HC({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:O.none()},"cancel",t.backstage),C=V$(),E=H$(function(){return m(!1)},n.providers),M=wo(CF({lazySink:function(){return n.getSink()},header:L$(C,E),body:U$(s,n.providers),footer:O.some(j$(W$([],[k,g.asSpec()]))),onEscape:function(){return m(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Bt(Tg,function(){return m(!1)}),Bt(_w,function(){return m(!0)})],eventOrder:{}}));ku.show(M);var P=g.get(M);bn.focus(P)};return{open:o}},Mq=function(t,n){return Kc(Po("data",n,t))},Bq=function(t){return gw(t,".tox-alert-dialog")||gw(t,".tox-confirm-dialog")},Nq=function(t,n,o){return n&&o?[]:[e.config({contextual:{lazyContext:function(){return O.some(si(rr.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},Pq=function(t){var n=t.backstage,o=t.editor,s=U3(o),d=Rq(t),m=Dq(t),g=function(ne,me,Re){return me!==void 0&&me.inline==="toolbar"?M(ne,n.shared.anchors.inlineDialog(),Re,me.ariaAttrs):me!==void 0&&me.inline==="cursor"?M(ne,n.shared.anchors.cursor(),Re,me.ariaAttrs):E(ne,Re)},k=function(ne,me){return C(ne,me)},C=function(ne,me){var Re=function(de){var Ne=Oq(de,{closeWindow:function(){ku.hide(Ne.dialog),me(Ne.instanceApi)}},o,n);return ku.show(Ne.dialog),Ne.instanceApi};return _z.openUrl(Re,ne)},E=function(ne,me){var Re=function(de,Ne,mt){var ft=Ne,Be={dataValidator:mt,initialData:ft,internalDialog:de},it=xq(Be,{redial:_z.redial,closeWindow:function(){ku.hide(it.dialog),me(it.instanceApi)}},n);return ku.show(it.dialog),it.instanceApi.setData(ft),it.instanceApi};return _z.open(Re,ne)},M=function(ne,me,Re,de){var Ne=function(mt,ft,Be){var it=Mq(ft,Be),xt=Yo(),yr=n.shared.header.isPositionedAtTop(),Dt={dataValidator:Be,initialData:it,internalDialog:mt},_r=function(){return xt.on(function(ar){Ga.reposition(ar),e.refresh(ar)})},Pt=Sq(Dt,{redial:_z.redial,closeWindow:function(){xt.on(Ga.hide),o.off("ResizeEditor",_r),xt.clear(),Re(Pt.instanceApi)}},n,de),Ct=wo(Ga.sketch(J(J({lazySink:n.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},yr?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:cr(It([Nn("window-manager-inline-events",[Bt(Jc(),function(ar,Fr){Sa(Pt.dialog,Tg)})])],Nq(o,s,yr),!0)),isExtraPart:function(ar,Fr){return Bq(Fr)}})));return xt.set(Ct),Ga.showWithin(Ct,hc(Pt.dialog),{anchor:me},O.some(Ia())),(!s||!yr)&&(e.refresh(Ct),o.on("ResizeEditor",_r)),Pt.instanceApi.setData(it),jr.focusIn(Pt.dialog),Pt.instanceApi};return _z.open(Ne,ne)},P=function(ne,me){m.open(ne,function(Re){me(Re)})},q=function(ne,me){d.open(ne,function(){me()})},Z=function(ne){ne.close()};return{open:g,openUrl:k,alert:q,close:Z,confirm:P}};function Fq(){Ce.add("silver",function(t){var n=yj(t),o=n.uiMothership,s=n.backstage,d=n.renderUI,m=n.getUi;Ih.register(t,s.shared);var g=Pq({editor:t,backstage:s});return{renderUI:d,getWindowManagerImpl:ue(g),getNotificationManagerImpl:function(){return eT(t,{backstage:s},o)},ui:m()}})}Fq()})();(function(I){var T=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function N(Ye){return Ye=Ye.replace(/<inner>/g,function(){return T}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+Ye+")")}var F=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,ee=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return F}),pe=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;I.languages.markdown=I.languages.extend("markup",{}),I.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:I.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+ee+pe+"(?:"+ee+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+ee+pe+")(?:"+ee+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(F),inside:I.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+ee+")"+pe+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+ee+"$"),inside:{"table-header":{pattern:RegExp(F),alias:"important",inside:I.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:N(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:N(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:N(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:N(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(Ye){["url","bold","italic","strike","code-snippet"].forEach(function(Ae){Ye!==Ae&&(I.languages.markdown[Ye].inside.content.inside[Ae]=I.languages.markdown[Ae])})}),I.hooks.add("after-tokenize",function(Ye){if(Ye.language!=="markdown"&&Ye.language!=="md")return;function Ae(tt){if(!(!tt||typeof tt=="string"))for(var er=0,Xe=tt.length;er<Xe;er++){var at=tt[er];if(at.type!=="code"){Ae(at.content);continue}var _e=at.content[1],Y=at.content[3];if(_e&&Y&&_e.type==="code-language"&&Y.type==="code-block"&&typeof _e.content=="string"){var De=_e.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");De=(/[a-z][\w-]*/i.exec(De)||[""])[0].toLowerCase();var ue="language-"+De;Y.alias?typeof Y.alias=="string"?Y.alias=[Y.alias,ue]:Y.alias.push(ue):Y.alias=[ue]}}}Ae(Ye.tokens)}),I.hooks.add("wrap",function(Ye){if(Ye.type==="code-block"){for(var Ae="",tt=0,er=Ye.classes.length;tt<er;tt++){var Xe=Ye.classes[tt],at=/language-(.+)/.exec(Xe);if(at){Ae=at[1];break}}var _e=I.languages[Ae];if(_e)Ye.content=I.highlight(jt(Ye.content),_e,Ae);else if(Ae&&Ae!=="none"&&I.plugins.autoloader){var Y="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);Ye.attributes.id=Y,I.plugins.autoloader.loadLanguages(Ae,function(){var De=document.getElementById(Y);De&&(De.innerHTML=I.highlight(De.textContent,I.languages[Ae],Ae))})}}});var He=RegExp(I.languages.markup.tag.pattern.source,"gi"),xe={amp:"&",lt:"<",gt:">",quot:'"'},ye=String.fromCodePoint||String.fromCharCode;function jt(Ye){var Ae=Ye.replace(He,"");return Ae=Ae.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(tt,er){if(er=er.toLowerCase(),er[0]==="#"){var Xe;return er[1]==="x"?Xe=parseInt(er.slice(2),16):Xe=Number(er.slice(1)),ye(Xe)}else{var at=xe[er];return at||tt}}),Ae}I.languages.md=I.languages.markdown})(Prism);const ZG={props:{value:{type:String,default:""},language:{type:String,default:"markdown"},disabled:Boolean},data(){return{data:"",flask:null}},methods:{initMarkdownEditor(I){const T=document.createElement("code-flask");T.attachShadow({mode:"open"}),T.shadowRoot.innerHTML=`
           <style>
            .codeflask .codeflask__flatten { font-size: 15px; }
            .codeflask .token.tag { font-weight: bold; color: ${VD.primary} !important; }
            .codeflask .token { color: ${VD.primary} !important; }
            .codeflask .token.heading { font-weight: bold; }
            .codeflask .token.important,.token.bold,.token.strong { font-weight: bold; }
            .codeflask .token.em,.token.italic { font-style: italic; }
            .codeflask .token.comment { color: slategray; }
            .codeflask .token.url { color: ${VD.primary}; text-decoration: underline; }
          </style>
          <div id="area"></area>
          `,this.$refs.markdownEditor.appendChild(T),this.flask=new Xq(T.shadowRoot.getElementById("area"),{language:this.$props.language||"markdown",lineNumbers:!1,styleParent:T.shadowRoot,readonly:this.disabled}),this.flask.onUpdate(N=>{this.data=N,this.$emit("input",N)}),this.flask.updateCode(I),this.$nextTick(()=>{document.querySelector("code-flask").shadowRoot.querySelector("textarea").focus()})}},mounted(){this.initMarkdownEditor(this.$props.value||"")},watch:{value(I){I!==this.data&&this.flask.updateCode(I)}}};var JG=function(){var T=this,N=T._self._c;return N("div",{ref:"markdownEditor",staticClass:"markdown-editor",attrs:{id:"markdown-editor"}})},QG=[],eK=JF(ZG,JG,QG);const tK=eK.exports,rK=new WD,YF={"cs-cz":"cs",de:"de",es:"es_419",fr:"fr_FR",it:"it_IT",pl:"pl",pt:"pt_PT","pt-BR":"pt_BR",ro:"ro",tr:"tr"},nK={components:{Media:KL,CampaignPreview:Kq,"html-editor":Yq,"markdown-editor":tK,TinyMce:XG},props:{id:{type:Number,default:0},title:{type:String,default:""},body:{type:String,default:""},contentType:{type:String,default:""},templateId:{type:Number,default:0},disabled:{type:Boolean,default:!1}},data(){return{isPreviewing:!1,isMediaVisible:!1,isEditorFullscreen:!1,isReady:!1,isRichtextReady:!1,isRichtextSourceVisible:!1,isInsertHTMLVisible:!1,insertHTMLSnippet:"",isTrackLink:!1,richtextConf:{},richTextSourceBody:"",form:{body:"",format:this.contentType,radioFormat:this.contentType},lastSel:null}},methods:{initRichtextEditor(){const{lang:I}=this.serverConfig;this.richtextConf={init_instance_callback:()=>{this.isReady=!0},urlconverter_callback:this.onEditorURLConvert,setup:T=>{T.on("init",()=>{T.focus(),this.onEditorDialogOpen(T)}),T.ui.registry.addButton("html",{icon:"sourcecode",tooltip:"Source code",onAction:this.onRichtextViewSource}),T.ui.registry.addButton("insert-html",{icon:"code-sample",tooltip:"Insert HTML",onAction:this.onOpenInsertHTML}),T.on("CloseWindow",()=>{T.selection.getNode().scrollIntoView(!1)}),T.on("keydown",N=>{N.key==="F9"&&(this.onTogglePreview(),N.preventDefault())})},browser_spellcheck:!0,min_height:500,toolbar_sticky:!0,entity_encoding:"raw",convert_urls:!0,plugins:["anchor","autoresize","autolink","charmap","emoticons","fullscreen","help","hr","image","imagetools","link","lists","paste","searchreplace","table","visualblocks","visualchars","wordcount"],toolbar:`undo redo | formatselect styleselect fontsizeselect |
                  bold italic underline strikethrough forecolor backcolor subscript superscript |
                  alignleft aligncenter alignright alignjustify |
                  bullist numlist table image insert-html | outdent indent | link hr removeformat |
                  html fullscreen help`,fontsize_formats:"10px 11px 12px 14px 15px 16px 18px 24px 36px",skin:!1,content_css:!1,content_style:`
          body { font-family: 'Inter', sans-serif; font-size: 15px; }
          img { max-width: 100%; }
          a { color: ${VD.primary}; }
          table, td { border-color: #ccc;}
        `,language:YF[I]||null,language_url:YF[I]?`${Wq.static}/tinymce/lang/${YF[I]}.js`:null,file_picker_types:"image",file_picker_callback:T=>{this.isMediaVisible=!0,this.runTinyMceImageCallback=T}},this.isRichtextReady=!0},onFormatChange(I){if(this.form.body.trim()===""){this.form.format=I,this.onEditorChange();return}this.$utils.confirm(this.$t("campaigns.confirmSwitchFormat"),()=>{this.form.format=I,this.onEditorChange()},()=>{this.form.radioFormat=this.form.format})},onEditorURLConvert(I){let T=I;return this.isTrackLink&&(T=`${T}@TrackLink`),this.isTrackLink=!1,T},onRichtextViewSource(){this.richTextSourceBody=this.form.body,this.isRichtextSourceVisible=!0},onOpenInsertHTML(){this.isInsertHTMLVisible=!0},onInsertHTML(){this.isInsertHTMLVisible=!1,window.tinymce.editors[0].execCommand("mceInsertContent",!1,this.insertHTMLSnippet)},onFormatRichtextHTML(){this.richTextSourceBody=this.beautifyHTML(this.richTextSourceBody)},onSaveRichTextSource(){this.form.body=this.richTextSourceBody,window.tinymce.editors[0].setContent(this.form.body),this.richTextSourceBody="",this.isRichtextSourceVisible=!1},onEditorDialogOpen(I){const T=I,N=T.windowManager.open,F=this;T.windowManager.open=(ee,pe)=>{const He=ee.initialData&&"url"in ee.initialData&&"anchor"in ee.initialData;if(!He)return N.apply(this,[ee,pe]);let xe=!1;if(!ee.initialData.link!==""){const jt=ee,Ye=jt.initialData.url.value.replace(/@TrackLink$/,"");jt.initialData.url.value!==Ye&&(jt.initialData.url.value=Ye,xe=!0)}const ye=N.apply(this,[ee,pe]);if(He){const jt=document.createElement("input");jt.setAttribute("type","checkbox"),xe&&jt.setAttribute("checked",xe),jt.onchange=Ae=>{F.isTrackLink=Ae.target.checked};const Ye=document.createElement("label");Ye.appendChild(jt),Ye.appendChild(document.createTextNode("Track link?")),Ye.classList.add("tox-label","tox-track-link"),document.querySelector(".tox-form__controls-h-stack .tox-control-wrap").appendChild(Ye)}return ye}},onEditorChange(){this.isReady&&this.$emit("input",{contentType:this.form.format,body:this.form.body})},onTogglePreview(){this.isPreviewing=!this.isPreviewing},onMediaSelect(I){this.runTinyMceImageCallback(I.url)},onPreviewShortcut(I){I.key==="F9"&&(this.onTogglePreview(),I.preventDefault())},beautifyHTML(I){let T=this.trimLines(I.replace(/(<(?!(\/)?a|span)([^>]+)>)/ig,`
$1
`),!0);return T=T.replace(/\n+/g,`
`),cG.html(T,{indent_size:4,indent_char:" ",max_preserve_newlines:2,inline:["h1","h2","h3","h4","h5","h6","b","strong","span","em","i","code","a"]}).trim()},trimLines(I,T){const N=I.split(`
`);for(let F=0;F<N.length;F+=1){const ee=N[F].trim();T?N[F]=ee:ee===""&&(N[F]="")}return N.join(`
`).replace(/\n\s*\n\s*\n/g,`

`)}},mounted(){this.initRichtextEditor(),window.addEventListener("keydown",this.onPreviewShortcut)},beforeDestroy(){window.removeEventListener("keydown",this.onPreviewShortcut)},computed:{...GL(["serverConfig"]),htmlFormat(){return this.form.format}},watch:{contentType(I){this.form.format=I,this.form.radioFormat=I,I!=="richtext"&&(this.isReady=!0),this.onEditorChange()},body(I){this.form.body=I,this.onEditorChange()},"form.body":function(){this.onEditorChange()},htmlFormat(I,T){if((T==="richtext"||T==="html")&&I==="plain"){const N=document.createElement("div");N.innerHTML=this.beautifyHTML(this.form.body),this.$nextTick(()=>{this.form.body=this.trimLines(N.innerText.trim(),!0)})}else(T==="richtext"||T==="html")&&I==="markdown"?this.form.body=rK.turndown(this.form.body).replace(/\n\n+/ig,`

`):T==="plain"&&(I==="richtext"||I==="html")?this.form.body=this.form.body.replace(/\n/ig,`<br>
`):T==="richtext"&&I==="html"?this.form.body=this.beautifyHTML(this.form.body):T==="markdown"&&(I==="richtext"||I==="html")&&this.$api.convertCampaignContent({id:1,body:this.form.body,from:T,to:I}).then(N=>{this.form.body=this.beautifyHTML(N.trim()),I==="html"&&this.updateHTMLEditor()});this.onEditorChange()}}};var aK=function(){var T=this,N=T._self._c;return N("section",{staticClass:"editor"},[N("div",{staticClass:"columns"},[N("div",{staticClass:"column is-6"},[N("b-field",{attrs:{label:"Format"}},[N("div",[N("b-radio",{attrs:{disabled:T.disabled,name:"format","native-value":"richtext","data-cy":"check-richtext"},on:{input:T.onFormatChange},model:{value:T.form.radioFormat,callback:function(F){T.$set(T.form,"radioFormat",F)},expression:"form.radioFormat"}},[T._v(" "+T._s(T.$t("campaigns.richText"))+" ")]),N("b-radio",{attrs:{disabled:T.disabled,name:"format","native-value":"html","data-cy":"check-html"},on:{input:T.onFormatChange},model:{value:T.form.radioFormat,callback:function(F){T.$set(T.form,"radioFormat",F)},expression:"form.radioFormat"}},[T._v(" "+T._s(T.$t("campaigns.rawHTML"))+" ")]),N("b-radio",{attrs:{disabled:T.disabled,name:"format","native-value":"markdown","data-cy":"check-markdown"},on:{input:T.onFormatChange},model:{value:T.form.radioFormat,callback:function(F){T.$set(T.form,"radioFormat",F)},expression:"form.radioFormat"}},[T._v(" "+T._s(T.$t("campaigns.markdown"))+" ")]),N("b-radio",{attrs:{disabled:T.disabled,name:"format","native-value":"plain","data-cy":"check-plain"},on:{input:T.onFormatChange},model:{value:T.form.radioFormat,callback:function(F){T.$set(T.form,"radioFormat",F)},expression:"form.radioFormat"}},[T._v(" "+T._s(T.$t("campaigns.plainText"))+" ")])],1)])],1),N("div",{staticClass:"column is-6 has-text-right"},[N("b-button",{attrs:{type:"is-primary","icon-left":"file-find-outline","data-cy":"btn-preview"},on:{click:T.onTogglePreview}},[T._v(" "+T._s(T.$t("campaigns.preview"))+" (F9) ")])],1)]),T.isRichtextReady&&T.form.format==="richtext"?[N("tiny-mce",{attrs:{disabled:T.disabled,init:T.richtextConf},model:{value:T.form.body,callback:function(F){T.$set(T.form,"body",F)},expression:"form.body"}}),N("b-modal",{attrs:{scroll:"keep",width:1200,"aria-modal":!0,active:T.isRichtextSourceVisible},on:{"update:active":function(F){T.isRichtextSourceVisible=F}}},[N("div",[N("section",{staticClass:"modal-card-body preview",attrs:{expanded:""}},[N("html-editor",{model:{value:T.richTextSourceBody,callback:function(F){T.richTextSourceBody=F},expression:"richTextSourceBody"}})],1),N("footer",{staticClass:"modal-card-foot has-text-right"},[N("b-button",{on:{click:T.onFormatRichtextHTML}},[T._v(" "+T._s(T.$t("campaigns.formatHTML"))+" ")]),N("b-button",{on:{click:()=>{this.isRichtextSourceVisible=!1}}},[T._v(" "+T._s(T.$t("globals.buttons.close"))+" ")]),N("b-button",{staticClass:"is-primary",on:{click:T.onSaveRichTextSource}},[T._v(" "+T._s(T.$t("globals.buttons.save"))+" ")])],1)])]),N("b-modal",{attrs:{scroll:"keep",width:750,"aria-modal":!0,active:T.isInsertHTMLVisible},on:{"update:active":function(F){T.isInsertHTMLVisible=F}}},[N("div",[N("section",{staticClass:"modal-card-body preview",attrs:{expanded:""}},[N("html-editor",{model:{value:T.insertHTMLSnippet,callback:function(F){T.insertHTMLSnippet=F},expression:"insertHTMLSnippet"}})],1),N("footer",{staticClass:"modal-card-foot has-text-right"},[N("b-button",{on:{click:T.onFormatRichtextHTML}},[T._v(" "+T._s(T.$t("campaigns.formatHTML"))+" ")]),N("b-button",{on:{click:()=>{this.isInsertHTMLVisible=!1}}},[T._v(" "+T._s(T.$t("globals.buttons.close"))+" ")]),N("b-button",{staticClass:"is-primary",on:{click:T.onInsertHTML}},[T._v(" "+T._s(T.$t("globals.buttons.insert"))+" ")])],1)])])]:T._e(),T.form.format==="html"?N("html-editor",{model:{value:T.form.body,callback:function(F){T.$set(T.form,"body",F)},expression:"form.body"}}):T._e(),T.form.format==="markdown"?N("markdown-editor",{model:{value:T.form.body,callback:function(F){T.$set(T.form,"body",F)},expression:"form.body"}}):T._e(),T.form.format==="plain"?N("b-input",{ref:"plainEditor",staticClass:"plain-editor",attrs:{type:"textarea",name:"content"},on:{input:T.onEditorChange},model:{value:T.form.body,callback:function(F){T.$set(T.form,"body",F)},expression:"form.body"}}):T._e(),T.isPreviewing?N("campaign-preview",{attrs:{type:"campaign",id:T.id,title:T.title,"content-type":T.form.format,"template-id":T.templateId,body:T.form.body},on:{close:T.onTogglePreview}}):T._e(),N("b-modal",{attrs:{scroll:"keep","aria-modal":!0,active:T.isMediaVisible,width:900},on:{"update:active":function(F){T.isMediaVisible=F}}},[N("div",{staticClass:"modal-card content",staticStyle:{width:"auto"}},[N("section",{staticClass:"modal-card-body",attrs:{expanded:""}},[N("media",{attrs:{"is-modal":""},on:{selected:T.onMediaSelect}})],1)])])],2)},oK=[],iK=JF(nK,aK,oK);const uK=iK.exports,sK=qq.extend({components:{ListSelector:Zq,Editor:uK,Media:KL,CopyText:Gq},data(){return{isNew:!1,isEditing:!1,isHeadersVisible:!1,isAttachFieldVisible:!1,isAttachModalOpen:!1,activeTab:"campaign",data:{},selListIDs:[],form:{archiveSlug:null,name:"",subject:"",fromEmail:"",headersStr:"[]",headers:[],messenger:"email",templateId:0,lists:[],tags:[],sendAt:null,content:{contentType:"richtext",body:""},altbody:null,media:[],sendAtDate:null,sendLater:!1,archive:!1,archiveMetaStr:"{}",archiveMeta:{},testEmails:[]}}},methods:{formatDateTime(I){return gL(I).format("YYYY-MM-DD HH:mm")},onAddAltBody(){this.form.altbody=Qq(this.form.content.body)},onRemoveAltBody(){this.form.altbody=null},onShowHeaders(){this.isHeadersVisible=!this.isHeadersVisible},onShowAttachField(){this.isAttachFieldVisible=!0,this.$nextTick(()=>{this.$refs.media.focus()})},onOpenAttach(){this.isAttachModalOpen=!0},onAttachSelect(I){this.form.media.some(T=>T.id===I.id)||this.form.media.push(I)},isUnsaved(){return this.data.body!==this.form.content.body||this.data.contentType!==this.form.content.contentType},onTab(I){I==="content"&&window.tinymce&&window.tinymce.editors.length>0&&this.$nextTick(()=>{window.tinymce.editors[0].focus()}),window.history.replaceState({},"",`#${I}`)},onFillArchiveMeta(){const I=`{"email": "email@domain.com", "name": "${this.$t("globals.fields.name")}", "attribs": {}}`;this.form.archiveMetaStr=this.$utils.getPref("campaign.archiveMetaStr")||JSON.stringify(JSON.parse(I),null,4)},onSubmit(I){if(this.form.headersStr&&this.form.headersStr!=="[]")try{this.form.headers=JSON.parse(this.form.headersStr)}catch(T){this.$utils.toast(T.toString(),"is-danger");return}else this.form.headers=[];if(this.form.archive&&this.form.archiveMetaStr)try{this.form.archiveMeta=JSON.parse(this.form.archiveMetaStr)}catch(T){this.$utils.toast(T.toString(),"is-danger");return}else this.form.archiveMeta={};switch(I){case"create":this.createCampaign();break;case"test":this.sendTest();break;default:this.updateCampaign();break}},getCampaign(I){return this.$api.getCampaign(I).then(T=>{this.data=T,this.form={...this.form,...T,headersStr:JSON.stringify(T.headers,null,4),archiveMetaStr:T.archiveMeta?JSON.stringify(T.archiveMeta,null,4):"{}",content:{contentType:T.contentType,body:T.body}},this.isAttachFieldVisible=this.form.media.length>0,this.form.media=this.form.media.map(N=>N.id?N:{...N,filename:` ${N.filename}`}),T.sendAt!==null&&(this.form.sendLater=!0,this.form.sendAtDate=gL(T.sendAt).toDate())})},sendTest(){const I={id:this.data.id,name:this.form.name,subject:this.form.subject,lists:this.form.lists.map(T=>T.id),from_email:this.form.fromEmail,messenger:this.form.messenger,type:"regular",headers:this.form.headers,tags:this.form.tags,template_id:this.form.templateId,content_type:this.form.content.contentType,body:this.form.content.body,altbody:this.form.content.contentType!=="plain"?this.form.altbody:null,subscribers:this.form.testEmails,media:this.form.media.map(T=>T.id)};return this.$api.testCampaign(I).then(()=>{this.$utils.toast(this.$t("campaigns.testSent"))}),!1},createCampaign(){const I={archiveSlug:this.form.subject,name:this.form.name,subject:this.form.subject,lists:this.form.lists.map(T=>T.id),from_email:this.form.fromEmail,content_type:"richtext",messenger:this.form.messenger,type:"regular",tags:this.form.tags,send_at:this.form.sendLater?this.form.sendAtDate:null,headers:this.form.headers,template_id:this.form.templateId,media:this.form.media.map(T=>T.id)};return this.$api.createCampaign(I).then(T=>{this.$router.push({name:"campaign",hash:"#content",params:{id:T.id}})}),!1},async updateCampaign(I){const T={archive_slug:this.form.archiveSlug,name:this.form.name,subject:this.form.subject,lists:this.form.lists.map(F=>F.id),from_email:this.form.fromEmail,messenger:this.form.messenger,type:"regular",tags:this.form.tags,send_at:this.form.sendLater?this.form.sendAtDate:null,headers:this.form.headers,template_id:this.form.templateId,content_type:this.form.content.contentType,body:this.form.content.body,altbody:this.form.content.contentType!=="plain"?this.form.altbody:null,archive:this.form.archive,archive_template_id:this.form.archiveTemplateId,archive_meta:this.form.archiveMeta,media:this.form.media.map(F=>F.id)};let N="globals.messages.updated";return I==="start"&&(N="campaigns.started"),new Promise(F=>{this.$api.updateCampaign(this.data.id,T).then(ee=>{this.data=ee,this.form.archiveSlug=ee.archiveSlug,this.$utils.toast(this.$t(N,{name:ee.name})),F()})})},onUpdateCampaignArchive(){if(this.isEditing&&this.canEdit)return;const I={archive:this.form.archive,archive_template_id:this.form.archiveTemplateId,archive_meta:JSON.parse(this.form.archiveMetaStr),archive_slug:this.form.archiveSlug};this.$api.updateCampaignArchive(this.data.id,I).then(T=>{this.form.archiveSlug=T.archiveSlug})},startCampaign(){!this.canStart&&!this.canSchedule||this.$utils.confirm(null,()=>{this.updateCampaign().then(()=>{let I="";if(this.canStart)I="running";else if(this.canSchedule)I="scheduled";else return;this.$api.changeCampaignStatus(this.data.id,I).then(()=>{this.$router.push({name:"campaigns"})})})})},unscheduleCampaign(){this.$api.changeCampaignStatus(this.data.id,"draft").then(I=>{this.data=I,this.form.archiveSlug=I.archiveSlug})}},computed:{...GL(["serverConfig","loading","lists","templates"]),canEdit(){return this.isNew||this.data.status==="draft"||this.data.status==="scheduled"||this.data.status==="paused"},canSchedule(){return this.data.status==="draft"&&this.data.sendAt},canUnSchedule(){return this.data.status==="scheduled"&&this.data.sendAt},canStart(){return this.data.status==="draft"||this.data.status==="paused"},canArchive(){return this.data.status!=="cancelled"&&this.data.type!=="optin"},selectedLists(){return this.selListIDs.length===0||!this.lists.results?[]:this.lists.results.filter(I=>this.selListIDs.indexOf(I.id)>-1)},emailMessengers(){return["email",...this.serverConfig.messengers.filter(I=>I.startsWith("email-"))]},otherMessengers(){return this.serverConfig.messengers.filter(I=>I!=="email"&&!I.startsWith("email-"))}},beforeRouteLeave(I,T,N){if(this.isUnsaved()){this.$utils.confirm(this.$t("globals.messages.confirmDiscard"),()=>N(!0));return}N(!0)},watch:{selectedLists(){this.form.lists=this.selectedLists}},mounted(){window.onbeforeunload=()=>this.isUnsaved()||null,this.form.fromEmail=this.serverConfig.from_email;const{id:I}=this.$route.params;if(I==="new"){if(this.isNew=!0,this.$route.query.list_id){let T=[];typeof this.$route.query.list_id=="object"?T=this.$route.query.list_id:T=[this.$route.query.list_id],this.selListIDs=T.map(N=>parseInt(N,10))}}else{const T=parseInt(I,10);if(T<=0||Number.isNaN(T)){this.$utils.toast(this.$t("campaigns.invalid"));return}this.isEditing=!0}this.$api.getTemplates().then(T=>{T.length>0&&(this.form.templateId||(this.form.templateId=T.find(N=>N.isDefault===!0).id))}),this.isEditing?this.getCampaign(I).then(()=>{this.$route.hash!==""&&(this.activeTab=this.$route.hash.replace("#",""))}):this.form.messenger="email",this.$nextTick(()=>{this.$refs.focus.focus()})}});var cK=function(){var T=this,N=T._self._c;return T._self._setupProxy,N("section",{staticClass:"campaign"},[N("header",{staticClass:"columns page-header"},[N("div",{staticClass:"column is-6"},[T.isEditing&&T.data.status?N("p",{staticClass:"tags"},[T.isEditing?N("b-tag",{class:T.data.status},[T._v(" "+T._s(T.$t(`campaigns.status.${T.data.status}`))+" ")]):T._e(),T.data.type==="optin"?N("b-tag",{class:T.data.type},[T._v(" "+T._s(T.$t("lists.optin"))+" ")]):T._e(),T.isEditing?N("span",{staticClass:"has-text-grey-light is-size-7",attrs:{"data-campaign-id":T.data.id}},[T._v(" "+T._s(T.$t("globals.fields.id"))+": "),N("copy-text",{attrs:{text:`${T.data.id}`}}),T._v(" "+T._s(T.$t("globals.fields.uuid"))+": "),N("copy-text",{attrs:{text:T.data.uuid}})],1):T._e()],1):T._e(),T.isEditing?N("h4",{staticClass:"title is-4"},[T._v(" "+T._s(T.data.name)+" ")]):N("h4",{staticClass:"title is-4"},[T._v(" "+T._s(T.$t("campaigns.newCampaign"))+" ")])]),N("div",{staticClass:"column is-6"},[T.$can("campaigns:manage")?N("div",{staticClass:"buttons"},[T.isEditing&&T.canEdit?N("b-field",{attrs:{grouped:""}},[N("b-field",{attrs:{expanded:""}},[N("b-button",{attrs:{expanded:"",loading:T.loading.campaigns,type:"is-primary","icon-left":"content-save-outline","data-cy":"btn-save"},on:{click:()=>T.onSubmit("update")}},[T._v(" "+T._s(T.$t("globals.buttons.saveChanges"))+" ")])],1),T.canStart?N("b-field",{attrs:{expanded:""}},[N("b-button",{attrs:{expanded:"",loading:T.loading.campaigns,type:"is-primary","icon-left":"rocket-launch-outline","data-cy":"btn-start"},on:{click:T.startCampaign}},[T._v(" "+T._s(T.$t("campaigns.start"))+" ")])],1):T._e(),T.canSchedule?N("b-field",{attrs:{expanded:""}},[N("b-button",{attrs:{expanded:"",loading:T.loading.campaigns,type:"is-primary","icon-left":"clock-start","data-cy":"btn-schedule"},on:{click:T.startCampaign}},[T._v(" "+T._s(T.$t("campaigns.schedule"))+" ")])],1):T._e(),T.canUnSchedule?N("b-field",{attrs:{expanded:""}},[N("b-button",{attrs:{expanded:"",loading:T.loading.campaigns,type:"is-primary","icon-left":"clock-start","data-cy":"btn-unschedule"},on:{click:T.unscheduleCampaign}},[T._v(" "+T._s(T.$t("campaigns.unSchedule"))+" ")])],1):T._e()],1):T._e()],1):T._e()])]),N("b-loading",{attrs:{active:T.loading.campaigns}}),N("b-tabs",{attrs:{type:"is-boxed",animated:!1},on:{input:T.onTab},model:{value:T.activeTab,callback:function(F){T.activeTab=F},expression:"activeTab"}},[N("b-tab-item",{attrs:{label:T.$tc("globals.terms.campaign"),"label-position":"on-border",value:"campaign",icon:"rocket-launch-outline"}},[N("section",{staticClass:"wrap"},[N("div",{staticClass:"columns"},[N("div",{staticClass:"column is-7"},[N("form",{on:{submit:function(F){return F.preventDefault(),(()=>T.onSubmit(T.isNew?"create":"update")).apply(null,arguments)}}},[N("b-field",{attrs:{label:T.$t("globals.fields.name"),"label-position":"on-border"}},[N("b-input",{ref:"focus",attrs:{maxlength:200,name:"name",disabled:!T.canEdit,placeholder:T.$t("globals.fields.name"),required:"",autofocus:""},model:{value:T.form.name,callback:function(F){T.$set(T.form,"name",F)},expression:"form.name"}})],1),N("b-field",{attrs:{label:T.$t("campaigns.subject"),"label-position":"on-border"}},[N("b-input",{attrs:{maxlength:5e3,name:"subject",disabled:!T.canEdit,placeholder:T.$t("campaigns.subject"),required:""},model:{value:T.form.subject,callback:function(F){T.$set(T.form,"subject",F)},expression:"form.subject"}})],1),N("b-field",{attrs:{label:T.$t("campaigns.fromAddress"),"label-position":"on-border"}},[N("b-input",{attrs:{maxlength:200,name:"from_email",disabled:!T.canEdit,placeholder:T.$t("campaigns.fromAddressPlaceholder"),required:""},model:{value:T.form.fromEmail,callback:function(F){T.$set(T.form,"fromEmail",F)},expression:"form.fromEmail"}})],1),N("list-selector",{attrs:{selected:T.form.lists,all:T.lists.results,disabled:!T.canEdit,label:T.$t("globals.terms.lists"),placeholder:T.$t("campaigns.sendToLists")},model:{value:T.form.lists,callback:function(F){T.$set(T.form,"lists",F)},expression:"form.lists"}}),N("b-field",{attrs:{label:T.$tc("globals.terms.template"),"label-position":"on-border"}},[N("b-select",{attrs:{placeholder:T.$tc("globals.terms.template"),name:"template",disabled:!T.canEdit,required:""},model:{value:T.form.templateId,callback:function(F){T.$set(T.form,"templateId",F)},expression:"form.templateId"}},[T._l(T.templates,function(F){return[F.type==="campaign"?N("option",{key:F.id,domProps:{value:F.id}},[T._v(" "+T._s(F.name)+" ")]):T._e()]})],2)],1),N("b-field",{attrs:{label:T.$tc("globals.terms.messenger"),"label-position":"on-border"}},[N("b-select",{attrs:{placeholder:T.$tc("globals.terms.messenger"),name:"messenger",disabled:!T.canEdit,required:""},model:{value:T.form.messenger,callback:function(F){T.$set(T.form,"messenger",F)},expression:"form.messenger"}},[T.emailMessengers.length>1?[N("optgroup",{attrs:{label:"email"}},T._l(T.emailMessengers,function(F){return N("option",{key:F,domProps:{value:F}},[T._v(" "+T._s(F)+" ")])}),0)]:[N("option",{attrs:{value:"email"}},[T._v("email")])],T._l(T.otherMessengers,function(F){return N("option",{key:F,domProps:{value:F}},[T._v(" "+T._s(F)+" ")])})],2)],1),N("b-field",{attrs:{label:T.$t("globals.terms.tags"),"label-position":"on-border"}},[N("b-taginput",{attrs:{name:"tags",disabled:!T.canEdit,ellipsis:"",icon:"tag-outline",placeholder:T.$t("globals.terms.tags")},model:{value:T.form.tags,callback:function(F){T.$set(T.form,"tags",F)},expression:"form.tags"}})],1),N("hr"),N("div",{staticClass:"columns"},[N("div",{staticClass:"column is-4"},[N("b-field",{attrs:{label:T.$t("campaigns.sendLater"),"data-cy":"btn-send-later"}},[N("b-switch",{attrs:{disabled:!T.canEdit},model:{value:T.form.sendLater,callback:function(F){T.$set(T.form,"sendLater",F)},expression:"form.sendLater"}})],1)],1),N("div",{staticClass:"column"},[N("br"),T.form.sendLater?N("b-field",{attrs:{"data-cy":"send_at",message:T.form.sendAtDate?T.$utils.duration(Date(),T.form.sendAtDate):""}},[N("b-datetimepicker",{attrs:{disabled:!T.canEdit,placeholder:T.$t("campaigns.dateAndTime"),icon:"calendar-clock",timepicker:{hourFormat:"24"},"datetime-formatter":T.formatDateTime,"horizontal-time-picker":""},model:{value:T.form.sendAtDate,callback:function(F){T.$set(T.form,"sendAtDate",F)},expression:"form.sendAtDate"}})],1):T._e()],1)]),N("div",[N("p",{staticClass:"has-text-right"},[N("a",{attrs:{href:"#","data-cy":"btn-headers"},on:{click:function(F){return F.preventDefault(),T.onShowHeaders.apply(null,arguments)}}},[N("b-icon",{attrs:{icon:"plus"}}),T._v(T._s(T.$t("settings.smtp.setCustomHeaders"))+" ")],1)]),T.form.headersStr!=="[]"||T.isHeadersVisible?N("b-field",{attrs:{"label-position":"on-border",message:T.$t("campaigns.customHeadersHelp")}},[N("b-input",{attrs:{name:"headers",type:"textarea",placeholder:'[{"X-Custom": "value"}, {"X-Custom2": "value"}]',disabled:!T.canEdit},model:{value:T.form.headersStr,callback:function(F){T.$set(T.form,"headersStr",F)},expression:"form.headersStr"}})],1):T._e()],1),N("hr"),T.isNew?N("b-field",[N("b-button",{attrs:{"native-type":"submit",type:"is-primary",loading:T.loading.campaigns,"data-cy":"btn-continue"}},[T._v(" "+T._s(T.$t("campaigns.continue"))+" ")])],1):T._e()],1)]),T.$can("campaigns:manage")?N("div",{staticClass:"column is-4 is-offset-1"},[N("br"),N("div",{staticClass:"box"},[N("h3",{staticClass:"title is-size-6"},[T._v(" "+T._s(T.$t("campaigns.sendTest"))+" ")]),N("b-field",{attrs:{message:T.$t("campaigns.sendTestHelp")}},[N("b-taginput",{attrs:{"before-adding":T.$utils.validateEmail,disabled:T.isNew,ellipsis:"",icon:"email-outline",placeholder:T.$t("campaigns.testEmails")},model:{value:T.form.testEmails,callback:function(F){T.$set(T.form,"testEmails",F)},expression:"form.testEmails"}})],1),N("b-field",[N("b-button",{attrs:{loading:T.loading.campaigns,disabled:T.isNew,type:"is-primary","icon-left":"email-outline"},on:{click:()=>T.onSubmit("test")}},[T._v(" "+T._s(T.$t("campaigns.send"))+" ")])],1)],1)]):T._e()])])]),N("b-tab-item",{attrs:{label:T.$t("campaigns.content"),icon:"text",disabled:T.isNew,value:"content"}},[N("editor",{attrs:{id:T.data.id,title:T.data.name,"template-id":T.form.templateId,"content-type":T.data.contentType,body:T.data.body,disabled:!T.canEdit},model:{value:T.form.content,callback:function(F){T.$set(T.form,"content",F)},expression:"form.content"}}),N("div",{staticClass:"columns"},[N("div",{staticClass:"column is-6"},[T.isAttachFieldVisible?T._e():N("p",{staticClass:"is-size-6 has-text-grey"},[N("a",{attrs:{href:"#","data-cy":"btn-attach"},on:{click:function(F){return F.preventDefault(),T.onShowAttachField()}}},[N("b-icon",{attrs:{icon:"file-upload-outline",size:"is-small"}}),T._v(" "+T._s(T.$t("campaigns.addAttachments"))+" ")],1)]),T.isAttachFieldVisible?N("b-field",{attrs:{label:T.$t("campaigns.attachments"),"label-position":"on-border",expanded:"","data-cy":"media"}},[N("b-taginput",{ref:"media",attrs:{name:"media",ellipsis:"",icon:"tag-outline",field:"filename",disabled:!T.canEdit},on:{focus:T.onOpenAttach},model:{value:T.form.media,callback:function(F){T.$set(T.form,"media",F)},expression:"form.media"}})],1):T._e()],1),N("div",{staticClass:"column has-text-right"},[N("a",{attrs:{href:"https://listmonk.app/docs/templating/#template-expressions",target:"_blank",rel:"noopener noreferer"}},[N("b-icon",{attrs:{icon:"code"}}),T._v(" "+T._s(T.$t("campaigns.templatingRef")))],1),T.canEdit&&T.form.content.contentType!=="plain"?N("span",{staticClass:"is-size-6 has-text-grey ml-6"},[T.form.altbody===null?N("a",{attrs:{href:"#"},on:{click:function(F){return F.preventDefault(),T.onAddAltBody.apply(null,arguments)}}},[N("b-icon",{attrs:{icon:"text",size:"is-small"}}),T._v(" "+T._s(T.$t("campaigns.addAltText"))+" ")],1):N("a",{attrs:{href:"#"},on:{click:function(F){return F.preventDefault(),T.$utils.confirm(null,T.onRemoveAltBody)}}},[N("b-icon",{attrs:{icon:"trash-can-outline",size:"is-small"}}),T._v(" "+T._s(T.$t("campaigns.removeAltText"))+" ")],1)]):T._e()])]),T.canEdit&&T.form.content.contentType!=="plain"?N("div",{staticClass:"alt-body"},[T.form.altbody!==null?N("b-input",{attrs:{type:"textarea",disabled:!T.canEdit},model:{value:T.form.altbody,callback:function(F){T.$set(T.form,"altbody",F)},expression:"form.altbody"}}):T._e()],1):T._e()],1),N("b-tab-item",{attrs:{label:T.$t("campaigns.archive"),icon:"newspaper-variant-outline",value:"archive",disabled:T.isNew}},[N("section",{staticClass:"wrap"},[N("div",{staticClass:"columns"},[N("div",{staticClass:"column is-4"},[N("b-field",{attrs:{label:T.$t("campaigns.archiveEnable"),"data-cy":"btn-archive",message:T.$t("campaigns.archiveHelp")}},[N("div",{staticClass:"columns"},[N("div",{staticClass:"column"},[N("b-switch",{attrs:{"data-cy":"btn-archive",disabled:!T.canArchive},model:{value:T.form.archive,callback:function(F){T.$set(T.form,"archive",F)},expression:"form.archive"}})],1),N("div",{staticClass:"column is-12"},[N("a",{class:{"has-text-grey-light":!T.form.archive},attrs:{href:`${T.serverConfig.root_url}/archive/${T.data.uuid}`,target:"_blank",rel:"noopener noreferer","aria-label":"$t('campaigns.archive')"}},[N("b-icon",{attrs:{icon:"link-variant"}})],1)])])])],1),N("div",{staticClass:"column is-8 has-text-right"},[!T.canEdit&&T.canArchive?N("b-field",[N("b-button",{attrs:{loading:T.loading.campaigns,type:"is-primary","icon-left":"content-save-outline","data-cy":"btn-save"},on:{click:T.onUpdateCampaignArchive}},[T._v(" "+T._s(T.$t("globals.buttons.saveChanges"))+" ")])],1):T._e()],1)]),N("div",{staticClass:"columns"},[N("div",{staticClass:"column is-8"},[N("b-field",{attrs:{label:T.$tc("globals.terms.template"),"label-position":"on-border"}},[N("b-select",{attrs:{placeholder:T.$tc("globals.terms.template"),name:"template",disabled:!T.canArchive||!T.form.archive,required:""},model:{value:T.form.archiveTemplateId,callback:function(F){T.$set(T.form,"archiveTemplateId",F)},expression:"form.archiveTemplateId"}},[T._l(T.templates,function(F){return[F.type==="campaign"?N("option",{key:F.id,domProps:{value:F.id}},[T._v(" "+T._s(F.name)+" ")]):T._e()]})],2)],1)],1),N("div",{staticClass:"column has-text-right"},[!this.form.archiveMetaStr||this.form.archiveMetaStr==="{}"?N("a",{staticClass:"button is-primary",attrs:{href:"#","aria-label":"{}"},on:{click:function(F){return F.preventDefault(),T.onFillArchiveMeta.apply(null,arguments)}}},[N("b-icon",{attrs:{icon:"code"}})],1):T._e()])]),N("b-field",[N("b-field",{attrs:{label:T.$t("campaigns.archiveSlug"),"label-position":"on-border",message:T.$t("campaigns.archiveSlugHelp")}},[N("b-input",{ref:"focus",attrs:{maxlength:200,name:"archive_slug","data-cy":"archive-slug",disabled:!T.canArchive||!T.form.archive},model:{value:T.form.archiveSlug,callback:function(F){T.$set(T.form,"archiveSlug",F)},expression:"form.archiveSlug"}})],1)],1),N("b-field",{attrs:{label:T.$t("campaigns.archiveMeta"),message:T.$t("campaigns.archiveMetaHelp"),"label-position":"on-border"}},[N("b-input",{attrs:{name:"archive_meta",type:"textarea","data-cy":"archive-meta",disabled:!T.canArchive||!T.form.archive,rows:"20"},model:{value:T.form.archiveMetaStr,callback:function(F){T.$set(T.form,"archiveMetaStr",F)},expression:"form.archiveMetaStr"}})],1)],1)])],1),N("b-modal",{attrs:{scroll:"keep","aria-modal":!0,active:T.isAttachModalOpen,width:900},on:{"update:active":function(F){T.isAttachModalOpen=F}}},[N("div",{staticClass:"modal-card content",staticStyle:{width:"auto"}},[N("section",{staticClass:"modal-card-body",attrs:{expanded:""}},[N("media",{attrs:{"is-modal":""},on:{selected:T.onAttachSelect}})],1)])])],1)},lK=[],fK=JF(sK,cK,lK);const _K=fK.exports;export{_K as default};
